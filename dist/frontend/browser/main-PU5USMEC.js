var qS=Object.create;var Q3=Object.defineProperty,YS=Object.defineProperties,KS=Object.getOwnPropertyDescriptor,ZS=Object.getOwnPropertyDescriptors,XS=Object.getOwnPropertyNames,m4=Object.getOwnPropertySymbols,Z7=Object.getPrototypeOf,J3=Object.prototype.hasOwnProperty,X7=Object.prototype.propertyIsEnumerable,QS=Reflect.get;var X3=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e);var K7=(e,t,n)=>t in e?Q3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,S=(e,t)=>{for(var n in t||={})J3.call(t,n)&&K7(e,n,t[n]);if(m4)for(var n of m4(t))X7.call(t,n)&&K7(e,n,t[n]);return e},V=(e,t)=>YS(e,ZS(t));var ue=(e,t)=>{var n={};for(var o in e)J3.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&m4)for(var o of m4(e))t.indexOf(o)<0&&X7.call(e,o)&&(n[o]=e[o]);return n};var Q7=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var JS=(e,t,n,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of XS(t))!J3.call(e,a)&&a!==n&&Q3(e,a,{get:()=>t[a],enumerable:!(o=KS(t,a))||o.enumerable});return e};var J7=(e,t,n)=>(n=e!=null?qS(Z7(e)):{},JS(t||!e||!e.__esModule?Q3(n,"default",{value:e,enumerable:!0}):n,e));var _a=(e,t,n)=>QS(Z7(e),n,t);var R=(e,t,n)=>new Promise((o,a)=>{var s=l=>{try{r(n.next(l))}catch(h){a(h)}},i=l=>{try{r(n.throw(l))}catch(h){a(h)}},r=l=>l.done?o(l.value):Promise.resolve(l.value).then(s,i);r((n=n.apply(e,t)).next())}),tD=function(e,t){this[0]=e,this[1]=t};var x4=e=>{var t=e[X3("asyncIterator")],n=!1,o,a={};return t==null?(t=e[X3("iterator")](),o=s=>a[s]=i=>t[s](i)):(t=t.call(e),o=s=>a[s]=i=>{if(n){if(n=!1,s==="throw")throw i;return i}return n=!0,{done:!1,value:new tD(new Promise(r=>{var l=t[s](i);if(!(l instanceof Object))throw TypeError("Object expected");r(l)}),1)}}),a[X3("iterator")]=()=>a,o("next"),"throw"in t?o("throw"):a.throw=s=>{throw s},"return"in t&&o("return"),a};var XB=Q7((v7,g7)=>{"use strict";(function(e,t){typeof define=="function"&&define.amd?define([],t):typeof g7=="object"&&typeof v7<"u"?g7.exports=t():e.Papa=t()})(v7,function e(){"use strict";var t=typeof self<"u"?self:typeof window<"u"?window:t!==void 0?t:{},n=!t.document&&!!t.postMessage,o=t.IS_PAPA_WORKER||!1,a={},s=0,i={parse:function(I,y){var b=(y=y||{}).dynamicTyping||!1;if(z(b)&&(y.dynamicTypingFunction=b,b={}),y.dynamicTyping=b,y.transform=!!z(y.transform)&&y.transform,y.worker&&i.WORKERS_SUPPORTED){var C=function(){if(!i.WORKERS_SUPPORTED)return!1;var _=(tt=t.URL||t.webkitURL||null,at=e.toString(),i.BLOB_URL||(i.BLOB_URL=tt.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",at,")();"],{type:"text/javascript"})))),F=new t.Worker(_),tt,at;return F.onmessage=f,F.id=s++,a[F.id]=F}();return C.userStep=y.step,C.userChunk=y.chunk,C.userComplete=y.complete,C.userError=y.error,y.step=z(y.step),y.chunk=z(y.chunk),y.complete=z(y.complete),y.error=z(y.error),delete y.worker,void C.postMessage({input:I,config:y,workerId:C.id})}var E=null;return i.NODE_STREAM_INPUT,typeof I=="string"?(I=function(_){return _.charCodeAt(0)===65279?_.slice(1):_}(I),E=y.download?new h(y):new d(y)):I.readable===!0&&z(I.read)&&z(I.on)?E=new p(y):(t.File&&I instanceof File||I instanceof Object)&&(E=new c(y)),E.stream(I)},unparse:function(I,y){var b=!1,C=!0,E=",",_=`\r
`,F='"',tt=F+F,at=!1,U=null,P=!1;(function(){if(typeof y=="object"){if(typeof y.delimiter!="string"||i.BAD_DELIMITERS.filter(function(j){return y.delimiter.indexOf(j)!==-1}).length||(E=y.delimiter),(typeof y.quotes=="boolean"||typeof y.quotes=="function"||Array.isArray(y.quotes))&&(b=y.quotes),typeof y.skipEmptyLines!="boolean"&&typeof y.skipEmptyLines!="string"||(at=y.skipEmptyLines),typeof y.newline=="string"&&(_=y.newline),typeof y.quoteChar=="string"&&(F=y.quoteChar),typeof y.header=="boolean"&&(C=y.header),Array.isArray(y.columns)){if(y.columns.length===0)throw new Error("Option columns is empty");U=y.columns}y.escapeChar!==void 0&&(tt=y.escapeChar+F),(typeof y.escapeFormulae=="boolean"||y.escapeFormulae instanceof RegExp)&&(P=y.escapeFormulae instanceof RegExp?y.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var N=new RegExp(g(F),"g");if(typeof I=="string"&&(I=JSON.parse(I)),Array.isArray(I)){if(!I.length||Array.isArray(I[0]))return W(null,I,at);if(typeof I[0]=="object")return W(U||Object.keys(I[0]),I,at)}else if(typeof I=="object")return typeof I.data=="string"&&(I.data=JSON.parse(I.data)),Array.isArray(I.data)&&(I.fields||(I.fields=I.meta&&I.meta.fields||U),I.fields||(I.fields=Array.isArray(I.data[0])?I.fields:typeof I.data[0]=="object"?Object.keys(I.data[0]):[]),Array.isArray(I.data[0])||typeof I.data[0]=="object"||(I.data=[I.data])),W(I.fields||[],I.data||[],at);throw new Error("Unable to serialize unrecognized input");function W(j,Mt,xt){var wt="";typeof j=="string"&&(j=JSON.parse(j)),typeof Mt=="string"&&(Mt=JSON.parse(Mt));var st=Array.isArray(j)&&0<j.length,Ut=!Array.isArray(Mt[0]);if(st&&C){for(var Y=0;Y<j.length;Y++)0<Y&&(wt+=E),wt+=ot(j[Y],Y);0<Mt.length&&(wt+=_)}for(var G=0;G<Mt.length;G++){var X=st?j.length:Mt[G].length,Q=!1,ft=st?Object.keys(Mt[G]).length===0:Mt[G].length===0;if(xt&&!st&&(Q=xt==="greedy"?Mt[G].join("").trim()==="":Mt[G].length===1&&Mt[G][0].length===0),xt==="greedy"&&st){for(var zt=[],kt=0;kt<X;kt++){var Tt=Ut?j[kt]:kt;zt.push(Mt[G][Tt])}Q=zt.join("").trim()===""}if(!Q){for(var $t=0;$t<X;$t++){0<$t&&!ft&&(wt+=E);var C0=st&&Ut?j[$t]:$t;wt+=ot(Mt[G][C0],$t)}G<Mt.length-1&&(!xt||0<X&&!ft)&&(wt+=_)}}return wt}function ot(j,Mt){if(j==null)return"";if(j.constructor===Date)return JSON.stringify(j).slice(1,25);var xt=!1;P&&typeof j=="string"&&P.test(j)&&(j="'"+j,xt=!0);var wt=j.toString().replace(N,tt);return(xt=xt||b===!0||typeof b=="function"&&b(j,Mt)||Array.isArray(b)&&b[Mt]||function(st,Ut){for(var Y=0;Y<Ut.length;Y++)if(-1<st.indexOf(Ut[Y]))return!0;return!1}(wt,i.BAD_DELIMITERS)||-1<wt.indexOf(E)||wt.charAt(0)===" "||wt.charAt(wt.length-1)===" ")?F+wt+F:wt}}};if(i.RECORD_SEP="",i.UNIT_SEP="",i.BYTE_ORDER_MARK="\uFEFF",i.BAD_DELIMITERS=["\r",`
`,'"',i.BYTE_ORDER_MARK],i.WORKERS_SUPPORTED=!n&&!!t.Worker,i.NODE_STREAM_INPUT=1,i.LocalChunkSize=10485760,i.RemoteChunkSize=5242880,i.DefaultDelimiter=",",i.Parser=u,i.ParserHandle=v,i.NetworkStreamer=h,i.FileStreamer=c,i.StringStreamer=d,i.ReadableStreamStreamer=p,t.jQuery){var r=t.jQuery;r.fn.parse=function(I){var y=I.config||{},b=[];return this.each(function(_){if(!(r(this).prop("tagName").toUpperCase()==="INPUT"&&r(this).attr("type").toLowerCase()==="file"&&t.FileReader)||!this.files||this.files.length===0)return!0;for(var F=0;F<this.files.length;F++)b.push({file:this.files[F],inputElem:this,instanceConfig:r.extend({},y)})}),C(),this;function C(){if(b.length!==0){var _,F,tt,at,U=b[0];if(z(I.before)){var P=I.before(U.file,U.inputElem);if(typeof P=="object"){if(P.action==="abort")return _="AbortError",F=U.file,tt=U.inputElem,at=P.reason,void(z(I.error)&&I.error({name:_},F,tt,at));if(P.action==="skip")return void E();typeof P.config=="object"&&(U.instanceConfig=r.extend(U.instanceConfig,P.config))}else if(P==="skip")return void E()}var N=U.instanceConfig.complete;U.instanceConfig.complete=function(W){z(N)&&N(W,U.file,U.inputElem),E()},i.parse(U.file,U.instanceConfig)}else z(I.complete)&&I.complete()}function E(){b.splice(0,1),C()}}}function l(I){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(y){var b=k(y);b.chunkSize=parseInt(b.chunkSize),y.step||y.chunk||(b.chunkSize=null),this._handle=new v(b),(this._handle.streamer=this)._config=b}).call(this,I),this.parseChunk=function(y,b){if(this.isFirstChunk&&z(this._config.beforeFirstChunk)){var C=this._config.beforeFirstChunk(y);C!==void 0&&(y=C)}this.isFirstChunk=!1,this._halted=!1;var E=this._partialLine+y;this._partialLine="";var _=this._handle.parse(E,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var F=_.meta.cursor;this._finished||(this._partialLine=E.substring(F-this._baseIndex),this._baseIndex=F),_&&_.data&&(this._rowCount+=_.data.length);var tt=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(o)t.postMessage({results:_,workerId:i.WORKER_ID,finished:tt});else if(z(this._config.chunk)&&!b){if(this._config.chunk(_,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);_=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(_.data),this._completeResults.errors=this._completeResults.errors.concat(_.errors),this._completeResults.meta=_.meta),this._completed||!tt||!z(this._config.complete)||_&&_.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),tt||_&&_.meta.paused||this._nextChunk(),_}this._halted=!0},this._sendError=function(y){z(this._config.error)?this._config.error(y):o&&this._config.error&&t.postMessage({workerId:i.WORKER_ID,error:y,finished:!1})}}function h(I){var y;(I=I||{}).chunkSize||(I.chunkSize=i.RemoteChunkSize),l.call(this,I),this._nextChunk=n?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(b){this._input=b,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(y=new XMLHttpRequest,this._config.withCredentials&&(y.withCredentials=this._config.withCredentials),n||(y.onload=B(this._chunkLoaded,this),y.onerror=B(this._chunkError,this)),y.open(this._config.downloadRequestBody?"POST":"GET",this._input,!n),this._config.downloadRequestHeaders){var b=this._config.downloadRequestHeaders;for(var C in b)y.setRequestHeader(C,b[C])}if(this._config.chunkSize){var E=this._start+this._config.chunkSize-1;y.setRequestHeader("Range","bytes="+this._start+"-"+E)}try{y.send(this._config.downloadRequestBody)}catch(_){this._chunkError(_.message)}n&&y.status===0&&this._chunkError()}},this._chunkLoaded=function(){y.readyState===4&&(y.status<200||400<=y.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:y.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(b){var C=b.getResponseHeader("Content-Range");return C===null?-1:parseInt(C.substring(C.lastIndexOf("/")+1))}(y),this.parseChunk(y.responseText)))},this._chunkError=function(b){var C=y.statusText||b;this._sendError(new Error(C))}}function c(I){var y,b;(I=I||{}).chunkSize||(I.chunkSize=i.LocalChunkSize),l.call(this,I);var C=typeof FileReader<"u";this.stream=function(E){this._input=E,b=E.slice||E.webkitSlice||E.mozSlice,C?((y=new FileReader).onload=B(this._chunkLoaded,this),y.onerror=B(this._chunkError,this)):y=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var E=this._input;if(this._config.chunkSize){var _=Math.min(this._start+this._config.chunkSize,this._input.size);E=b.call(E,this._start,_)}var F=y.readAsText(E,this._config.encoding);C||this._chunkLoaded({target:{result:F}})},this._chunkLoaded=function(E){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(E.target.result)},this._chunkError=function(){this._sendError(y.error)}}function d(I){var y;l.call(this,I=I||{}),this.stream=function(b){return y=b,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var b,C=this._config.chunkSize;return C?(b=y.substring(0,C),y=y.substring(C)):(b=y,y=""),this._finished=!y,this.parseChunk(b)}}}function p(I){l.call(this,I=I||{});var y=[],b=!0,C=!1;this.pause=function(){l.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){l.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(E){this._input=E,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){C&&y.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),y.length?this.parseChunk(y.shift()):b=!0},this._streamData=B(function(E){try{y.push(typeof E=="string"?E:E.toString(this._config.encoding)),b&&(b=!1,this._checkIsFinished(),this.parseChunk(y.shift()))}catch(_){this._streamError(_)}},this),this._streamError=B(function(E){this._streamCleanUp(),this._sendError(E)},this),this._streamEnd=B(function(){this._streamCleanUp(),C=!0,this._streamData("")},this),this._streamCleanUp=B(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function v(I){var y,b,C,E=Math.pow(2,53),_=-E,F=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,tt=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,at=this,U=0,P=0,N=!1,W=!1,ot=[],j={data:[],errors:[],meta:{}};if(z(I.step)){var Mt=I.step;I.step=function(G){if(j=G,st())wt();else{if(wt(),j.data.length===0)return;U+=G.data.length,I.preview&&U>I.preview?b.abort():(j.data=j.data[0],Mt(j,at))}}}function xt(G){return I.skipEmptyLines==="greedy"?G.join("").trim()==="":G.length===1&&G[0].length===0}function wt(){return j&&C&&(Y("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+i.DefaultDelimiter+"'"),C=!1),I.skipEmptyLines&&(j.data=j.data.filter(function(G){return!xt(G)})),st()&&function(){if(!j)return;function G(Q,ft){z(I.transformHeader)&&(Q=I.transformHeader(Q,ft)),ot.push(Q)}if(Array.isArray(j.data[0])){for(var X=0;st()&&X<j.data.length;X++)j.data[X].forEach(G);j.data.splice(0,1)}else j.data.forEach(G)}(),function(){if(!j||!I.header&&!I.dynamicTyping&&!I.transform)return j;function G(Q,ft){var zt,kt=I.header?{}:[];for(zt=0;zt<Q.length;zt++){var Tt=zt,$t=Q[zt];I.header&&(Tt=zt>=ot.length?"__parsed_extra":ot[zt]),I.transform&&($t=I.transform($t,Tt)),$t=Ut(Tt,$t),Tt==="__parsed_extra"?(kt[Tt]=kt[Tt]||[],kt[Tt].push($t)):kt[Tt]=$t}return I.header&&(zt>ot.length?Y("FieldMismatch","TooManyFields","Too many fields: expected "+ot.length+" fields but parsed "+zt,P+ft):zt<ot.length&&Y("FieldMismatch","TooFewFields","Too few fields: expected "+ot.length+" fields but parsed "+zt,P+ft)),kt}var X=1;return!j.data.length||Array.isArray(j.data[0])?(j.data=j.data.map(G),X=j.data.length):j.data=G(j.data,0),I.header&&j.meta&&(j.meta.fields=ot),P+=X,j}()}function st(){return I.header&&ot.length===0}function Ut(G,X){return Q=G,I.dynamicTypingFunction&&I.dynamicTyping[Q]===void 0&&(I.dynamicTyping[Q]=I.dynamicTypingFunction(Q)),(I.dynamicTyping[Q]||I.dynamicTyping)===!0?X==="true"||X==="TRUE"||X!=="false"&&X!=="FALSE"&&(function(ft){if(F.test(ft)){var zt=parseFloat(ft);if(_<zt&&zt<E)return!0}return!1}(X)?parseFloat(X):tt.test(X)?new Date(X):X===""?null:X):X;var Q}function Y(G,X,Q,ft){var zt={type:G,code:X,message:Q};ft!==void 0&&(zt.row=ft),j.errors.push(zt)}this.parse=function(G,X,Q){var ft=I.quoteChar||'"';if(I.newline||(I.newline=function(Tt,$t){Tt=Tt.substring(0,1048576);var C0=new RegExp(g($t)+"([^]*?)"+g($t),"gm"),sn=(Tt=Tt.replace(C0,"")).split("\r"),Zn=Tt.split(`
`),z1=1<Zn.length&&Zn[0].length<sn[0].length;if(sn.length===1||z1)return`
`;for(var rn=0,He=0;He<sn.length;He++)sn[He][0]===`
`&&rn++;return rn>=sn.length/2?`\r
`:"\r"}(G,ft)),C=!1,I.delimiter)z(I.delimiter)&&(I.delimiter=I.delimiter(G),j.meta.delimiter=I.delimiter);else{var zt=function(Tt,$t,C0,sn,Zn){var z1,rn,He,Pe;Zn=Zn||[",","	","|",";",i.RECORD_SEP,i.UNIT_SEP];for(var $o=0;$o<Zn.length;$o++){var de=Zn[$o],qo=0,Cn=0,Vs=0;He=void 0;for(var Ha=new u({comments:sn,delimiter:de,newline:$t,preview:10}).parse(Tt),Ea=0;Ea<Ha.data.length;Ea++)if(C0&&xt(Ha.data[Ea]))Vs++;else{var Ta=Ha.data[Ea].length;Cn+=Ta,He!==void 0?0<Ta&&(qo+=Math.abs(Ta-He),He=Ta):He=Ta}0<Ha.data.length&&(Cn/=Ha.data.length-Vs),(rn===void 0||qo<=rn)&&(Pe===void 0||Pe<Cn)&&1.99<Cn&&(rn=qo,z1=de,Pe=Cn)}return{successful:!!(I.delimiter=z1),bestDelimiter:z1}}(G,I.newline,I.skipEmptyLines,I.comments,I.delimitersToGuess);zt.successful?I.delimiter=zt.bestDelimiter:(C=!0,I.delimiter=i.DefaultDelimiter),j.meta.delimiter=I.delimiter}var kt=k(I);return I.preview&&I.header&&kt.preview++,y=G,b=new u(kt),j=b.parse(y,X,Q),wt(),N?{meta:{paused:!0}}:j||{meta:{paused:!1}}},this.paused=function(){return N},this.pause=function(){N=!0,b.abort(),y=z(I.chunk)?"":y.substring(b.getCharIndex())},this.resume=function(){at.streamer._halted?(N=!1,at.streamer.parseChunk(y,!0)):setTimeout(at.resume,3)},this.aborted=function(){return W},this.abort=function(){W=!0,b.abort(),j.meta.aborted=!0,z(I.complete)&&I.complete(j),y=""}}function g(I){return I.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function u(I){var y,b=(I=I||{}).delimiter,C=I.newline,E=I.comments,_=I.step,F=I.preview,tt=I.fastMode,at=y=I.quoteChar===void 0||I.quoteChar===null?'"':I.quoteChar;if(I.escapeChar!==void 0&&(at=I.escapeChar),(typeof b!="string"||-1<i.BAD_DELIMITERS.indexOf(b))&&(b=","),E===b)throw new Error("Comment character same as delimiter");E===!0?E="#":(typeof E!="string"||-1<i.BAD_DELIMITERS.indexOf(E))&&(E=!1),C!==`
`&&C!=="\r"&&C!==`\r
`&&(C=`
`);var U=0,P=!1;this.parse=function(N,W,ot){if(typeof N!="string")throw new Error("Input must be a string");var j=N.length,Mt=b.length,xt=C.length,wt=E.length,st=z(_),Ut=[],Y=[],G=[],X=U=0;if(!N)return Xn();if(I.header&&!W){var Q=N.split(C)[0].split(b),ft=[],zt={},kt=!1;for(var Tt in Q){var $t=Q[Tt];z(I.transformHeader)&&($t=I.transformHeader($t,Tt));var C0=$t,sn=zt[$t]||0;for(0<sn&&(kt=!0,C0=$t+"_"+sn),zt[$t]=sn+1;ft.includes(C0);)C0=C0+"_"+sn;ft.push(C0)}if(kt){var Zn=N.split(C);Zn[0]=ft.join(b),N=Zn.join(C)}}if(tt||tt!==!1&&N.indexOf(y)===-1){for(var z1=N.split(C),rn=0;rn<z1.length;rn++){if(G=z1[rn],U+=G.length,rn!==z1.length-1)U+=C.length;else if(ot)return Xn();if(!E||G.substring(0,wt)!==E){if(st){if(Ut=[],Vs(G.split(b)),M4(),P)return Xn()}else Vs(G.split(b));if(F&&F<=rn)return Ut=Ut.slice(0,F),Xn(!0)}}return Xn()}for(var He=N.indexOf(b,U),Pe=N.indexOf(C,U),$o=new RegExp(g(at)+g(y),"g"),de=N.indexOf(y,U);;)if(N[U]!==y)if(E&&G.length===0&&N.substring(U,U+wt)===E){if(Pe===-1)return Xn();U=Pe+xt,Pe=N.indexOf(C,U),He=N.indexOf(b,U)}else if(He!==-1&&(He<Pe||Pe===-1))G.push(N.substring(U,He)),U=He+Mt,He=N.indexOf(b,U);else{if(Pe===-1)break;if(G.push(N.substring(U,Pe)),Ta(Pe+xt),st&&(M4(),P))return Xn();if(F&&Ut.length>=F)return Xn(!0)}else for(de=U,U++;;){if((de=N.indexOf(y,de+1))===-1)return ot||Y.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Ut.length,index:U}),Ea();if(de===j-1)return Ea(N.substring(U,de).replace($o,y));if(y!==at||N[de+1]!==at){if(y===at||de===0||N[de-1]!==at){He!==-1&&He<de+1&&(He=N.indexOf(b,de+1)),Pe!==-1&&Pe<de+1&&(Pe=N.indexOf(C,de+1));var qo=Ha(Pe===-1?He:Math.min(He,Pe));if(N.substr(de+1+qo,Mt)===b){G.push(N.substring(U,de).replace($o,y)),N[U=de+1+qo+Mt]!==y&&(de=N.indexOf(y,U)),He=N.indexOf(b,U),Pe=N.indexOf(C,U);break}var Cn=Ha(Pe);if(N.substring(de+1+Cn,de+1+Cn+xt)===C){if(G.push(N.substring(U,de).replace($o,y)),Ta(de+1+Cn+xt),He=N.indexOf(b,U),de=N.indexOf(y,U),st&&(M4(),P))return Xn();if(F&&Ut.length>=F)return Xn(!0);break}Y.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Ut.length,index:U}),de++}}else de++}return Ea();function Vs(Qn){Ut.push(Qn),X=U}function Ha(Qn){var Y7=0;if(Qn!==-1){var Z3=N.substring(de+1,Qn);Z3&&Z3.trim()===""&&(Y7=Z3.length)}return Y7}function Ea(Qn){return ot||(Qn===void 0&&(Qn=N.substring(U)),G.push(Qn),U=j,Vs(G),st&&M4()),Xn()}function Ta(Qn){U=Qn,Vs(G),G=[],Pe=N.indexOf(C,U)}function Xn(Qn){return{data:Ut,errors:Y,meta:{delimiter:b,linebreak:C,aborted:P,truncated:!!Qn,cursor:X+(W||0)}}}function M4(){_(Xn()),Ut=[],Y=[]}},this.abort=function(){P=!0},this.getCharIndex=function(){return U}}function f(I){var y=I.data,b=a[y.workerId],C=!1;if(y.error)b.userError(y.error,y.file);else if(y.results&&y.results.data){var E={abort:function(){C=!0,M(y.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:m,resume:m};if(z(b.userStep)){for(var _=0;_<y.results.data.length&&(b.userStep({data:y.results.data[_],errors:y.results.errors,meta:y.results.meta},E),!C);_++);delete y.results}else z(b.userChunk)&&(b.userChunk(y.results,E,y.file),delete y.results)}y.finished&&!C&&M(y.workerId,y.results)}function M(I,y){var b=a[I];z(b.userComplete)&&b.userComplete(y),b.terminate(),delete a[I]}function m(){throw new Error("Not implemented.")}function k(I){if(typeof I!="object"||I===null)return I;var y=Array.isArray(I)?[]:{};for(var b in I)y[b]=k(I[b]);return y}function B(I,y){return function(){I.apply(y,arguments)}}function z(I){return typeof I=="function"}return o&&(t.onmessage=function(I){var y=I.data;if(i.WORKER_ID===void 0&&y&&(i.WORKER_ID=y.workerId),typeof y.input=="string")t.postMessage({workerId:i.WORKER_ID,results:i.parse(y.input,y.config),finished:!0});else if(t.File&&y.input instanceof File||y.input instanceof Object){var b=i.parse(y.input,y.config);b&&t.postMessage({workerId:i.WORKER_ID,results:b,finished:!0})}}),(h.prototype=Object.create(l.prototype)).constructor=h,(c.prototype=Object.create(l.prototype)).constructor=c,(d.prototype=Object.create(d.prototype)).constructor=d,(p.prototype=Object.create(l.prototype)).constructor=p,i})});var QB=Q7((u7,w7)=>{"use strict";(function(e,t){typeof define=="function"&&define.amd?define([],t):typeof u7<"u"?t():(t(),e.FileSaver={})})(u7,function(){"use strict";function e(r,l){return typeof l>"u"?l={autoBom:!1}:typeof l!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),l={autoBom:!l}),l.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob(["\uFEFF",r],{type:r.type}):r}function t(r,l,h){var c=new XMLHttpRequest;c.open("GET",r),c.responseType="blob",c.onload=function(){i(c.response,l,h)},c.onerror=function(){console.error("could not download file")},c.send()}function n(r){var l=new XMLHttpRequest;l.open("HEAD",r,!1);try{l.send()}catch{}return 200<=l.status&&299>=l.status}function o(r){try{r.dispatchEvent(new MouseEvent("click"))}catch{var l=document.createEvent("MouseEvents");l.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(l)}}var a=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof global=="object"&&global.global===global?global:void 0,s=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),i=a.saveAs||(typeof window!="object"||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!s?function(r,l,h){var c=a.URL||a.webkitURL,d=document.createElement("a");l=l||r.name||"download",d.download=l,d.rel="noopener",typeof r=="string"?(d.href=r,d.origin===location.origin?o(d):n(d.href)?t(r,l,h):o(d,d.target="_blank")):(d.href=c.createObjectURL(r),setTimeout(function(){c.revokeObjectURL(d.href)},4e4),setTimeout(function(){o(d)},0))}:"msSaveOrOpenBlob"in navigator?function(r,l,h){if(l=l||r.name||"download",typeof r!="string")navigator.msSaveOrOpenBlob(e(r,h),l);else if(n(r))t(r,l,h);else{var c=document.createElement("a");c.href=r,c.target="_blank",setTimeout(function(){o(c)})}}:function(r,l,h,c){if(c=c||open("","_blank"),c&&(c.document.title=c.document.body.innerText="downloading..."),typeof r=="string")return t(r,l,h);var d=r.type==="application/octet-stream",p=/constructor/i.test(a.HTMLElement)||a.safari,v=/CriOS\/[\d]+/.test(navigator.userAgent);if((v||d&&p||s)&&typeof FileReader<"u"){var g=new FileReader;g.onloadend=function(){var M=g.result;M=v?M:M.replace(/^data:[^;]*;/,"data:attachment/file;"),c?c.location.href=M:location=M,c=null},g.readAsDataURL(r)}else{var u=a.URL||a.webkitURL,f=u.createObjectURL(r);c?c.location=f:location.href=f,c=null,setTimeout(function(){u.revokeObjectURL(f)},4e4)}});a.saveAs=i.saveAs=i,typeof w7<"u"&&(w7.exports=i)})});function eD(e,t){return Object.is(e,t)}var g0=null,y4=!1,I4=1,js=Symbol("SIGNAL");function re(e){let t=g0;return g0=e,t}var tv={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function tM(e){if(y4)throw new Error("");if(g0===null)return;g0.consumerOnSignalRead(e);let t=g0.nextProducerIndex++;if(K2(g0),t<g0.producerNode.length&&g0.producerNode[t]!==e&&jr(g0)){let n=g0.producerNode[t];k4(n,g0.producerIndexOfThis[t])}g0.producerNode[t]!==e&&(g0.producerNode[t]=e,g0.producerIndexOfThis[t]=jr(g0)?iM(e,g0,t):0),g0.producerLastReadVersion[t]=e.version}function nD(){I4++}function oD(e){if(!(jr(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===I4)){if(!e.producerMustRecompute(e)&&!ev(e)){e.dirty=!1,e.lastCleanEpoch=I4;return}e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=I4}}function eM(e){if(e.liveConsumerNode===void 0)return;let t=y4;y4=!0;try{for(let n of e.liveConsumerNode)n.dirty||aD(n)}finally{y4=t}}function nM(){return g0?.consumerAllowSignalWrites!==!1}function aD(e){e.dirty=!0,eM(e),e.consumerMarkedDirty?.(e)}function oM(e){return e&&(e.nextProducerIndex=0),re(e)}function aM(e,t){if(re(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(jr(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)k4(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function ev(e){K2(e);for(let t=0;t<e.producerNode.length;t++){let n=e.producerNode[t],o=e.producerLastReadVersion[t];if(o!==n.version||(oD(n),o!==n.version))return!0}return!1}function sM(e){if(K2(e),jr(e))for(let t=0;t<e.producerNode.length;t++)k4(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function iM(e,t,n){if(rM(e),K2(e),e.liveConsumerNode.length===0)for(let o=0;o<e.producerNode.length;o++)e.producerIndexOfThis[o]=iM(e.producerNode[o],e,o);return e.liveConsumerIndexOfThis.push(n),e.liveConsumerNode.push(t)-1}function k4(e,t){if(rM(e),K2(e),e.liveConsumerNode.length===1)for(let o=0;o<e.producerNode.length;o++)k4(e.producerNode[o],e.producerIndexOfThis[o]);let n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let o=e.liveConsumerIndexOfThis[t],a=e.liveConsumerNode[t];K2(a),a.producerIndexOfThis[o]=t}}function jr(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function K2(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function rM(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function sD(){throw new Error}var lM=sD;function hM(){lM()}function cM(e){lM=e}var iD=null;function dM(e){let t=Object.create(vM);t.value=e;let n=()=>(tM(t),t.value);return n[js]=t,n}function nv(e,t){nM()||hM(),e.equal(e.value,t)||(e.value=t,rD(e))}function pM(e,t){nM()||hM(),nv(e,t(e.value))}var vM=V(S({},tv),{equal:eD,value:void 0});function rD(e){e.version++,nD(),eM(e),iD?.()}function Et(e){return typeof e=="function"}function Z2(e){let n=e(o=>{Error.call(o),o.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var z4=Z2(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((o,a)=>`${a+1}) ${o.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Ur(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var i0=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:o}=this;if(Et(o))try{o()}catch(s){t=s instanceof z4?s.errors:[s]}let{_finalizers:a}=this;if(a){this._finalizers=null;for(let s of a)try{gM(s)}catch(i){t=t??[],i instanceof z4?t=[...t,...i.errors]:t.push(i)}}if(t)throw new z4(t)}}add(t){var n;if(t&&t!==this)if(this.closed)gM(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&Ur(n,t)}remove(t){let{_finalizers:n}=this;n&&Ur(n,t),t instanceof e&&t._removeParent(this)}};i0.EMPTY=(()=>{let e=new i0;return e.closed=!0,e})();var ov=i0.EMPTY;function b4(e){return e instanceof i0||e&&"closed"in e&&Et(e.remove)&&Et(e.add)&&Et(e.unsubscribe)}function gM(e){Et(e)?e():e.unsubscribe()}var b1={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var X2={setTimeout(e,t,...n){let{delegate:o}=X2;return o?.setTimeout?o.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=X2;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function C4(e){X2.setTimeout(()=>{let{onUnhandledError:t}=b1;if(t)t(e);else throw e})}function Gr(){}var uM=av("C",void 0,void 0);function wM(e){return av("E",void 0,e)}function fM(e){return av("N",e,void 0)}function av(e,t,n){return{kind:e,value:t,error:n}}var Us=null;function Q2(e){if(b1.useDeprecatedSynchronousErrorHandling){let t=!Us;if(t&&(Us={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:o}=Us;if(Us=null,n)throw o}}else e()}function MM(e){b1.useDeprecatedSynchronousErrorHandling&&Us&&(Us.errorThrown=!0,Us.error=e)}var Gs=class extends i0{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,b4(t)&&t.add(this)):this.destination=cD}static create(t,n,o){return new Aa(t,n,o)}next(t){this.isStopped?iv(fM(t),this):this._next(t)}error(t){this.isStopped?iv(wM(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?iv(uM,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},lD=Function.prototype.bind;function sv(e,t){return lD.call(e,t)}var rv=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(o){B4(o)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(o){B4(o)}else B4(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){B4(n)}}},Aa=class extends Gs{constructor(t,n,o){super();let a;if(Et(t)||!t)a={next:t??void 0,error:n??void 0,complete:o??void 0};else{let s;this&&b1.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),a={next:t.next&&sv(t.next,s),error:t.error&&sv(t.error,s),complete:t.complete&&sv(t.complete,s)}):a=t}this.destination=new rv(a)}};function B4(e){b1.useDeprecatedSynchronousErrorHandling?MM(e):C4(e)}function hD(e){throw e}function iv(e,t){let{onStoppedNotification:n}=b1;n&&X2.setTimeout(()=>n(e,t))}var cD={closed:!0,next:Gr,error:hD,complete:Gr};var J2=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Bn(e){return e}function lv(...e){return hv(e)}function hv(e){return e.length===0?Bn:e.length===1?e[0]:function(n){return e.reduce((o,a)=>a(o),n)}}var Qt=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let o=new e;return o.source=this,o.operator=n,o}subscribe(n,o,a){let s=pD(n)?n:new Aa(n,o,a);return Q2(()=>{let{operator:i,source:r}=this;s.add(i?i.call(s,r):r?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(o){n.error(o)}}forEach(n,o){return o=mM(o),new o((a,s)=>{let i=new Aa({next:r=>{try{n(r)}catch(l){s(l),i.unsubscribe()}},error:s,complete:a});this.subscribe(i)})}_subscribe(n){var o;return(o=this.source)===null||o===void 0?void 0:o.subscribe(n)}[J2](){return this}pipe(...n){return hv(n)(this)}toPromise(n){return n=mM(n),new n((o,a)=>{let s;this.subscribe(i=>s=i,i=>a(i),()=>o(s))})}}return e.create=t=>new e(t),e})();function mM(e){var t;return(t=e??b1.Promise)!==null&&t!==void 0?t:Promise}function dD(e){return e&&Et(e.next)&&Et(e.error)&&Et(e.complete)}function pD(e){return e&&e instanceof Gs||dD(e)&&b4(e)}function cv(e){return Et(e?.lift)}function Zt(e){return t=>{if(cv(t))return t.lift(function(n){try{return e(n,this)}catch(o){this.error(o)}});throw new TypeError("Unable to lift unknown Observable type")}}function qt(e,t,n,o,a){return new dv(e,t,n,o,a)}var dv=class extends Gs{constructor(t,n,o,a,s,i){super(t),this.onFinalize=s,this.shouldUnsubscribe=i,this._next=n?function(r){try{n(r)}catch(l){t.error(l)}}:super._next,this._error=a?function(r){try{a(r)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=o?function(){try{o()}catch(r){t.error(r)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function ti(){return Zt((e,t)=>{let n=null;e._refCount++;let o=qt(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let a=e._connection,s=n;n=null,a&&(!s||a===s)&&a.unsubscribe(),t.unsubscribe()});e.subscribe(o),o.closed||(n=e.connect())})}var ei=class extends Qt{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,cv(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new i0;let n=this.getSubject();t.add(this.source.subscribe(qt(n,void 0,()=>{this._teardown(),n.complete()},o=>{this._teardown(),n.error(o)},()=>this._teardown()))),t.closed&&(this._connection=null,t=i0.EMPTY)}return t}refCount(){return ti()(this)}};var xM=Z2(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Le=(()=>{class e extends Qt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let o=new S4(this,this);return o.operator=n,o}_throwIfClosed(){if(this.closed)throw new xM}next(n){Q2(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let o of this.currentObservers)o.next(n)}})}error(n){Q2(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:o}=this;for(;o.length;)o.shift().error(n)}})}complete(){Q2(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:o,isStopped:a,observers:s}=this;return o||a?ov:(this.currentObservers=null,s.push(n),new i0(()=>{this.currentObservers=null,Ur(s,n)}))}_checkFinalizedStatuses(n){let{hasError:o,thrownError:a,isStopped:s}=this;o?n.error(a):s&&n.complete()}asObservable(){let n=new Qt;return n.source=this,n}}return e.create=(t,n)=>new S4(t,n),e})(),S4=class extends Le{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,o;(o=(n=this.destination)===null||n===void 0?void 0:n.next)===null||o===void 0||o.call(n,t)}error(t){var n,o;(o=(n=this.destination)===null||n===void 0?void 0:n.error)===null||o===void 0||o.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,o;return(o=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&o!==void 0?o:ov}};var Ce=class extends Le{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:o}=this;if(t)throw n;return this._throwIfClosed(),o}next(t){super.next(this._value=t)}};var Sn=new Qt(e=>e.complete());function yM(e){return e&&Et(e.schedule)}function IM(e){return e[e.length-1]}function D4(e){return Et(IM(e))?e.pop():void 0}function Ra(e){return yM(IM(e))?e.pop():void 0}function zM(e,t,n,o){function a(s){return s instanceof n?s:new n(function(i){i(s)})}return new(n||(n=Promise))(function(s,i){function r(c){try{h(o.next(c))}catch(d){i(d)}}function l(c){try{h(o.throw(c))}catch(d){i(d)}}function h(c){c.done?s(c.value):a(c.value).then(r,l)}h((o=o.apply(e,t||[])).next())})}function kM(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ws(e){return this instanceof Ws?(this.v=e,this):new Ws(e)}function bM(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n.apply(e,t||[]),a,s=[];return a={},i("next"),i("throw"),i("return"),a[Symbol.asyncIterator]=function(){return this},a;function i(p){o[p]&&(a[p]=function(v){return new Promise(function(g,u){s.push([p,v,g,u])>1||r(p,v)})})}function r(p,v){try{l(o[p](v))}catch(g){d(s[0][3],g)}}function l(p){p.value instanceof Ws?Promise.resolve(p.value.v).then(h,c):d(s[0][2],p)}function h(p){r("next",p)}function c(p){r("throw",p)}function d(p,v){p(v),s.shift(),s.length&&r(s[0][0],s[0][1])}}function CM(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof kM=="function"?kM(e):e[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(s){n[s]=e[s]&&function(i){return new Promise(function(r,l){i=e[s](i),a(r,l,i.done,i.value)})}}function a(s,i,r,l){Promise.resolve(l).then(function(h){s({value:h,done:r})},i)}}var H4=e=>e&&typeof e.length=="number"&&typeof e!="function";function E4(e){return Et(e?.then)}function T4(e){return Et(e[J2])}function _4(e){return Symbol.asyncIterator&&Et(e?.[Symbol.asyncIterator])}function A4(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function vD(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var R4=vD();function L4(e){return Et(e?.[R4])}function O4(e){return bM(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:o,done:a}=yield Ws(n.read());if(a)return yield Ws(void 0);yield yield Ws(o)}}finally{n.releaseLock()}})}function N4(e){return Et(e?.getReader)}function Qe(e){if(e instanceof Qt)return e;if(e!=null){if(T4(e))return gD(e);if(H4(e))return uD(e);if(E4(e))return wD(e);if(_4(e))return BM(e);if(L4(e))return fD(e);if(N4(e))return MD(e)}throw A4(e)}function gD(e){return new Qt(t=>{let n=e[J2]();if(Et(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function uD(e){return new Qt(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function wD(e){return new Qt(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,C4)})}function fD(e){return new Qt(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function BM(e){return new Qt(t=>{mD(e,t).catch(n=>t.error(n))})}function MD(e){return BM(O4(e))}function mD(e,t){var n,o,a,s;return zM(this,void 0,void 0,function*(){try{for(n=CM(e);o=yield n.next(),!o.done;){let i=o.value;if(t.next(i),t.closed)return}}catch(i){a={error:i}}finally{try{o&&!o.done&&(s=n.return)&&(yield s.call(n))}finally{if(a)throw a.error}}t.complete()})}function ln(e,t,n,o=0,a=!1){let s=t.schedule(function(){n(),a?e.add(this.schedule(null,o)):this.unsubscribe()},o);if(e.add(s),!a)return s}function P4(e,t=0){return Zt((n,o)=>{n.subscribe(qt(o,a=>ln(o,e,()=>o.next(a),t),()=>ln(o,e,()=>o.complete(),t),a=>ln(o,e,()=>o.error(a),t)))})}function F4(e,t=0){return Zt((n,o)=>{o.add(e.schedule(()=>n.subscribe(o),t))})}function SM(e,t){return Qe(e).pipe(F4(t),P4(t))}function DM(e,t){return Qe(e).pipe(F4(t),P4(t))}function HM(e,t){return new Qt(n=>{let o=0;return t.schedule(function(){o===e.length?n.complete():(n.next(e[o++]),n.closed||this.schedule())})})}function EM(e,t){return new Qt(n=>{let o;return ln(n,t,()=>{o=e[R4](),ln(n,t,()=>{let a,s;try{({value:a,done:s}=o.next())}catch(i){n.error(i);return}s?n.complete():n.next(a)},0,!0)}),()=>Et(o?.return)&&o.return()})}function V4(e,t){if(!e)throw new Error("Iterable cannot be null");return new Qt(n=>{ln(n,t,()=>{let o=e[Symbol.asyncIterator]();ln(n,t,()=>{o.next().then(a=>{a.done?n.complete():n.next(a.value)})},0,!0)})})}function TM(e,t){return V4(O4(e),t)}function _M(e,t){if(e!=null){if(T4(e))return SM(e,t);if(H4(e))return HM(e,t);if(E4(e))return DM(e,t);if(_4(e))return V4(e,t);if(L4(e))return EM(e,t);if(N4(e))return TM(e,t)}throw A4(e)}function Be(e,t){return t?_M(e,t):Qe(e)}function bt(...e){let t=Ra(e);return Be(e,t)}function ni(e,t){let n=Et(e)?e:()=>e,o=a=>a.error(n());return new Qt(t?a=>t.schedule(o,0,a):o)}function pv(e){return!!e&&(e instanceof Qt||Et(e.lift)&&Et(e.subscribe))}var C1=Z2(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function W0(e,t){let n=typeof t=="object";return new Promise((o,a)=>{let s=new Aa({next:i=>{o(i),s.unsubscribe()},error:a,complete:()=>{n?o(t.defaultValue):a(new C1)}});e.subscribe(s)})}function _t(e,t){return Zt((n,o)=>{let a=0;n.subscribe(qt(o,s=>{o.next(e.call(t,s,a++))}))})}var{isArray:xD}=Array;function yD(e,t){return xD(t)?e(...t):e(t)}function j4(e){return _t(t=>yD(e,t))}var{isArray:ID}=Array,{getPrototypeOf:kD,prototype:zD,keys:bD}=Object;function U4(e){if(e.length===1){let t=e[0];if(ID(t))return{args:t,keys:null};if(CD(t)){let n=bD(t);return{args:n.map(o=>t[o]),keys:n}}}return{args:e,keys:null}}function CD(e){return e&&typeof e=="object"&&kD(e)===zD}function G4(e,t){return e.reduce((n,o,a)=>(n[o]=t[a],n),{})}function Wr(...e){let t=Ra(e),n=D4(e),{args:o,keys:a}=U4(e);if(o.length===0)return Be([],t);let s=new Qt(BD(o,t,a?i=>G4(a,i):Bn));return n?s.pipe(j4(n)):s}function BD(e,t,n=Bn){return o=>{AM(t,()=>{let{length:a}=e,s=new Array(a),i=a,r=a;for(let l=0;l<a;l++)AM(t,()=>{let h=Be(e[l],t),c=!1;h.subscribe(qt(o,d=>{s[l]=d,c||(c=!0,r--),r||o.next(n(s.slice()))},()=>{--i||o.complete()}))},o)},o)}}function AM(e,t,n){e?ln(n,e,t):t()}function RM(e,t,n,o,a,s,i,r){let l=[],h=0,c=0,d=!1,p=()=>{d&&!l.length&&!h&&t.complete()},v=u=>h<o?g(u):l.push(u),g=u=>{s&&t.next(u),h++;let f=!1;Qe(n(u,c++)).subscribe(qt(t,M=>{a?.(M),s?v(M):t.next(M)},()=>{f=!0},void 0,()=>{if(f)try{for(h--;l.length&&h<o;){let M=l.shift();i?ln(t,i,()=>g(M)):g(M)}p()}catch(M){t.error(M)}}))};return e.subscribe(qt(t,v,()=>{d=!0,p()})),()=>{r?.()}}function Je(e,t,n=1/0){return Et(t)?Je((o,a)=>_t((s,i)=>t(o,s,a,i))(Qe(e(o,a))),n):(typeof t=="number"&&(n=t),Zt((o,a)=>RM(o,a,e,n)))}function La(e=1/0){return Je(Bn,e)}function LM(){return La(1)}function oi(...e){return LM()(Be(e,Ra(e)))}function W4(e){return new Qt(t=>{Qe(e()).subscribe(t)})}function vv(...e){let t=D4(e),{args:n,keys:o}=U4(e),a=new Qt(s=>{let{length:i}=n;if(!i){s.complete();return}let r=new Array(i),l=i,h=i;for(let c=0;c<i;c++){let d=!1;Qe(n[c]).subscribe(qt(s,p=>{d||(d=!0,h--),r[c]=p},()=>l--,void 0,()=>{(!l||!d)&&(h||s.next(o?G4(o,r):r),s.complete())}))}});return t?a.pipe(j4(t)):a}function hn(e,t){return Zt((n,o)=>{let a=0;n.subscribe(qt(o,s=>e.call(t,s,a++)&&o.next(s)))})}function Oa(e){return Zt((t,n)=>{let o=null,a=!1,s;o=t.subscribe(qt(n,void 0,void 0,i=>{s=Qe(e(i,Oa(e)(t))),o?(o.unsubscribe(),o=null,s.subscribe(n)):a=!0})),a&&(o.unsubscribe(),o=null,s.subscribe(n))})}function OM(e,t,n,o,a){return(s,i)=>{let r=n,l=t,h=0;s.subscribe(qt(i,c=>{let d=h++;l=r?e(l,c,d):(r=!0,c),o&&i.next(l)},a&&(()=>{r&&i.next(l),i.complete()})))}}function Yo(e,t){return Et(t)?Je(e,t,1):Je(e,1)}function Na(e){return Zt((t,n)=>{let o=!1;t.subscribe(qt(n,a=>{o=!0,n.next(a)},()=>{o||n.next(e),n.complete()}))})}function Ko(e){return e<=0?()=>Sn:Zt((t,n)=>{let o=0;t.subscribe(qt(n,a=>{++o<=e&&(n.next(a),e<=o&&n.complete())}))})}function gv(e){return _t(()=>e)}function $4(e=SD){return Zt((t,n)=>{let o=!1;t.subscribe(qt(n,a=>{o=!0,n.next(a)},()=>o?n.complete():n.error(e())))})}function SD(){return new C1}function Pa(e){return Zt((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function X1(e,t){let n=arguments.length>=2;return o=>o.pipe(e?hn((a,s)=>e(a,s,o)):Bn,Ko(1),n?Na(t):$4(()=>new C1))}function ai(e){return e<=0?()=>Sn:Zt((t,n)=>{let o=[];t.subscribe(qt(n,a=>{o.push(a),e<o.length&&o.shift()},()=>{for(let a of o)n.next(a);n.complete()},void 0,()=>{o=null}))})}function uv(e,t){let n=arguments.length>=2;return o=>o.pipe(e?hn((a,s)=>e(a,s,o)):Bn,ai(1),n?Na(t):$4(()=>new C1))}function wv(e,t){return Zt(OM(e,t,arguments.length>=2,!0))}function fv(...e){let t=Ra(e);return Zt((n,o)=>{(t?oi(e,n,t):oi(e,n)).subscribe(o)})}function cn(e,t){return Zt((n,o)=>{let a=null,s=0,i=!1,r=()=>i&&!a&&o.complete();n.subscribe(qt(o,l=>{a?.unsubscribe();let h=0,c=s++;Qe(e(l,c)).subscribe(a=qt(o,d=>o.next(t?t(l,d,c,h++):d),()=>{a=null,r()}))},()=>{i=!0,r()}))})}function Mv(e){return Zt((t,n)=>{Qe(e).subscribe(qt(n,()=>n.complete(),Gr)),!n.closed&&t.subscribe(n)})}function u0(e,t,n){let o=Et(e)||t||n?{next:e,error:t,complete:n}:e;return o?Zt((a,s)=>{var i;(i=o.subscribe)===null||i===void 0||i.call(o);let r=!0;a.subscribe(qt(s,l=>{var h;(h=o.next)===null||h===void 0||h.call(o,l),s.next(l)},()=>{var l;r=!1,(l=o.complete)===null||l===void 0||l.call(o),s.complete()},l=>{var h;r=!1,(h=o.error)===null||h===void 0||h.call(o,l),s.error(l)},()=>{var l,h;r&&((l=o.unsubscribe)===null||l===void 0||l.call(o)),(h=o.finalize)===null||h===void 0||h.call(o)}))}):Bn}var C9="https://g.co/ng/security#xss",$=class extends Error{constructor(t,n){super(zc(t,n)),this.code=t}};function zc(e,t){return`${`NG0${Math.abs(e)}`}${t?": "+t:""}`}function ol(e){return{toString:e}.toString()}var q4="__parameters__";function DD(e){return function(...n){if(e){let o=e(...n);for(let a in o)this[a]=o[a]}}}function B9(e,t,n){return ol(()=>{let o=DD(t);function a(...s){if(this instanceof a)return o.apply(this,s),this;let i=new a(...s);return r.annotation=i,r;function r(l,h,c){let d=l.hasOwnProperty(q4)?l[q4]:Object.defineProperty(l,q4,{value:[]})[q4];for(;d.length<=c;)d.push(null);return(d[c]=d[c]||[]).push(i),l}}return n&&(a.prototype=Object.create(n.prototype)),a.prototype.ngMetadataName=e,a.annotationCls=a,a})}var t0=globalThis;function ye(e){for(let t in e)if(e[t]===ye)return t;throw Error("Could not find renamed property on target object.")}function HD(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function q0(e){if(typeof e=="string")return e;if(Array.isArray(e))return"["+e.map(q0).join(", ")+"]";if(e==null)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;let t=e.toString();if(t==null)return""+t;let n=t.indexOf(`
`);return n===-1?t:t.substring(0,n)}function Rv(e,t){return e==null||e===""?t===null?"":t:t==null||t===""?e:e+" "+t}var ED=ye({__forward_ref__:ye});function vn(e){return e.__forward_ref__=vn,e.toString=function(){return q0(this())},e}function $0(e){return S9(e)?e():e}function S9(e){return typeof e=="function"&&e.hasOwnProperty(ED)&&e.__forward_ref__===vn}function J(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Ee(e){return{providers:e.providers||[],imports:e.imports||[]}}function bc(e){return NM(e,H9)||NM(e,E9)}function D9(e){return bc(e)!==null}function NM(e,t){return e.hasOwnProperty(t)?e[t]:null}function TD(e){let t=e&&(e[H9]||e[E9]);return t||null}function PM(e){return e&&(e.hasOwnProperty(FM)||e.hasOwnProperty(_D))?e[FM]:null}var H9=ye({\u0275prov:ye}),FM=ye({\u0275inj:ye}),E9=ye({ngInjectableDef:ye}),_D=ye({ngInjectorDef:ye}),ut=class{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=J({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function T9(e){return e&&!!e.\u0275providers}var AD=ye({\u0275cmp:ye}),RD=ye({\u0275dir:ye}),LD=ye({\u0275pipe:ye}),OD=ye({\u0275mod:ye}),sc=ye({\u0275fac:ye}),$r=ye({__NG_ELEMENT_ID__:ye}),VM=ye({__NG_ENV_ID__:ye});function Ks(e){return typeof e=="string"?e:e==null?"":String(e)}function ND(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():Ks(e)}function PD(e,t){let n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new $(-200,e)}function Fg(e,t){throw new $(-201,!1)}var jt=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(jt||{}),Lv;function _9(){return Lv}function dn(e){let t=Lv;return Lv=e,t}function A9(e,t,n){let o=bc(e);if(o&&o.providedIn=="root")return o.value===void 0?o.value=o.factory():o.value;if(n&jt.Optional)return null;if(t!==void 0)return t;Fg(e,"Injector")}var FD={},qr=FD,Ov="__NG_DI_FLAG__",ic="ngTempTokenPath",VD="ngTokenPath",jD=/\n/gm,UD="\u0275",jM="__source",hi;function GD(){return hi}function Fa(e){let t=hi;return hi=e,t}function WD(e,t=jt.Default){if(hi===void 0)throw new $(-203,!1);return hi===null?A9(e,void 0,t):hi.get(e,t&jt.Optional?null:void 0,t)}function nt(e,t=jt.Default){return(_9()||WD)($0(e),t)}function K(e,t=jt.Default){return nt(e,Cc(t))}function Cc(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Nv(e){let t=[];for(let n=0;n<e.length;n++){let o=$0(e[n]);if(Array.isArray(o)){if(o.length===0)throw new $(900,!1);let a,s=jt.Default;for(let i=0;i<o.length;i++){let r=o[i],l=$D(r);typeof l=="number"?l===-1?a=r.token:s|=l:a=r}t.push(nt(a,s))}else t.push(nt(o))}return t}function R9(e,t){return e[Ov]=t,e.prototype[Ov]=t,e}function $D(e){return e[Ov]}function qD(e,t,n,o){let a=e[ic];throw t[jM]&&a.unshift(t[jM]),e.message=YD(`
`+e.message,a,n,o),e[VD]=a,e[ic]=null,e}function YD(e,t,n,o=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==UD?e.slice(2):e;let a=q0(t);if(Array.isArray(t))a=t.map(q0).join(" -> ");else if(typeof t=="object"){let s=[];for(let i in t)if(t.hasOwnProperty(i)){let r=t[i];s.push(i+":"+(typeof r=="string"?JSON.stringify(r):q0(r)))}a=`{${s.join(", ")}}`}return`${n}${o?"("+o+")":""}[${a}]: ${e.replace(jD,`
  `)}`}var al=R9(B9("Optional"),8);var Bc=R9(B9("SkipSelf"),4);function Zs(e,t){let n=e.hasOwnProperty(sc);return n?e[sc]:null}function KD(e,t,n){if(e.length!==t.length)return!1;for(let o=0;o<e.length;o++){let a=e[o],s=t[o];if(n&&(a=n(a),s=n(s)),s!==a)return!1}return!0}function ZD(e){return e.flat(Number.POSITIVE_INFINITY)}function Vg(e,t){e.forEach(n=>Array.isArray(n)?Vg(n,t):t(n))}function L9(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function rc(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function XD(e,t){let n=[];for(let o=0;o<e;o++)n.push(t);return n}function QD(e,t,n,o){let a=e.length;if(a==t)e.push(n,o);else if(a===1)e.push(o,e[0]),e[0]=n;else{for(a--,e.push(e[a-1],e[a]);a>t;){let s=a-2;e[a]=e[s],a--}e[t]=n,e[t+1]=o}}function jg(e,t,n){let o=sl(e,t);return o>=0?e[o|1]=n:(o=~o,QD(e,o,t,n)),o}function mv(e,t){let n=sl(e,t);if(n>=0)return e[n|1]}function sl(e,t){return JD(e,t,1)}function JD(e,t,n){let o=0,a=e.length>>n;for(;a!==o;){let s=o+(a-o>>1),i=e[s<<n];if(t===i)return s<<n;i>t?a=s:o=s+1}return~(a<<n)}var di={},pn=[],pi=new ut(""),O9=new ut("",-1),N9=new ut(""),lc=class{get(t,n=qr){if(n===qr){let o=new Error(`NullInjectorError: No provider for ${q0(t)}!`);throw o.name="NullInjectorError",o}return n}},P9=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(P9||{}),to=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(to||{}),r0=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(r0||{});function tH(e,t,n){let o=e.length;for(;;){let a=e.indexOf(t,n);if(a===-1)return a;if(a===0||e.charCodeAt(a-1)<=32){let s=t.length;if(a+s===o||e.charCodeAt(a+s)<=32)return a}n=a+1}}function Pv(e,t,n){let o=0;for(;o<n.length;){let a=n[o];if(typeof a=="number"){if(a!==0)break;o++;let s=n[o++],i=n[o++],r=n[o++];e.setAttribute(t,i,r,s)}else{let s=a,i=n[++o];eH(s)?e.setProperty(t,s,i):e.setAttribute(t,s,i),o++}}return o}function F9(e){return e===3||e===4||e===6}function eH(e){return e.charCodeAt(0)===64}function Yr(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let o=0;o<t.length;o++){let a=t[o];typeof a=="number"?n=a:n===0||(n===-1||n===2?UM(e,n,a,null,t[++o]):UM(e,n,a,null,null))}}return e}function UM(e,t,n,o,a){let s=0,i=e.length;if(t===-1)i=-1;else for(;s<e.length;){let r=e[s++];if(typeof r=="number"){if(r===t){i=-1;break}else if(r>t){i=s-1;break}}}for(;s<e.length;){let r=e[s];if(typeof r=="number")break;if(r===n){if(o===null){a!==null&&(e[s+1]=a);return}else if(o===e[s+1]){e[s+2]=a;return}}s++,o!==null&&s++,a!==null&&s++}i!==-1&&(e.splice(i,0,t),s=i+1),e.splice(s++,0,n),o!==null&&e.splice(s++,0,o),a!==null&&e.splice(s++,0,a)}var V9="ng-template";function nH(e,t,n,o){let a=0;if(o){for(;a<t.length&&typeof t[a]=="string";a+=2)if(t[a]==="class"&&tH(t[a+1].toLowerCase(),n,0)!==-1)return!0}else if(Ug(e))return!1;if(a=t.indexOf(1,a),a>-1){let s;for(;++a<t.length&&typeof(s=t[a])=="string";)if(s.toLowerCase()===n)return!0}return!1}function Ug(e){return e.type===4&&e.value!==V9}function oH(e,t,n){let o=e.type===4&&!n?V9:e.value;return t===o}function aH(e,t,n){let o=4,a=e.attrs,s=a!==null?rH(a):0,i=!1;for(let r=0;r<t.length;r++){let l=t[r];if(typeof l=="number"){if(!i&&!B1(o)&&!B1(l))return!1;if(i&&B1(l))continue;i=!1,o=l|o&1;continue}if(!i)if(o&4){if(o=2|o&1,l!==""&&!oH(e,l,n)||l===""&&t.length===1){if(B1(o))return!1;i=!0}}else if(o&8){if(a===null||!nH(e,a,l,n)){if(B1(o))return!1;i=!0}}else{let h=t[++r],c=sH(l,a,Ug(e),n);if(c===-1){if(B1(o))return!1;i=!0;continue}if(h!==""){let d;if(c>s?d="":d=a[c+1].toLowerCase(),o&2&&h!==d){if(B1(o))return!1;i=!0}}}}return B1(o)||i}function B1(e){return(e&1)===0}function sH(e,t,n,o){if(t===null)return-1;let a=0;if(o||!n){let s=!1;for(;a<t.length;){let i=t[a];if(i===e)return a;if(i===3||i===6)s=!0;else if(i===1||i===2){let r=t[++a];for(;typeof r=="string";)r=t[++a];continue}else{if(i===4)break;if(i===0){a+=4;continue}}a+=s?1:2}return-1}else return lH(t,e)}function j9(e,t,n=!1){for(let o=0;o<t.length;o++)if(aH(e,t[o],n))return!0;return!1}function iH(e){let t=e.attrs;if(t!=null){let n=t.indexOf(5);if(!(n&1))return t[n+1]}return null}function rH(e){for(let t=0;t<e.length;t++){let n=e[t];if(F9(n))return t}return e.length}function lH(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let o=e[n];if(typeof o=="number")return-1;if(o===t)return n;n++}return-1}function hH(e,t){t:for(let n=0;n<t.length;n++){let o=t[n];if(e.length===o.length){for(let a=0;a<e.length;a++)if(e[a]!==o[a])continue t;return!0}}return!1}function GM(e,t){return e?":not("+t.trim()+")":t}function cH(e){let t=e[0],n=1,o=2,a="",s=!1;for(;n<e.length;){let i=e[n];if(typeof i=="string")if(o&2){let r=e[++n];a+="["+i+(r.length>0?'="'+r+'"':"")+"]"}else o&8?a+="."+i:o&4&&(a+=" "+i);else a!==""&&!B1(i)&&(t+=GM(s,a),a=""),o=i,s=s||!B1(o);n++}return a!==""&&(t+=GM(s,a)),t}function dH(e){return e.map(cH).join(",")}function pH(e){let t=[],n=[],o=1,a=2;for(;o<e.length;){let s=e[o];if(typeof s=="string")a===2?s!==""&&t.push(s,e[++o]):a===8&&n.push(s);else{if(!B1(a))break;a=s}o++}return{attrs:t,classes:n}}function Pt(e){return ol(()=>{let t=q9(e),n=V(S({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===P9.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||to.Emulated,styles:e.styles||pn,_:null,schemas:e.schemas||null,tView:null,id:""});Y9(n);let o=e.dependencies;return n.directiveDefs=$M(o,!1),n.pipeDefs=$M(o,!0),n.id=uH(n),n})}function vH(e){return ja(e)||U9(e)}function gH(e){return e!==null}function Te(e){return ol(()=>({type:e.type,bootstrap:e.bootstrap||pn,declarations:e.declarations||pn,imports:e.imports||pn,exports:e.exports||pn,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function WM(e,t){if(e==null)return di;let n={};for(let o in e)if(e.hasOwnProperty(o)){let a=e[o],s,i,r=r0.None;Array.isArray(a)?(r=a[0],s=a[1],i=a[2]??s):(s=a,i=a),t?(n[s]=r!==r0.None?[o,r]:o,t[s]=i):n[s]=o}return n}function Dt(e){return ol(()=>{let t=q9(e);return Y9(t),t})}function Sc(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone===!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function ja(e){return e[AD]||null}function U9(e){return e[RD]||null}function G9(e){return e[LD]||null}function W9(e){let t=ja(e)||U9(e)||G9(e);return t!==null?t.standalone:!1}function $9(e,t){let n=e[OD]||null;if(!n&&t===!0)throw new Error(`Type ${q0(e)} does not have '\u0275mod' property.`);return n}function q9(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||di,exportAs:e.exportAs||null,standalone:e.standalone===!0,signals:e.signals===!0,selectors:e.selectors||pn,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:WM(e.inputs,t),outputs:WM(e.outputs),debugInfo:null}}function Y9(e){e.features?.forEach(t=>t(e))}function $M(e,t){if(!e)return null;let n=t?G9:vH;return()=>(typeof e=="function"?e():e).map(o=>n(o)).filter(gH)}function uH(e){let t=0,n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(let a of n)t=Math.imul(31,t)+a.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function Wa(e){return{\u0275providers:e}}function Gg(...e){return{\u0275providers:K9(!0,e),\u0275fromNgModule:!0}}function K9(e,...t){let n=[],o=new Set,a,s=i=>{n.push(i)};return Vg(t,i=>{let r=i;Fv(r,s,[],o)&&(a||=[],a.push(r))}),a!==void 0&&Z9(a,s),n}function Z9(e,t){for(let n=0;n<e.length;n++){let{ngModule:o,providers:a}=e[n];Wg(a,s=>{t(s,o)})}}function Fv(e,t,n,o){if(e=$0(e),!e)return!1;let a=null,s=PM(e),i=!s&&ja(e);if(!s&&!i){let l=e.ngModule;if(s=PM(l),s)a=l;else return!1}else{if(i&&!i.standalone)return!1;a=e}let r=o.has(a);if(i){if(r)return!1;if(o.add(a),i.dependencies){let l=typeof i.dependencies=="function"?i.dependencies():i.dependencies;for(let h of l)Fv(h,t,n,o)}}else if(s){if(s.imports!=null&&!r){o.add(a);let h;try{Vg(s.imports,c=>{Fv(c,t,n,o)&&(h||=[],h.push(c))})}finally{}h!==void 0&&Z9(h,t)}if(!r){let h=Zs(a)||(()=>new a);t({provide:a,useFactory:h,deps:pn},a),t({provide:N9,useValue:a,multi:!0},a),t({provide:pi,useValue:()=>nt(a),multi:!0},a)}let l=s.providers;if(l!=null&&!r){let h=e;Wg(l,c=>{t(c,h)})}}else return!1;return a!==e&&e.providers!==void 0}function Wg(e,t){for(let n of e)T9(n)&&(n=n.\u0275providers),Array.isArray(n)?Wg(n,t):t(n)}var wH=ye({provide:String,useValue:ye});function X9(e){return e!==null&&typeof e=="object"&&wH in e}function fH(e){return!!(e&&e.useExisting)}function MH(e){return!!(e&&e.useFactory)}function vi(e){return typeof e=="function"}function mH(e){return!!e.useClass}var Dc=new ut(""),J4={},xH={},xv;function $g(){return xv===void 0&&(xv=new lc),xv}var Y0=class{},Kr=class extends Y0{get destroyed(){return this._destroyed}constructor(t,n,o,a){super(),this.parent=n,this.source=o,this.scopes=a,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,jv(t,i=>this.processProvider(i)),this.records.set(O9,si(void 0,this)),a.has("environment")&&this.records.set(Y0,si(void 0,this));let s=this.records.get(Dc);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(N9,pn,jt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let t=re(null);try{for(let o of this._ngOnDestroyHooks)o.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let o of n)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),re(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();let n=Fa(this),o=dn(void 0),a;try{return t()}finally{Fa(n),dn(o)}}get(t,n=qr,o=jt.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(VM))return t[VM](this);o=Cc(o);let a,s=Fa(this),i=dn(void 0);try{if(!(o&jt.SkipSelf)){let l=this.records.get(t);if(l===void 0){let h=bH(t)&&bc(t);h&&this.injectableDefInScope(h)?l=si(Vv(t),J4):l=null,this.records.set(t,l)}if(l!=null)return this.hydrate(t,l)}let r=o&jt.Self?$g():this.parent;return n=o&jt.Optional&&n===qr?null:n,r.get(t,n)}catch(r){if(r.name==="NullInjectorError"){if((r[ic]=r[ic]||[]).unshift(q0(t)),s)throw r;return qD(r,t,"R3InjectorError",this.source)}else throw r}finally{dn(i),Fa(s)}}resolveInjectorInitializers(){let t=re(null),n=Fa(this),o=dn(void 0),a;try{let s=this.get(pi,pn,jt.Self);for(let i of s)i()}finally{Fa(n),dn(o),re(t)}}toString(){let t=[],n=this.records;for(let o of n.keys())t.push(q0(o));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new $(205,!1)}processProvider(t){t=$0(t);let n=vi(t)?t:$0(t&&t.provide),o=IH(t);if(!vi(t)&&t.multi===!0){let a=this.records.get(n);a||(a=si(void 0,J4,!0),a.factory=()=>Nv(a.multi),this.records.set(n,a)),n=t,a.multi.push(t)}this.records.set(n,o)}hydrate(t,n){let o=re(null);try{return n.value===J4&&(n.value=xH,n.value=n.factory()),typeof n.value=="object"&&n.value&&zH(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{re(o)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=$0(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Vv(e){let t=bc(e),n=t!==null?t.factory:Zs(e);if(n!==null)return n;if(e instanceof ut)throw new $(204,!1);if(e instanceof Function)return yH(e);throw new $(204,!1)}function yH(e){if(e.length>0)throw new $(204,!1);let n=TD(e);return n!==null?()=>n.factory(e):()=>new e}function IH(e){if(X9(e))return si(void 0,e.useValue);{let t=Q9(e);return si(t,J4)}}function Q9(e,t,n){let o;if(vi(e)){let a=$0(e);return Zs(a)||Vv(a)}else if(X9(e))o=()=>$0(e.useValue);else if(MH(e))o=()=>e.useFactory(...Nv(e.deps||[]));else if(fH(e))o=()=>nt($0(e.useExisting));else{let a=$0(e&&(e.useClass||e.provide));if(kH(e))o=()=>new a(...Nv(e.deps));else return Zs(a)||Vv(a)}return o}function si(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function kH(e){return!!e.deps}function zH(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function bH(e){return typeof e=="function"||typeof e=="object"&&e instanceof ut}function jv(e,t){for(let n of e)Array.isArray(n)?jv(n,t):n&&T9(n)?jv(n.\u0275providers,t):t(n)}function _1(e,t){e instanceof Kr&&e.assertNotDestroyed();let n,o=Fa(e),a=dn(void 0);try{return t()}finally{Fa(o),dn(a)}}function J9(){return _9()!==void 0||GD()!=null}function CH(e){if(!J9())throw new $(-203,!1)}function BH(e){return typeof e=="function"}var so=0,Lt=1,Ct=2,B0=3,D1=4,En=5,Zr=6,Xr=7,H1=8,gi=9,E1=10,Fe=11,Qr=12,qM=13,xi=14,T1=15,il=16,ii=17,Zo=18,Hc=19,t8=20,Va=21,yv=22,Xs=23,Hn=25,qg=1;var Qs=7,hc=8,ui=9,Dn=10,Yg=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(Yg||{});function qs(e){return Array.isArray(e)&&typeof e[qg]=="object"}function Jo(e){return Array.isArray(e)&&e[qg]===!0}function Kg(e){return(e.flags&4)!==0}function Ec(e){return e.componentOffset>-1}function Tc(e){return(e.flags&1)===1}function Xo(e){return!!e.template}function SH(e){return(e[Ct]&512)!==0}var Uv=class{constructor(t,n,o){this.previousValue=t,this.currentValue=n,this.firstChange=o}isFirstChange(){return this.firstChange}};function e8(e,t,n,o){t!==null?t.applyValueToInputSignal(t,o):e[n]=o}function A1(){return n8}function n8(e){return e.type.prototype.ngOnChanges&&(e.setInput=HH),DH}A1.ngInherit=!0;function DH(){let e=a8(this),t=e?.current;if(t){let n=e.previous;if(n===di)e.previous=t;else for(let o in t)n[o]=t[o];e.current=null,this.ngOnChanges(t)}}function HH(e,t,n,o,a){let s=this.declaredInputs[o],i=a8(e)||EH(e,{previous:di,current:null}),r=i.current||(i.current={}),l=i.previous,h=l[s];r[s]=new Uv(h&&h.currentValue,n,l===di),e8(e,t,a,n)}var o8="__ngSimpleChanges__";function a8(e){return e[o8]||null}function EH(e,t){return e[o8]=t}var YM=null;var Q1=function(e,t,n){YM?.(e,t,n)},TH="svg",_H="math",AH=!1;function RH(){return AH}function eo(e){for(;Array.isArray(e);)e=e[so];return e}function LH(e){for(;Array.isArray(e);){if(typeof e[qg]=="object")return e;e=e[so]}return null}function s8(e,t){return eo(t[e])}function Jn(e,t){return eo(t[e.index])}function i8(e,t){return e.data[t]}function r8(e,t){return e[t]}function $a(e,t){let n=t[e];return qs(n)?n:n[so]}function OH(e){return(e[Ct]&4)===4}function Zg(e){return(e[Ct]&128)===128}function NH(e){return Jo(e[B0])}function wi(e,t){return t==null?null:e[t]}function l8(e){e[ii]=0}function PH(e){e[Ct]&1024||(e[Ct]|=1024,Zg(e)&&Jr(e))}function FH(e,t){for(;e>0;)t=t[xi],e--;return t}function Xg(e){return!!(e[Ct]&9216||e[Xs]?.dirty)}function Gv(e){e[E1].changeDetectionScheduler?.notify(1),Xg(e)?Jr(e):e[Ct]&64&&(RH()?(e[Ct]|=1024,Jr(e)):e[E1].changeDetectionScheduler?.notify())}function Jr(e){e[E1].changeDetectionScheduler?.notify();let t=tl(e);for(;t!==null&&!(t[Ct]&8192||(t[Ct]|=8192,!Zg(t)));)t=tl(t)}function h8(e,t){if((e[Ct]&256)===256)throw new $(911,!1);e[Va]===null&&(e[Va]=[]),e[Va].push(t)}function VH(e,t){if(e[Va]===null)return;let n=e[Va].indexOf(t);n!==-1&&e[Va].splice(n,1)}function tl(e){let t=e[B0];return Jo(t)?t[B0]:t}var Ot={lFrame:f8(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function jH(){return Ot.lFrame.elementDepthCount}function UH(){Ot.lFrame.elementDepthCount++}function GH(){Ot.lFrame.elementDepthCount--}function c8(){return Ot.bindingsEnabled}function d8(){return Ot.skipHydrationRootTNode!==null}function WH(e){return Ot.skipHydrationRootTNode===e}function $H(){Ot.skipHydrationRootTNode=null}function Nt(){return Ot.lFrame.lView}function je(){return Ot.lFrame.tView}function ht(e){return Ot.lFrame.contextLView=e,e[H1]}function ct(e){return Ot.lFrame.contextLView=null,e}function O0(){let e=p8();for(;e!==null&&e.type===64;)e=e.parent;return e}function p8(){return Ot.lFrame.currentTNode}function qH(){let e=Ot.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function s2(e,t){let n=Ot.lFrame;n.currentTNode=e,n.isParent=t}function Qg(){return Ot.lFrame.isParent}function Jg(){Ot.lFrame.isParent=!1}function YH(){return Ot.lFrame.contextLView}function _c(){let e=Ot.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function KH(){return Ot.lFrame.bindingIndex}function ZH(e){return Ot.lFrame.bindingIndex=e}function rl(){return Ot.lFrame.bindingIndex++}function t5(e){let t=Ot.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function XH(){return Ot.lFrame.inI18n}function QH(e,t){let n=Ot.lFrame;n.bindingIndex=n.bindingRootIndex=e,Wv(t)}function JH(){return Ot.lFrame.currentDirectiveIndex}function Wv(e){Ot.lFrame.currentDirectiveIndex=e}function v8(e){let t=Ot.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function g8(){return Ot.lFrame.currentQueryIndex}function e5(e){Ot.lFrame.currentQueryIndex=e}function tE(e){let t=e[Lt];return t.type===2?t.declTNode:t.type===1?e[En]:null}function u8(e,t,n){if(n&jt.SkipSelf){let a=t,s=e;for(;a=a.parent,a===null&&!(n&jt.Host);)if(a=tE(s),a===null||(s=s[xi],a.type&10))break;if(a===null)return!1;t=a,e=s}let o=Ot.lFrame=w8();return o.currentTNode=t,o.lView=e,!0}function n5(e){let t=w8(),n=e[Lt];Ot.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function w8(){let e=Ot.lFrame,t=e===null?null:e.child;return t===null?f8(e):t}function f8(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function M8(){let e=Ot.lFrame;return Ot.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var m8=M8;function o5(){let e=M8();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function eE(e){return(Ot.lFrame.contextLView=FH(e,Ot.lFrame.contextLView))[H1]}function qa(){return Ot.lFrame.selectedIndex}function Js(e){Ot.lFrame.selectedIndex=e}function Ac(){let e=Ot.lFrame;return i8(e.tView,e.selectedIndex)}function nE(){return Ot.lFrame.currentNamespace}var x8=!0;function Rc(){return x8}function Lc(e){x8=e}function oE(e,t,n){let{ngOnChanges:o,ngOnInit:a,ngDoCheck:s}=t.type.prototype;if(o){let i=n8(t);(n.preOrderHooks??=[]).push(e,i),(n.preOrderCheckHooks??=[]).push(e,i)}a&&(n.preOrderHooks??=[]).push(0-e,a),s&&((n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s))}function Oc(e,t){for(let n=t.directiveStart,o=t.directiveEnd;n<o;n++){let s=e.data[n].type.prototype,{ngAfterContentInit:i,ngAfterContentChecked:r,ngAfterViewInit:l,ngAfterViewChecked:h,ngOnDestroy:c}=s;i&&(e.contentHooks??=[]).push(-n,i),r&&((e.contentHooks??=[]).push(n,r),(e.contentCheckHooks??=[]).push(n,r)),l&&(e.viewHooks??=[]).push(-n,l),h&&((e.viewHooks??=[]).push(n,h),(e.viewCheckHooks??=[]).push(n,h)),c!=null&&(e.destroyHooks??=[]).push(n,c)}}function tc(e,t,n){y8(e,t,3,n)}function ec(e,t,n,o){(e[Ct]&3)===n&&y8(e,t,n,o)}function Iv(e,t){let n=e[Ct];(n&3)===t&&(n&=16383,n+=1,e[Ct]=n)}function y8(e,t,n,o){let a=o!==void 0?e[ii]&65535:0,s=o??-1,i=t.length-1,r=0;for(let l=a;l<i;l++)if(typeof t[l+1]=="number"){if(r=t[l],o!=null&&r>=o)break}else t[l]<0&&(e[ii]+=65536),(r<s||s==-1)&&(aE(e,n,t,l),e[ii]=(e[ii]&4294901760)+l+2),l++}function KM(e,t){Q1(4,e,t);let n=re(null);try{t.call(e)}finally{re(n),Q1(5,e,t)}}function aE(e,t,n,o){let a=n[o]<0,s=n[o+1],i=a?-n[o]:n[o],r=e[i];a?e[Ct]>>14<e[ii]>>16&&(e[Ct]&3)===t&&(e[Ct]+=16384,KM(r,s)):KM(r,s)}var ci=-1,t2=class{constructor(t,n,o){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=o}};function sE(e){return e instanceof t2}function iE(e){return(e.flags&8)!==0}function rE(e){return(e.flags&16)!==0}function I8(e){return e!==ci}function cc(e){return e&32767}function lE(e){return e>>16}function dc(e,t){let n=lE(e),o=t;for(;n>0;)o=o[xi],n--;return o}var $v=!0;function pc(e){let t=$v;return $v=e,t}var hE=256,k8=hE-1,z8=5,cE=0,J1={};function dE(e,t,n){let o;typeof n=="string"?o=n.charCodeAt(0)||0:n.hasOwnProperty($r)&&(o=n[$r]),o==null&&(o=n[$r]=cE++);let a=o&k8,s=1<<a;t.data[e+(a>>z8)]|=s}function vc(e,t){let n=b8(e,t);if(n!==-1)return n;let o=t[Lt];o.firstCreatePass&&(e.injectorIndex=t.length,kv(o.data,e),kv(t,null),kv(o.blueprint,null));let a=a5(e,t),s=e.injectorIndex;if(I8(a)){let i=cc(a),r=dc(a,t),l=r[Lt].data;for(let h=0;h<8;h++)t[s+h]=r[i+h]|l[i+h]}return t[s+8]=a,s}function kv(e,t){e.push(0,0,0,0,0,0,0,0,t)}function b8(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function a5(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,o=null,a=t;for(;a!==null;){if(o=H8(a),o===null)return ci;if(n++,a=a[xi],o.injectorIndex!==-1)return o.injectorIndex|n<<16}return ci}function qv(e,t,n){dE(e,t,n)}function pE(e,t){if(t==="class")return e.classes;if(t==="style")return e.styles;let n=e.attrs;if(n){let o=n.length,a=0;for(;a<o;){let s=n[a];if(F9(s))break;if(s===0)a=a+2;else if(typeof s=="number")for(a++;a<o&&typeof n[a]=="string";)a++;else{if(s===t)return n[a+1];a=a+2}}}return null}function C8(e,t,n){if(n&jt.Optional||e!==void 0)return e;Fg(t,"NodeInjector")}function B8(e,t,n,o){if(n&jt.Optional&&o===void 0&&(o=null),!(n&(jt.Self|jt.Host))){let a=e[gi],s=dn(void 0);try{return a?a.get(t,o,n&jt.Optional):A9(t,o,n&jt.Optional)}finally{dn(s)}}return C8(o,t,n)}function S8(e,t,n,o=jt.Default,a){if(e!==null){if(t[Ct]&2048&&!(o&jt.Self)){let i=wE(e,t,n,o,J1);if(i!==J1)return i}let s=D8(e,t,n,o,J1);if(s!==J1)return s}return B8(t,n,o,a)}function D8(e,t,n,o,a){let s=gE(n);if(typeof s=="function"){if(!u8(t,e,o))return o&jt.Host?C8(a,n,o):B8(t,n,o,a);try{let i;if(i=s(o),i==null&&!(o&jt.Optional))Fg(n);else return i}finally{m8()}}else if(typeof s=="number"){let i=null,r=b8(e,t),l=ci,h=o&jt.Host?t[T1][En]:null;for((r===-1||o&jt.SkipSelf)&&(l=r===-1?a5(e,t):t[r+8],l===ci||!XM(o,!1)?r=-1:(i=t[Lt],r=cc(l),t=dc(l,t)));r!==-1;){let c=t[Lt];if(ZM(s,r,c.data)){let d=vE(r,t,n,i,o,h);if(d!==J1)return d}l=t[r+8],l!==ci&&XM(o,t[Lt].data[r+8]===h)&&ZM(s,r,t)?(i=c,r=cc(l),t=dc(l,t)):r=-1}}return a}function vE(e,t,n,o,a,s){let i=t[Lt],r=i.data[e+8],l=o==null?Ec(r)&&$v:o!=i&&(r.type&3)!==0,h=a&jt.Host&&s===r,c=nc(r,i,n,l,h);return c!==null?e2(t,i,c,r):J1}function nc(e,t,n,o,a){let s=e.providerIndexes,i=t.data,r=s&1048575,l=e.directiveStart,h=e.directiveEnd,c=s>>20,d=o?r:r+c,p=a?r+c:h;for(let v=d;v<p;v++){let g=i[v];if(v<l&&n===g||v>=l&&g.type===n)return v}if(a){let v=i[l];if(v&&Xo(v)&&v.type===n)return l}return null}function e2(e,t,n,o){let a=e[n],s=t.data;if(sE(a)){let i=a;i.resolving&&PD(ND(s[n]));let r=pc(i.canSeeViewProviders);i.resolving=!0;let l,h=i.injectImpl?dn(i.injectImpl):null,c=u8(e,o,jt.Default);try{a=e[n]=i.factory(void 0,s,e,o),t.firstCreatePass&&n>=o.directiveStart&&oE(n,s[n],t)}finally{h!==null&&dn(h),pc(r),i.resolving=!1,m8()}}return a}function gE(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty($r)?e[$r]:void 0;return typeof t=="number"?t>=0?t&k8:uE:t}function ZM(e,t,n){let o=1<<e;return!!(n[t+(e>>z8)]&o)}function XM(e,t){return!(e&jt.Self)&&!(e&jt.Host&&t)}var Ys=class{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,o){return S8(this._tNode,this._lView,t,Cc(o),n)}};function uE(){return new Ys(O0(),Nt())}function Tn(e){return ol(()=>{let t=e.prototype.constructor,n=t[sc]||Yv(t),o=Object.prototype,a=Object.getPrototypeOf(e.prototype).constructor;for(;a&&a!==o;){let s=a[sc]||Yv(a);if(s&&s!==n)return s;a=Object.getPrototypeOf(a)}return s=>new s})}function Yv(e){return S9(e)?()=>{let t=Yv($0(e));return t&&t()}:Zs(e)}function wE(e,t,n,o,a){let s=e,i=t;for(;s!==null&&i!==null&&i[Ct]&2048&&!(i[Ct]&512);){let r=D8(s,i,n,o|jt.Self,J1);if(r!==J1)return r;let l=s.parent;if(!l){let h=i[t8];if(h){let c=h.get(n,J1,o);if(c!==J1)return c}l=H8(i),i=i[xi]}s=l}return a}function H8(e){let t=e[Lt],n=t.type;return n===2?t.declTNode:n===1?e[En]:null}function s5(e){return pE(O0(),e)}function QM(e,t=null,n=null,o){let a=E8(e,t,n,o);return a.resolveInjectorInitializers(),a}function E8(e,t=null,n=null,o,a=new Set){let s=[n||pn,Gg(e)];return o=o||(typeof e=="object"?void 0:q0(e)),new Kr(s,t||$g(),o||null,a)}var _n=(()=>{let t=class t{static create(o,a){if(Array.isArray(o))return QM({name:""},a,o,"");{let s=o.name??"";return QM({name:s},o.parent,o.providers,s)}}};t.THROW_IF_NOT_FOUND=qr,t.NULL=new lc,t.\u0275prov=J({token:t,providedIn:"any",factory:()=>nt(O9)}),t.__NG_ELEMENT_ID__=-1;let e=t;return e})();var fE="ngOriginalError";function zv(e){return e[fE]}var no=class{constructor(){this._console=console}handleError(t){let n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&zv(t);for(;n&&zv(n);)n=zv(n);return n||null}},T8=new ut("",{providedIn:"root",factory:()=>K(no).handleError.bind(void 0)}),i5=(()=>{let t=class t{};t.__NG_ELEMENT_ID__=ME,t.__NG_ENV_ID__=o=>o;let e=t;return e})(),Kv=class extends i5{constructor(t){super(),this._lView=t}onDestroy(t){return h8(this._lView,t),()=>VH(this._lView,t)}};function ME(){return new Kv(Nt())}function mE(){return yi(O0(),Nt())}function yi(e,t){return new _e(Jn(e,t))}var _e=(()=>{let t=class t{constructor(o){this.nativeElement=o}};t.__NG_ELEMENT_ID__=mE;let e=t;return e})();function xE(e){return e instanceof _e?e.nativeElement:e}var Zv=class extends Le{constructor(t=!1){super(),this.destroyRef=void 0,this.__isAsync=t,J9()&&(this.destroyRef=K(i5,{optional:!0})??void 0)}emit(t){let n=re(null);try{super.next(t)}finally{re(n)}}subscribe(t,n,o){let a=t,s=n||(()=>null),i=o;if(t&&typeof t=="object"){let l=t;a=l.next?.bind(l),s=l.error?.bind(l),i=l.complete?.bind(l)}this.__isAsync&&(s=bv(s),a&&(a=bv(a)),i&&(i=bv(i)));let r=super.subscribe({next:a,error:s,complete:i});return t instanceof i0&&t.add(r),r}};function bv(e){return t=>{setTimeout(e,void 0,t)}}var fe=Zv;function yE(){return this._results[Symbol.iterator]()}var Xv=class e{get changes(){return this._changes??=new fe}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=e.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=yE)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;let o=ZD(t);(this._changesDetected=!KD(this._results,o,n))&&(this._results=o,this.length=o.length,this.last=o[this.length-1],this.first=o[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function _8(e){return(e.flags&128)===128}var A8=new Map,IE=0;function kE(){return IE++}function zE(e){A8.set(e[Hc],e)}function bE(e){A8.delete(e[Hc])}var JM="__ngContext__";function Ua(e,t){qs(t)?(e[JM]=t[Hc],zE(t)):e[JM]=t}function R8(e){return O8(e[Qr])}function L8(e){return O8(e[D1])}function O8(e){for(;e!==null&&!Jo(e);)e=e[D1];return e}var Qv;function N8(e){Qv=e}function P8(){if(Qv!==void 0)return Qv;if(typeof document<"u")return document;throw new $(210,!1)}var Nc=new ut("",{providedIn:"root",factory:()=>CE}),CE="ng",r5=new ut(""),io=new ut("",{providedIn:"platform",factory:()=>"unknown"});var l5=new ut(""),h5=new ut("",{providedIn:"root",factory:()=>P8().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var BE="h",SE="b";var DE=()=>null;function c5(e,t,n=!1){return DE(e,t,n)}var F8=!1,HE=new ut("",{providedIn:"root",factory:()=>F8});var Y4;function EE(){if(Y4===void 0&&(Y4=null,t0.trustedTypes))try{Y4=t0.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Y4}function Pc(e){return EE()?.createHTML(e)||e}var K4;function V8(){if(K4===void 0&&(K4=null,t0.trustedTypes))try{K4=t0.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return K4}function t9(e){return V8()?.createHTML(e)||e}function e9(e){return V8()?.createScriptURL(e)||e}var Qo=class{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${C9})`}},Jv=class extends Qo{getTypeName(){return"HTML"}},tg=class extends Qo{getTypeName(){return"Style"}},eg=class extends Qo{getTypeName(){return"Script"}},ng=class extends Qo{getTypeName(){return"URL"}},og=class extends Qo{getTypeName(){return"ResourceURL"}};function t1(e){return e instanceof Qo?e.changingThisBreaksApplicationSecurity:e}function ta(e,t){let n=TE(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${C9})`)}return n===t}function TE(e){return e instanceof Qo&&e.getTypeName()||null}function j8(e){return new Jv(e)}function U8(e){return new tg(e)}function G8(e){return new eg(e)}function W8(e){return new ng(e)}function $8(e){return new og(e)}function _E(e){let t=new sg(e);return AE()?new ag(t):t}var ag=class{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{let n=new window.DOMParser().parseFromString(Pc(t),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(t):(n.removeChild(n.firstChild),n)}catch{return null}}},sg=class{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){let n=this.inertDocument.createElement("template");return n.innerHTML=Pc(t),n}};function AE(){try{return!!new window.DOMParser().parseFromString(Pc(""),"text/html")}catch{return!1}}var RE=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Fc(e){return e=String(e),e.match(RE)?e:"unsafe:"+e}function ea(e){let t={};for(let n of e.split(","))t[n]=!0;return t}function ll(...e){let t={};for(let n of e)for(let o in n)n.hasOwnProperty(o)&&(t[o]=!0);return t}var q8=ea("area,br,col,hr,img,wbr"),Y8=ea("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),K8=ea("rp,rt"),LE=ll(K8,Y8),OE=ll(Y8,ea("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),NE=ll(K8,ea("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),n9=ll(q8,OE,NE,LE),Z8=ea("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),PE=ea("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),FE=ea("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),VE=ll(Z8,PE,FE),jE=ea("script,style,template"),ig=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let n=t.firstChild,o=!0,a=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?o=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,o&&n.firstChild){a.push(n),n=WE(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let s=GE(n);if(s){n=s;break}n=a.pop()}}return this.buf.join("")}startElement(t){let n=o9(t).toLowerCase();if(!n9.hasOwnProperty(n))return this.sanitizedSomething=!0,!jE.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let o=t.attributes;for(let a=0;a<o.length;a++){let s=o.item(a),i=s.name,r=i.toLowerCase();if(!VE.hasOwnProperty(r)){this.sanitizedSomething=!0;continue}let l=s.value;Z8[r]&&(l=Fc(l)),this.buf.push(" ",i,'="',a9(l),'"')}return this.buf.push(">"),!0}endElement(t){let n=o9(t).toLowerCase();n9.hasOwnProperty(n)&&!q8.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(a9(t))}};function UE(e,t){return(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function GE(e){let t=e.nextSibling;if(t&&e!==t.previousSibling)throw X8(t);return t}function WE(e){let t=e.firstChild;if(t&&UE(e,t))throw X8(t);return t}function o9(e){let t=e.nodeName;return typeof t=="string"?t:"FORM"}function X8(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}var $E=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,qE=/([^\#-~ |!])/g;function a9(e){return e.replace(/&/g,"&amp;").replace($E,function(t){let n=t.charCodeAt(0),o=t.charCodeAt(1);return"&#"+((n-55296)*1024+(o-56320)+65536)+";"}).replace(qE,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Z4;function d5(e,t){let n=null;try{Z4=Z4||_E(e);let o=t?String(t):"";n=Z4.getInertBodyElement(o);let a=5,s=o;do{if(a===0)throw new Error("Failed to sanitize html because the input is unstable");a--,o=s,s=n.innerHTML,n=Z4.getInertBodyElement(o)}while(o!==s);let r=new ig().sanitizeChildren(s9(n)||n);return Pc(r)}finally{if(n){let o=s9(n)||n;for(;o.firstChild;)o.removeChild(o.firstChild)}}}function s9(e){return"content"in e&&YE(e)?e.content:null}function YE(e){return e.nodeType===Node.ELEMENT_NODE&&e.nodeName==="TEMPLATE"}var An=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(An||{});function p5(e){let t=v5();return t?t9(t.sanitize(An.HTML,e)||""):ta(e,"HTML")?t9(t1(e)):d5(P8(),Ks(e))}function KE(e){let t=v5();return t?t.sanitize(An.URL,e)||"":ta(e,"URL")?t1(e):Fc(Ks(e))}function ZE(e){let t=v5();if(t)return e9(t.sanitize(An.RESOURCE_URL,e)||"");if(ta(e,"ResourceURL"))return e9(t1(e));throw new $(904,!1)}function XE(e,t){return t==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||t==="href"&&(e==="base"||e==="link")?ZE:KE}function Q8(e,t,n){return XE(t,n)(e)}function v5(){let e=Nt();return e&&e[E1].sanitizer}var QE=/^>|^->|<!--|-->|--!>|<!-$/g,JE=/(<|>)/g,tT="\u200B$1\u200B";function eT(e){return e.replace(QE,t=>t.replace(JE,tT))}function J8(e){return e.ownerDocument.defaultView}function tm(e){return e.ownerDocument}function em(e){return e instanceof Function?e():e}function nT(e){return(e??K(_n)).get(io)==="browser"}var oo=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(oo||{}),oT;function g5(e,t){return oT(e,t)}function ri(e,t,n,o,a){if(o!=null){let s,i=!1;Jo(o)?s=o:qs(o)&&(i=!0,o=o[so]);let r=eo(o);e===0&&n!==null?a==null?rm(t,n,r):gc(t,n,r,a||null,!0):e===1&&n!==null?gc(t,n,r,a||null,!0):e===2?mT(t,r,i):e===3&&t.destroyNode(r),s!=null&&yT(t,e,s,n,a)}}function aT(e,t){return e.createText(t)}function sT(e,t,n){e.setValue(t,n)}function iT(e,t){return e.createComment(eT(t))}function nm(e,t,n){return e.createElement(t,n)}function rT(e,t){om(e,t),t[so]=null,t[En]=null}function lT(e,t,n,o,a,s){o[so]=a,o[En]=t,jc(e,o,n,1,a,s)}function om(e,t){t[E1].changeDetectionScheduler?.notify(1),jc(e,t,t[Fe],2,null,null)}function hT(e){let t=e[Qr];if(!t)return Cv(e[Lt],e);for(;t;){let n=null;if(qs(t))n=t[Qr];else{let o=t[Dn];o&&(n=o)}if(!n){for(;t&&!t[D1]&&t!==e;)qs(t)&&Cv(t[Lt],t),t=t[B0];t===null&&(t=e),qs(t)&&Cv(t[Lt],t),n=t&&t[D1]}t=n}}function cT(e,t,n,o){let a=Dn+o,s=n.length;o>0&&(n[a-1][D1]=t),o<s-Dn?(t[D1]=n[a],L9(n,Dn+o,t)):(n.push(t),t[D1]=null),t[B0]=n;let i=t[il];i!==null&&n!==i&&dT(i,t);let r=t[Zo];r!==null&&r.insertView(e),Gv(t),t[Ct]|=128}function dT(e,t){let n=e[ui],a=t[B0][B0][T1];t[T1]!==a&&(e[Ct]|=Yg.HasTransplantedViews),n===null?e[ui]=[t]:n.push(t)}function am(e,t){let n=e[ui],o=n.indexOf(t);n.splice(o,1)}function rg(e,t){if(e.length<=Dn)return;let n=Dn+t,o=e[n];if(o){let a=o[il];a!==null&&a!==e&&am(a,o),t>0&&(e[n-1][D1]=o[D1]);let s=rc(e,Dn+t);rT(o[Lt],o);let i=s[Zo];i!==null&&i.detachView(s[Lt]),o[B0]=null,o[D1]=null,o[Ct]&=-129}return o}function sm(e,t){if(!(t[Ct]&256)){let n=t[Fe];n.destroyNode&&jc(e,t,n,3,null,null),hT(t)}}function Cv(e,t){if(t[Ct]&256)return;let n=re(null);try{t[Ct]&=-129,t[Ct]|=256,t[Xs]&&sM(t[Xs]),vT(e,t),pT(e,t),t[Lt].type===1&&t[Fe].destroy();let o=t[il];if(o!==null&&Jo(t[B0])){o!==t[B0]&&am(o,t);let a=t[Zo];a!==null&&a.detachView(e)}bE(t)}finally{re(n)}}function pT(e,t){let n=e.cleanup,o=t[Xr];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let i=n[s+3];i>=0?o[i]():o[-i].unsubscribe(),s+=2}else{let i=o[n[s+1]];n[s].call(i)}o!==null&&(t[Xr]=null);let a=t[Va];if(a!==null){t[Va]=null;for(let s=0;s<a.length;s++){let i=a[s];i()}}}function vT(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let o=0;o<n.length;o+=2){let a=t[n[o]];if(!(a instanceof t2)){let s=n[o+1];if(Array.isArray(s))for(let i=0;i<s.length;i+=2){let r=a[s[i]],l=s[i+1];Q1(4,r,l);try{l.call(r)}finally{Q1(5,r,l)}}else{Q1(4,a,s);try{s.call(a)}finally{Q1(5,a,s)}}}}}function im(e,t,n){return gT(e,t.parent,n)}function gT(e,t,n){let o=t;for(;o!==null&&o.type&40;)t=o,o=t.parent;if(o===null)return n[so];{let{componentOffset:a}=o;if(a>-1){let{encapsulation:s}=e.data[o.directiveStart+a];if(s===to.None||s===to.Emulated)return null}return Jn(o,n)}}function gc(e,t,n,o,a){e.insertBefore(t,n,o,a)}function rm(e,t,n){e.appendChild(t,n)}function i9(e,t,n,o,a){o!==null?gc(e,t,n,o,a):rm(e,t,n)}function uT(e,t,n,o){e.removeChild(t,n,o)}function u5(e,t){return e.parentNode(t)}function wT(e,t){return e.nextSibling(t)}function lm(e,t,n){return MT(e,t,n)}function fT(e,t,n){return e.type&40?Jn(e,n):null}var MT=fT,r9;function Vc(e,t,n,o){let a=im(e,o,t),s=t[Fe],i=o.parent||t[En],r=lm(i,o,t);if(a!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)i9(s,a,n[l],r,!1);else i9(s,a,n,r,!1);r9!==void 0&&r9(s,o,t,n,a)}function oc(e,t){if(t!==null){let n=t.type;if(n&3)return Jn(t,e);if(n&4)return lg(-1,e[t.index]);if(n&8){let o=t.child;if(o!==null)return oc(e,o);{let a=e[t.index];return Jo(a)?lg(-1,a):eo(a)}}else{if(n&32)return g5(t,e)()||eo(e[t.index]);{let o=hm(e,t);if(o!==null){if(Array.isArray(o))return o[0];let a=tl(e[T1]);return oc(a,o)}else return oc(e,t.next)}}}return null}function hm(e,t){if(t!==null){let o=e[T1][En],a=t.projection;return o.projection[a]}return null}function lg(e,t){let n=Dn+e+1;if(n<t.length){let o=t[n],a=o[Lt].firstChild;if(a!==null)return oc(o,a)}return t[Qs]}function mT(e,t,n){let o=u5(e,t);o&&uT(e,o,t,n)}function w5(e,t,n,o,a,s,i){for(;n!=null;){let r=o[n.index],l=n.type;if(i&&t===0&&(r&&Ua(eo(r),o),n.flags|=2),(n.flags&32)!==32)if(l&8)w5(e,t,n.child,o,a,s,!1),ri(t,e,a,r,s);else if(l&32){let h=g5(n,o),c;for(;c=h();)ri(t,e,a,c,s);ri(t,e,a,r,s)}else l&16?cm(e,t,o,n,a,s):ri(t,e,a,r,s);n=i?n.projectionNext:n.next}}function jc(e,t,n,o,a,s){w5(n,o,e.firstChild,t,a,s,!1)}function xT(e,t,n){let o=t[Fe],a=im(e,n,t),s=n.parent||t[En],i=lm(s,n,t);cm(o,0,t,n,a,i)}function cm(e,t,n,o,a,s){let i=n[T1],l=i[En].projection[o.projection];if(Array.isArray(l))for(let h=0;h<l.length;h++){let c=l[h];ri(t,e,a,c,s)}else{let h=l,c=i[B0];_8(o)&&(h.flags|=128),w5(e,t,h,c,a,s,!0)}}function yT(e,t,n,o,a){let s=n[Qs],i=eo(n);s!==i&&ri(t,e,o,s,a);for(let r=Dn;r<n.length;r++){let l=n[r];jc(l[Lt],l,e,t,o,s)}}function IT(e,t,n,o,a){if(t)a?e.addClass(n,o):e.removeClass(n,o);else{let s=o.indexOf("-")===-1?void 0:oo.DashCase;a==null?e.removeStyle(n,o,s):(typeof a=="string"&&a.endsWith("!important")&&(a=a.slice(0,-10),s|=oo.Important),e.setStyle(n,o,a,s))}}function kT(e,t,n){e.setAttribute(t,"style",n)}function dm(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function pm(e,t,n){let{mergedAttrs:o,classes:a,styles:s}=n;o!==null&&Pv(e,t,o),a!==null&&dm(e,t,a),s!==null&&kT(e,t,s)}var e1={};function T(e=1){vm(je(),Nt(),qa()+e,!1)}function vm(e,t,n,o){if(!o)if((t[Ct]&3)===3){let s=e.preOrderCheckHooks;s!==null&&tc(t,s,n)}else{let s=e.preOrderHooks;s!==null&&ec(t,s,0,n)}Js(n)}function O(e,t=jt.Default){let n=Nt();if(n===null)return nt(e,t);let o=O0();return S8(o,n,$0(e),t)}function gm(){let e="invalid";throw new Error(e)}function um(e,t,n,o,a,s){let i=re(null);try{let r=null;a&r0.SignalBased&&(r=t[o][js]),r!==null&&r.transformFn!==void 0&&(s=r.transformFn(s)),a&r0.HasDecoratorInputTransform&&(s=e.inputTransforms[o].call(t,s)),e.setInput!==null?e.setInput(t,r,s,n,o):e8(t,r,o,s)}finally{re(i)}}function zT(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let o=0;o<n.length;o++){let a=n[o];if(a<0)Js(~a);else{let s=a,i=n[++o],r=n[++o];QH(i,s);let l=t[s];r(2,l)}}}finally{Js(-1)}}function Uc(e,t,n,o,a,s,i,r,l,h,c){let d=t.blueprint.slice();return d[so]=a,d[Ct]=o|4|128|8|64,(h!==null||e&&e[Ct]&2048)&&(d[Ct]|=2048),l8(d),d[B0]=d[xi]=e,d[H1]=n,d[E1]=i||e&&e[E1],d[Fe]=r||e&&e[Fe],d[gi]=l||e&&e[gi]||null,d[En]=s,d[Hc]=kE(),d[Zr]=c,d[t8]=h,d[T1]=t.type==2?e[T1]:d,d}function Ii(e,t,n,o,a){let s=e.data[t];if(s===null)s=bT(e,t,n,o,a),XH()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=o,s.attrs=a;let i=qH();s.injectorIndex=i===null?-1:i.injectorIndex}return s2(s,!0),s}function bT(e,t,n,o,a){let s=p8(),i=Qg(),r=i?s:s&&s.parent,l=e.data[t]=ET(e,r,n,t,o,a);return e.firstChild===null&&(e.firstChild=l),s!==null&&(i?s.child==null&&l.parent!==null&&(s.child=l):s.next===null&&(s.next=l,l.prev=s)),l}function wm(e,t,n,o){if(n===0)return-1;let a=t.length;for(let s=0;s<n;s++)t.push(o),e.blueprint.push(o),e.data.push(null);return a}function fm(e,t,n,o,a){let s=qa(),i=o&2;try{Js(-1),i&&t.length>Hn&&vm(e,t,Hn,!1),Q1(i?2:0,a),n(o,a)}finally{Js(s),Q1(i?3:1,a)}}function f5(e,t,n){if(Kg(t)){let o=re(null);try{let a=t.directiveStart,s=t.directiveEnd;for(let i=a;i<s;i++){let r=e.data[i];if(r.contentQueries){let l=n[i];r.contentQueries(1,l,i)}}}finally{re(o)}}}function M5(e,t,n){c8()&&(OT(e,t,n,Jn(n,t)),(n.flags&64)===64&&xm(e,t,n))}function m5(e,t,n=Jn){let o=t.localNames;if(o!==null){let a=t.index+1;for(let s=0;s<o.length;s+=2){let i=o[s+1],r=i===-1?n(t,e):e[i];e[a++]=r}}}function Mm(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=x5(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function x5(e,t,n,o,a,s,i,r,l,h,c){let d=Hn+o,p=d+a,v=CT(d,p),g=typeof h=="function"?h():h;return v[Lt]={type:e,blueprint:v,template:n,queries:null,viewQuery:r,declTNode:t,data:v.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof i=="function"?i():i,firstChild:null,schemas:l,consts:g,incompleteFirstPass:!1,ssrId:c}}function CT(e,t){let n=[];for(let o=0;o<t;o++)n.push(o<e?null:e1);return n}function BT(e,t,n,o){let s=o.get(HE,F8)||n===to.ShadowDom,i=e.selectRootElement(t,s);return ST(i),i}function ST(e){DT(e)}var DT=()=>null;function HT(e,t,n,o){let a=km(t);a.push(n),e.firstCreatePass&&zm(e).push(o,a.length-1)}function ET(e,t,n,o,a,s){let i=t?t.injectorIndex:-1,r=0;return d8()&&(r|=128),{type:n,index:o,insertBeforeIndex:null,injectorIndex:i,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:r,providerIndexes:0,value:a,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function l9(e,t,n,o,a){for(let s in t){if(!t.hasOwnProperty(s))continue;let i=t[s];if(i===void 0)continue;o??={};let r,l=r0.None;Array.isArray(i)?(r=i[0],l=i[1]):r=i;let h=s;if(a!==null){if(!a.hasOwnProperty(s))continue;h=a[s]}e===0?h9(o,n,h,r,l):h9(o,n,h,r)}return o}function h9(e,t,n,o,a){let s;e.hasOwnProperty(n)?(s=e[n]).push(t,o):s=e[n]=[t,o],a!==void 0&&s.push(a)}function TT(e,t,n){let o=t.directiveStart,a=t.directiveEnd,s=e.data,i=t.attrs,r=[],l=null,h=null;for(let c=o;c<a;c++){let d=s[c],p=n?n.get(d):null,v=p?p.inputs:null,g=p?p.outputs:null;l=l9(0,d.inputs,c,l,v),h=l9(1,d.outputs,c,h,g);let u=l!==null&&i!==null&&!Ug(t)?YT(l,c,i):null;r.push(u)}l!==null&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=r,t.inputs=l,t.outputs=h}function _T(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function y5(e,t,n,o,a,s,i,r){let l=Jn(t,n),h=t.inputs,c;!r&&h!=null&&(c=h[o])?(k5(e,n,c,o,a),Ec(t)&&AT(n,t.index)):t.type&3?(o=_T(o),a=i!=null?i(a,t.value||"",o):a,s.setProperty(l,o,a)):t.type&12}function AT(e,t){let n=$a(t,e);n[Ct]&16||(n[Ct]|=64)}function I5(e,t,n,o){if(c8()){let a=o===null?null:{"":-1},s=PT(e,n),i,r;s===null?i=r=null:[i,r]=s,i!==null&&mm(e,t,n,i,a,r),a&&FT(n,o,a)}n.mergedAttrs=Yr(n.mergedAttrs,n.attrs)}function mm(e,t,n,o,a,s){for(let h=0;h<o.length;h++)qv(vc(n,t),e,o[h].type);jT(n,e.data.length,o.length);for(let h=0;h<o.length;h++){let c=o[h];c.providersResolver&&c.providersResolver(c)}let i=!1,r=!1,l=wm(e,t,o.length,null);for(let h=0;h<o.length;h++){let c=o[h];n.mergedAttrs=Yr(n.mergedAttrs,c.hostAttrs),UT(e,n,t,l,c),VT(l,c,a),c.contentQueries!==null&&(n.flags|=4),(c.hostBindings!==null||c.hostAttrs!==null||c.hostVars!==0)&&(n.flags|=64);let d=c.type.prototype;!i&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),i=!0),!r&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),r=!0),l++}TT(e,n,s)}function RT(e,t,n,o,a){let s=a.hostBindings;if(s){let i=e.hostBindingOpCodes;i===null&&(i=e.hostBindingOpCodes=[]);let r=~t.index;LT(i)!=r&&i.push(r),i.push(n,o,s)}}function LT(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function OT(e,t,n,o){let a=n.directiveStart,s=n.directiveEnd;Ec(n)&&GT(t,n,e.data[a+n.componentOffset]),e.firstCreatePass||vc(n,t),Ua(o,t);let i=n.initialInputs;for(let r=a;r<s;r++){let l=e.data[r],h=e2(t,e,r,n);if(Ua(h,t),i!==null&&qT(t,r-a,h,l,n,i),Xo(l)){let c=$a(n.index,t);c[H1]=e2(t,e,r,n)}}}function xm(e,t,n){let o=n.directiveStart,a=n.directiveEnd,s=n.index,i=JH();try{Js(s);for(let r=o;r<a;r++){let l=e.data[r],h=t[r];Wv(r),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&NT(l,h)}}finally{Js(-1),Wv(i)}}function NT(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function PT(e,t){let n=e.directiveRegistry,o=null,a=null;if(n)for(let s=0;s<n.length;s++){let i=n[s];if(j9(t,i.selectors,!1))if(o||(o=[]),Xo(i))if(i.findHostDirectiveDefs!==null){let r=[];a=a||new Map,i.findHostDirectiveDefs(i,r,a),o.unshift(...r,i);let l=r.length;hg(e,t,l)}else o.unshift(i),hg(e,t,0);else a=a||new Map,i.findHostDirectiveDefs?.(i,o,a),o.push(i)}return o===null?null:[o,a]}function hg(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function FT(e,t,n){if(t){let o=e.localNames=[];for(let a=0;a<t.length;a+=2){let s=n[t[a+1]];if(s==null)throw new $(-301,!1);o.push(t[a],s)}}}function VT(e,t,n){if(n){if(t.exportAs)for(let o=0;o<t.exportAs.length;o++)n[t.exportAs[o]]=e;Xo(t)&&(n[""]=e)}}function jT(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function UT(e,t,n,o,a){e.data[o]=a;let s=a.factory||(a.factory=Zs(a.type,!0)),i=new t2(s,Xo(a),O);e.blueprint[o]=i,n[o]=i,RT(e,t,o,wm(e,n,a.hostVars,e1),a)}function GT(e,t,n){let o=Jn(t,e),a=Mm(n),s=e[E1].rendererFactory,i=16;n.signals?i=4096:n.onPush&&(i=64);let r=Gc(e,Uc(e,a,null,i,o,t,null,s.createRenderer(o,n),null,null,null));e[t.index]=r}function WT(e,t,n,o,a,s){let i=Jn(e,t);$T(t[Fe],i,s,e.value,n,o,a)}function $T(e,t,n,o,a,s,i){if(s==null)e.removeAttribute(t,a,n);else{let r=i==null?Ks(s):i(s,o||"",a);e.setAttribute(t,a,r,n)}}function qT(e,t,n,o,a,s){let i=s[t];if(i!==null)for(let r=0;r<i.length;){let l=i[r++],h=i[r++],c=i[r++],d=i[r++];um(o,n,l,h,c,d)}}function YT(e,t,n){let o=null,a=0;for(;a<n.length;){let s=n[a];if(s===0){a+=4;continue}else if(s===5){a+=2;continue}if(typeof s=="number")break;if(e.hasOwnProperty(s)){o===null&&(o=[]);let i=e[s];for(let r=0;r<i.length;r+=3)if(i[r]===t){o.push(s,i[r+1],i[r+2],n[a+1]);break}}a+=2}return o}function ym(e,t,n,o){return[e,!0,0,t,null,o,null,n,null,null]}function Im(e,t){let n=e.contentQueries;if(n!==null){let o=re(null);try{for(let a=0;a<n.length;a+=2){let s=n[a],i=n[a+1];if(i!==-1){let r=e.data[i];e5(s),r.contentQueries(2,t[i],i)}}}finally{re(o)}}}function Gc(e,t){return e[Qr]?e[qM][D1]=t:e[Qr]=t,e[qM]=t,t}function cg(e,t,n){e5(0);let o=re(null);try{t(e,n)}finally{re(o)}}function km(e){return e[Xr]||(e[Xr]=[])}function zm(e){return e.cleanup||(e.cleanup=[])}function KT(e,t,n){return(e===null||Xo(e))&&(n=LH(n[t.index])),n[Fe]}function bm(e,t){let n=e[gi],o=n?n.get(no,null):null;o&&o.handleError(t)}function k5(e,t,n,o,a){for(let s=0;s<n.length;){let i=n[s++],r=n[s++],l=n[s++],h=t[i],c=e.data[i];um(c,h,o,r,l,a)}}function Cm(e,t,n){let o=s8(t,e);sT(e[Fe],o,n)}function ZT(e,t){let n=$a(t,e),o=n[Lt];XT(o,n);let a=n[so];a!==null&&n[Zr]===null&&(n[Zr]=c5(a,n[gi])),z5(o,n,n[H1])}function XT(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function z5(e,t,n){n5(t);try{let o=e.viewQuery;o!==null&&cg(1,o,n);let a=e.template;a!==null&&fm(e,t,a,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[Zo]?.finishViewCreation(e),e.staticContentQueries&&Im(e,t),e.staticViewQueries&&cg(2,e.viewQuery,n);let s=e.components;s!==null&&QT(t,s)}catch(o){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),o}finally{t[Ct]&=-5,o5()}}function QT(e,t){for(let n=0;n<t.length;n++)ZT(e,t[n])}function JT(e,t,n,o){let a=re(null);try{let s=t.tView,r=e[Ct]&4096?4096:16,l=Uc(e,s,n,r,null,t,null,null,o?.injector??null,o?.embeddedViewInjector??null,o?.dehydratedView??null),h=e[t.index];l[il]=h;let c=e[Zo];return c!==null&&(l[Zo]=c.createEmbeddedView(s)),z5(s,l,n),l}finally{re(a)}}function c9(e,t){return!t||t.firstChild===null||_8(e)}function t_(e,t,n,o=!0){let a=t[Lt];if(cT(a,t,e,n),o){let i=lg(n,e),r=t[Fe],l=u5(r,e[Qs]);l!==null&&lT(a,e[En],r,t,l,i)}let s=t[Zr];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function uc(e,t,n,o,a=!1){for(;n!==null;){let s=t[n.index];s!==null&&o.push(eo(s)),Jo(s)&&e_(s,o);let i=n.type;if(i&8)uc(e,t,n.child,o);else if(i&32){let r=g5(n,t),l;for(;l=r();)o.push(l)}else if(i&16){let r=hm(t,n);if(Array.isArray(r))o.push(...r);else{let l=tl(t[T1]);uc(l[Lt],l,r,o,!0)}}n=a?n.projectionNext:n.next}return o}function e_(e,t){for(let n=Dn;n<e.length;n++){let o=e[n],a=o[Lt].firstChild;a!==null&&uc(o[Lt],o,a,t)}e[Qs]!==e[so]&&t.push(e[Qs])}var Bm=[];function n_(e){return e[Xs]??o_(e)}function o_(e){let t=Bm.pop()??Object.create(s_);return t.lView=e,t}function a_(e){e.lView[Xs]!==e&&(e.lView=null,Bm.push(e))}var s_=V(S({},tv),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Jr(e.lView)},consumerOnSignalRead(){this.lView[Xs]=this}}),Sm=100;function Dm(e,t=!0,n=0){let o=e[E1],a=o.rendererFactory,s=!1;s||a.begin?.();try{i_(e,n)}catch(i){throw t&&bm(e,i),i}finally{s||(a.end?.(),o.inlineEffectRunner?.flush())}}function i_(e,t){dg(e,t);let n=0;for(;Xg(e);){if(n===Sm)throw new $(103,!1);n++,dg(e,1)}}function r_(e,t,n,o){let a=t[Ct];if((a&256)===256)return;let s=!1;!s&&t[E1].inlineEffectRunner?.flush(),n5(t);let i=null,r=null;!s&&l_(e)&&(r=n_(t),i=oM(r));try{l8(t),ZH(e.bindingStartIndex),n!==null&&fm(e,t,n,2,o);let l=(a&3)===3;if(!s)if(l){let d=e.preOrderCheckHooks;d!==null&&tc(t,d,null)}else{let d=e.preOrderHooks;d!==null&&ec(t,d,0,null),Iv(t,0)}if(h_(t),Hm(t,0),e.contentQueries!==null&&Im(e,t),!s)if(l){let d=e.contentCheckHooks;d!==null&&tc(t,d)}else{let d=e.contentHooks;d!==null&&ec(t,d,1),Iv(t,1)}zT(e,t);let h=e.components;h!==null&&Tm(t,h,0);let c=e.viewQuery;if(c!==null&&cg(2,c,o),!s)if(l){let d=e.viewCheckHooks;d!==null&&tc(t,d)}else{let d=e.viewHooks;d!==null&&ec(t,d,2),Iv(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[yv]){for(let d of t[yv])d();t[yv]=null}s||(t[Ct]&=-73)}catch(l){throw Jr(t),l}finally{r!==null&&(aM(r,i),a_(r)),o5()}}function l_(e){return e.type!==2}function Hm(e,t){for(let n=R8(e);n!==null;n=L8(n))for(let o=Dn;o<n.length;o++){let a=n[o];Em(a,t)}}function h_(e){for(let t=R8(e);t!==null;t=L8(t)){if(!(t[Ct]&Yg.HasTransplantedViews))continue;let n=t[ui];for(let o=0;o<n.length;o++){let a=n[o],s=a[B0];PH(a)}}}function c_(e,t,n){let o=$a(t,e);Em(o,n)}function Em(e,t){Zg(e)&&dg(e,t)}function dg(e,t){let o=e[Lt],a=e[Ct],s=e[Xs],i=!!(t===0&&a&16);if(i||=!!(a&64&&t===0),i||=!!(a&1024),i||=!!(s?.dirty&&ev(s)),s&&(s.dirty=!1),e[Ct]&=-9217,i)r_(o,e,o.template,e[H1]);else if(a&8192){Hm(e,1);let r=o.components;r!==null&&Tm(e,r,1)}}function Tm(e,t,n){for(let o=0;o<t.length;o++)c_(e,t[o],n)}function b5(e){for(e[E1].changeDetectionScheduler?.notify();e;){e[Ct]|=64;let t=tl(e);if(SH(e)&&!t)return e;e=t}return null}var n2=class{get rootNodes(){let t=this._lView,n=t[Lt];return uc(n,t,n.firstChild,[])}constructor(t,n,o=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[H1]}set context(t){this._lView[H1]=t}get destroyed(){return(this._lView[Ct]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[B0];if(Jo(t)){let n=t[hc],o=n?n.indexOf(this):-1;o>-1&&(rg(t,o),rc(n,o))}this._attachedToViewContainer=!1}sm(this._lView[Lt],this._lView)}onDestroy(t){h8(this._lView,t)}markForCheck(){b5(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ct]&=-129}reattach(){Gv(this._lView),this._lView[Ct]|=128}detectChanges(){this._lView[Ct]|=1024,Dm(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new $(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,om(this._lView[Lt],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new $(902,!1);this._appRef=t,Gv(this._lView)}},S0=(()=>{let t=class t{};t.__NG_ELEMENT_ID__=v_;let e=t;return e})(),d_=S0,p_=class extends d_{constructor(t,n,o){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,o){let a=JT(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:o});return new n2(a)}};function v_(){return C5(O0(),Nt())}function C5(e,t){return e.type&4?new p_(t,e,yi(e,t)):null}var s0t=new RegExp(`^(\\d+)*(${SE}|${BE})*(.*)`);var g_=()=>null;function d9(e,t){return g_(e,t)}var fi=class{},pg=class{},wc=class{};function u_(e){let t=Error(`No component factory found for ${q0(e)}.`);return t[w_]=e,t}var w_="ngComponent";var vg=class{resolveComponentFactory(t){throw u_(t)}},ki=(()=>{let t=class t{};t.NULL=new vg;let e=t;return e})(),o2=class{},N0=(()=>{let t=class t{constructor(){this.destroyNode=null}};t.__NG_ELEMENT_ID__=()=>f_();let e=t;return e})();function f_(){let e=Nt(),t=O0(),n=$a(t.index,e);return(qs(n)?n:e)[Fe]}var M_=(()=>{let t=class t{};t.\u0275prov=J({token:t,providedIn:"root",factory:()=>null});let e=t;return e})(),Bv={};var p9=new Set;function zi(e){p9.has(e)||(p9.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function v9(...e){}function m_(){let e=typeof t0.requestAnimationFrame=="function",t=t0[e?"requestAnimationFrame":"setTimeout"],n=t0[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&n){let o=t[Zone.__symbol__("OriginalDelegate")];o&&(t=o);let a=n[Zone.__symbol__("OriginalDelegate")];a&&(n=a)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}var Yt=class e{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:o=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new fe(!1),this.onMicrotaskEmpty=new fe(!1),this.onStable=new fe(!1),this.onError=new fe(!1),typeof Zone>"u")throw new $(908,!1);Zone.assertZonePatched();let a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!o&&n,a.shouldCoalesceRunChangeDetection=o,a.lastRequestAnimationFrameId=-1,a.nativeRequestAnimationFrame=m_().nativeRequestAnimationFrame,I_(a)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new $(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new $(909,!1)}run(t,n,o){return this._inner.run(t,n,o)}runTask(t,n,o,a){let s=this._inner,i=s.scheduleEventTask("NgZoneEvent: "+a,t,x_,v9,v9);try{return s.runTask(i,n,o)}finally{s.cancelTask(i)}}runGuarded(t,n,o){return this._inner.runGuarded(t,n,o)}runOutsideAngular(t){return this._outer.run(t)}},x_={};function B5(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function y_(e){e.isCheckStableRunning||e.lastRequestAnimationFrameId!==-1||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(t0,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,gg(e),e.isCheckStableRunning=!0,B5(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),gg(e))}function I_(e){let t=()=>{y_(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,o,a,s,i,r)=>{if(k_(r))return n.invokeTask(a,s,i,r);try{return g9(e),n.invokeTask(a,s,i,r)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),u9(e)}},onInvoke:(n,o,a,s,i,r,l)=>{try{return g9(e),n.invoke(a,s,i,r,l)}finally{e.shouldCoalesceRunChangeDetection&&t(),u9(e)}},onHasTask:(n,o,a,s)=>{n.hasTask(a,s),o===a&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,gg(e),B5(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,o,a,s)=>(n.handleError(a,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function gg(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.lastRequestAnimationFrameId!==-1?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function g9(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function u9(e){e._nesting--,B5(e)}function k_(e){return!Array.isArray(e)||e.length!==1?!1:e[0].data?.__ignore_ng_zone__===!0}var li=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(li||{}),z_={destroy(){}};function S5(e,t){!t&&CH(S5);let n=t?.injector??K(_n);if(!nT(n))return z_;zi("NgAfterNextRender");let o=n.get(D5),a=o.handler??=new wg,s=t?.phase??li.MixedReadWrite,i=()=>{a.unregister(l),r()},r=n.get(i5).onDestroy(i),l=_1(n,()=>new ug(s,()=>{i(),e()}));return a.register(l),{destroy:i}}var ug=class{constructor(t,n){this.phase=t,this.callbackFn=n,this.zone=K(Yt),this.errorHandler=K(no,{optional:!0}),K(fi,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(t){this.errorHandler?.handleError(t)}}},wg=class{constructor(){this.executingCallbacks=!1,this.buckets={[li.EarlyRead]:new Set,[li.Write]:new Set,[li.MixedReadWrite]:new Set,[li.Read]:new Set},this.deferredCallbacks=new Set}register(t){(this.executingCallbacks?this.deferredCallbacks:this.buckets[t.phase]).add(t)}unregister(t){this.buckets[t.phase].delete(t),this.deferredCallbacks.delete(t)}execute(){this.executingCallbacks=!0;for(let t of Object.values(this.buckets))for(let n of t)n.invoke();this.executingCallbacks=!1;for(let t of this.deferredCallbacks)this.buckets[t.phase].add(t);this.deferredCallbacks.clear()}destroy(){for(let t of Object.values(this.buckets))t.clear();this.deferredCallbacks.clear()}},D5=(()=>{let t=class t{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let o=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let a of o)a()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};t.\u0275prov=J({token:t,providedIn:"root",factory:()=>new t});let e=t;return e})();function fc(e,t,n){let o=n?e.styles:null,a=n?e.classes:null,s=0;if(t!==null)for(let i=0;i<t.length;i++){let r=t[i];if(typeof r=="number")s=r;else if(s==1)a=Rv(a,r);else if(s==2){let l=r,h=t[++i];o=Rv(o,l+": "+h+";")}}n?e.styles=o:e.stylesWithoutHost=o,n?e.classes=a:e.classesWithoutHost=a}var Mc=class extends ki{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=ja(t);return new Mi(n,this.ngModule)}};function w9(e){let t=[];for(let n in e){if(!e.hasOwnProperty(n))continue;let o=e[n];o!==void 0&&t.push({propName:Array.isArray(o)?o[0]:o,templateName:n})}return t}function b_(e){let t=e.toLowerCase();return t==="svg"?TH:t==="math"?_H:null}var fg=class{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,o){o=Cc(o);let a=this.injector.get(t,Bv,o);return a!==Bv||n===Bv?a:this.parentInjector.get(t,n,o)}},Mi=class extends wc{get inputs(){let t=this.componentDef,n=t.inputTransforms,o=w9(t.inputs);if(n!==null)for(let a of o)n.hasOwnProperty(a.propName)&&(a.transform=n[a.propName]);return o}get outputs(){return w9(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=dH(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,o,a){let s=re(null);try{a=a||this.ngModule;let i=a instanceof Y0?a:a?.injector;i&&this.componentDef.getStandaloneInjector!==null&&(i=this.componentDef.getStandaloneInjector(i)||i);let r=i?new fg(t,i):t,l=r.get(o2,null);if(l===null)throw new $(407,!1);let h=r.get(M_,null),c=r.get(D5,null),d=r.get(fi,null),p={rendererFactory:l,sanitizer:h,inlineEffectRunner:null,afterRenderEventManager:c,changeDetectionScheduler:d},v=l.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",u=o?BT(v,o,this.componentDef.encapsulation,r):nm(v,g,b_(g)),f=512;this.componentDef.signals?f|=4096:this.componentDef.onPush||(f|=16);let M=null;u!==null&&(M=c5(u,r,!0));let m=x5(0,null,null,1,0,null,null,null,null,null,null),k=Uc(null,m,null,f,null,null,p,v,r,null,M);n5(k);let B,z;try{let I=this.componentDef,y,b=null;I.findHostDirectiveDefs?(y=[],b=new Map,I.findHostDirectiveDefs(I,y,b),y.push(I)):y=[I];let C=C_(k,u),E=B_(C,u,I,y,k,p,v);z=i8(m,Hn),u&&H_(v,I,u,o),n!==void 0&&E_(z,this.ngContentSelectors,n),B=D_(E,I,y,b,k,[T_]),z5(m,k,null)}finally{o5()}return new Mg(this.componentType,B,yi(z,k),k,z)}finally{re(s)}}},Mg=class extends pg{constructor(t,n,o,a,s){super(),this.location=o,this._rootLView=a,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new n2(a,void 0,!1),this.componentType=t}setInput(t,n){let o=this._tNode.inputs,a;if(o!==null&&(a=o[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let s=this._rootLView;k5(s[Lt],s,a,t,n),this.previousInputValues.set(t,n);let i=$a(this._tNode.index,s);b5(i)}}get injector(){return new Ys(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function C_(e,t){let n=e[Lt],o=Hn;return e[o]=t,Ii(n,o,2,"#host",null)}function B_(e,t,n,o,a,s,i){let r=a[Lt];S_(o,e,t,i);let l=null;t!==null&&(l=c5(t,a[gi]));let h=s.rendererFactory.createRenderer(t,n),c=16;n.signals?c=4096:n.onPush&&(c=64);let d=Uc(a,Mm(n),null,c,a[e.index],e,s,h,null,null,l);return r.firstCreatePass&&hg(r,e,o.length-1),Gc(a,d),a[e.index]=d}function S_(e,t,n,o){for(let a of e)t.mergedAttrs=Yr(t.mergedAttrs,a.hostAttrs);t.mergedAttrs!==null&&(fc(t,t.mergedAttrs,!0),n!==null&&pm(o,n,t))}function D_(e,t,n,o,a,s){let i=O0(),r=a[Lt],l=Jn(i,a);mm(r,a,i,n,null,o);for(let c=0;c<n.length;c++){let d=i.directiveStart+c,p=e2(a,r,d,i);Ua(p,a)}xm(r,a,i),l&&Ua(l,a);let h=e2(a,r,i.directiveStart+i.componentOffset,i);if(e[H1]=a[H1]=h,s!==null)for(let c of s)c(h,t);return f5(r,i,a),h}function H_(e,t,n,o){if(o)Pv(e,n,["ng-version","17.3.2"]);else{let{attrs:a,classes:s}=pH(t.selectors[0]);a&&Pv(e,n,a),s&&s.length>0&&dm(e,n,s.join(" "))}}function E_(e,t,n){let o=e.projection=[];for(let a=0;a<t.length;a++){let s=n[a];o.push(s!=null?Array.from(s):null)}}function T_(){let e=O0();Oc(Nt()[Lt],e)}var w0=(()=>{let t=class t{};t.__NG_ELEMENT_ID__=__;let e=t;return e})();function __(){let e=O0();return Am(e,Nt())}var A_=w0,_m=class extends A_{constructor(t,n,o){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=o}get element(){return yi(this._hostTNode,this._hostLView)}get injector(){return new Ys(this._hostTNode,this._hostLView)}get parentInjector(){let t=a5(this._hostTNode,this._hostLView);if(I8(t)){let n=dc(t,this._hostLView),o=cc(t),a=n[Lt].data[o+8];return new Ys(a,n)}else return new Ys(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=f9(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-Dn}createEmbeddedView(t,n,o){let a,s;typeof o=="number"?a=o:o!=null&&(a=o.index,s=o.injector);let i=d9(this._lContainer,t.ssrId),r=t.createEmbeddedViewImpl(n||{},s,i);return this.insertImpl(r,a,c9(this._hostTNode,i)),r}createComponent(t,n,o,a,s){let i=t&&!BH(t),r;if(i)r=n;else{let g=n||{};r=g.index,o=g.injector,a=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}let l=i?t:new Mi(ja(t)),h=o||this.parentInjector;if(!s&&l.ngModule==null){let u=(i?h:this.parentInjector).get(Y0,null);u&&(s=u)}let c=ja(l.componentType??{}),d=d9(this._lContainer,c?.id??null),p=d?.firstChild??null,v=l.create(h,a,p,s);return this.insertImpl(v.hostView,r,c9(this._hostTNode,d)),v}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,o){let a=t._lView;if(NH(a)){let r=this.indexOf(t);if(r!==-1)this.detach(r);else{let l=a[B0],h=new _m(l,l[En],l[B0]);h.detach(h.indexOf(t))}}let s=this._adjustIndex(n),i=this._lContainer;return t_(i,a,s,o),t.attachToViewContainerRef(),L9(Sv(i),s,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=f9(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),o=rg(this._lContainer,n);o&&(rc(Sv(this._lContainer),n),sm(o[Lt],o))}detach(t){let n=this._adjustIndex(t,-1),o=rg(this._lContainer,n);return o&&rc(Sv(this._lContainer),n)!=null?new n2(o):null}_adjustIndex(t,n=0){return t??this.length+n}};function f9(e){return e[hc]}function Sv(e){return e[hc]||(e[hc]=[])}function Am(e,t){let n,o=t[e.index];return Jo(o)?n=o:(n=ym(o,t,null,e),t[e.index]=n,Gc(t,n)),L_(n,t,e,o),new _m(n,e,t)}function R_(e,t){let n=e[Fe],o=n.createComment(""),a=Jn(t,e),s=u5(n,a);return gc(n,s,o,wT(n,a),!1),o}var L_=P_,O_=()=>!1;function N_(e,t,n){return O_(e,t,n)}function P_(e,t,n,o){if(e[Qs])return;let a;n.type&8?a=eo(o):a=R_(t,n),e[Qs]=a}var mg=class e{constructor(t){this.queryList=t,this.matches=null}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},xg=class e{constructor(t=[]){this.queries=t}createEmbeddedView(t){let n=t.queries;if(n!==null){let o=t.contentQueries!==null?t.contentQueries[0]:n.length,a=[];for(let s=0;s<o;s++){let i=n.getByIndex(s),r=this.queries[i.indexInDeclarationView];a.push(r.clone())}return new e(a)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)H5(t,n).matches!==null&&this.queries[n].setDirty()}},mc=class{constructor(t,n,o=null){this.flags=n,this.read=o,typeof t=="string"?this.predicate=q_(t):this.predicate=t}},yg=class e{constructor(t=[]){this.queries=t}elementStart(t,n){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let o=0;o<this.length;o++){let a=n!==null?n.length:0,s=this.getByIndex(o).embeddedTView(t,a);s&&(s.indexInDeclarationView=o,n!==null?n.push(s):n=[s])}return n!==null?new e(n):null}template(t,n){for(let o=0;o<this.queries.length;o++)this.queries[o].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},Ig=class e{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,o=t.parent;for(;o!==null&&o.type&8&&o.index!==n;)o=o.parent;return n===(o!==null?o.index:-1)}return this._appliesToNextNode}matchTNode(t,n){let o=this.metadata.predicate;if(Array.isArray(o))for(let a=0;a<o.length;a++){let s=o[a];this.matchTNodeWithReadOption(t,n,F_(n,s)),this.matchTNodeWithReadOption(t,n,nc(n,t,s,!1,!1))}else o===S0?n.type&4&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,nc(n,t,o,!1,!1))}matchTNodeWithReadOption(t,n,o){if(o!==null){let a=this.metadata.read;if(a!==null)if(a===_e||a===w0||a===S0&&n.type&4)this.addMatch(n.index,-2);else{let s=nc(n,t,a,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,o)}}addMatch(t,n){this.matches===null?this.matches=[t,n]:this.matches.push(t,n)}};function F_(e,t){let n=e.localNames;if(n!==null){for(let o=0;o<n.length;o+=2)if(n[o]===t)return n[o+1]}return null}function V_(e,t){return e.type&11?yi(e,t):e.type&4?C5(e,t):null}function j_(e,t,n,o){return n===-1?V_(t,e):n===-2?U_(e,t,o):e2(e,e[Lt],n,t)}function U_(e,t,n){if(n===_e)return yi(t,e);if(n===S0)return C5(t,e);if(n===w0)return Am(t,e)}function Rm(e,t,n,o){let a=t[Zo].queries[o];if(a.matches===null){let s=e.data,i=n.matches,r=[];for(let l=0;i!==null&&l<i.length;l+=2){let h=i[l];if(h<0)r.push(null);else{let c=s[h];r.push(j_(t,c,i[l+1],n.metadata.read))}}a.matches=r}return a.matches}function kg(e,t,n,o){let a=e.queries.getByIndex(n),s=a.matches;if(s!==null){let i=Rm(e,t,a,n);for(let r=0;r<s.length;r+=2){let l=s[r];if(l>0)o.push(i[r/2]);else{let h=s[r+1],c=t[-l];for(let d=Dn;d<c.length;d++){let p=c[d];p[il]===p[B0]&&kg(p[Lt],p,h,o)}if(c[ui]!==null){let d=c[ui];for(let p=0;p<d.length;p++){let v=d[p];kg(v[Lt],v,h,o)}}}}}return o}function G_(e,t){return e[Zo].queries[t].queryList}function Lm(e,t,n){let o=new Xv((n&4)===4);return HT(e,t,o,o.destroy),(t[Zo]??=new xg).queries.push(new mg(o))-1}function W_(e,t,n){let o=je();return o.firstCreatePass&&(Om(o,new mc(e,t,n),-1),(t&2)===2&&(o.staticViewQueries=!0)),Lm(o,Nt(),t)}function $_(e,t,n,o){let a=je();if(a.firstCreatePass){let s=O0();Om(a,new mc(t,n,o),s.index),Y_(a,e),(n&2)===2&&(a.staticContentQueries=!0)}return Lm(a,Nt(),n)}function q_(e){return e.split(",").map(t=>t.trim())}function Om(e,t,n){e.queries===null&&(e.queries=new yg),e.queries.track(new Ig(t,n))}function Y_(e,t){let n=e.contentQueries||(e.contentQueries=[]),o=n.length?n[n.length-1]:-1;t!==o&&n.push(e.queries.length-1,t)}function H5(e,t){return e.queries.getByIndex(t)}function K_(e,t){let n=e[Lt],o=H5(n,t);return o.crossesNgTemplate?kg(n,e,t,[]):Rm(n,e,o,t)}function Z_(e){return typeof e=="function"&&e[js]!==void 0}function hl(e,t){zi("NgSignals");let n=dM(e),o=n[js];return t?.equal&&(o.equal=t.equal),n.set=a=>nv(o,a),n.update=a=>pM(o,a),n.asReadonly=X_.bind(n),n}function X_(){let e=this[js];if(e.readonlyFn===void 0){let t=()=>this();t[js]=e,e.readonlyFn=t}return e.readonlyFn}function Nm(e){return Z_(e)&&typeof e.set=="function"}function Q_(e){return Object.getPrototypeOf(e.prototype).constructor}function f0(e){let t=Q_(e.type),n=!0,o=[e];for(;t;){let a;if(Xo(e))a=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new $(903,!1);a=t.\u0275dir}if(a){if(n){o.push(a);let i=e;i.inputs=X4(e.inputs),i.inputTransforms=X4(e.inputTransforms),i.declaredInputs=X4(e.declaredInputs),i.outputs=X4(e.outputs);let r=a.hostBindings;r&&oA(e,r);let l=a.viewQuery,h=a.contentQueries;if(l&&eA(e,l),h&&nA(e,h),J_(e,a),HD(e.outputs,a.outputs),Xo(a)&&a.data.animation){let c=e.data;c.animation=(c.animation||[]).concat(a.data.animation)}}let s=a.features;if(s)for(let i=0;i<s.length;i++){let r=s[i];r&&r.ngInherit&&r(e),r===f0&&(n=!1)}}t=Object.getPrototypeOf(t)}tA(o)}function J_(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let o=t.inputs[n];if(o!==void 0&&(e.inputs[n]=o,e.declaredInputs[n]=t.declaredInputs[n],t.inputTransforms!==null)){let a=Array.isArray(o)?o[0]:o;if(!t.inputTransforms.hasOwnProperty(a))continue;e.inputTransforms??={},e.inputTransforms[a]=t.inputTransforms[a]}}}function tA(e){let t=0,n=null;for(let o=e.length-1;o>=0;o--){let a=e[o];a.hostVars=t+=a.hostVars,a.hostAttrs=Yr(a.hostAttrs,n=Yr(n,a.hostAttrs))}}function X4(e){return e===di?{}:e===pn?[]:e}function eA(e,t){let n=e.viewQuery;n?e.viewQuery=(o,a)=>{t(o,a),n(o,a)}:e.viewQuery=t}function nA(e,t){let n=e.contentQueries;n?e.contentQueries=(o,a,s)=>{t(o,a,s),n(o,a,s)}:e.contentQueries=t}function oA(e,t){let n=e.hostBindings;n?e.hostBindings=(o,a)=>{t(o,a),n(o,a)}:e.hostBindings=t}function E5(e){let t=e.inputConfig,n={};for(let o in t)if(t.hasOwnProperty(o)){let a=t[o];Array.isArray(a)&&a[3]&&(n[o]=a[3])}e.inputTransforms=n}var Ga=class{},el=class{};var zg=class extends Ga{constructor(t,n,o){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Mc(this);let a=$9(t);this._bootstrapComponents=em(a.bootstrap),this._r3Injector=E8(t,n,[{provide:Ga,useValue:this},{provide:ki,useValue:this.componentFactoryResolver},...o],q0(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},bg=class extends el{constructor(t){super(),this.moduleType=t}create(t){return new zg(this.moduleType,t,[])}};var xc=class extends Ga{constructor(t){super(),this.componentFactoryResolver=new Mc(this),this.instance=null;let n=new Kr([...t.providers,{provide:Ga,useValue:this},{provide:ki,useValue:this.componentFactoryResolver}],t.parent||$g(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function Wc(e,t,n=null){return new xc({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var i2=(()=>{let t=class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ce(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let o=this.taskId++;return this.pendingTasks.add(o),o}remove(o){this.pendingTasks.delete(o),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};t.\u0275fac=function(a){return new(a||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Pm(e){return T5(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function aA(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{let n=e[Symbol.iterator](),o;for(;!(o=n.next()).done;)t(o.value)}}function T5(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function _5(e,t,n){return e[t]=n}function sA(e,t){return e[t]}function ao(e,t,n){let o=e[t];return Object.is(o,n)?!1:(e[t]=n,!0)}function Fm(e,t,n,o){let a=ao(e,t,n);return ao(e,t+1,o)||a}function iA(e){return(e.flags&32)===32}function rA(e,t,n,o,a,s,i,r,l){let h=t.consts,c=Ii(t,e,4,i||null,wi(h,r));I5(t,n,c,wi(h,l)),Oc(t,c);let d=c.tView=x5(2,c,o,a,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,h,null);return t.queries!==null&&(t.queries.template(t,c),d.queries=t.queries.embeddedTView(c)),c}function gt(e,t,n,o,a,s,i,r){let l=Nt(),h=je(),c=e+Hn,d=h.firstCreatePass?rA(c,h,l,t,n,o,a,s,i):h.data[c];s2(d,!1);let p=lA(h,l,d,e);Rc()&&Vc(h,l,p,d),Ua(p,l);let v=ym(p,l,p,d);return l[c]=v,Gc(l,v),N_(v,d,l),Tc(d)&&M5(h,l,d),i!=null&&m5(l,d,r),gt}var lA=hA;function hA(e,t,n,o){return Lc(!0),t[Fe].createComment("")}function gn(e,t,n,o){let a=Nt(),s=rl();if(ao(a,s,t)){let i=je(),r=Ac();WT(r,a,e,t,n,o)}return gn}function cA(e,t,n,o){return ao(e,rl(),n)?t+Ks(n)+o:e1}function dA(e,t,n,o,a,s){let i=KH(),r=Fm(e,i,n,a);return t5(2),r?t+Ks(n)+o+Ks(a)+s:e1}function Q4(e,t){return e<<17|t<<2}function a2(e){return e>>17&32767}function pA(e){return(e&2)==2}function vA(e,t){return e&131071|t<<17}function Cg(e){return e|2}function mi(e){return(e&131068)>>2}function Dv(e,t){return e&-131069|t<<2}function gA(e){return(e&1)===1}function Bg(e){return e|1}function uA(e,t,n,o,a,s){let i=s?t.classBindings:t.styleBindings,r=a2(i),l=mi(i);e[o]=n;let h=!1,c;if(Array.isArray(n)){let d=n;c=d[1],(c===null||sl(d,c)>0)&&(h=!0)}else c=n;if(a)if(l!==0){let p=a2(e[r+1]);e[o+1]=Q4(p,r),p!==0&&(e[p+1]=Dv(e[p+1],o)),e[r+1]=vA(e[r+1],o)}else e[o+1]=Q4(r,0),r!==0&&(e[r+1]=Dv(e[r+1],o)),r=o;else e[o+1]=Q4(l,0),r===0?r=o:e[l+1]=Dv(e[l+1],o),l=o;h&&(e[o+1]=Cg(e[o+1])),M9(e,c,o,!0),M9(e,c,o,!1),wA(t,c,e,o,s),i=Q4(r,l),s?t.classBindings=i:t.styleBindings=i}function wA(e,t,n,o,a){let s=a?e.residualClasses:e.residualStyles;s!=null&&typeof t=="string"&&sl(s,t)>=0&&(n[o+1]=Bg(n[o+1]))}function M9(e,t,n,o){let a=e[n+1],s=t===null,i=o?a2(a):mi(a),r=!1;for(;i!==0&&(r===!1||s);){let l=e[i],h=e[i+1];fA(l,t)&&(r=!0,e[i+1]=o?Bg(h):Cg(h)),i=o?a2(h):mi(h)}r&&(e[n+1]=o?Cg(a):Bg(a))}function fA(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?sl(e,t)>=0:!1}var S1={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function MA(e){return e.substring(S1.key,S1.keyEnd)}function mA(e){return xA(e),Vm(e,jm(e,0,S1.textEnd))}function Vm(e,t){let n=S1.textEnd;return n===t?-1:(t=S1.keyEnd=yA(e,S1.key=t,n),jm(e,t,n))}function xA(e){S1.key=0,S1.keyEnd=0,S1.value=0,S1.valueEnd=0,S1.textEnd=e.length}function jm(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function yA(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}function A(e,t,n){let o=Nt(),a=rl();if(ao(o,a,t)){let s=je(),i=Ac();y5(s,i,o,e,t,o[Fe],n,!1)}return A}function Sg(e,t,n,o,a){let s=t.inputs,i=a?"class":"style";k5(e,n,s[i],i,o)}function r2(e,t,n){return Um(e,t,n,!1),r2}function $c(e,t){return Um(e,t,null,!0),$c}function na(e){kA(DA,IA,e,!0)}function IA(e,t){for(let n=mA(t);n>=0;n=Vm(t,n))jg(e,MA(t),!0)}function Um(e,t,n,o){let a=Nt(),s=je(),i=t5(2);if(s.firstUpdatePass&&Wm(s,e,i,o),t!==e1&&ao(a,i,t)){let r=s.data[qa()];$m(s,r,a,a[Fe],e,a[i+1]=EA(t,n),o,i)}}function kA(e,t,n,o){let a=je(),s=t5(2);a.firstUpdatePass&&Wm(a,null,s,o);let i=Nt();if(n!==e1&&ao(i,s,n)){let r=a.data[qa()];if(qm(r,o)&&!Gm(a,s)){let l=o?r.classesWithoutHost:r.stylesWithoutHost;l!==null&&(n=Rv(l,n||"")),Sg(a,r,i,n,o)}else HA(a,r,i,i[Fe],i[s+1],i[s+1]=SA(e,t,n),o,s)}}function Gm(e,t){return t>=e.expandoStartIndex}function Wm(e,t,n,o){let a=e.data;if(a[n+1]===null){let s=a[qa()],i=Gm(e,n);qm(s,o)&&t===null&&!i&&(t=!1),t=zA(a,s,t,o),uA(a,s,t,n,i,o)}}function zA(e,t,n,o){let a=v8(e),s=o?t.residualClasses:t.residualStyles;if(a===null)(o?t.classBindings:t.styleBindings)===0&&(n=Hv(null,e,t,n,o),n=nl(n,t.attrs,o),s=null);else{let i=t.directiveStylingLast;if(i===-1||e[i]!==a)if(n=Hv(a,e,t,n,o),s===null){let l=bA(e,t,o);l!==void 0&&Array.isArray(l)&&(l=Hv(null,e,t,l[1],o),l=nl(l,t.attrs,o),CA(e,t,o,l))}else s=BA(e,t,o)}return s!==void 0&&(o?t.residualClasses=s:t.residualStyles=s),n}function bA(e,t,n){let o=n?t.classBindings:t.styleBindings;if(mi(o)!==0)return e[a2(o)]}function CA(e,t,n,o){let a=n?t.classBindings:t.styleBindings;e[a2(a)]=o}function BA(e,t,n){let o,a=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<a;s++){let i=e[s].hostAttrs;o=nl(o,i,n)}return nl(o,t.attrs,n)}function Hv(e,t,n,o,a){let s=null,i=n.directiveEnd,r=n.directiveStylingLast;for(r===-1?r=n.directiveStart:r++;r<i&&(s=t[r],o=nl(o,s.hostAttrs,a),s!==e);)r++;return e!==null&&(n.directiveStylingLast=r),o}function nl(e,t,n){let o=n?1:2,a=-1;if(t!==null)for(let s=0;s<t.length;s++){let i=t[s];typeof i=="number"?a=i:a===o&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),jg(e,i,n?!0:t[++s]))}return e===void 0?null:e}function SA(e,t,n){if(n==null||n==="")return pn;let o=[],a=t1(n);if(Array.isArray(a))for(let s=0;s<a.length;s++)e(o,a[s],!0);else if(typeof a=="object")for(let s in a)a.hasOwnProperty(s)&&e(o,s,a[s]);else typeof a=="string"&&t(o,a);return o}function DA(e,t,n){let o=String(t);o!==""&&!o.includes(" ")&&jg(e,o,n)}function HA(e,t,n,o,a,s,i,r){a===e1&&(a=pn);let l=0,h=0,c=0<a.length?a[0]:null,d=0<s.length?s[0]:null;for(;c!==null||d!==null;){let p=l<a.length?a[l+1]:void 0,v=h<s.length?s[h+1]:void 0,g=null,u;c===d?(l+=2,h+=2,p!==v&&(g=d,u=v)):d===null||c!==null&&c<d?(l+=2,g=c):(h+=2,g=d,u=v),g!==null&&$m(e,t,n,o,g,u,i,r),c=l<a.length?a[l]:null,d=h<s.length?s[h]:null}}function $m(e,t,n,o,a,s,i,r){if(!(t.type&3))return;let l=e.data,h=l[r+1],c=gA(h)?m9(l,t,n,a,mi(h),i):void 0;if(!yc(c)){yc(s)||pA(h)&&(s=m9(l,null,n,a,r,i));let d=s8(qa(),n);IT(o,i,d,a,s)}}function m9(e,t,n,o,a,s){let i=t===null,r;for(;a>0;){let l=e[a],h=Array.isArray(l),c=h?l[1]:l,d=c===null,p=n[a+1];p===e1&&(p=d?pn:void 0);let v=d?mv(p,o):c===o?p:void 0;if(h&&!yc(v)&&(v=mv(l,o)),yc(v)&&(r=v,i))return r;let g=e[a+1];a=i?a2(g):mi(g)}if(t!==null){let l=s?t.residualClasses:t.residualStyles;l!=null&&(r=mv(l,o))}return r}function yc(e){return e!==void 0}function EA(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=q0(t1(e)))),e}function qm(e,t){return(e.flags&(t?8:16))!==0}function TA(e,t,n,o,a,s){let i=t.consts,r=wi(i,a),l=Ii(t,e,2,o,r);return I5(t,n,l,wi(i,s)),l.attrs!==null&&fc(l,l.attrs,!1),l.mergedAttrs!==null&&fc(l,l.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,l),l}function D(e,t,n,o){let a=Nt(),s=je(),i=Hn+e,r=a[Fe],l=s.firstCreatePass?TA(i,s,a,t,n,o):s.data[i],h=_A(s,a,l,r,t,e);a[i]=h;let c=Tc(l);return s2(l,!0),pm(r,h,l),!iA(l)&&Rc()&&Vc(s,a,h,l),jH()===0&&Ua(h,a),UH(),c&&(M5(s,a,l),f5(s,l,a)),o!==null&&m5(a,l),D}function H(){let e=O0();Qg()?Jg():(e=e.parent,s2(e,!1));let t=e;WH(t)&&$H(),GH();let n=je();return n.firstCreatePass&&(Oc(n,e),Kg(e)&&n.queries.elementEnd(e)),t.classesWithoutHost!=null&&iE(t)&&Sg(n,t,Nt(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&rE(t)&&Sg(n,t,Nt(),t.stylesWithoutHost,!1),H}function yt(e,t,n,o){return D(e,t,n,o),H(),yt}var _A=(e,t,n,o,a,s)=>(Lc(!0),nm(o,a,nE()));function AA(e,t,n,o,a){let s=t.consts,i=wi(s,o),r=Ii(t,e,8,"ng-container",i);i!==null&&fc(r,i,!0);let l=wi(s,a);return I5(t,n,r,l),t.queries!==null&&t.queries.elementStart(t,r),r}function qc(e,t,n){let o=Nt(),a=je(),s=e+Hn,i=a.firstCreatePass?AA(s,a,o,t,n):a.data[s];s2(i,!0);let r=RA(a,o,i,e);return o[s]=r,Rc()&&Vc(a,o,r,i),Ua(r,o),Tc(i)&&(M5(a,o,i),f5(a,i,o)),n!=null&&m5(o,i),qc}function Yc(){let e=O0(),t=je();return Qg()?Jg():(e=e.parent,s2(e,!1)),t.firstCreatePass&&(Oc(t,e),Kg(e)&&t.queries.elementEnd(e)),Yc}var RA=(e,t,n,o)=>(Lc(!0),iT(t[Fe],""));function oe(){return Nt()}function A5(e,t,n){let o=Nt(),a=rl();if(ao(o,a,t)){let s=je(),i=Ac(),r=v8(s.data),l=KT(r,i,o);y5(s,i,o,e,t,l,n,!0)}return A5}var $s=void 0;function LA(e){let t=e,n=Math.floor(Math.abs(e)),o=e.toString().replace(/^[^.]*\.?/,"").length;return n===1&&o===0?1:5}var OA=["en",[["a","p"],["AM","PM"],$s],[["AM","PM"],$s,$s],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],$s,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],$s,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",$s,"{1} 'at' {0}",$s],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",LA],Ev={};function n1(e){let t=NA(e),n=x9(t);if(n)return n;let o=t.split("-")[0];if(n=x9(o),n)return n;if(o==="en")return OA;throw new $(701,!1)}function x9(e){return e in Ev||(Ev[e]=t0.ng&&t0.ng.common&&t0.ng.common.locales&&t0.ng.common.locales[e]),Ev[e]}var Ke=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(Ke||{});function NA(e){return e.toLowerCase().replace(/_/g,"-")}var Ic="en-US";var PA=Ic;function FA(e){typeof e=="string"&&(PA=e.toLowerCase().replace(/_/g,"-"))}function lt(e,t,n,o){let a=Nt(),s=je(),i=O0();return Ym(s,a,a[Fe],i,e,t,o),lt}function VA(e,t,n,o){let a=e.cleanup;if(a!=null)for(let s=0;s<a.length-1;s+=2){let i=a[s];if(i===n&&a[s+1]===o){let r=t[Xr],l=a[s+2];return r.length>l?r[l]:null}typeof i=="string"&&(s+=2)}return null}function Ym(e,t,n,o,a,s,i){let r=Tc(o),h=e.firstCreatePass&&zm(e),c=t[H1],d=km(t),p=!0;if(o.type&3||i){let u=Jn(o,t),f=i?i(u):u,M=d.length,m=i?B=>i(eo(B[o.index])):o.index,k=null;if(!i&&r&&(k=VA(e,t,a,o.index)),k!==null){let B=k.__ngLastListenerFn__||k;B.__ngNextListenerFn__=s,k.__ngLastListenerFn__=s,p=!1}else{s=I9(o,t,c,s,!1);let B=n.listen(f,a,s);d.push(s,B),h&&h.push(a,m,M,M+1)}}else s=I9(o,t,c,s,!1);let v=o.outputs,g;if(p&&v!==null&&(g=v[a])){let u=g.length;if(u)for(let f=0;f<u;f+=2){let M=g[f],m=g[f+1],z=t[M][m].subscribe(s),I=d.length;d.push(s,z),h&&h.push(a,o.index,I,-(I+1))}}}function y9(e,t,n,o){let a=re(null);try{return Q1(6,t,n),n(o)!==!1}catch(s){return bm(e,s),!1}finally{Q1(7,t,n),re(a)}}function I9(e,t,n,o,a){return function s(i){if(i===Function)return o;let r=e.componentOffset>-1?$a(e.index,t):t;b5(r);let l=y9(t,n,o,i),h=s.__ngNextListenerFn__;for(;h;)l=y9(t,n,h,i)&&l,h=h.__ngNextListenerFn__;return a&&l===!1&&i.preventDefault(),l}}function it(e=1){return eE(e)}function jA(e,t){let n=null,o=iH(e);for(let a=0;a<t.length;a++){let s=t[a];if(s==="*"){n=a;continue}if(o===null?j9(e,s,!0):hH(o,s))return a}return n}function Km(e){let t=Nt()[T1][En];if(!t.projection){let n=e?e.length:1,o=t.projection=XD(n,null),a=o.slice(),s=t.child;for(;s!==null;){let i=e?jA(s,e):0;i!==null&&(a[i]?a[i].projectionNext=s:o[i]=s,a[i]=s),s=s.next}}}function Zm(e,t=0,n){let o=Nt(),a=je(),s=Ii(a,Hn+e,16,null,n||null);s.projection===null&&(s.projection=t),Jg(),(!o[Zr]||d8())&&(s.flags&32)!==32&&xT(a,o,s)}function Xm(e,t,n,o){$_(e,t,n,o)}function Qm(e,t,n){W_(e,t,n)}function Kc(e){let t=Nt(),n=je(),o=g8();e5(o+1);let a=H5(n,o);if(e.dirty&&OH(t)===((a.metadata.flags&2)===2)){if(a.matches===null)e.reset([]);else{let s=K_(t,o);e.reset(s,xE),e.notifyOnChanges()}return!0}return!1}function Zc(){return G_(Nt(),g8())}function UA(e,t,n,o){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=o}function At(e){let t=YH();return r8(t,Hn+e)}function L(e,t=""){let n=Nt(),o=je(),a=e+Hn,s=o.firstCreatePass?Ii(o,a,1,t,null):o.data[a],i=GA(o,n,s,t,e);n[a]=i,Rc()&&Vc(o,n,i,s),s2(s,!1)}var GA=(e,t,n,o,a)=>(Lc(!0),aT(t[Fe],o));function Rn(e){return Oe("",e,""),Rn}function Oe(e,t,n){let o=Nt(),a=cA(o,e,t,n);return a!==e1&&Cm(o,qa(),a),Oe}function R5(e,t,n,o,a){let s=Nt(),i=dA(s,e,t,n,o,a);return i!==e1&&Cm(s,qa(),i),R5}function Jt(e,t,n){Nm(t)&&(t=t());let o=Nt(),a=rl();if(ao(o,a,t)){let s=je(),i=Ac();y5(s,i,o,e,t,o[Fe],n,!1)}return Jt}function ae(e,t){let n=Nm(e);return n&&e.set(t),n}function te(e,t){let n=Nt(),o=je(),a=O0();return Ym(o,n,n[Fe],a,e,t),te}function WA(e,t,n){let o=je();if(o.firstCreatePass){let a=Xo(e);Dg(n,o.data,o.blueprint,a,!0),Dg(t,o.data,o.blueprint,a,!1)}}function Dg(e,t,n,o,a){if(e=$0(e),Array.isArray(e))for(let s=0;s<e.length;s++)Dg(e[s],t,n,o,a);else{let s=je(),i=Nt(),r=O0(),l=vi(e)?e:$0(e.provide),h=Q9(e),c=r.providerIndexes&1048575,d=r.directiveStart,p=r.providerIndexes>>20;if(vi(e)||!e.multi){let v=new t2(h,a,O),g=_v(l,t,a?c:c+p,d);g===-1?(qv(vc(r,i),s,l),Tv(s,e,t.length),t.push(l),r.directiveStart++,r.directiveEnd++,a&&(r.providerIndexes+=1048576),n.push(v),i.push(v)):(n[g]=v,i[g]=v)}else{let v=_v(l,t,c+p,d),g=_v(l,t,c,c+p),u=v>=0&&n[v],f=g>=0&&n[g];if(a&&!f||!a&&!u){qv(vc(r,i),s,l);let M=YA(a?qA:$A,n.length,a,o,h);!a&&f&&(n[g].providerFactory=M),Tv(s,e,t.length,0),t.push(l),r.directiveStart++,r.directiveEnd++,a&&(r.providerIndexes+=1048576),n.push(M),i.push(M)}else{let M=Jm(n[a?g:v],h,!a&&o);Tv(s,e,v>-1?v:g,M)}!a&&o&&f&&n[g].componentProviders++}}}function Tv(e,t,n,o){let a=vi(t),s=mH(t);if(a||s){let l=(s?$0(t.useClass):t).prototype.ngOnDestroy;if(l){let h=e.destroyHooks||(e.destroyHooks=[]);if(!a&&t.multi){let c=h.indexOf(n);c===-1?h.push(n,[o,l]):h[c+1].push(o,l)}else h.push(n,l)}}}function Jm(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function _v(e,t,n,o){for(let a=n;a<o;a++)if(t[a]===e)return a;return-1}function $A(e,t,n,o){return Hg(this.multi,[])}function qA(e,t,n,o){let a=this.multi,s;if(this.providerFactory){let i=this.providerFactory.componentProviders,r=e2(n,n[Lt],this.providerFactory.index,o);s=r.slice(0,i),Hg(a,s);for(let l=i;l<r.length;l++)s.push(r[l])}else s=[],Hg(a,s);return s}function Hg(e,t){for(let n=0;n<e.length;n++){let o=e[n];t.push(o())}return t}function YA(e,t,n,o,a){let s=new t2(e,n,O);return s.multi=[],s.index=t,s.componentProviders=0,Jm(s,a,o&&!n),s}function o1(e,t=[]){return n=>{n.providersResolver=(o,a)=>WA(o,a?a(e):e,t)}}var KA=(()=>{let t=class t{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o)){let a=K9(!1,o.type),s=a.length>0?Wc([a],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o,s)}return this.cachedInjectors.get(o)}ngOnDestroy(){try{for(let o of this.cachedInjectors.values())o!==null&&o.destroy()}finally{this.cachedInjectors.clear()}}};t.\u0275prov=J({token:t,providedIn:"environment",factory:()=>new t(nt(Y0))});let e=t;return e})();function Gt(e){zi("NgStandalone"),e.getStandaloneInjector=t=>t.get(KA).getOrCreateStandaloneInjector(e)}function rt(e,t,n){let o=_c()+e,a=Nt();return a[o]===e1?_5(a,o,n?t.call(n):t()):sA(a,o)}function M0(e,t,n,o){return ZA(Nt(),_c(),e,t,n,o)}function tx(e,t,n,o,a){return nx(Nt(),_c(),e,t,n,o,a)}function ex(e,t){let n=e[t];return n===e1?void 0:n}function ZA(e,t,n,o,a,s){let i=t+n;return ao(e,i,a)?_5(e,i+1,s?o.call(s,a):o(a)):ex(e,i+1)}function nx(e,t,n,o,a,s,i){let r=t+n;return Fm(e,r,a,s)?_5(e,r+2,i?o.call(i,a,s):o(a,s)):ex(e,r+2)}function ro(e,t){let n=je(),o,a=e+Hn;n.firstCreatePass?(o=XA(t,n.pipeRegistry),n.data[a]=o,o.onDestroy&&(n.destroyHooks??=[]).push(a,o.onDestroy)):o=n.data[a];let s=o.factory||(o.factory=Zs(o.type,!0)),i,r=dn(O);try{let l=pc(!1),h=s();return pc(l),UA(n,Nt(),a,h),h}finally{dn(r)}}function XA(e,t){if(t)for(let n=t.length-1;n>=0;n--){let o=t[n];if(e===o.name)return o}}function lo(e,t,n,o){let a=e+Hn,s=Nt(),i=r8(s,a);return QA(s,a)?nx(s,_c(),t,i.transform,n,o,i):i.transform(n,o)}function QA(e,t){return e[Lt].data[t].pure}var Xc=(()=>{let t=class t{log(o){console.log(o)}warn(o){console.warn(o)}};t.\u0275fac=function(a){return new(a||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"platform"});let e=t;return e})();var L5=new ut(""),cl=new ut(""),Qc=(()=>{let t=class t{constructor(o,a,s){this._ngZone=o,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,O5||(JA(s),s.addToWindow(a)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Yt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb()}});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>a.updateCb&&a.updateCb(o)?(clearTimeout(a.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,a,s){let i=-1;a&&a>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(r=>r.timeoutId!==i),o()},a)),this._callbacks.push({doneCb:o,timeoutId:i,updateCb:s})}whenStable(o,a,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,a,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,a,s){return[]}};t.\u0275fac=function(a){return new(a||t)(nt(Yt),nt(Jc),nt(cl))},t.\u0275prov=J({token:t,factory:t.\u0275fac});let e=t;return e})(),Jc=(()=>{let t=class t{constructor(){this._applications=new Map}registerApplication(o,a){this._applications.set(o,a)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,a=!0){return O5?.findTestabilityInTree(this,o,a)??null}};t.\u0275fac=function(a){return new(a||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"platform"});let e=t;return e})();function JA(e){O5=e}var O5;function l2(e){return!!e&&typeof e.then=="function"}function ox(e){return!!e&&typeof e.subscribe=="function"}var td=new ut(""),ax=(()=>{let t=class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((o,a)=>{this.resolve=o,this.reject=a}),this.appInits=K(td,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let o=[];for(let s of this.appInits){let i=s();if(l2(i))o.push(i);else if(ox(i)){let r=new Promise((l,h)=>{i.subscribe({complete:l,error:h})});o.push(r)}}let a=()=>{this.done=!0,this.resolve()};Promise.all(o).then(()=>{a()}).catch(s=>{this.reject(s)}),o.length===0&&a(),this.initialized=!0}};t.\u0275fac=function(a){return new(a||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),dl=new ut("");function tR(){cM(()=>{throw new $(600,!1)})}function eR(e){return e.isBoundToModule}function nR(e,t,n){try{let o=n();return l2(o)?o.catch(a=>{throw t.runOutsideAngular(()=>e.handleError(a)),a}):o}catch(o){throw t.runOutsideAngular(()=>e.handleError(o)),o}}var R1=(()=>{let t=class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=K(T8),this.afterRenderEffectManager=K(D5),this.externalTestViews=new Set,this.beforeRender=new Le,this.afterTick=new Le,this.componentTypes=[],this.components=[],this.isStable=K(i2).hasPendingTasks.pipe(_t(o=>!o)),this._injector=K(Y0)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,a){let s=o instanceof wc;if(!this._injector.get(ax).done){let v=!s&&W9(o),g=!1;throw new $(405,g)}let r;s?r=o:r=this._injector.get(ki).resolveComponentFactory(o),this.componentTypes.push(r.componentType);let l=eR(r)?void 0:this._injector.get(Ga),h=a||r.selector,c=r.create(_n.NULL,[],h,l),d=c.location.nativeElement,p=c.injector.get(L5,null);return p?.registerApplication(d),c.onDestroy(()=>{this.detachView(c.hostView),Av(this.components,c),p?.unregisterApplication(d)}),this._loadComponent(c),c}tick(){this._tick(!0)}_tick(o){if(this._runningTick)throw new $(101,!1);let a=re(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(o)}catch(s){this.internalErrorHandler(s)}finally{this.afterTick.next(),this._runningTick=!1,re(a)}}detectChangesInAttachedViews(o){let a=0,s=this.afterRenderEffectManager;for(;;){if(a===Sm)throw new $(103,!1);if(o){let i=a===0;this.beforeRender.next(i);for(let{_lView:r,notifyErrorHandler:l}of this._views)oR(r,i,l)}if(a++,s.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:i})=>Eg(i))&&(s.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:i})=>Eg(i))))break}}attachView(o){let a=o;this._views.push(a),a.attachToAppRef(this)}detachView(o){let a=o;Av(this._views,a),a.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);let a=this._injector.get(dl,[]);[...this._bootstrapListeners,...a].forEach(s=>s(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>Av(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new $(406,!1);let o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};t.\u0275fac=function(a){return new(a||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Av(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function oR(e,t,n){!t&&!Eg(e)||aR(e,n,t)}function Eg(e){return Xg(e)}function aR(e,t,n){let o;n?(o=0,e[Ct]|=1024):e[Ct]&64?o=0:o=1,Dm(e,t,o)}var Tg=class{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},ed=(()=>{let t=class t{compileModuleSync(o){return new bg(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){let a=this.compileModuleSync(o),s=$9(o),i=em(s.declarations).reduce((r,l)=>{let h=ja(l);return h&&r.push(new Mi(h)),r},[]);return new Tg(a,i)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}};t.\u0275fac=function(a){return new(a||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var sR=(()=>{let t=class t{constructor(){this.zone=K(Yt),this.applicationRef=K(R1)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};t.\u0275fac=function(a){return new(a||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function iR(e){return[{provide:Yt,useFactory:e},{provide:pi,multi:!0,useFactory:()=>{let t=K(sR,{optional:!0});return()=>t.initialize()}},{provide:pi,multi:!0,useFactory:()=>{let t=K(cR);return()=>{t.initialize()}}},{provide:T8,useFactory:rR}]}function rR(){let e=K(Yt),t=K(no);return n=>e.runOutsideAngular(()=>t.handleError(n))}function lR(e){let t=iR(()=>new Yt(hR(e)));return Wa([[],t])}function hR(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var cR=(()=>{let t=class t{constructor(){this.subscription=new i0,this.initialized=!1,this.zone=K(Yt),this.pendingTasks=K(i2)}initialize(){if(this.initialized)return;this.initialized=!0;let o=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(o=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Yt.assertNotInAngularZone(),queueMicrotask(()=>{o!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(o),o=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Yt.assertInAngularZone(),o??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};t.\u0275fac=function(a){return new(a||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function dR(){return typeof $localize<"u"&&$localize.locale||Ic}var nd=new ut("",{providedIn:"root",factory:()=>K(nd,jt.Optional|jt.SkipSelf)||dR()});var sx=new ut("");var ac=null;function pR(e=[],t){return _n.create({name:t,providers:[{provide:Dc,useValue:"platform"},{provide:sx,useValue:new Set([()=>ac=null])},...e]})}function vR(e=[]){if(ac)return ac;let t=pR(e);return ac=t,tR(),gR(t),t}function gR(e){e.get(r5,null)?.forEach(n=>n())}var ho=(()=>{let t=class t{};t.__NG_ELEMENT_ID__=uR;let e=t;return e})();function uR(e){return wR(O0(),Nt(),(e&16)===16)}function wR(e,t,n){if(Ec(e)&&!n){let o=$a(e.index,t);return new n2(o,o)}else if(e.type&47){let o=t[T1];return new n2(o,t)}return null}var _g=class{constructor(){}supports(t){return Pm(t)}create(t){return new Ag(t)}},fR=(e,t)=>t,Ag=class{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||fR}forEachItem(t){let n;for(n=this._itHead;n!==null;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,o=this._removalsHead,a=0,s=null;for(;n||o;){let i=!o||n&&n.currentIndex<k9(o,a,s)?n:o,r=k9(i,a,s),l=i.currentIndex;if(i===o)a--,o=o._nextRemoved;else if(n=n._next,i.previousIndex==null)a++;else{s||(s=[]);let h=r-a,c=l-a;if(h!=c){for(let p=0;p<h;p++){let v=p<s.length?s[p]:s[p]=0,g=v+p;c<=g&&g<h&&(s[p]=v+1)}let d=i.previousIndex;s[d]=c-h}}r!==l&&t(i,r,l)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)t(n)}diff(t){if(t==null&&(t=[]),!Pm(t))throw new $(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._itHead,o=!1,a,s,i;if(Array.isArray(t)){this.length=t.length;for(let r=0;r<this.length;r++)s=t[r],i=this._trackByFn(r,s),n===null||!Object.is(n.trackById,i)?(n=this._mismatch(n,s,i,r),o=!0):(o&&(n=this._verifyReinsertion(n,s,i,r)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else a=0,aA(t,r=>{i=this._trackByFn(a,r),n===null||!Object.is(n.trackById,i)?(n=this._mismatch(n,r,i,a),o=!0):(o&&(n=this._verifyReinsertion(n,r,i,a)),Object.is(n.item,r)||this._addIdentityChange(n,r)),n=n._next,a++}),this.length=a;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,o,a){let s;return t===null?s=this._itTail:(s=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(o,null),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,s,a)):(t=this._linkedRecords===null?null:this._linkedRecords.get(o,a),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,s,a)):t=this._addAfter(new Rg(n,o),s,a)),t}_verifyReinsertion(t,n,o,a){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(o,null);return s!==null?t=this._reinsertAfter(s,t._prev,a):t.currentIndex!=a&&(t.currentIndex=a,this._addToMoves(t,a)),t}_truncate(t){for(;t!==null;){let n=t._next;this._addToRemovals(this._unlink(t)),t=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,o){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let a=t._prevRemoved,s=t._nextRemoved;return a===null?this._removalsHead=s:a._nextRemoved=s,s===null?this._removalsTail=a:s._prevRemoved=a,this._insertAfter(t,n,o),this._addToMoves(t,o),t}_moveAfter(t,n,o){return this._unlink(t),this._insertAfter(t,n,o),this._addToMoves(t,o),t}_addAfter(t,n,o){return this._insertAfter(t,n,o),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,n,o){let a=n===null?this._itHead:n._next;return t._next=a,t._prev=n,a===null?this._itTail=t:a._prev=t,n===null?this._itHead=t:n._next=t,this._linkedRecords===null&&(this._linkedRecords=new kc),this._linkedRecords.put(t),t.currentIndex=o,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let n=t._prev,o=t._next;return n===null?this._itHead=o:n._next=o,o===null?this._itTail=n:o._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new kc),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},Rg=class{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Lg=class{constructor(){this._head=null,this._tail=null}add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let o;for(o=this._head;o!==null;o=o._nextDup)if((n===null||n<=o.currentIndex)&&Object.is(o.trackById,t))return o;return null}remove(t){let n=t._prevDup,o=t._nextDup;return n===null?this._head=o:n._nextDup=o,o===null?this._tail=n:o._prevDup=n,this._head===null}},kc=class{constructor(){this.map=new Map}put(t){let n=t.trackById,o=this.map.get(n);o||(o=new Lg,this.map.set(n,o)),o.add(t)}get(t,n){let o=t,a=this.map.get(o);return a?a.get(t,n):null}remove(t){let n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function k9(e,t,n){let o=e.previousIndex;if(o===null)return o;let a=0;return n&&o<n.length&&(a=n[o]),o+t+a}var Og=class{constructor(){}supports(t){return t instanceof Map||T5(t)}create(){return new Ng}},Ng=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(t){let n;for(n=this._mapHead;n!==null;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n)}diff(t){if(!t)t=new Map;else if(!(t instanceof Map||T5(t)))throw new $(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(o,a)=>{if(n&&n.key===a)this._maybeAddToChanges(n,o),this._appendAfter=n,n=n._next;else{let s=this._getOrCreateRecordForKey(a,o);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let o=n;o!==null;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){let o=t._prev;return n._next=t,n._prev=o,t._prev=n,o&&(o._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){let a=this._records.get(t);this._maybeAddToChanges(a,n);let s=a._prev,i=a._next;return s&&(s._next=i),i&&(i._prev=s),a._next=null,a._prev=null,a}let o=new Pg(t);return this._records.set(t,o),o.currentValue=n,this._addToAdditions(o),o}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;t!==null;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;t!=null;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){this._additionsHead===null?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){this._changesHead===null?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(o=>n(t[o],o))}},Pg=class{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function z9(){return new N5([new _g])}var N5=(()=>{let t=class t{constructor(o){this.factories=o}static create(o,a){if(a!=null){let s=a.factories.slice();o=o.concat(s)}return new t(o)}static extend(o){return{provide:t,useFactory:a=>t.create(o,a||z9()),deps:[[t,new Bc,new al]]}}find(o){let a=this.factories.find(s=>s.supports(o));if(a!=null)return a;throw new $(901,!1)}};t.\u0275prov=J({token:t,providedIn:"root",factory:z9});let e=t;return e})();function b9(){return new P5([new Og])}var P5=(()=>{let t=class t{constructor(o){this.factories=o}static create(o,a){if(a){let s=a.factories.slice();o=o.concat(s)}return new t(o)}static extend(o){return{provide:t,useFactory:a=>t.create(o,a||b9()),deps:[[t,new Bc,new al]]}}find(o){let a=this.factories.find(s=>s.supports(o));if(a)return a;throw new $(901,!1)}};t.\u0275prov=J({token:t,providedIn:"root",factory:b9});let e=t;return e})();var ix=(()=>{let t=class t{constructor(o){}};t.\u0275fac=function(a){return new(a||t)(nt(R1))},t.\u0275mod=Te({type:t}),t.\u0275inj=Ee({});let e=t;return e})();function rx(e){try{let{rootComponent:t,appProviders:n,platformProviders:o}=e,a=vR(o),s=[lR(),...n||[]],r=new xc({providers:s,parent:a,debugName:"",runEnvironmentInitializers:!1}).injector,l=r.get(Yt);return l.run(()=>{r.resolveInjectorInitializers();let h=r.get(no,null),c;l.runOutsideAngular(()=>{c=l.onError.subscribe({next:v=>{h.handleError(v)}})});let d=()=>r.destroy(),p=a.get(sx);return p.add(d),r.onDestroy(()=>{c.unsubscribe(),p.delete(d)}),nR(h,l,()=>{let v=r.get(ax);return v.runInitializers(),v.donePromise.then(()=>{let g=r.get(nd,Ic);FA(g||Ic);let u=r.get(R1);return t!==void 0&&u.bootstrap(t),u})})})}catch(t){return Promise.reject(t)}}function Ya(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function lx(e){let t=ja(e);if(!t)return null;let n=new Mi(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var ux=null;function co(){return ux}function wx(e){ux??=e}var dd=class{};var Ue=new ut(""),K5=(()=>{let t=class t{historyGo(o){throw new Error("")}};t.\u0275fac=function(a){return new(a||t)},t.\u0275prov=J({token:t,factory:()=>K(MR),providedIn:"platform"});let e=t;return e})(),fx=new ut(""),MR=(()=>{let t=class t extends K5{constructor(){super(),this._doc=K(Ue),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return co().getBaseHref(this._doc)}onPopState(o){let a=co().getGlobalEventTarget(this._doc,"window");return a.addEventListener("popstate",o,!1),()=>a.removeEventListener("popstate",o)}onHashChange(o){let a=co().getGlobalEventTarget(this._doc,"window");return a.addEventListener("hashchange",o,!1),()=>a.removeEventListener("hashchange",o)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(o){this._location.pathname=o}pushState(o,a,s){this._history.pushState(o,a,s)}replaceState(o,a,s){this._history.replaceState(o,a,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(o=0){this._history.go(o)}getState(){return this._history.state}};t.\u0275fac=function(a){return new(a||t)},t.\u0275prov=J({token:t,factory:()=>new t,providedIn:"platform"});let e=t;return e})();function Z5(e,t){if(e.length==0)return t;if(t.length==0)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,n==2?e+t.substring(1):n==1?e+t:e+"/"+t}function hx(e){let t=e.match(/#|\?|$/),n=t&&t.index||e.length,o=n-(e[n-1]==="/"?1:0);return e.slice(0,o)+e.slice(n)}function aa(e){return e&&e[0]!=="?"?"?"+e:e}var ia=(()=>{let t=class t{historyGo(o){throw new Error("")}};t.\u0275fac=function(a){return new(a||t)},t.\u0275prov=J({token:t,factory:()=>K(X5),providedIn:"root"});let e=t;return e})(),Mx=new ut(""),X5=(()=>{let t=class t extends ia{constructor(o,a){super(),this._platformLocation=o,this._removeListenerFns=[],this._baseHref=a??this._platformLocation.getBaseHrefFromDOM()??K(Ue).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(o){this._removeListenerFns.push(this._platformLocation.onPopState(o),this._platformLocation.onHashChange(o))}getBaseHref(){return this._baseHref}prepareExternalUrl(o){return Z5(this._baseHref,o)}path(o=!1){let a=this._platformLocation.pathname+aa(this._platformLocation.search),s=this._platformLocation.hash;return s&&o?`${a}${s}`:a}pushState(o,a,s,i){let r=this.prepareExternalUrl(s+aa(i));this._platformLocation.pushState(o,a,r)}replaceState(o,a,s,i){let r=this.prepareExternalUrl(s+aa(i));this._platformLocation.replaceState(o,a,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(o=0){this._platformLocation.historyGo?.(o)}};t.\u0275fac=function(a){return new(a||t)(nt(K5),nt(Mx,8))},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),mx=(()=>{let t=class t extends ia{constructor(o,a){super(),this._platformLocation=o,this._baseHref="",this._removeListenerFns=[],a!=null&&(this._baseHref=a)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(o){this._removeListenerFns.push(this._platformLocation.onPopState(o),this._platformLocation.onHashChange(o))}getBaseHref(){return this._baseHref}path(o=!1){let a=this._platformLocation.hash??"#";return a.length>0?a.substring(1):a}prepareExternalUrl(o){let a=Z5(this._baseHref,o);return a.length>0?"#"+a:a}pushState(o,a,s,i){let r=this.prepareExternalUrl(s+aa(i));r.length==0&&(r=this._platformLocation.pathname),this._platformLocation.pushState(o,a,r)}replaceState(o,a,s,i){let r=this.prepareExternalUrl(s+aa(i));r.length==0&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(o,a,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(o=0){this._platformLocation.historyGo?.(o)}};t.\u0275fac=function(a){return new(a||t)(nt(K5),nt(Mx,8))},t.\u0275prov=J({token:t,factory:t.\u0275fac});let e=t;return e})(),Ci=(()=>{let t=class t{constructor(o){this._subject=new fe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=o;let a=this._locationStrategy.getBaseHref();this._basePath=yR(hx(cx(a))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(o=!1){return this.normalize(this._locationStrategy.path(o))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(o,a=""){return this.path()==this.normalize(o+aa(a))}normalize(o){return t.stripTrailingSlash(xR(this._basePath,cx(o)))}prepareExternalUrl(o){return o&&o[0]!=="/"&&(o="/"+o),this._locationStrategy.prepareExternalUrl(o)}go(o,a="",s=null){this._locationStrategy.pushState(s,"",o,a),this._notifyUrlChangeListeners(this.prepareExternalUrl(o+aa(a)),s)}replaceState(o,a="",s=null){this._locationStrategy.replaceState(s,"",o,a),this._notifyUrlChangeListeners(this.prepareExternalUrl(o+aa(a)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(o=0){this._locationStrategy.historyGo?.(o)}onUrlChange(o){return this._urlChangeListeners.push(o),this._urlChangeSubscription??=this.subscribe(a=>{this._notifyUrlChangeListeners(a.url,a.state)}),()=>{let a=this._urlChangeListeners.indexOf(o);this._urlChangeListeners.splice(a,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(o="",a){this._urlChangeListeners.forEach(s=>s(o,a))}subscribe(o,a,s){return this._subject.subscribe({next:o,error:a,complete:s})}};t.normalizeQueryParams=aa,t.joinWithSlash=Z5,t.stripTrailingSlash=hx,t.\u0275fac=function(a){return new(a||t)(nt(ia))},t.\u0275prov=J({token:t,factory:()=>mR(),providedIn:"root"});let e=t;return e})();function mR(){return new Ci(nt(ia))}function xR(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function cx(e){return e.replace(/\/index.html$/,"")}function yR(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}var K0=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}(K0||{}),Ie=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}(Ie||{}),Ln=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}(Ln||{}),Ka={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function IR(e){return n1(e)[Ke.LocaleId]}function kR(e,t,n){let o=n1(e),a=[o[Ke.DayPeriodsFormat],o[Ke.DayPeriodsStandalone]],s=a1(a,t);return a1(s,n)}function zR(e,t,n){let o=n1(e),a=[o[Ke.DaysFormat],o[Ke.DaysStandalone]],s=a1(a,t);return a1(s,n)}function bR(e,t,n){let o=n1(e),a=[o[Ke.MonthsFormat],o[Ke.MonthsStandalone]],s=a1(a,t);return a1(s,n)}function CR(e,t){let o=n1(e)[Ke.Eras];return a1(o,t)}function od(e,t){let n=n1(e);return a1(n[Ke.DateFormat],t)}function ad(e,t){let n=n1(e);return a1(n[Ke.TimeFormat],t)}function sd(e,t){let o=n1(e)[Ke.DateTimeFormat];return a1(o,t)}function vd(e,t){let n=n1(e),o=n[Ke.NumberSymbols][t];if(typeof o>"u"){if(t===Ka.CurrencyDecimal)return n[Ke.NumberSymbols][Ka.Decimal];if(t===Ka.CurrencyGroup)return n[Ke.NumberSymbols][Ka.Group]}return o}function xx(e){if(!e[Ke.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[Ke.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function BR(e){let t=n1(e);return xx(t),(t[Ke.ExtraData][2]||[]).map(o=>typeof o=="string"?F5(o):[F5(o[0]),F5(o[1])])}function SR(e,t,n){let o=n1(e);xx(o);let a=[o[Ke.ExtraData][0],o[Ke.ExtraData][1]],s=a1(a,t)||[];return a1(s,n)||[]}function a1(e,t){for(let n=t;n>-1;n--)if(typeof e[n]<"u")return e[n];throw new Error("Locale data API: locale data undefined")}function F5(e){let[t,n]=e.split(":");return{hours:+t,minutes:+n}}var DR=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,id={},HR=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,sa=function(e){return e[e.Short=0]="Short",e[e.ShortGMT=1]="ShortGMT",e[e.Long=2]="Long",e[e.Extended=3]="Extended",e}(sa||{}),he=function(e){return e[e.FullYear=0]="FullYear",e[e.Month=1]="Month",e[e.Date=2]="Date",e[e.Hours=3]="Hours",e[e.Minutes=4]="Minutes",e[e.Seconds=5]="Seconds",e[e.FractionalSeconds=6]="FractionalSeconds",e[e.Day=7]="Day",e}(he||{}),le=function(e){return e[e.DayPeriods=0]="DayPeriods",e[e.Days=1]="Days",e[e.Months=2]="Months",e[e.Eras=3]="Eras",e}(le||{});function ER(e,t,n,o){let a=FR(e);t=oa(n,t)||t;let i=[],r;for(;t;)if(r=HR.exec(t),r){i=i.concat(r.slice(1));let c=i.pop();if(!c)break;t=c}else{i.push(t);break}let l=a.getTimezoneOffset();o&&(l=Ix(o,l),a=PR(a,o,!0));let h="";return i.forEach(c=>{let d=OR(c);h+=d?d(a,n,l):c==="''"?"'":c.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),h}function pd(e,t,n){let o=new Date(0);return o.setFullYear(e,t,n),o.setHours(0,0,0),o}function oa(e,t){let n=IR(e);if(id[n]??={},id[n][t])return id[n][t];let o="";switch(t){case"shortDate":o=od(e,Ln.Short);break;case"mediumDate":o=od(e,Ln.Medium);break;case"longDate":o=od(e,Ln.Long);break;case"fullDate":o=od(e,Ln.Full);break;case"shortTime":o=ad(e,Ln.Short);break;case"mediumTime":o=ad(e,Ln.Medium);break;case"longTime":o=ad(e,Ln.Long);break;case"fullTime":o=ad(e,Ln.Full);break;case"short":let a=oa(e,"shortTime"),s=oa(e,"shortDate");o=rd(sd(e,Ln.Short),[a,s]);break;case"medium":let i=oa(e,"mediumTime"),r=oa(e,"mediumDate");o=rd(sd(e,Ln.Medium),[i,r]);break;case"long":let l=oa(e,"longTime"),h=oa(e,"longDate");o=rd(sd(e,Ln.Long),[l,h]);break;case"full":let c=oa(e,"fullTime"),d=oa(e,"fullDate");o=rd(sd(e,Ln.Full),[c,d]);break}return o&&(id[n][t]=o),o}function rd(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,function(n,o){return t!=null&&o in t?t[o]:n})),e}function L1(e,t,n="-",o,a){let s="";(e<0||a&&e<=0)&&(a?e=-e+1:(e=-e,s=n));let i=String(e);for(;i.length<t;)i="0"+i;return o&&(i=i.slice(i.length-t)),s+i}function TR(e,t){return L1(e,3).substring(0,t)}function e0(e,t,n=0,o=!1,a=!1){return function(s,i){let r=_R(e,s);if((n>0||r>-n)&&(r+=n),e===he.Hours)r===0&&n===-12&&(r=12);else if(e===he.FractionalSeconds)return TR(r,t);let l=vd(i,Ka.MinusSign);return L1(r,t,l,o,a)}}function _R(e,t){switch(e){case he.FullYear:return t.getFullYear();case he.Month:return t.getMonth();case he.Date:return t.getDate();case he.Hours:return t.getHours();case he.Minutes:return t.getMinutes();case he.Seconds:return t.getSeconds();case he.FractionalSeconds:return t.getMilliseconds();case he.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}function Se(e,t,n=K0.Format,o=!1){return function(a,s){return AR(a,s,e,t,n,o)}}function AR(e,t,n,o,a,s){switch(n){case le.Months:return bR(t,a,o)[e.getMonth()];case le.Days:return zR(t,a,o)[e.getDay()];case le.DayPeriods:let i=e.getHours(),r=e.getMinutes();if(s){let h=BR(t),c=SR(t,a,o),d=h.findIndex(p=>{if(Array.isArray(p)){let[v,g]=p,u=i>=v.hours&&r>=v.minutes,f=i<g.hours||i===g.hours&&r<g.minutes;if(v.hours<g.hours){if(u&&f)return!0}else if(u||f)return!0}else if(p.hours===i&&p.minutes===r)return!0;return!1});if(d!==-1)return c[d]}return kR(t,a,o)[i<12?0:1];case le.Eras:return CR(t,o)[e.getFullYear()<=0?0:1];default:let l=n;throw new Error(`unexpected translation type ${l}`)}}function ld(e){return function(t,n,o){let a=-1*o,s=vd(n,Ka.MinusSign),i=a>0?Math.floor(a/60):Math.ceil(a/60);switch(e){case sa.Short:return(a>=0?"+":"")+L1(i,2,s)+L1(Math.abs(a%60),2,s);case sa.ShortGMT:return"GMT"+(a>=0?"+":"")+L1(i,1,s);case sa.Long:return"GMT"+(a>=0?"+":"")+L1(i,2,s)+":"+L1(Math.abs(a%60),2,s);case sa.Extended:return o===0?"Z":(a>=0?"+":"")+L1(i,2,s)+":"+L1(Math.abs(a%60),2,s);default:throw new Error(`Unknown zone width "${e}"`)}}}var RR=0,cd=4;function LR(e){let t=pd(e,RR,1).getDay();return pd(e,0,1+(t<=cd?cd:cd+7)-t)}function yx(e){let t=e.getDay(),n=t===0?-3:cd-t;return pd(e.getFullYear(),e.getMonth(),e.getDate()+n)}function V5(e,t=!1){return function(n,o){let a;if(t){let s=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,i=n.getDate();a=1+Math.floor((i+s)/7)}else{let s=yx(n),i=LR(s.getFullYear()),r=s.getTime()-i.getTime();a=1+Math.round(r/6048e5)}return L1(a,e,vd(o,Ka.MinusSign))}}function hd(e,t=!1){return function(n,o){let s=yx(n).getFullYear();return L1(s,e,vd(o,Ka.MinusSign),t)}}var j5={};function OR(e){if(j5[e])return j5[e];let t;switch(e){case"G":case"GG":case"GGG":t=Se(le.Eras,Ie.Abbreviated);break;case"GGGG":t=Se(le.Eras,Ie.Wide);break;case"GGGGG":t=Se(le.Eras,Ie.Narrow);break;case"y":t=e0(he.FullYear,1,0,!1,!0);break;case"yy":t=e0(he.FullYear,2,0,!0,!0);break;case"yyy":t=e0(he.FullYear,3,0,!1,!0);break;case"yyyy":t=e0(he.FullYear,4,0,!1,!0);break;case"Y":t=hd(1);break;case"YY":t=hd(2,!0);break;case"YYY":t=hd(3);break;case"YYYY":t=hd(4);break;case"M":case"L":t=e0(he.Month,1,1);break;case"MM":case"LL":t=e0(he.Month,2,1);break;case"MMM":t=Se(le.Months,Ie.Abbreviated);break;case"MMMM":t=Se(le.Months,Ie.Wide);break;case"MMMMM":t=Se(le.Months,Ie.Narrow);break;case"LLL":t=Se(le.Months,Ie.Abbreviated,K0.Standalone);break;case"LLLL":t=Se(le.Months,Ie.Wide,K0.Standalone);break;case"LLLLL":t=Se(le.Months,Ie.Narrow,K0.Standalone);break;case"w":t=V5(1);break;case"ww":t=V5(2);break;case"W":t=V5(1,!0);break;case"d":t=e0(he.Date,1);break;case"dd":t=e0(he.Date,2);break;case"c":case"cc":t=e0(he.Day,1);break;case"ccc":t=Se(le.Days,Ie.Abbreviated,K0.Standalone);break;case"cccc":t=Se(le.Days,Ie.Wide,K0.Standalone);break;case"ccccc":t=Se(le.Days,Ie.Narrow,K0.Standalone);break;case"cccccc":t=Se(le.Days,Ie.Short,K0.Standalone);break;case"E":case"EE":case"EEE":t=Se(le.Days,Ie.Abbreviated);break;case"EEEE":t=Se(le.Days,Ie.Wide);break;case"EEEEE":t=Se(le.Days,Ie.Narrow);break;case"EEEEEE":t=Se(le.Days,Ie.Short);break;case"a":case"aa":case"aaa":t=Se(le.DayPeriods,Ie.Abbreviated);break;case"aaaa":t=Se(le.DayPeriods,Ie.Wide);break;case"aaaaa":t=Se(le.DayPeriods,Ie.Narrow);break;case"b":case"bb":case"bbb":t=Se(le.DayPeriods,Ie.Abbreviated,K0.Standalone,!0);break;case"bbbb":t=Se(le.DayPeriods,Ie.Wide,K0.Standalone,!0);break;case"bbbbb":t=Se(le.DayPeriods,Ie.Narrow,K0.Standalone,!0);break;case"B":case"BB":case"BBB":t=Se(le.DayPeriods,Ie.Abbreviated,K0.Format,!0);break;case"BBBB":t=Se(le.DayPeriods,Ie.Wide,K0.Format,!0);break;case"BBBBB":t=Se(le.DayPeriods,Ie.Narrow,K0.Format,!0);break;case"h":t=e0(he.Hours,1,-12);break;case"hh":t=e0(he.Hours,2,-12);break;case"H":t=e0(he.Hours,1);break;case"HH":t=e0(he.Hours,2);break;case"m":t=e0(he.Minutes,1);break;case"mm":t=e0(he.Minutes,2);break;case"s":t=e0(he.Seconds,1);break;case"ss":t=e0(he.Seconds,2);break;case"S":t=e0(he.FractionalSeconds,1);break;case"SS":t=e0(he.FractionalSeconds,2);break;case"SSS":t=e0(he.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=ld(sa.Short);break;case"ZZZZZ":t=ld(sa.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=ld(sa.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=ld(sa.Long);break;default:return null}return j5[e]=t,t}function Ix(e,t){e=e.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function NR(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function PR(e,t,n){let o=n?-1:1,a=e.getTimezoneOffset(),s=Ix(t,a);return NR(e,o*(s-a))}function FR(e){if(dx(e))return e;if(typeof e=="number"&&!isNaN(e))return new Date(e);if(typeof e=="string"){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){let[a,s=1,i=1]=e.split("-").map(r=>+r);return pd(a,s-1,i)}let n=parseFloat(e);if(!isNaN(e-n))return new Date(n);let o;if(o=e.match(DR))return VR(o)}let t=new Date(e);if(!dx(t))throw new Error(`Unable to convert "${e}" into a date`);return t}function VR(e){let t=new Date(0),n=0,o=0,a=e[8]?t.setUTCFullYear:t.setFullYear,s=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),o=Number(e[9]+e[11])),a.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));let i=Number(e[4]||0)-n,r=Number(e[5]||0)-o,l=Number(e[6]||0),h=Math.floor(parseFloat("0."+(e[7]||0))*1e3);return s.call(t,i,r,l,h),t}function dx(e){return e instanceof Date&&!isNaN(e.valueOf())}function gd(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let o=n.indexOf("="),[a,s]=o==-1?[n,""]:[n.slice(0,o),n.slice(o+1)];if(a.trim()===t)return decodeURIComponent(s)}return null}var U5=/\s+/,px=[],Bi=(()=>{let t=class t{constructor(o,a){this._ngEl=o,this._renderer=a,this.initialClasses=px,this.stateMap=new Map}set klass(o){this.initialClasses=o!=null?o.trim().split(U5):px}set ngClass(o){this.rawClass=typeof o=="string"?o.trim().split(U5):o}ngDoCheck(){for(let a of this.initialClasses)this._updateState(a,!0);let o=this.rawClass;if(Array.isArray(o)||o instanceof Set)for(let a of o)this._updateState(a,!0);else if(o!=null)for(let a of Object.keys(o))this._updateState(a,!!o[a]);this._applyStateDiff()}_updateState(o,a){let s=this.stateMap.get(o);s!==void 0?(s.enabled!==a&&(s.changed=!0,s.enabled=a),s.touched=!0):this.stateMap.set(o,{enabled:a,changed:!0,touched:!0})}_applyStateDiff(){for(let o of this.stateMap){let a=o[0],s=o[1];s.changed?(this._toggleClass(a,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(a,!1),this.stateMap.delete(a)),s.touched=!1}}_toggleClass(o,a){o=o.trim(),o.length>0&&o.split(U5).forEach(s=>{a?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}};t.\u0275fac=function(a){return new(a||t)(O(_e),O(N0))},t.\u0275dir=Dt({type:t,selectors:[["","ngClass",""]],inputs:{klass:[r0.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let e=t;return e})();var G5=class{constructor(t,n,o,a){this.$implicit=t,this.ngForOf=n,this.index=o,this.count=a}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},ud=(()=>{let t=class t{set ngForOf(o){this._ngForOf=o,this._ngForOfDirty=!0}set ngForTrackBy(o){this._trackByFn=o}get ngForTrackBy(){return this._trackByFn}constructor(o,a,s){this._viewContainer=o,this._template=a,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(o){o&&(this._template=o)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let o=this._ngForOf;if(!this._differ&&o)if(0)try{}catch{}else this._differ=this._differs.find(o).create(this.ngForTrackBy)}if(this._differ){let o=this._differ.diff(this._ngForOf);o&&this._applyChanges(o)}}_applyChanges(o){let a=this._viewContainer;o.forEachOperation((s,i,r)=>{if(s.previousIndex==null)a.createEmbeddedView(this._template,new G5(s.item,this._ngForOf,-1,-1),r===null?void 0:r);else if(r==null)a.remove(i===null?void 0:i);else if(i!==null){let l=a.get(i);a.move(l,r),vx(l,s)}});for(let s=0,i=a.length;s<i;s++){let l=a.get(s).context;l.index=s,l.count=i,l.ngForOf=this._ngForOf}o.forEachIdentityChange(s=>{let i=a.get(s.currentIndex);vx(i,s)})}static ngTemplateContextGuard(o,a){return!0}};t.\u0275fac=function(a){return new(a||t)(O(w0),O(S0),O(N5))},t.\u0275dir=Dt({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let e=t;return e})();function vx(e,t){e.context.$implicit=t.item}var l0=(()=>{let t=class t{constructor(o,a){this._viewContainer=o,this._context=new W5,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=a}set ngIf(o){this._context.$implicit=this._context.ngIf=o,this._updateView()}set ngIfThen(o){gx("ngIfThen",o),this._thenTemplateRef=o,this._thenViewRef=null,this._updateView()}set ngIfElse(o){gx("ngIfElse",o),this._elseTemplateRef=o,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(o,a){return!0}};t.\u0275fac=function(a){return new(a||t)(O(w0),O(S0))},t.\u0275dir=Dt({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let e=t;return e})(),W5=class{constructor(){this.$implicit=null,this.ngIf=null}};function gx(e,t){if(!!!(!t||t.createEmbeddedView))throw new Error(`${e} must be a TemplateRef, but received '${q0(t)}'.`)}var Za=(()=>{let t=class t{constructor(o,a,s){this._ngEl=o,this._differs=a,this._renderer=s,this._ngStyle=null,this._differ=null}set ngStyle(o){this._ngStyle=o,!this._differ&&o&&(this._differ=this._differs.find(o).create())}ngDoCheck(){if(this._differ){let o=this._differ.diff(this._ngStyle);o&&this._applyChanges(o)}}_setStyle(o,a){let[s,i]=o.split("."),r=s.indexOf("-")===-1?void 0:oo.DashCase;a!=null?this._renderer.setStyle(this._ngEl.nativeElement,s,i?`${a}${i}`:a,r):this._renderer.removeStyle(this._ngEl.nativeElement,s,r)}_applyChanges(o){o.forEachRemovedItem(a=>this._setStyle(a.key,null)),o.forEachAddedItem(a=>this._setStyle(a.key,a.currentValue)),o.forEachChangedItem(a=>this._setStyle(a.key,a.currentValue))}};t.\u0275fac=function(a){return new(a||t)(O(_e),O(P5),O(N0))},t.\u0275dir=Dt({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0});let e=t;return e})();function jR(e,t){return new $(2100,!1)}var UR="mediumDate",GR=new ut(""),WR=new ut(""),wd=(()=>{let t=class t{constructor(o,a,s){this.locale=o,this.defaultTimezone=a,this.defaultOptions=s}transform(o,a,s,i){if(o==null||o===""||o!==o)return null;try{let r=a??this.defaultOptions?.dateFormat??UR,l=s??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return ER(o,r,i||this.locale,l)}catch(r){throw jR(t,r.message)}}};t.\u0275fac=function(a){return new(a||t)(O(nd,16),O(GR,24),O(WR,24))},t.\u0275pipe=Sc({name:"date",type:t,pure:!0,standalone:!0});let e=t;return e})();var Me=(()=>{let t=class t{};t.\u0275fac=function(a){return new(a||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=Ee({});let e=t;return e})(),Q5="browser",$R="server";function qR(e){return e===Q5}function J5(e){return e===$R}var kx=(()=>{let t=class t{};t.\u0275prov=J({token:t,providedIn:"root",factory:()=>qR(K(io))?new $5(K(Ue),window):new q5});let e=t;return e})(),$5=class{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t){this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){let n=YR(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){this.window.history.scrollRestoration=t}scrollToElement(t){let n=t.getBoundingClientRect(),o=n.left+this.window.pageXOffset,a=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(o-s[0],a-s[1])}};function YR(e,t){let n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let o=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),a=o.currentNode;for(;a;){let s=a.shadowRoot;if(s){let i=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(i)return i}a=o.nextNode()}}return null}var q5=class{setOffset(t){}getScrollPosition(){return[0,0]}scrollToPosition(t){}scrollToAnchor(t){}setHistoryScrollRestoration(t){}},bi=class{};var vl=class{},Md=class{},h2=class e{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(n=>{let o=n.indexOf(":");if(o>0){let a=n.slice(0,o),s=a.toLowerCase(),i=n.slice(o+1).trim();this.maybeSetNormalizedName(a,s),this.headers.has(s)?this.headers.get(s).push(i):this.headers.set(s,[i])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,o)=>{this.setHeaderEntries(o,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,o])=>{this.setHeaderEntries(n,o)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){let n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){let n=t.name.toLowerCase();switch(t.op){case"a":case"s":let o=t.value;if(typeof o=="string"&&(o=[o]),o.length===0)return;this.maybeSetNormalizedName(t.name,n);let a=(t.op==="a"?this.headers.get(n):void 0)||[];a.push(...o),this.headers.set(n,a);break;case"d":let s=t.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let i=this.headers.get(n);if(!i)return;i=i.filter(r=>s.indexOf(r)===-1),i.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,i)}break}}setHeaderEntries(t,n){let o=(Array.isArray(n)?n:[n]).map(s=>s.toString()),a=t.toLowerCase();this.headers.set(a,o),this.maybeSetNormalizedName(t,a)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}};var eu=class{encodeKey(t){return zx(t)}encodeValue(t){return zx(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function XR(e,t){let n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(a=>{let s=a.indexOf("="),[i,r]=s==-1?[t.decodeKey(a),""]:[t.decodeKey(a.slice(0,s)),t.decodeValue(a.slice(s+1))],l=n.get(i)||[];l.push(r),n.set(i,l)}),n}var QR=/%(\d[a-f0-9])/gi,JR={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function zx(e){return encodeURIComponent(e).replace(QR,(t,n)=>JR[n]??t)}function fd(e){return`${e}`}var Xa=class e{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new eu,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=XR(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{let o=t.fromObject[n],a=Array.isArray(o)?o.map(fd):[fd(o)];this.map.set(n,a)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){let n=[];return Object.keys(t).forEach(o=>{let a=t[o];Array.isArray(a)?a.forEach(s=>{n.push({param:o,value:s,op:"a"})}):n.push({param:o,value:a,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let n=this.encoder.encodeKey(t);return this.map.get(t).map(o=>n+"="+this.encoder.encodeValue(o)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let n=(t.op==="a"?this.map.get(t.param):void 0)||[];n.push(fd(t.value)),this.map.set(t.param,n);break;case"d":if(t.value!==void 0){let o=this.map.get(t.param)||[],a=o.indexOf(fd(t.value));a!==-1&&o.splice(a,1),o.length>0?this.map.set(t.param,o):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var nu=class{constructor(){this.map=new Map}set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function tL(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function bx(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function Cx(e){return typeof Blob<"u"&&e instanceof Blob}function Bx(e){return typeof FormData<"u"&&e instanceof FormData}function eL(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var pl=class e{constructor(t,n,o,a){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase();let s;if(tL(this.method)||a?(this.body=o!==void 0?o:null,s=a):s=o,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new h2,this.context??=new nu,!this.params)this.params=new Xa,this.urlWithParams=n;else{let i=this.params.toString();if(i.length===0)this.urlWithParams=n;else{let r=n.indexOf("?"),l=r===-1?"?":r<n.length-1?"&":"";this.urlWithParams=n+l+i}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||bx(this.body)||Cx(this.body)||Bx(this.body)||eL(this.body)?this.body:this.body instanceof Xa?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Bx(this.body)?null:Cx(this.body)?this.body.type||null:bx(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Xa?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(t={}){let n=t.method||this.method,o=t.url||this.url,a=t.responseType||this.responseType,s=t.transferCache??this.transferCache,i=t.body!==void 0?t.body:this.body,r=t.withCredentials??this.withCredentials,l=t.reportProgress??this.reportProgress,h=t.headers||this.headers,c=t.params||this.params,d=t.context??this.context;return t.setHeaders!==void 0&&(h=Object.keys(t.setHeaders).reduce((p,v)=>p.set(v,t.setHeaders[v]),h)),t.setParams&&(c=Object.keys(t.setParams).reduce((p,v)=>p.set(v,t.setParams[v]),c)),new e(n,o,i,{params:c,headers:h,context:d,reportProgress:l,responseType:a,withCredentials:r,transferCache:s})}},Si=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Si||{}),gl=class{constructor(t,n=yd.Ok,o="OK"){this.headers=t.headers||new h2,this.status=t.status!==void 0?t.status:n,this.statusText=t.statusText||o,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},ou=class e extends gl{constructor(t={}){super(t),this.type=Si.ResponseHeader}clone(t={}){return new e({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},md=class e extends gl{constructor(t={}){super(t),this.type=Si.Response,this.body=t.body!==void 0?t.body:null}clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},xd=class extends gl{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},yd=function(e){return e[e.Continue=100]="Continue",e[e.SwitchingProtocols=101]="SwitchingProtocols",e[e.Processing=102]="Processing",e[e.EarlyHints=103]="EarlyHints",e[e.Ok=200]="Ok",e[e.Created=201]="Created",e[e.Accepted=202]="Accepted",e[e.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",e[e.NoContent=204]="NoContent",e[e.ResetContent=205]="ResetContent",e[e.PartialContent=206]="PartialContent",e[e.MultiStatus=207]="MultiStatus",e[e.AlreadyReported=208]="AlreadyReported",e[e.ImUsed=226]="ImUsed",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.Found=302]="Found",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.Unused=306]="Unused",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.LengthRequired=411]="LengthRequired",e[e.PreconditionFailed=412]="PreconditionFailed",e[e.PayloadTooLarge=413]="PayloadTooLarge",e[e.UriTooLong=414]="UriTooLong",e[e.UnsupportedMediaType=415]="UnsupportedMediaType",e[e.RangeNotSatisfiable=416]="RangeNotSatisfiable",e[e.ExpectationFailed=417]="ExpectationFailed",e[e.ImATeapot=418]="ImATeapot",e[e.MisdirectedRequest=421]="MisdirectedRequest",e[e.UnprocessableEntity=422]="UnprocessableEntity",e[e.Locked=423]="Locked",e[e.FailedDependency=424]="FailedDependency",e[e.TooEarly=425]="TooEarly",e[e.UpgradeRequired=426]="UpgradeRequired",e[e.PreconditionRequired=428]="PreconditionRequired",e[e.TooManyRequests=429]="TooManyRequests",e[e.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",e[e.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout",e[e.HttpVersionNotSupported=505]="HttpVersionNotSupported",e[e.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",e[e.InsufficientStorage=507]="InsufficientStorage",e[e.LoopDetected=508]="LoopDetected",e[e.NotExtended=510]="NotExtended",e[e.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",e}(yd||{});function tu(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}var c2=(()=>{let t=class t{constructor(o){this.handler=o}request(o,a,s={}){let i;if(o instanceof pl)i=o;else{let h;s.headers instanceof h2?h=s.headers:h=new h2(s.headers);let c;s.params&&(s.params instanceof Xa?c=s.params:c=new Xa({fromObject:s.params})),i=new pl(o,a,s.body!==void 0?s.body:null,{headers:h,context:s.context,params:c,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let r=bt(i).pipe(Yo(h=>this.handler.handle(h)));if(o instanceof pl||s.observe==="events")return r;let l=r.pipe(hn(h=>h instanceof md));switch(s.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return l.pipe(_t(h=>{if(h.body!==null&&!(h.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return h.body}));case"blob":return l.pipe(_t(h=>{if(h.body!==null&&!(h.body instanceof Blob))throw new Error("Response is not a Blob.");return h.body}));case"text":return l.pipe(_t(h=>{if(h.body!==null&&typeof h.body!="string")throw new Error("Response is not a string.");return h.body}));case"json":default:return l.pipe(_t(h=>h.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(o,a={}){return this.request("DELETE",o,a)}get(o,a={}){return this.request("GET",o,a)}head(o,a={}){return this.request("HEAD",o,a)}jsonp(o,a){return this.request("JSONP",o,{params:new Xa().append(a,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(o,a={}){return this.request("OPTIONS",o,a)}patch(o,a,s={}){return this.request("PATCH",o,tu(s,a))}post(o,a,s={}){return this.request("POST",o,tu(s,a))}put(o,a,s={}){return this.request("PUT",o,tu(s,a))}};t.\u0275fac=function(a){return new(a||t)(nt(vl))},t.\u0275prov=J({token:t,factory:t.\u0275fac});let e=t;return e})();function Ex(e,t){return t(e)}function nL(e,t){return(n,o)=>t.intercept(n,{handle:a=>e(a,o)})}function oL(e,t,n){return(o,a)=>_1(n,()=>t(o,s=>e(s,a)))}var au=new ut(""),su=new ut(""),aL=new ut(""),sL=new ut("");function iL(){let e=null;return(t,n)=>{e===null&&(e=(K(au,{optional:!0})??[]).reduceRight(nL,Ex));let o=K(i2),a=o.add();return e(t,n).pipe(Pa(()=>o.remove(a)))}}var Sx=(()=>{let t=class t extends vl{constructor(o,a){super(),this.backend=o,this.injector=a,this.chain=null,this.pendingTasks=K(i2);let s=K(sL,{optional:!0});this.backend=s??o}handle(o){if(this.chain===null){let s=Array.from(new Set([...this.injector.get(su),...this.injector.get(aL,[])]));this.chain=s.reduceRight((i,r)=>oL(i,r,this.injector),Ex)}let a=this.pendingTasks.add();return this.chain(o,s=>this.backend.handle(s)).pipe(Pa(()=>this.pendingTasks.remove(a)))}};t.\u0275fac=function(a){return new(a||t)(nt(Md),nt(Y0))},t.\u0275prov=J({token:t,factory:t.\u0275fac});let e=t;return e})();var rL=/^\)\]\}',?\n/;function lL(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}var Dx=(()=>{let t=class t{constructor(o){this.xhrFactory=o}handle(o){if(o.method==="JSONP")throw new $(-2800,!1);let a=this.xhrFactory;return(a.\u0275loadImpl?Be(a.\u0275loadImpl()):bt(null)).pipe(cn(()=>new Qt(i=>{let r=a.build();if(r.open(o.method,o.urlWithParams),o.withCredentials&&(r.withCredentials=!0),o.headers.forEach((f,M)=>r.setRequestHeader(f,M.join(","))),o.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!o.headers.has("Content-Type")){let f=o.detectContentTypeHeader();f!==null&&r.setRequestHeader("Content-Type",f)}if(o.responseType){let f=o.responseType.toLowerCase();r.responseType=f!=="json"?f:"text"}let l=o.serializeBody(),h=null,c=()=>{if(h!==null)return h;let f=r.statusText||"OK",M=new h2(r.getAllResponseHeaders()),m=lL(r)||o.url;return h=new ou({headers:M,status:r.status,statusText:f,url:m}),h},d=()=>{let{headers:f,status:M,statusText:m,url:k}=c(),B=null;M!==yd.NoContent&&(B=typeof r.response>"u"?r.responseText:r.response),M===0&&(M=B?yd.Ok:0);let z=M>=200&&M<300;if(o.responseType==="json"&&typeof B=="string"){let I=B;B=B.replace(rL,"");try{B=B!==""?JSON.parse(B):null}catch(y){B=I,z&&(z=!1,B={error:y,text:B})}}z?(i.next(new md({body:B,headers:f,status:M,statusText:m,url:k||void 0})),i.complete()):i.error(new xd({error:B,headers:f,status:M,statusText:m,url:k||void 0}))},p=f=>{let{url:M}=c(),m=new xd({error:f,status:r.status||0,statusText:r.statusText||"Unknown Error",url:M||void 0});i.error(m)},v=!1,g=f=>{v||(i.next(c()),v=!0);let M={type:Si.DownloadProgress,loaded:f.loaded};f.lengthComputable&&(M.total=f.total),o.responseType==="text"&&r.responseText&&(M.partialText=r.responseText),i.next(M)},u=f=>{let M={type:Si.UploadProgress,loaded:f.loaded};f.lengthComputable&&(M.total=f.total),i.next(M)};return r.addEventListener("load",d),r.addEventListener("error",p),r.addEventListener("timeout",p),r.addEventListener("abort",p),o.reportProgress&&(r.addEventListener("progress",g),l!==null&&r.upload&&r.upload.addEventListener("progress",u)),r.send(l),i.next({type:Si.Sent}),()=>{r.removeEventListener("error",p),r.removeEventListener("abort",p),r.removeEventListener("load",d),r.removeEventListener("timeout",p),o.reportProgress&&(r.removeEventListener("progress",g),l!==null&&r.upload&&r.upload.removeEventListener("progress",u)),r.readyState!==r.DONE&&r.abort()}})))}};t.\u0275fac=function(a){return new(a||t)(nt(bi))},t.\u0275prov=J({token:t,factory:t.\u0275fac});let e=t;return e})(),Tx=new ut(""),hL="XSRF-TOKEN",cL=new ut("",{providedIn:"root",factory:()=>hL}),dL="X-XSRF-TOKEN",pL=new ut("",{providedIn:"root",factory:()=>dL}),Id=class{},vL=(()=>{let t=class t{constructor(o,a,s){this.doc=o,this.platform=a,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let o=this.doc.cookie||"";return o!==this.lastCookieString&&(this.parseCount++,this.lastToken=gd(o,this.cookieName),this.lastCookieString=o),this.lastToken}};t.\u0275fac=function(a){return new(a||t)(nt(Ue),nt(io),nt(cL))},t.\u0275prov=J({token:t,factory:t.\u0275fac});let e=t;return e})();function gL(e,t){let n=e.url.toLowerCase();if(!K(Tx)||e.method==="GET"||e.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return t(e);let o=K(Id).getToken(),a=K(pL);return o!=null&&!e.headers.has(a)&&(e=e.clone({headers:e.headers.set(a,o)})),t(e)}var _x=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(_x||{});function uL(e,t){return{\u0275kind:e,\u0275providers:t}}function iu(...e){let t=[c2,Dx,Sx,{provide:vl,useExisting:Sx},{provide:Md,useExisting:Dx},{provide:su,useValue:gL,multi:!0},{provide:Tx,useValue:!0},{provide:Id,useClass:vL}];for(let n of e)t.push(...n.\u0275providers);return Wa(t)}var Hx=new ut("");function wL(){return uL(_x.LegacyInterceptors,[{provide:Hx,useFactory:iL},{provide:su,useExisting:Hx,multi:!0}])}var Ax=(()=>{let t=class t{};t.\u0275fac=function(a){return new(a||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=Ee({providers:[iu(wL())]});let e=t;return e})();var cu=class extends dd{constructor(){super(...arguments),this.supportsDOMEvents=!0}},du=class e extends cu{static makeCurrent(){wx(new e)}onAndCancel(t,n,o){return t.addEventListener(n,o),()=>{t.removeEventListener(n,o)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=fL();return n==null?null:ML(n)}resetBaseElement(){ul=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return gd(document.cookie,t)}},ul=null;function fL(){return ul=ul||document.querySelector("base"),ul?ul.getAttribute("href"):null}function ML(e){return new URL(e,document.baseURI).pathname}var pu=class{addToWindow(t){t0.getAngularTestability=(o,a=!0)=>{let s=t.findTestabilityInTree(o,a);if(s==null)throw new $(5103,!1);return s},t0.getAllAngularTestabilities=()=>t.getAllTestabilities(),t0.getAllAngularRootElements=()=>t.getAllRootElements();let n=o=>{let a=t0.getAllAngularTestabilities(),s=a.length,i=function(){s--,s==0&&o()};a.forEach(r=>{r.whenStable(i)})};t0.frameworkStabilizers||(t0.frameworkStabilizers=[]),t0.frameworkStabilizers.push(n)}findTestabilityInTree(t,n,o){if(n==null)return null;let a=t.getTestability(n);return a??(o?co().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},mL=(()=>{let t=class t{build(){return new XMLHttpRequest}};t.\u0275fac=function(a){return new(a||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac});let e=t;return e})(),vu=new ut(""),Ox=(()=>{let t=class t{constructor(o,a){this._zone=a,this._eventNameToPlugin=new Map,o.forEach(s=>{s.manager=this}),this._plugins=o.slice().reverse()}addEventListener(o,a,s){return this._findPluginFor(a).addEventListener(o,a,s)}getZone(){return this._zone}_findPluginFor(o){let a=this._eventNameToPlugin.get(o);if(a)return a;if(a=this._plugins.find(i=>i.supports(o)),!a)throw new $(5101,!1);return this._eventNameToPlugin.set(o,a),a}};t.\u0275fac=function(a){return new(a||t)(nt(vu),nt(Yt))},t.\u0275prov=J({token:t,factory:t.\u0275fac});let e=t;return e})(),kd=class{constructor(t){this._doc=t}},lu="ng-app-id",Nx=(()=>{let t=class t{constructor(o,a,s,i={}){this.doc=o,this.appId=a,this.nonce=s,this.platformId=i,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=J5(i),this.resetHostNodes()}addStyles(o){for(let a of o)this.changeUsageCount(a,1)===1&&this.onStyleAdded(a)}removeStyles(o){for(let a of o)this.changeUsageCount(a,-1)<=0&&this.onStyleRemoved(a)}ngOnDestroy(){let o=this.styleNodesInDOM;o&&(o.forEach(a=>a.remove()),o.clear());for(let a of this.getAllStyles())this.onStyleRemoved(a);this.resetHostNodes()}addHost(o){this.hostNodes.add(o);for(let a of this.getAllStyles())this.addStyleToHost(o,a)}removeHost(o){this.hostNodes.delete(o)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(o){for(let a of this.hostNodes)this.addStyleToHost(a,o)}onStyleRemoved(o){let a=this.styleRef;a.get(o)?.elements?.forEach(s=>s.remove()),a.delete(o)}collectServerRenderedStyles(){let o=this.doc.head?.querySelectorAll(`style[${lu}="${this.appId}"]`);if(o?.length){let a=new Map;return o.forEach(s=>{s.textContent!=null&&a.set(s.textContent,s)}),a}return null}changeUsageCount(o,a){let s=this.styleRef;if(s.has(o)){let i=s.get(o);return i.usage+=a,i.usage}return s.set(o,{usage:a,elements:[]}),a}getStyleElement(o,a){let s=this.styleNodesInDOM,i=s?.get(a);if(i?.parentNode===o)return s.delete(a),i.removeAttribute(lu),i;{let r=this.doc.createElement("style");return this.nonce&&r.setAttribute("nonce",this.nonce),r.textContent=a,this.platformIsServer&&r.setAttribute(lu,this.appId),o.appendChild(r),r}}addStyleToHost(o,a){let s=this.getStyleElement(o,a),i=this.styleRef,r=i.get(a)?.elements;r?r.push(s):i.set(a,{elements:[s],usage:1})}resetHostNodes(){let o=this.hostNodes;o.clear(),o.add(this.doc.head)}};t.\u0275fac=function(a){return new(a||t)(nt(Ue),nt(Nc),nt(h5,8),nt(io))},t.\u0275prov=J({token:t,factory:t.\u0275fac});let e=t;return e})(),hu={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},uu=/%COMP%/g,Px="%COMP%",xL=`_nghost-${Px}`,yL=`_ngcontent-${Px}`,IL=!0,kL=new ut("",{providedIn:"root",factory:()=>IL});function zL(e){return yL.replace(uu,e)}function bL(e){return xL.replace(uu,e)}function Fx(e,t){return t.map(n=>n.replace(uu,e))}var zd=(()=>{let t=class t{constructor(o,a,s,i,r,l,h,c=null){this.eventManager=o,this.sharedStylesHost=a,this.appId=s,this.removeStylesOnCompDestroy=i,this.doc=r,this.platformId=l,this.ngZone=h,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=J5(l),this.defaultRenderer=new wl(o,r,h,this.platformIsServer)}createRenderer(o,a){if(!o||!a)return this.defaultRenderer;this.platformIsServer&&a.encapsulation===to.ShadowDom&&(a=V(S({},a),{encapsulation:to.Emulated}));let s=this.getOrCreateRenderer(o,a);return s instanceof bd?s.applyToHost(o):s instanceof fl&&s.applyStyles(),s}getOrCreateRenderer(o,a){let s=this.rendererByCompId,i=s.get(a.id);if(!i){let r=this.doc,l=this.ngZone,h=this.eventManager,c=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(a.encapsulation){case to.Emulated:i=new bd(h,c,a,this.appId,d,r,l,p);break;case to.ShadowDom:return new gu(h,c,o,a,r,l,this.nonce,p);default:i=new fl(h,c,a,d,r,l,p);break}s.set(a.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}};t.\u0275fac=function(a){return new(a||t)(nt(Ox),nt(Nx),nt(Nc),nt(kL),nt(Ue),nt(io),nt(Yt),nt(h5))},t.\u0275prov=J({token:t,factory:t.\u0275fac});let e=t;return e})(),wl=class{constructor(t,n,o,a){this.eventManager=t,this.doc=n,this.ngZone=o,this.platformIsServer=a,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(hu[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(Rx(t)?t.content:t).appendChild(n)}insertBefore(t,n,o){t&&(Rx(t)?t.content:t).insertBefore(n,o)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let o=typeof t=="string"?this.doc.querySelector(t):t;if(!o)throw new $(-5104,!1);return n||(o.textContent=""),o}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,o,a){if(a){n=a+":"+n;let s=hu[a];s?t.setAttributeNS(s,n,o):t.setAttribute(n,o)}else t.setAttribute(n,o)}removeAttribute(t,n,o){if(o){let a=hu[o];a?t.removeAttributeNS(a,n):t.removeAttribute(`${o}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,o,a){a&(oo.DashCase|oo.Important)?t.style.setProperty(n,o,a&oo.Important?"important":""):t.style[n]=o}removeStyle(t,n,o){o&oo.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,o){t!=null&&(t[n]=o)}setValue(t,n){t.nodeValue=n}listen(t,n,o){if(typeof t=="string"&&(t=co().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(o))}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))===!1&&n.preventDefault()}}};function Rx(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var gu=class extends wl{constructor(t,n,o,a,s,i,r,l){super(t,s,i,l),this.sharedStylesHost=n,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=Fx(a.id,a.styles);for(let c of h){let d=document.createElement("style");r&&d.setAttribute("nonce",r),d.textContent=c,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,o){return super.insertBefore(this.nodeOrShadowRoot(t),n,o)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},fl=class extends wl{constructor(t,n,o,a,s,i,r,l){super(t,s,i,r),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=a,this.styles=l?Fx(l,o.styles):o.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},bd=class extends fl{constructor(t,n,o,a,s,i,r,l){let h=a+"-"+o.id;super(t,n,o,s,i,r,l,h),this.contentAttr=zL(h),this.hostAttr=bL(h)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let o=super.createElement(t,n);return super.setAttribute(o,this.contentAttr,""),o}},CL=(()=>{let t=class t extends kd{constructor(o){super(o)}supports(o){return!0}addEventListener(o,a,s){return o.addEventListener(a,s,!1),()=>this.removeEventListener(o,a,s)}removeEventListener(o,a,s){return o.removeEventListener(a,s)}};t.\u0275fac=function(a){return new(a||t)(nt(Ue))},t.\u0275prov=J({token:t,factory:t.\u0275fac});let e=t;return e})(),Lx=["alt","control","meta","shift"],BL={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},SL={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},DL=(()=>{let t=class t extends kd{constructor(o){super(o)}supports(o){return t.parseEventName(o)!=null}addEventListener(o,a,s){let i=t.parseEventName(a),r=t.eventCallback(i.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>co().onAndCancel(o,i.domEventName,r))}static parseEventName(o){let a=o.toLowerCase().split("."),s=a.shift();if(a.length===0||!(s==="keydown"||s==="keyup"))return null;let i=t._normalizeKey(a.pop()),r="",l=a.indexOf("code");if(l>-1&&(a.splice(l,1),r="code."),Lx.forEach(c=>{let d=a.indexOf(c);d>-1&&(a.splice(d,1),r+=c+".")}),r+=i,a.length!=0||i.length===0)return null;let h={};return h.domEventName=s,h.fullKey=r,h}static matchEventFullKeyCode(o,a){let s=BL[o.key]||o.key,i="";return a.indexOf("code.")>-1&&(s=o.code,i="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),Lx.forEach(r=>{if(r!==s){let l=SL[r];l(o)&&(i+=r+".")}}),i+=s,i===a)}static eventCallback(o,a,s){return i=>{t.matchEventFullKeyCode(i,o)&&s.runGuarded(()=>a(i))}}static _normalizeKey(o){return o==="esc"?"escape":o}};t.\u0275fac=function(a){return new(a||t)(nt(Ue))},t.\u0275prov=J({token:t,factory:t.\u0275fac});let e=t;return e})();function Vx(e,t){return rx(S({rootComponent:e},HL(t)))}function HL(e){return{appProviders:[...jx,...e?.providers??[]],platformProviders:AL}}function EL(){du.makeCurrent()}function TL(){return new no}function _L(){return N8(document),document}var AL=[{provide:io,useValue:Q5},{provide:r5,useValue:EL,multi:!0},{provide:Ue,useFactory:_L,deps:[]}];var RL=new ut(""),LL=[{provide:cl,useClass:pu,deps:[]},{provide:L5,useClass:Qc,deps:[Yt,Jc,cl]},{provide:Qc,useClass:Qc,deps:[Yt,Jc,cl]}],jx=[{provide:Dc,useValue:"root"},{provide:no,useFactory:TL,deps:[]},{provide:vu,useClass:CL,multi:!0,deps:[Ue,Yt,io]},{provide:vu,useClass:DL,multi:!0,deps:[Ue]},zd,Nx,Ox,{provide:o2,useExisting:zd},{provide:bi,useClass:mL,deps:[]},[]],Ux=(()=>{let t=class t{constructor(o){}static withServerTransition(o){return{ngModule:t,providers:[{provide:Nc,useValue:o.appId}]}}};t.\u0275fac=function(a){return new(a||t)(nt(RL,12))},t.\u0275mod=Te({type:t}),t.\u0275inj=Ee({providers:[...jx,...LL],imports:[Me,ix]});let e=t;return e})();var n0=(()=>{let t=class t{constructor(o){this._doc=o}getTitle(){return this._doc.title}setTitle(o){this._doc.title=o||""}};t.\u0275fac=function(a){return new(a||t)(nt(Ue))},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var wu=(()=>{let t=class t{};t.\u0275fac=function(a){return new(a||t)},t.\u0275prov=J({token:t,factory:function(a){let s=null;return a?s=new(a||t):s=nt(OL),s},providedIn:"root"});let e=t;return e})(),OL=(()=>{let t=class t extends wu{constructor(o){super(),this._doc=o}sanitize(o,a){if(a==null)return null;switch(o){case An.NONE:return a;case An.HTML:return ta(a,"HTML")?t1(a):d5(this._doc,String(a)).toString();case An.STYLE:return ta(a,"Style")?t1(a):a;case An.SCRIPT:if(ta(a,"Script"))return t1(a);throw new $(5200,!1);case An.URL:return ta(a,"URL")?t1(a):Fc(String(a));case An.RESOURCE_URL:if(ta(a,"ResourceURL"))return t1(a);throw new $(5201,!1);default:throw new $(5202,!1)}}bypassSecurityTrustHtml(o){return j8(o)}bypassSecurityTrustStyle(o){return U8(o)}bypassSecurityTrustScript(o){return G8(o)}bypassSecurityTrustUrl(o){return W8(o)}bypassSecurityTrustResourceUrl(o){return $8(o)}};t.\u0275fac=function(a){return new(a||t)(nt(Ue))},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Rt="primary",_l=Symbol("RouteTitle"),yu=class{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function _i(e){return new yu(e)}function NL(e,t,n){let o=n.path.split("/");if(o.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||o.length<e.length))return null;let a={};for(let s=0;s<o.length;s++){let i=o[s],r=e[s];if(i.startsWith(":"))a[i.substring(1)]=r;else if(i!==r.path)return null}return{consumed:e.slice(0,o.length),posParams:a}}function PL(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!po(e[n],t[n]))return!1;return!0}function po(e,t){let n=e?Iu(e):void 0,o=t?Iu(t):void 0;if(!n||!o||n.length!=o.length)return!1;let a;for(let s=0;s<n.length;s++)if(a=n[s],!Qx(e[a],t[a]))return!1;return!0}function Iu(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function Qx(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),o=[...t].sort();return n.every((a,s)=>o[s]===a)}else return e===t}function Jx(e){return e.length>0?e[e.length-1]:null}function es(e){return pv(e)?e:l2(e)?Be(Promise.resolve(e)):bt(e)}var FL={exact:ey,subset:ny},ty={exact:VL,subset:jL,ignored:()=>!0};function Gx(e,t,n){return FL[n.paths](e.root,t.root,n.matrixParams)&&ty[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function VL(e,t){return po(e,t)}function ey(e,t,n){if(!p2(e.segments,t.segments)||!Sd(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let o in t.children)if(!e.children[o]||!ey(e.children[o],t.children[o],n))return!1;return!0}function jL(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>Qx(e[n],t[n]))}function ny(e,t,n){return oy(e,t,t.segments,n)}function oy(e,t,n,o){if(e.segments.length>n.length){let a=e.segments.slice(0,n.length);return!(!p2(a,n)||t.hasChildren()||!Sd(a,n,o))}else if(e.segments.length===n.length){if(!p2(e.segments,n)||!Sd(e.segments,n,o))return!1;for(let a in t.children)if(!e.children[a]||!ny(e.children[a],t.children[a],o))return!1;return!0}else{let a=n.slice(0,e.segments.length),s=n.slice(e.segments.length);return!p2(e.segments,a)||!Sd(e.segments,a,o)||!e.children[Rt]?!1:oy(e.children[Rt],t,s,o)}}function Sd(e,t,n){return t.every((o,a)=>ty[n](e[a].parameters,o.parameters))}var Qa=class{constructor(t=new pe([],{}),n={},o=null){this.root=t,this.queryParams=n,this.fragment=o}get queryParamMap(){return this._queryParamMap??=_i(this.queryParams),this._queryParamMap}toString(){return WL.serialize(this)}},pe=class{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Object.values(n).forEach(o=>o.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Dd(this)}},d2=class{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=_i(this.parameters),this._parameterMap}toString(){return sy(this)}};function UL(e,t){return p2(e,t)&&e.every((n,o)=>po(n.parameters,t[o].parameters))}function p2(e,t){return e.length!==t.length?!1:e.every((n,o)=>n.path===t[o].path)}function GL(e,t){let n=[];return Object.entries(e.children).forEach(([o,a])=>{o===Rt&&(n=n.concat(t(a,o)))}),Object.entries(e.children).forEach(([o,a])=>{o!==Rt&&(n=n.concat(t(a,o)))}),n}var Al=(()=>{let t=class t{};t.\u0275fac=function(a){return new(a||t)},t.\u0275prov=J({token:t,factory:()=>new zl,providedIn:"root"});let e=t;return e})(),zl=class{parse(t){let n=new zu(t);return new Qa(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${Ml(t.root,!0)}`,o=YL(t.queryParams),a=typeof t.fragment=="string"?`#${$L(t.fragment)}`:"";return`${n}${o}${a}`}},WL=new zl;function Dd(e){return e.segments.map(t=>sy(t)).join("/")}function Ml(e,t){if(!e.hasChildren())return Dd(e);if(t){let n=e.children[Rt]?Ml(e.children[Rt],!1):"",o=[];return Object.entries(e.children).forEach(([a,s])=>{a!==Rt&&o.push(`${a}:${Ml(s,!1)}`)}),o.length>0?`${n}(${o.join("//")})`:n}else{let n=GL(e,(o,a)=>a===Rt?[Ml(e.children[Rt],!1)]:[`${a}:${Ml(o,!1)}`]);return Object.keys(e.children).length===1&&e.children[Rt]!=null?`${Dd(e)}/${n[0]}`:`${Dd(e)}/(${n.join("//")})`}}function ay(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Cd(e){return ay(e).replace(/%3B/gi,";")}function $L(e){return encodeURI(e)}function ku(e){return ay(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Hd(e){return decodeURIComponent(e)}function Wx(e){return Hd(e.replace(/\+/g,"%20"))}function sy(e){return`${ku(e.path)}${qL(e.parameters)}`}function qL(e){return Object.entries(e).map(([t,n])=>`;${ku(t)}=${ku(n)}`).join("")}function YL(e){let t=Object.entries(e).map(([n,o])=>Array.isArray(o)?o.map(a=>`${Cd(n)}=${Cd(a)}`).join("&"):`${Cd(n)}=${Cd(o)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var KL=/^[^\/()?;#]+/;function fu(e){let t=e.match(KL);return t?t[0]:""}var ZL=/^[^\/()?;=#]+/;function XL(e){let t=e.match(ZL);return t?t[0]:""}var QL=/^[^=?&#]+/;function JL(e){let t=e.match(QL);return t?t[0]:""}var tO=/^[^&#]+/;function eO(e){let t=e.match(tO);return t?t[0]:""}var zu=class{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new pe([],{}):new pe([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let o={};return this.peekStartsWith("(")&&(o=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(o[Rt]=new pe(t,n)),o}parseSegment(){let t=fu(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new $(4009,!1);return this.capture(t),new d2(Hd(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=XL(this.remaining);if(!n)return;this.capture(n);let o="";if(this.consumeOptional("=")){let a=fu(this.remaining);a&&(o=a,this.capture(o))}t[Hd(n)]=Hd(o)}parseQueryParam(t){let n=JL(this.remaining);if(!n)return;this.capture(n);let o="";if(this.consumeOptional("=")){let i=eO(this.remaining);i&&(o=i,this.capture(o))}let a=Wx(n),s=Wx(o);if(t.hasOwnProperty(a)){let i=t[a];Array.isArray(i)||(i=[i],t[a]=i),i.push(s)}else t[a]=s}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let o=fu(this.remaining),a=this.remaining[o.length];if(a!=="/"&&a!==")"&&a!==";")throw new $(4010,!1);let s;o.indexOf(":")>-1?(s=o.slice(0,o.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=Rt);let i=this.parseChildren();n[s]=Object.keys(i).length===1?i[Rt]:new pe([],i),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new $(4011,!1)}};function iy(e){return e.segments.length>0?new pe([],{[Rt]:e}):e}function ry(e){let t={};for(let[o,a]of Object.entries(e.children)){let s=ry(a);if(o===Rt&&s.segments.length===0&&s.hasChildren())for(let[i,r]of Object.entries(s.children))t[i]=r;else(s.segments.length>0||s.hasChildren())&&(t[o]=s)}let n=new pe(e.segments,t);return nO(n)}function nO(e){if(e.numberOfChildren===1&&e.children[Rt]){let t=e.children[Rt];return new pe(e.segments.concat(t.segments),t.children)}return e}function Ai(e){return e instanceof Qa}function oO(e,t,n=null,o=null){let a=ly(e);return hy(a,t,n,o)}function ly(e){let t;function n(s){let i={};for(let l of s.children){let h=n(l);i[l.outlet]=h}let r=new pe(s.url,i);return s===e&&(t=r),r}let o=n(e.root),a=iy(o);return t??a}function hy(e,t,n,o){let a=e;for(;a.parent;)a=a.parent;if(t.length===0)return Mu(a,a,a,n,o);let s=aO(t);if(s.toRoot())return Mu(a,a,new pe([],{}),n,o);let i=sO(s,a,e),r=i.processChildren?yl(i.segmentGroup,i.index,s.commands):dy(i.segmentGroup,i.index,s.commands);return Mu(a,i.segmentGroup,r,n,o)}function Ed(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function bl(e){return typeof e=="object"&&e!=null&&e.outlets}function Mu(e,t,n,o,a){let s={};o&&Object.entries(o).forEach(([l,h])=>{s[l]=Array.isArray(h)?h.map(c=>`${c}`):`${h}`});let i;e===t?i=n:i=cy(e,t,n);let r=iy(ry(i));return new Qa(r,s,a)}function cy(e,t,n){let o={};return Object.entries(e.children).forEach(([a,s])=>{s===t?o[a]=n:o[a]=cy(s,t,n)}),new pe(e.segments,o)}var Td=class{constructor(t,n,o){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=o,t&&o.length>0&&Ed(o[0]))throw new $(4003,!1);let a=o.find(bl);if(a&&a!==Jx(o))throw new $(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function aO(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new Td(!0,0,e);let t=0,n=!1,o=e.reduce((a,s,i)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let r={};return Object.entries(s.outlets).forEach(([l,h])=>{r[l]=typeof h=="string"?h.split("/"):h}),[...a,{outlets:r}]}if(s.segmentPath)return[...a,s.segmentPath]}return typeof s!="string"?[...a,s]:i===0?(s.split("/").forEach((r,l)=>{l==0&&r==="."||(l==0&&r===""?n=!0:r===".."?t++:r!=""&&a.push(r))}),a):[...a,s]},[]);return new Td(n,t,o)}var Ei=class{constructor(t,n,o){this.segmentGroup=t,this.processChildren=n,this.index=o}};function sO(e,t,n){if(e.isAbsolute)return new Ei(t,!0,0);if(!n)return new Ei(t,!1,NaN);if(n.parent===null)return new Ei(n,!0,0);let o=Ed(e.commands[0])?0:1,a=n.segments.length-1+o;return iO(n,a,e.numberOfDoubleDots)}function iO(e,t,n){let o=e,a=t,s=n;for(;s>a;){if(s-=a,o=o.parent,!o)throw new $(4005,!1);a=o.segments.length}return new Ei(o,!1,a-s)}function rO(e){return bl(e[0])?e[0].outlets:{[Rt]:e}}function dy(e,t,n){if(e??=new pe([],{}),e.segments.length===0&&e.hasChildren())return yl(e,t,n);let o=lO(e,t,n),a=n.slice(o.commandIndex);if(o.match&&o.pathIndex<e.segments.length){let s=new pe(e.segments.slice(0,o.pathIndex),{});return s.children[Rt]=new pe(e.segments.slice(o.pathIndex),e.children),yl(s,0,a)}else return o.match&&a.length===0?new pe(e.segments,{}):o.match&&!e.hasChildren()?bu(e,t,n):o.match?yl(e,0,a):bu(e,t,n)}function yl(e,t,n){if(n.length===0)return new pe(e.segments,{});{let o=rO(n),a={};if(Object.keys(o).some(s=>s!==Rt)&&e.children[Rt]&&e.numberOfChildren===1&&e.children[Rt].segments.length===0){let s=yl(e.children[Rt],t,n);return new pe(e.segments,s.children)}return Object.entries(o).forEach(([s,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(a[s]=dy(e.children[s],t,i))}),Object.entries(e.children).forEach(([s,i])=>{o[s]===void 0&&(a[s]=i)}),new pe(e.segments,a)}}function lO(e,t,n){let o=0,a=t,s={match:!1,pathIndex:0,commandIndex:0};for(;a<e.segments.length;){if(o>=n.length)return s;let i=e.segments[a],r=n[o];if(bl(r))break;let l=`${r}`,h=o<n.length-1?n[o+1]:null;if(a>0&&l===void 0)break;if(l&&h&&typeof h=="object"&&h.outlets===void 0){if(!qx(l,h,i))return s;o+=2}else{if(!qx(l,{},i))return s;o++}a++}return{match:!0,pathIndex:a,commandIndex:o}}function bu(e,t,n){let o=e.segments.slice(0,t),a=0;for(;a<n.length;){let s=n[a];if(bl(s)){let l=hO(s.outlets);return new pe(o,l)}if(a===0&&Ed(n[0])){let l=e.segments[t];o.push(new d2(l.path,$x(n[0]))),a++;continue}let i=bl(s)?s.outlets[Rt]:`${s}`,r=a<n.length-1?n[a+1]:null;i&&r&&Ed(r)?(o.push(new d2(i,$x(r))),a+=2):(o.push(new d2(i,{})),a++)}return new pe(o,{})}function hO(e){let t={};return Object.entries(e).forEach(([n,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(t[n]=bu(new pe([],{}),0,o))}),t}function $x(e){let t={};return Object.entries(e).forEach(([n,o])=>t[n]=`${o}`),t}function qx(e,t,n){return e==n.path&&po(t,n.parameters)}var Il="imperative",m0=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(m0||{}),s1=class{constructor(t,n){this.id=t,this.url=n}},Ri=class extends s1{constructor(t,n,o="imperative",a=null){super(t,n),this.type=m0.NavigationStart,this.navigationTrigger=o,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},N1=class extends s1{constructor(t,n,o){super(t,n),this.urlAfterRedirects=o,this.type=m0.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Pn=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(Pn||{}),_d=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(_d||{}),Ja=class extends s1{constructor(t,n,o,a){super(t,n),this.reason=o,this.code=a,this.type=m0.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ts=class extends s1{constructor(t,n,o,a){super(t,n),this.reason=o,this.code=a,this.type=m0.NavigationSkipped}},Cl=class extends s1{constructor(t,n,o,a){super(t,n),this.error=o,this.target=a,this.type=m0.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ad=class extends s1{constructor(t,n,o,a){super(t,n),this.urlAfterRedirects=o,this.state=a,this.type=m0.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Cu=class extends s1{constructor(t,n,o,a){super(t,n),this.urlAfterRedirects=o,this.state=a,this.type=m0.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Bu=class extends s1{constructor(t,n,o,a,s){super(t,n),this.urlAfterRedirects=o,this.state=a,this.shouldActivate=s,this.type=m0.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Su=class extends s1{constructor(t,n,o,a){super(t,n),this.urlAfterRedirects=o,this.state=a,this.type=m0.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Du=class extends s1{constructor(t,n,o,a){super(t,n),this.urlAfterRedirects=o,this.state=a,this.type=m0.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Hu=class{constructor(t){this.route=t,this.type=m0.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Eu=class{constructor(t){this.route=t,this.type=m0.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Tu=class{constructor(t){this.snapshot=t,this.type=m0.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},_u=class{constructor(t){this.snapshot=t,this.type=m0.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Au=class{constructor(t){this.snapshot=t,this.type=m0.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ru=class{constructor(t){this.snapshot=t,this.type=m0.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Rd=class{constructor(t,n,o){this.routerEvent=t,this.position=n,this.anchor=o,this.type=m0.Scroll}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},Bl=class{},Sl=class{constructor(t){this.url=t}};var Lu=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Rl,this.attachRef=null}},Rl=(()=>{let t=class t{constructor(){this.contexts=new Map}onChildOutletCreated(o,a){let s=this.getOrCreateContext(o);s.outlet=a,this.contexts.set(o,s)}onChildOutletDestroyed(o){let a=this.getContext(o);a&&(a.outlet=null,a.attachRef=null)}onOutletDeactivated(){let o=this.contexts;return this.contexts=new Map,o}onOutletReAttached(o){this.contexts=o}getOrCreateContext(o){let a=this.getContext(o);return a||(a=new Lu,this.contexts.set(o,a)),a}getContext(o){return this.contexts.get(o)||null}};t.\u0275fac=function(a){return new(a||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Ld=class{constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=Ou(t,this._root);return n?n.children.map(o=>o.value):[]}firstChild(t){let n=Ou(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=Nu(t,this._root);return n.length<2?[]:n[n.length-2].children.map(a=>a.value).filter(a=>a!==t)}pathFromRoot(t){return Nu(t,this._root).map(n=>n.value)}};function Ou(e,t){if(e===t.value)return t;for(let n of t.children){let o=Ou(e,n);if(o)return o}return null}function Nu(e,t){if(e===t.value)return[t];for(let n of t.children){let o=Nu(e,n);if(o.length)return o.unshift(t),o}return[]}var Nn=class{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function Hi(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var Od=class extends Ld{constructor(t,n){super(t),this.snapshot=n,Yu(this,t)}toString(){return this.snapshot.toString()}};function py(e){let t=cO(e),n=new Ce([new d2("",{})]),o=new Ce({}),a=new Ce({}),s=new Ce({}),i=new Ce(""),r=new un(n,o,s,i,a,Rt,e,t.root);return r.snapshot=t.root,new Od(new Nn(r,[]),t)}function cO(e){let t={},n={},o={},a="",s=new Dl([],t,o,a,n,Rt,e,null,{});return new Nd("",new Nn(s,[]))}var un=class{constructor(t,n,o,a,s,i,r,l){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=o,this.fragmentSubject=a,this.dataSubject=s,this.outlet=i,this.component=r,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(_t(h=>h[_l]))??bt(void 0),this.url=t,this.params=n,this.queryParams=o,this.fragment=a,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(_t(t=>_i(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(_t(t=>_i(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function qu(e,t,n="emptyOnly"){let o,{routeConfig:a}=e;return t!==null&&(n==="always"||a?.path===""||!t.component&&!t.routeConfig?.loadComponent)?o={params:S(S({},t.params),e.params),data:S(S({},t.data),e.data),resolve:S(S(S(S({},e.data),t.data),a?.data),e._resolvedData)}:o={params:S({},e.params),data:S({},e.data),resolve:S(S({},e.data),e._resolvedData??{})},a&&gy(a)&&(o.resolve[_l]=a.title),o}var Dl=class{get title(){return this.data?.[_l]}constructor(t,n,o,a,s,i,r,l,h){this.url=t,this.params=n,this.queryParams=o,this.fragment=a,this.data=s,this.outlet=i,this.component=r,this.routeConfig=l,this._resolve=h}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=_i(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=_i(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(o=>o.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},Nd=class extends Ld{constructor(t,n){super(n),this.url=t,Yu(this,n)}toString(){return vy(this._root)}};function Yu(e,t){t.value._routerState=e,t.children.forEach(n=>Yu(e,n))}function vy(e){let t=e.children.length>0?` { ${e.children.map(vy).join(", ")} } `:"";return`${e.value}${t}`}function mu(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,po(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),po(t.params,n.params)||e.paramsSubject.next(n.params),PL(t.url,n.url)||e.urlSubject.next(n.url),po(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Pu(e,t){let n=po(e.params,t.params)&&UL(e.url,t.url),o=!e.parent!=!t.parent;return n&&!o&&(!e.parent||Pu(e.parent,t.parent))}function gy(e){return typeof e.title=="string"||e.title===null}var Ku=(()=>{let t=class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=Rt,this.activateEvents=new fe,this.deactivateEvents=new fe,this.attachEvents=new fe,this.detachEvents=new fe,this.parentContexts=K(Rl),this.location=K(w0),this.changeDetector=K(ho),this.environmentInjector=K(Y0),this.inputBinder=K(jd,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(o){if(o.name){let{firstChange:a,previousValue:s}=o.name;if(a)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(o){return this.parentContexts.getContext(o)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let o=this.parentContexts.getContext(this.name);o?.route&&(o.attachRef?this.attach(o.attachRef,o.route):this.activateWith(o.route,o.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new $(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new $(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new $(4012,!1);this.location.detach();let o=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(o.instance),o}attach(o,a){this.activated=o,this._activatedRoute=a,this.location.insert(o.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(o.instance)}deactivate(){if(this.activated){let o=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(o)}}activateWith(o,a){if(this.isActivated)throw new $(4013,!1);this._activatedRoute=o;let s=this.location,r=o.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,h=new Fu(o,l,s.injector);this.activated=s.createComponent(r,{index:s.length,injector:h,environmentInjector:a??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};t.\u0275fac=function(a){return new(a||t)},t.\u0275dir=Dt({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[A1]});let e=t;return e})(),Fu=class{constructor(t,n,o){this.route=t,this.childContexts=n,this.parent=o,this.__ngOutletInjector=!0}get(t,n){return t===un?this.route:t===Rl?this.childContexts:this.parent.get(t,n)}},jd=new ut(""),Yx=(()=>{let t=class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(o){this.unsubscribeFromRouteData(o),this.subscribeToRouteData(o)}unsubscribeFromRouteData(o){this.outletDataSubscriptions.get(o)?.unsubscribe(),this.outletDataSubscriptions.delete(o)}subscribeToRouteData(o){let{activatedRoute:a}=o,s=Wr([a.queryParams,a.params,a.data]).pipe(cn(([i,r,l],h)=>(l=S(S(S({},i),r),l),h===0?bt(l):Promise.resolve(l)))).subscribe(i=>{if(!o.isActivated||!o.activatedComponentRef||o.activatedRoute!==a||a.component===null){this.unsubscribeFromRouteData(o);return}let r=lx(a.component);if(!r){this.unsubscribeFromRouteData(o);return}for(let{templateName:l}of r.inputs)o.activatedComponentRef.setInput(l,i[l])});this.outletDataSubscriptions.set(o,s)}};t.\u0275fac=function(a){return new(a||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac});let e=t;return e})();function dO(e,t,n){let o=Hl(e,t._root,n?n._root:void 0);return new Od(o,t)}function Hl(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let o=n.value;o._futureSnapshot=t.value;let a=pO(e,t,n);return new Nn(o,a)}else{if(e.shouldAttach(t.value)){let s=e.retrieve(t.value);if(s!==null){let i=s.route;return i.value._futureSnapshot=t.value,i.children=t.children.map(r=>Hl(e,r)),i}}let o=vO(t.value),a=t.children.map(s=>Hl(e,s));return new Nn(o,a)}}function pO(e,t,n){return t.children.map(o=>{for(let a of n.children)if(e.shouldReuseRoute(o.value,a.value.snapshot))return Hl(e,o,a);return Hl(e,o)})}function vO(e){return new un(new Ce(e.url),new Ce(e.params),new Ce(e.queryParams),new Ce(e.fragment),new Ce(e.data),e.outlet,e.component,e)}var uy="ngNavigationCancelingError";function wy(e,t){let{redirectTo:n,navigationBehaviorOptions:o}=Ai(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,a=fy(!1,Pn.Redirect);return a.url=n,a.navigationBehaviorOptions=o,a}function fy(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[uy]=!0,n.cancellationCode=t,n}function gO(e){return My(e)&&Ai(e.url)}function My(e){return!!e&&e[uy]}var uO=(()=>{let t=class t{};t.\u0275fac=function(a){return new(a||t)},t.\u0275cmp=Pt({type:t,selectors:[["ng-component"]],standalone:!0,features:[Gt],decls:1,vars:0,template:function(a,s){a&1&&yt(0,"router-outlet")},dependencies:[Ku],encapsulation:2});let e=t;return e})();function wO(e,t){return e.providers&&!e._injector&&(e._injector=Wc(e.providers,t,`Route: ${e.path}`)),e._injector??t}function Zu(e){let t=e.children&&e.children.map(Zu),n=t?V(S({},e),{children:t}):S({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Rt&&(n.component=uO),n}function vo(e){return e.outlet||Rt}function fO(e,t){let n=e.filter(o=>vo(o)===t);return n.push(...e.filter(o=>vo(o)!==t)),n}function Ll(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var MO=(e,t,n,o)=>_t(a=>(new Vu(t,a.targetRouterState,a.currentRouterState,n,o).activate(e),a)),Vu=class{constructor(t,n,o,a,s){this.routeReuseStrategy=t,this.futureState=n,this.currState=o,this.forwardEvent=a,this.inputBindingEnabled=s}activate(t){let n=this.futureState._root,o=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,o,t),mu(this.futureState.root),this.activateChildRoutes(n,o,t)}deactivateChildRoutes(t,n,o){let a=Hi(n);t.children.forEach(s=>{let i=s.value.outlet;this.deactivateRoutes(s,a[i],o),delete a[i]}),Object.values(a).forEach(s=>{this.deactivateRouteAndItsChildren(s,o)})}deactivateRoutes(t,n,o){let a=t.value,s=n?n.value:null;if(a===s)if(a.component){let i=o.getContext(a.outlet);i&&this.deactivateChildRoutes(t,n,i.children)}else this.deactivateChildRoutes(t,n,o);else s&&this.deactivateRouteAndItsChildren(n,o)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let o=n.getContext(t.value.outlet),a=o&&t.value.component?o.children:n,s=Hi(t);for(let i of Object.values(s))this.deactivateRouteAndItsChildren(i,a);if(o&&o.outlet){let i=o.outlet.detach(),r=o.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:i,route:t,contexts:r})}}deactivateRouteAndOutlet(t,n){let o=n.getContext(t.value.outlet),a=o&&t.value.component?o.children:n,s=Hi(t);for(let i of Object.values(s))this.deactivateRouteAndItsChildren(i,a);o&&(o.outlet&&(o.outlet.deactivate(),o.children.onOutletDeactivated()),o.attachRef=null,o.route=null)}activateChildRoutes(t,n,o){let a=Hi(n);t.children.forEach(s=>{this.activateRoutes(s,a[s.value.outlet],o),this.forwardEvent(new Ru(s.value.snapshot))}),t.children.length&&this.forwardEvent(new _u(t.value.snapshot))}activateRoutes(t,n,o){let a=t.value,s=n?n.value:null;if(mu(a),a===s)if(a.component){let i=o.getOrCreateContext(a.outlet);this.activateChildRoutes(t,n,i.children)}else this.activateChildRoutes(t,n,o);else if(a.component){let i=o.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){let r=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),i.children.onOutletReAttached(r.contexts),i.attachRef=r.componentRef,i.route=r.route.value,i.outlet&&i.outlet.attach(r.componentRef,r.route.value),mu(r.route.value),this.activateChildRoutes(t,null,i.children)}else{let r=Ll(a.snapshot);i.attachRef=null,i.route=a,i.injector=r,i.outlet&&i.outlet.activateWith(a,i.injector),this.activateChildRoutes(t,null,i.children)}}else this.activateChildRoutes(t,null,o)}},Pd=class{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Ti=class{constructor(t,n){this.component=t,this.route=n}};function mO(e,t,n){let o=e._root,a=t?t._root:null;return ml(o,a,n,[o.value])}function xO(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function Oi(e,t){let n=Symbol(),o=t.get(e,n);return o===n?typeof e=="function"&&!D9(e)?e:t.get(e):o}function ml(e,t,n,o,a={canDeactivateChecks:[],canActivateChecks:[]}){let s=Hi(t);return e.children.forEach(i=>{yO(i,s[i.value.outlet],n,o.concat([i.value]),a),delete s[i.value.outlet]}),Object.entries(s).forEach(([i,r])=>kl(r,n.getContext(i),a)),a}function yO(e,t,n,o,a={canDeactivateChecks:[],canActivateChecks:[]}){let s=e.value,i=t?t.value:null,r=n?n.getContext(e.value.outlet):null;if(i&&s.routeConfig===i.routeConfig){let l=IO(i,s,s.routeConfig.runGuardsAndResolvers);l?a.canActivateChecks.push(new Pd(o)):(s.data=i.data,s._resolvedData=i._resolvedData),s.component?ml(e,t,r?r.children:null,o,a):ml(e,t,n,o,a),l&&r&&r.outlet&&r.outlet.isActivated&&a.canDeactivateChecks.push(new Ti(r.outlet.component,i))}else i&&kl(t,r,a),a.canActivateChecks.push(new Pd(o)),s.component?ml(e,null,r?r.children:null,o,a):ml(e,null,n,o,a);return a}function IO(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!p2(e.url,t.url);case"pathParamsOrQueryParamsChange":return!p2(e.url,t.url)||!po(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Pu(e,t)||!po(e.queryParams,t.queryParams);case"paramsChange":default:return!Pu(e,t)}}function kl(e,t,n){let o=Hi(e),a=e.value;Object.entries(o).forEach(([s,i])=>{a.component?t?kl(i,t.children.getContext(s),n):kl(i,null,n):kl(i,t,n)}),a.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new Ti(t.outlet.component,a)):n.canDeactivateChecks.push(new Ti(null,a)):n.canDeactivateChecks.push(new Ti(null,a))}function Ol(e){return typeof e=="function"}function kO(e){return typeof e=="boolean"}function zO(e){return e&&Ol(e.canLoad)}function bO(e){return e&&Ol(e.canActivate)}function CO(e){return e&&Ol(e.canActivateChild)}function BO(e){return e&&Ol(e.canDeactivate)}function SO(e){return e&&Ol(e.canMatch)}function my(e){return e instanceof C1||e?.name==="EmptyError"}var Bd=Symbol("INITIAL_VALUE");function Li(){return cn(e=>Wr(e.map(t=>t.pipe(Ko(1),fv(Bd)))).pipe(_t(t=>{for(let n of t)if(n!==!0){if(n===Bd)return Bd;if(n===!1||n instanceof Qa)return n}return!0}),hn(t=>t!==Bd),Ko(1)))}function DO(e,t){return Je(n=>{let{targetSnapshot:o,currentSnapshot:a,guards:{canActivateChecks:s,canDeactivateChecks:i}}=n;return i.length===0&&s.length===0?bt(V(S({},n),{guardsResult:!0})):HO(i,o,a,e).pipe(Je(r=>r&&kO(r)?EO(o,s,e,t):bt(r)),_t(r=>V(S({},n),{guardsResult:r})))})}function HO(e,t,n,o){return Be(e).pipe(Je(a=>LO(a.component,a.route,n,t,o)),X1(a=>a!==!0,!0))}function EO(e,t,n,o){return Be(t).pipe(Yo(a=>oi(_O(a.route.parent,o),TO(a.route,o),RO(e,a.path,n),AO(e,a.route,n))),X1(a=>a!==!0,!0))}function TO(e,t){return e!==null&&t&&t(new Au(e)),bt(!0)}function _O(e,t){return e!==null&&t&&t(new Tu(e)),bt(!0)}function AO(e,t,n){let o=t.routeConfig?t.routeConfig.canActivate:null;if(!o||o.length===0)return bt(!0);let a=o.map(s=>W4(()=>{let i=Ll(t)??n,r=Oi(s,i),l=bO(r)?r.canActivate(t,e):_1(i,()=>r(t,e));return es(l).pipe(X1())}));return bt(a).pipe(Li())}function RO(e,t,n){let o=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(i=>xO(i)).filter(i=>i!==null).map(i=>W4(()=>{let r=i.guards.map(l=>{let h=Ll(i.node)??n,c=Oi(l,h),d=CO(c)?c.canActivateChild(o,e):_1(h,()=>c(o,e));return es(d).pipe(X1())});return bt(r).pipe(Li())}));return bt(s).pipe(Li())}function LO(e,t,n,o,a){let s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!s||s.length===0)return bt(!0);let i=s.map(r=>{let l=Ll(t)??a,h=Oi(r,l),c=BO(h)?h.canDeactivate(e,t,n,o):_1(l,()=>h(e,t,n,o));return es(c).pipe(X1())});return bt(i).pipe(Li())}function OO(e,t,n,o){let a=t.canLoad;if(a===void 0||a.length===0)return bt(!0);let s=a.map(i=>{let r=Oi(i,e),l=zO(r)?r.canLoad(t,n):_1(e,()=>r(t,n));return es(l)});return bt(s).pipe(Li(),xy(o))}function xy(e){return lv(u0(t=>{if(Ai(t))throw wy(e,t)}),_t(t=>t===!0))}function NO(e,t,n,o){let a=t.canMatch;if(!a||a.length===0)return bt(!0);let s=a.map(i=>{let r=Oi(i,e),l=SO(r)?r.canMatch(t,n):_1(e,()=>r(t,n));return es(l)});return bt(s).pipe(Li(),xy(o))}var El=class{constructor(t){this.segmentGroup=t||null}},Fd=class extends Error{constructor(t){super(),this.urlTree=t}};function Di(e){return ni(new El(e))}function PO(e){return ni(new $(4e3,!1))}function FO(e){return ni(fy(!1,Pn.GuardRejected))}var ju=class{constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let o=[],a=n.root;for(;;){if(o=o.concat(a.segments),a.numberOfChildren===0)return bt(o);if(a.numberOfChildren>1||!a.children[Rt])return PO(t.redirectTo);a=a.children[Rt]}}applyRedirectCommands(t,n,o){let a=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,o);if(n.startsWith("/"))throw new Fd(a);return a}applyRedirectCreateUrlTree(t,n,o,a){let s=this.createSegmentGroup(t,n.root,o,a);return new Qa(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let o={};return Object.entries(t).forEach(([a,s])=>{if(typeof s=="string"&&s.startsWith(":")){let r=s.substring(1);o[a]=n[r]}else o[a]=s}),o}createSegmentGroup(t,n,o,a){let s=this.createSegments(t,n.segments,o,a),i={};return Object.entries(n.children).forEach(([r,l])=>{i[r]=this.createSegmentGroup(t,l,o,a)}),new pe(s,i)}createSegments(t,n,o,a){return n.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,a):this.findOrReturn(s,o))}findPosParam(t,n,o){let a=o[n.path.substring(1)];if(!a)throw new $(4001,!1);return a}findOrReturn(t,n){let o=0;for(let a of n){if(a.path===t.path)return n.splice(o),a;o++}return t}},Uu={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function VO(e,t,n,o,a){let s=Xu(e,t,n);return s.matched?(o=wO(t,o),NO(o,t,n,a).pipe(_t(i=>i===!0?s:S({},Uu)))):bt(s)}function Xu(e,t,n){if(t.path==="**")return jO(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?S({},Uu):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let a=(t.matcher||NL)(n,e,t);if(!a)return S({},Uu);let s={};Object.entries(a.posParams??{}).forEach(([r,l])=>{s[r]=l.path});let i=a.consumed.length>0?S(S({},s),a.consumed[a.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:a.consumed,remainingSegments:n.slice(a.consumed.length),parameters:i,positionalParamSegments:a.posParams??{}}}function jO(e){return{matched:!0,parameters:e.length>0?Jx(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function Kx(e,t,n,o){return n.length>0&&WO(e,n,o)?{segmentGroup:new pe(t,GO(o,new pe(n,e.children))),slicedSegments:[]}:n.length===0&&$O(e,n,o)?{segmentGroup:new pe(e.segments,UO(e,n,o,e.children)),slicedSegments:n}:{segmentGroup:new pe(e.segments,e.children),slicedSegments:n}}function UO(e,t,n,o){let a={};for(let s of n)if(Ud(e,t,s)&&!o[vo(s)]){let i=new pe([],{});a[vo(s)]=i}return S(S({},o),a)}function GO(e,t){let n={};n[Rt]=t;for(let o of e)if(o.path===""&&vo(o)!==Rt){let a=new pe([],{});n[vo(o)]=a}return n}function WO(e,t,n){return n.some(o=>Ud(e,t,o)&&vo(o)!==Rt)}function $O(e,t,n){return n.some(o=>Ud(e,t,o))}function Ud(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function qO(e,t,n,o){return vo(e)!==o&&(o===Rt||!Ud(t,n,e))?!1:Xu(t,e,n).matched}function YO(e,t,n){return t.length===0&&!e.children[n]}var Gu=class{};function KO(e,t,n,o,a,s,i="emptyOnly"){return new Wu(e,t,n,o,a,i,s).recognize()}var ZO=31,Wu=class{constructor(t,n,o,a,s,i,r){this.injector=t,this.configLoader=n,this.rootComponentType=o,this.config=a,this.urlTree=s,this.paramsInheritanceStrategy=i,this.urlSerializer=r,this.applyRedirects=new ju(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new $(4002,`'${t.segmentGroup}'`)}recognize(){let t=Kx(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(_t(n=>{let o=new Dl([],Object.freeze({}),Object.freeze(S({},this.urlTree.queryParams)),this.urlTree.fragment,{},Rt,this.rootComponentType,null,{}),a=new Nn(o,n),s=new Nd("",a),i=oO(o,[],this.urlTree.queryParams,this.urlTree.fragment);return i.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(i),this.inheritParamsAndData(s._root,null),{state:s,tree:i}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t,Rt).pipe(Oa(o=>{if(o instanceof Fd)return this.urlTree=o.urlTree,this.match(o.urlTree.root);throw o instanceof El?this.noMatchError(o):o}))}inheritParamsAndData(t,n){let o=t.value,a=qu(o,n,this.paramsInheritanceStrategy);o.params=Object.freeze(a.params),o.data=Object.freeze(a.data),t.children.forEach(s=>this.inheritParamsAndData(s,o))}processSegmentGroup(t,n,o,a){return o.segments.length===0&&o.hasChildren()?this.processChildren(t,n,o):this.processSegment(t,n,o,o.segments,a,!0).pipe(_t(s=>s instanceof Nn?[s]:[]))}processChildren(t,n,o){let a=[];for(let s of Object.keys(o.children))s==="primary"?a.unshift(s):a.push(s);return Be(a).pipe(Yo(s=>{let i=o.children[s],r=fO(n,s);return this.processSegmentGroup(t,r,i,s)}),wv((s,i)=>(s.push(...i),s)),Na(null),uv(),Je(s=>{if(s===null)return Di(o);let i=yy(s);return XO(i),bt(i)}))}processSegment(t,n,o,a,s,i){return Be(n).pipe(Yo(r=>this.processSegmentAgainstRoute(r._injector??t,n,r,o,a,s,i).pipe(Oa(l=>{if(l instanceof El)return bt(null);throw l}))),X1(r=>!!r),Oa(r=>{if(my(r))return YO(o,a,s)?bt(new Gu):Di(o);throw r}))}processSegmentAgainstRoute(t,n,o,a,s,i,r){return qO(o,a,s,i)?o.redirectTo===void 0?this.matchSegmentAgainstRoute(t,a,o,s,i):this.allowRedirects&&r?this.expandSegmentAgainstRouteUsingRedirect(t,a,n,o,s,i):Di(a):Di(a)}expandSegmentAgainstRouteUsingRedirect(t,n,o,a,s,i){let{matched:r,consumedSegments:l,positionalParamSegments:h,remainingSegments:c}=Xu(n,a,s);if(!r)return Di(n);a.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>ZO&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(l,a.redirectTo,h);return this.applyRedirects.lineralizeSegments(a,d).pipe(Je(p=>this.processSegment(t,o,n,p.concat(c),i,!1)))}matchSegmentAgainstRoute(t,n,o,a,s){let i=VO(n,o,a,t,this.urlSerializer);return o.path==="**"&&(n.children={}),i.pipe(cn(r=>r.matched?(t=o._injector??t,this.getChildConfig(t,o,a).pipe(cn(({routes:l})=>{let h=o._loadedInjector??t,{consumedSegments:c,remainingSegments:d,parameters:p}=r,v=new Dl(c,p,Object.freeze(S({},this.urlTree.queryParams)),this.urlTree.fragment,JO(o),vo(o),o.component??o._loadedComponent??null,o,tN(o)),{segmentGroup:g,slicedSegments:u}=Kx(n,c,d,l);if(u.length===0&&g.hasChildren())return this.processChildren(h,l,g).pipe(_t(M=>M===null?null:new Nn(v,M)));if(l.length===0&&u.length===0)return bt(new Nn(v,[]));let f=vo(o)===s;return this.processSegment(h,l,g,u,f?Rt:s,!0).pipe(_t(M=>new Nn(v,M instanceof Nn?[M]:[])))}))):Di(n)))}getChildConfig(t,n,o){return n.children?bt({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?bt({routes:n._loadedRoutes,injector:n._loadedInjector}):OO(t,n,o,this.urlSerializer).pipe(Je(a=>a?this.configLoader.loadChildren(t,n).pipe(u0(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):FO(n))):bt({routes:[],injector:t})}};function XO(e){e.sort((t,n)=>t.value.outlet===Rt?-1:n.value.outlet===Rt?1:t.value.outlet.localeCompare(n.value.outlet))}function QO(e){let t=e.value.routeConfig;return t&&t.path===""}function yy(e){let t=[],n=new Set;for(let o of e){if(!QO(o)){t.push(o);continue}let a=t.find(s=>o.value.routeConfig===s.value.routeConfig);a!==void 0?(a.children.push(...o.children),n.add(a)):t.push(o)}for(let o of n){let a=yy(o.children);t.push(new Nn(o.value,a))}return t.filter(o=>!n.has(o))}function JO(e){return e.data||{}}function tN(e){return e.resolve||{}}function eN(e,t,n,o,a,s){return Je(i=>KO(e,t,n,o,i.extractedUrl,a,s).pipe(_t(({state:r,tree:l})=>V(S({},i),{targetSnapshot:r,urlAfterRedirects:l}))))}function nN(e,t){return Je(n=>{let{targetSnapshot:o,guards:{canActivateChecks:a}}=n;if(!a.length)return bt(n);let s=new Set(a.map(l=>l.route)),i=new Set;for(let l of s)if(!i.has(l))for(let h of Iy(l))i.add(h);let r=0;return Be(i).pipe(Yo(l=>s.has(l)?oN(l,o,e,t):(l.data=qu(l,l.parent,e).resolve,bt(void 0))),u0(()=>r++),ai(1),Je(l=>r===i.size?bt(n):Sn))})}function Iy(e){let t=e.children.map(n=>Iy(n)).flat();return[e,...t]}function oN(e,t,n,o){let a=e.routeConfig,s=e._resolve;return a?.title!==void 0&&!gy(a)&&(s[_l]=a.title),aN(s,e,t,o).pipe(_t(i=>(e._resolvedData=i,e.data=qu(e,e.parent,n).resolve,null)))}function aN(e,t,n,o){let a=Iu(e);if(a.length===0)return bt({});let s={};return Be(a).pipe(Je(i=>sN(e[i],t,n,o).pipe(X1(),u0(r=>{s[i]=r}))),ai(1),gv(s),Oa(i=>my(i)?Sn:ni(i)))}function sN(e,t,n,o){let a=Ll(t)??o,s=Oi(e,a),i=s.resolve?s.resolve(t,n):_1(a,()=>s(t,n));return es(i)}function xu(e){return cn(t=>{let n=e(t);return n?Be(n).pipe(_t(()=>t)):bt(t)})}var ky=(()=>{let t=class t{buildTitle(o){let a,s=o.root;for(;s!==void 0;)a=this.getResolvedTitleForRoute(s)??a,s=s.children.find(i=>i.outlet===Rt);return a}getResolvedTitleForRoute(o){return o.data[_l]}};t.\u0275fac=function(a){return new(a||t)},t.\u0275prov=J({token:t,factory:()=>K(iN),providedIn:"root"});let e=t;return e})(),iN=(()=>{let t=class t extends ky{constructor(o){super(),this.title=o}updateTitle(o){let a=this.buildTitle(o);a!==void 0&&this.title.setTitle(a)}};t.\u0275fac=function(a){return new(a||t)(nt(n0))},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Nl=new ut("",{providedIn:"root",factory:()=>({})}),Tl=new ut(""),Qu=(()=>{let t=class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=K(ed)}loadComponent(o){if(this.componentLoaders.get(o))return this.componentLoaders.get(o);if(o._loadedComponent)return bt(o._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(o);let a=es(o.loadComponent()).pipe(_t(zy),u0(i=>{this.onLoadEndListener&&this.onLoadEndListener(o),o._loadedComponent=i}),Pa(()=>{this.componentLoaders.delete(o)})),s=new ei(a,()=>new Le).pipe(ti());return this.componentLoaders.set(o,s),s}loadChildren(o,a){if(this.childrenLoaders.get(a))return this.childrenLoaders.get(a);if(a._loadedRoutes)return bt({routes:a._loadedRoutes,injector:a._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(a);let i=rN(a,this.compiler,o,this.onLoadEndListener).pipe(Pa(()=>{this.childrenLoaders.delete(a)})),r=new ei(i,()=>new Le).pipe(ti());return this.childrenLoaders.set(a,r),r}};t.\u0275fac=function(a){return new(a||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function rN(e,t,n,o){return es(e.loadChildren()).pipe(_t(zy),Je(a=>a instanceof el||Array.isArray(a)?bt(a):Be(t.compileModuleAsync(a))),_t(a=>{o&&o(e);let s,i,r=!1;return Array.isArray(a)?(i=a,r=!0):(s=a.create(n).injector,i=s.get(Tl,[],{optional:!0,self:!0}).flat()),{routes:i.map(Zu),injector:s}}))}function lN(e){return e&&typeof e=="object"&&"default"in e}function zy(e){return lN(e)?e.default:e}var Ju=(()=>{let t=class t{};t.\u0275fac=function(a){return new(a||t)},t.\u0275prov=J({token:t,factory:()=>K(hN),providedIn:"root"});let e=t;return e})(),hN=(()=>{let t=class t{shouldProcessUrl(o){return!0}extract(o){return o}merge(o,a){return o}};t.\u0275fac=function(a){return new(a||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),by=new ut(""),Cy=new ut("");function cN(e,t,n){let o=e.get(Cy),a=e.get(Ue);return e.get(Yt).runOutsideAngular(()=>{if(!a.startViewTransition||o.skipNextTransition)return o.skipNextTransition=!1,Promise.resolve();let s,i=new Promise(h=>{s=h}),r=a.startViewTransition(()=>(s(),dN(e))),{onViewTransitionCreated:l}=o;return l&&_1(e,()=>l({transition:r,from:t,to:n})),i})}function dN(e){return new Promise(t=>{S5(t,{injector:e})})}var tw=(()=>{let t=class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Le,this.transitionAbortSubject=new Le,this.configLoader=K(Qu),this.environmentInjector=K(Y0),this.urlSerializer=K(Al),this.rootContexts=K(Rl),this.location=K(Ci),this.inputBindingEnabled=K(jd,{optional:!0})!==null,this.titleStrategy=K(ky),this.options=K(Nl,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=K(Ju),this.createViewTransition=K(by,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>bt(void 0),this.rootComponentType=null;let o=s=>this.events.next(new Hu(s)),a=s=>this.events.next(new Eu(s));this.configLoader.onLoadEndListener=a,this.configLoader.onLoadStartListener=o}complete(){this.transitions?.complete()}handleNavigationRequest(o){let a=++this.navigationId;this.transitions?.next(V(S(S({},this.transitions.value),o),{id:a}))}setupNavigations(o,a,s){return this.transitions=new Ce({id:0,currentUrlTree:a,currentRawUrl:a,extractedUrl:this.urlHandlingStrategy.extract(a),urlAfterRedirects:this.urlHandlingStrategy.extract(a),rawUrl:a,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Il,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(hn(i=>i.id!==0),_t(i=>V(S({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),cn(i=>{let r=!1,l=!1;return bt(i).pipe(cn(h=>{if(this.navigationId>i.id)return this.cancelNavigationTransition(i,"",Pn.SupersededByNewNavigation),Sn;this.currentTransition=i,this.currentNavigation={id:h.id,initialUrl:h.rawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?V(S({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!o.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=h.extras.onSameUrlNavigation??o.onSameUrlNavigation;if(!c&&d!=="reload"){let p="";return this.events.next(new ts(h.id,this.urlSerializer.serialize(h.rawUrl),p,_d.IgnoredSameUrlNavigation)),h.resolve(null),Sn}if(this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return bt(h).pipe(cn(p=>{let v=this.transitions?.getValue();return this.events.next(new Ri(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),v!==this.transitions?.getValue()?Sn:Promise.resolve(p)}),eN(this.environmentInjector,this.configLoader,this.rootComponentType,o.config,this.urlSerializer,this.paramsInheritanceStrategy),u0(p=>{i.targetSnapshot=p.targetSnapshot,i.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=V(S({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let v=new Ad(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(v)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(h.currentRawUrl)){let{id:p,extractedUrl:v,source:g,restoredState:u,extras:f}=h,M=new Ri(p,this.urlSerializer.serialize(v),g,u);this.events.next(M);let m=py(this.rootComponentType).snapshot;return this.currentTransition=i=V(S({},h),{targetSnapshot:m,urlAfterRedirects:v,extras:V(S({},f),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=v,bt(i)}else{let p="";return this.events.next(new ts(h.id,this.urlSerializer.serialize(h.extractedUrl),p,_d.IgnoredByUrlHandlingStrategy)),h.resolve(null),Sn}}),u0(h=>{let c=new Cu(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(c)}),_t(h=>(this.currentTransition=i=V(S({},h),{guards:mO(h.targetSnapshot,h.currentSnapshot,this.rootContexts)}),i)),DO(this.environmentInjector,h=>this.events.next(h)),u0(h=>{if(i.guardsResult=h.guardsResult,Ai(h.guardsResult))throw wy(this.urlSerializer,h.guardsResult);let c=new Bu(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.events.next(c)}),hn(h=>h.guardsResult?!0:(this.cancelNavigationTransition(h,"",Pn.GuardRejected),!1)),xu(h=>{if(h.guards.canActivateChecks.length)return bt(h).pipe(u0(c=>{let d=new Su(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),cn(c=>{let d=!1;return bt(c).pipe(nN(this.paramsInheritanceStrategy,this.environmentInjector),u0({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(c,"",Pn.NoDataFromResolver)}}))}),u0(c=>{let d=new Du(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}))}),xu(h=>{let c=d=>{let p=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(d.routeConfig).pipe(u0(v=>{d.component=v}),_t(()=>{})));for(let v of d.children)p.push(...c(v));return p};return Wr(c(h.targetSnapshot.root)).pipe(Na(null),Ko(1))}),xu(()=>this.afterPreactivation()),cn(()=>{let{currentSnapshot:h,targetSnapshot:c}=i,d=this.createViewTransition?.(this.environmentInjector,h.root,c.root);return d?Be(d).pipe(_t(()=>i)):bt(i)}),_t(h=>{let c=dO(o.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return this.currentTransition=i=V(S({},h),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,i}),u0(()=>{this.events.next(new Bl)}),MO(this.rootContexts,o.routeReuseStrategy,h=>this.events.next(h),this.inputBindingEnabled),Ko(1),u0({next:h=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new N1(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects))),this.titleStrategy?.updateTitle(h.targetRouterState.snapshot),h.resolve(!0)},complete:()=>{r=!0}}),Mv(this.transitionAbortSubject.pipe(u0(h=>{throw h}))),Pa(()=>{!r&&!l&&this.cancelNavigationTransition(i,"",Pn.SupersededByNewNavigation),this.currentTransition?.id===i.id&&(this.currentNavigation=null,this.currentTransition=null)}),Oa(h=>{if(l=!0,My(h))this.events.next(new Ja(i.id,this.urlSerializer.serialize(i.extractedUrl),h.message,h.cancellationCode)),gO(h)?this.events.next(new Sl(h.url)):i.resolve(!1);else{this.events.next(new Cl(i.id,this.urlSerializer.serialize(i.extractedUrl),h,i.targetSnapshot??void 0));try{i.resolve(o.errorHandler(h))}catch(c){this.options.resolveNavigationPromiseOnError?i.resolve(!1):i.reject(c)}}return Sn}))}))}cancelNavigationTransition(o,a,s){let i=new Ja(o.id,this.urlSerializer.serialize(o.extractedUrl),a,s);this.events.next(i),o.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};t.\u0275fac=function(a){return new(a||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function pN(e){return e!==Il}var vN=(()=>{let t=class t{};t.\u0275fac=function(a){return new(a||t)},t.\u0275prov=J({token:t,factory:()=>K(gN),providedIn:"root"});let e=t;return e})(),$u=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},gN=(()=>{let t=class t extends $u{};t.\u0275fac=(()=>{let o;return function(s){return(o||(o=Tn(t)))(s||t)}})(),t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),By=(()=>{let t=class t{};t.\u0275fac=function(a){return new(a||t)},t.\u0275prov=J({token:t,factory:()=>K(uN),providedIn:"root"});let e=t;return e})(),uN=(()=>{let t=class t extends By{constructor(){super(...arguments),this.location=K(Ci),this.urlSerializer=K(Al),this.options=K(Nl,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=K(Ju),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Qa,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=py(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(o){return this.location.subscribe(a=>{a.type==="popstate"&&o(a.url,a.state)})}handleRouterEvent(o,a){if(o instanceof Ri)this.stateMemento=this.createStateMemento();else if(o instanceof ts)this.rawUrlTree=a.initialUrl;else if(o instanceof Ad){if(this.urlUpdateStrategy==="eager"&&!a.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(a.finalUrl,a.initialUrl);this.setBrowserUrl(s,a)}}else o instanceof Bl?(this.currentUrlTree=a.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(a.finalUrl,a.initialUrl),this.routerState=a.targetRouterState,this.urlUpdateStrategy==="deferred"&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a))):o instanceof Ja&&(o.code===Pn.GuardRejected||o.code===Pn.NoDataFromResolver)?this.restoreHistory(a):o instanceof Cl?this.restoreHistory(a,!0):o instanceof N1&&(this.lastSuccessfulId=o.id,this.currentPageId=this.browserPageId)}setBrowserUrl(o,a){let s=this.urlSerializer.serialize(o);if(this.location.isCurrentPathEqualTo(s)||a.extras.replaceUrl){let i=this.browserPageId,r=S(S({},a.extras.state),this.generateNgRouterState(a.id,i));this.location.replaceState(s,"",r)}else{let i=S(S({},a.extras.state),this.generateNgRouterState(a.id,this.browserPageId+1));this.location.go(s,"",i)}}restoreHistory(o,a=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,i=this.currentPageId-s;i!==0?this.location.historyGo(i):this.currentUrlTree===o.finalUrl&&i===0&&(this.resetState(o),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(a&&this.resetState(o),this.resetUrlToCurrentUrlTree())}resetState(o){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,o.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(o,a){return this.canceledNavigationResolution==="computed"?{navigationId:o,\u0275routerPageId:a}:{navigationId:o}}};t.\u0275fac=(()=>{let o;return function(s){return(o||(o=Tn(t)))(s||t)}})(),t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),xl=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(xl||{});function Sy(e,t){e.events.pipe(hn(n=>n instanceof N1||n instanceof Ja||n instanceof Cl||n instanceof ts),_t(n=>n instanceof N1||n instanceof ts?xl.COMPLETE:(n instanceof Ja?n.code===Pn.Redirect||n.code===Pn.SupersededByNewNavigation:!1)?xl.REDIRECTING:xl.FAILED),hn(n=>n!==xl.REDIRECTING),Ko(1)).subscribe(()=>{t()})}function wN(e){throw e}var fN={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},MN={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ne=(()=>{let t=class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=K(Xc),this.stateManager=K(By),this.options=K(Nl,{optional:!0})||{},this.pendingTasks=K(i2),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=K(tw),this.urlSerializer=K(Al),this.location=K(Ci),this.urlHandlingStrategy=K(Ju),this._events=new Le,this.errorHandler=this.options.errorHandler||wN,this.navigated=!1,this.routeReuseStrategy=K(vN),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=K(Tl,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!K(jd,{optional:!0}),this.eventsSubscription=new i0,this.isNgZoneEnabled=K(Yt)instanceof Yt&&Yt.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:o=>{this.console.warn(o)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let o=this.navigationTransitions.events.subscribe(a=>{try{let s=this.navigationTransitions.currentTransition,i=this.navigationTransitions.currentNavigation;if(s!==null&&i!==null){if(this.stateManager.handleRouterEvent(a,i),a instanceof Ja&&a.code!==Pn.Redirect&&a.code!==Pn.SupersededByNewNavigation)this.navigated=!0;else if(a instanceof N1)this.navigated=!0;else if(a instanceof Sl){let r=this.urlHandlingStrategy.merge(a.url,s.currentRawUrl),l={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||pN(s.source)};this.scheduleNavigation(r,Il,null,l,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}xN(a)&&this._events.next(a)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(o)}resetRootComponentType(o){this.routerState.root.component=o,this.navigationTransitions.rootComponentType=o}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Il,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((o,a)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(o,"popstate",a)},0)})}navigateToSyncWithBrowser(o,a,s){let i={replaceUrl:!0},r=s?.navigationId?s:null;if(s){let h=S({},s);delete h.navigationId,delete h.\u0275routerPageId,Object.keys(h).length!==0&&(i.state=h)}let l=this.parseUrl(o);this.scheduleNavigation(l,a,r,i)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(o){this.config=o.map(Zu),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(o,a={}){let{relativeTo:s,queryParams:i,fragment:r,queryParamsHandling:l,preserveFragment:h}=a,c=h?this.currentUrlTree.fragment:r,d=null;switch(l){case"merge":d=S(S({},this.currentUrlTree.queryParams),i);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=i||null}d!==null&&(d=this.removeEmptyProps(d));let p;try{let v=s?s.snapshot:this.routerState.snapshot.root;p=ly(v)}catch{(typeof o[0]!="string"||!o[0].startsWith("/"))&&(o=[]),p=this.currentUrlTree.root}return hy(p,o,d,c??null)}navigateByUrl(o,a={skipLocationChange:!1}){let s=Ai(o)?o:this.parseUrl(o),i=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(i,Il,null,a)}navigate(o,a={skipLocationChange:!1}){return mN(o),this.navigateByUrl(this.createUrlTree(o,a),a)}serializeUrl(o){return this.urlSerializer.serialize(o)}parseUrl(o){try{return this.urlSerializer.parse(o)}catch{return this.urlSerializer.parse("/")}}isActive(o,a){let s;if(a===!0?s=S({},fN):a===!1?s=S({},MN):s=a,Ai(o))return Gx(this.currentUrlTree,o,s);let i=this.parseUrl(o);return Gx(this.currentUrlTree,i,s)}removeEmptyProps(o){return Object.entries(o).reduce((a,[s,i])=>(i!=null&&(a[s]=i),a),{})}scheduleNavigation(o,a,s,i,r){if(this.disposed)return Promise.resolve(!1);let l,h,c;r?(l=r.resolve,h=r.reject,c=r.promise):c=new Promise((p,v)=>{l=p,h=v});let d=this.pendingTasks.add();return Sy(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:a,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:o,extras:i,resolve:l,reject:h,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(p=>Promise.reject(p))}};t.\u0275fac=function(a){return new(a||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function mN(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new $(4008,!1)}function xN(e){return!(e instanceof Bl)&&!(e instanceof Sl)}var P0=(()=>{let t=class t{constructor(o,a,s,i,r,l){this.router=o,this.route=a,this.tabIndexAttribute=s,this.renderer=i,this.el=r,this.locationStrategy=l,this.href=null,this.commands=null,this.onChanges=new Le,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let h=r.nativeElement.tagName?.toLowerCase();this.isAnchorElement=h==="a"||h==="area",this.isAnchorElement?this.subscription=o.events.subscribe(c=>{c instanceof N1&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(o){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",o)}ngOnChanges(o){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(o){o!=null?(this.commands=Array.isArray(o)?o:[o],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(o,a,s,i,r){let l=this.urlTree;if(l===null||this.isAnchorElement&&(o!==0||a||s||i||r||typeof this.target=="string"&&this.target!="_self"))return!0;let h={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(l,h),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let o=this.urlTree;this.href=o!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(o)):null;let a=this.href===null?null:Q8(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",a)}applyAttributeValue(o,a){let s=this.renderer,i=this.el.nativeElement;a!==null?s.setAttribute(i,o,a):s.removeAttribute(i,o)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};t.\u0275fac=function(a){return new(a||t)(O(Ne),O(un),s5("tabindex"),O(N0),O(_e),O(ia))},t.\u0275dir=Dt({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(a,s){a&1&&lt("click",function(r){return s.onClick(r.button,r.ctrlKey,r.shiftKey,r.altKey,r.metaKey)}),a&2&&gn("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[r0.HasDecoratorInputTransform,"preserveFragment","preserveFragment",Ya],skipLocationChange:[r0.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",Ya],replaceUrl:[r0.HasDecoratorInputTransform,"replaceUrl","replaceUrl",Ya],routerLink:"routerLink"},standalone:!0,features:[E5,A1]});let e=t;return e})(),Dy=(()=>{let t=class t{get isActive(){return this._isActive}constructor(o,a,s,i,r){this.router=o,this.element=a,this.renderer=s,this.cdr=i,this.link=r,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new fe,this.routerEventsSubscription=o.events.subscribe(l=>{l instanceof N1&&this.update()})}ngAfterContentInit(){bt(this.links.changes,bt(null)).pipe(La()).subscribe(o=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let o=[...this.links.toArray(),this.link].filter(a=>!!a).map(a=>a.onChanges);this.linkInputChangesSubscription=Be(o).pipe(La()).subscribe(a=>{this._isActive!==this.isLinkActive(this.router)(a)&&this.update()})}set routerLinkActive(o){let a=Array.isArray(o)?o:o.split(" ");this.classes=a.filter(s=>!!s)}ngOnChanges(o){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let o=this.hasActiveLinks();this.classes.forEach(a=>{o?this.renderer.addClass(this.element.nativeElement,a):this.renderer.removeClass(this.element.nativeElement,a)}),o&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==o&&(this._isActive=o,this.cdr.markForCheck(),this.isActiveChange.emit(o))})}isLinkActive(o){let a=yN(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>{let i=s.urlTree;return i?o.isActive(i,a):!1}}hasActiveLinks(){let o=this.isLinkActive(this.router);return this.link&&o(this.link)||this.links.some(o)}};t.\u0275fac=function(a){return new(a||t)(O(Ne),O(_e),O(N0),O(ho),O(P0,8))},t.\u0275dir=Dt({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(a,s,i){if(a&1&&Xm(i,P0,5),a&2){let r;Kc(r=Zc())&&(s.links=r)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[A1]});let e=t;return e})();function yN(e){return!!e.paths}var Vd=class{};var IN=(()=>{let t=class t{constructor(o,a,s,i,r){this.router=o,this.injector=s,this.preloadingStrategy=i,this.loader=r}setUpPreloading(){this.subscription=this.router.events.pipe(hn(o=>o instanceof N1),Yo(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(o,a){let s=[];for(let i of a){i.providers&&!i._injector&&(i._injector=Wc(i.providers,o,`Route: ${i.path}`));let r=i._injector??o,l=i._loadedInjector??r;(i.loadChildren&&!i._loadedRoutes&&i.canLoad===void 0||i.loadComponent&&!i._loadedComponent)&&s.push(this.preloadConfig(r,i)),(i.children||i._loadedRoutes)&&s.push(this.processRoutes(l,i.children??i._loadedRoutes))}return Be(s).pipe(La())}preloadConfig(o,a){return this.preloadingStrategy.preload(a,()=>{let s;a.loadChildren&&a.canLoad===void 0?s=this.loader.loadChildren(o,a):s=bt(null);let i=s.pipe(Je(r=>r===null?bt(void 0):(a._loadedRoutes=r.routes,a._loadedInjector=r.injector,this.processRoutes(r.injector??o,r.routes))));if(a.loadComponent&&!a._loadedComponent){let r=this.loader.loadComponent(a);return Be([i,r]).pipe(La())}else return i})}};t.\u0275fac=function(a){return new(a||t)(nt(Ne),nt(ed),nt(Y0),nt(Vd),nt(Qu))},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Hy=new ut(""),kN=(()=>{let t=class t{constructor(o,a,s,i,r={}){this.urlSerializer=o,this.transitions=a,this.viewportScroller=s,this.zone=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration||="disabled",r.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(o=>{o instanceof Ri?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=o.navigationTrigger,this.restoredId=o.restoredState?o.restoredState.navigationId:0):o instanceof N1?(this.lastId=o.id,this.scheduleScrollEvent(o,this.urlSerializer.parse(o.urlAfterRedirects).fragment)):o instanceof ts&&o.code===_d.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(o,this.urlSerializer.parse(o.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(o=>{o instanceof Rd&&(o.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(o.position):o.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(o.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(o,a){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Rd(o,this.lastSource==="popstate"?this.store[this.restoredId]:null,a))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};t.\u0275fac=function(a){gm()},t.\u0275prov=J({token:t,factory:t.\u0275fac});let e=t;return e})();function Ey(e,...t){return Wa([{provide:Tl,multi:!0,useValue:e},[],{provide:un,useFactory:Ty,deps:[Ne]},{provide:dl,multi:!0,useFactory:_y},t.map(n=>n.\u0275providers)])}function Ty(e){return e.routerState.root}function Pl(e,t){return{\u0275kind:e,\u0275providers:t}}function _y(){let e=K(_n);return t=>{let n=e.get(R1);if(t!==n.components[0])return;let o=e.get(Ne),a=e.get(Ay);e.get(ew)===1&&o.initialNavigation(),e.get(Ry,null,jt.Optional)?.setUpPreloading(),e.get(Hy,null,jt.Optional)?.init(),o.resetRootComponentType(n.componentTypes[0]),a.closed||(a.next(),a.complete(),a.unsubscribe())}}var Ay=new ut("",{factory:()=>new Le}),ew=new ut("",{providedIn:"root",factory:()=>1});function zN(){return Pl(2,[{provide:ew,useValue:0},{provide:td,multi:!0,deps:[_n],useFactory:t=>{let n=t.get(fx,Promise.resolve());return()=>n.then(()=>new Promise(o=>{let a=t.get(Ne),s=t.get(Ay);Sy(a,()=>{o(!0)}),t.get(tw).afterPreactivation=()=>(o(!0),s.closed?bt(void 0):s),a.initialNavigation()}))}}])}function bN(){return Pl(3,[{provide:td,multi:!0,useFactory:()=>{let t=K(Ne);return()=>{t.setUpLocationChangeListener()}}},{provide:ew,useValue:2}])}var Ry=new ut("");function CN(e){return Pl(0,[{provide:Ry,useExisting:IN},{provide:Vd,useExisting:e}])}function BN(){return Pl(8,[Yx,{provide:jd,useExisting:Yx}])}function SN(e){let t=[{provide:by,useValue:cN},{provide:Cy,useValue:S({skipNextTransition:!!e?.skipInitialTransition},e)}];return Pl(9,t)}var Zx=new ut("ROUTER_FORROOT_GUARD"),DN=[Ci,{provide:Al,useClass:zl},Ne,Rl,{provide:un,useFactory:Ty,deps:[Ne]},Qu,[]],Ly=(()=>{let t=class t{constructor(o){}static forRoot(o,a){return{ngModule:t,providers:[DN,[],{provide:Tl,multi:!0,useValue:o},{provide:Zx,useFactory:_N,deps:[[Ne,new al,new Bc]]},{provide:Nl,useValue:a||{}},a?.useHash?EN():TN(),HN(),a?.preloadingStrategy?CN(a.preloadingStrategy).\u0275providers:[],a?.initialNavigation?AN(a):[],a?.bindToComponentInputs?BN().\u0275providers:[],a?.enableViewTransitions?SN().\u0275providers:[],RN()]}}static forChild(o){return{ngModule:t,providers:[{provide:Tl,multi:!0,useValue:o}]}}};t.\u0275fac=function(a){return new(a||t)(nt(Zx,8))},t.\u0275mod=Te({type:t}),t.\u0275inj=Ee({});let e=t;return e})();function HN(){return{provide:Hy,useFactory:()=>{let e=K(kx),t=K(Yt),n=K(Nl),o=K(tw),a=K(Al);return n.scrollOffset&&e.setOffset(n.scrollOffset),new kN(a,o,e,t,n)}}}function EN(){return{provide:ia,useClass:mx}}function TN(){return{provide:ia,useClass:X5}}function _N(e){return"guarded"}function AN(e){return[e.initialNavigation==="disabled"?bN().\u0275providers:[],e.initialNavigation==="enabledBlocking"?zN().\u0275providers:[]]}var Xx=new ut("");function RN(){return[{provide:Xx,useFactory:_y},{provide:dl,multi:!0,useExisting:Xx}]}var Oy=(()=>{let t=class t{};t.\u0275fac=function(a){return new(a||t)},t.\u0275cmp=Pt({type:t,selectors:[["app-page404"]],standalone:!0,features:[Gt],decls:6,vars:0,consts:[["src","../../../../assets/what-huh.gif"]],template:function(a,s){a&1&&(D(0,"div")(1,"h1"),L(2,"404"),H(),D(3,"h2"),L(4,"Sorry, page not found."),H(),yt(5,"img",0),H())},styles:["div[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:1rem}img[_ngcontent-%COMP%]{scale:50%}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{color:var(--primary)}"]});let e=t;return e})();var $y=(()=>{let t=class t{constructor(o,a){this._renderer=o,this._elementRef=a,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(o,a){this._renderer.setProperty(this._elementRef.nativeElement,o,a)}registerOnTouched(o){this.onTouched=o}registerOnChange(o){this.onChange=o}setDisabledState(o){this.setProperty("disabled",o)}};t.\u0275fac=function(a){return new(a||t)(O(N0),O(_e))},t.\u0275dir=Dt({type:t});let e=t;return e})(),Zd=(()=>{let t=class t extends $y{};t.\u0275fac=(()=>{let o;return function(s){return(o||(o=Tn(t)))(s||t)}})(),t.\u0275dir=Dt({type:t,features:[f0]});let e=t;return e})(),Wl=new ut("");var LN={provide:Wl,useExisting:vn(()=>wn),multi:!0};function ON(){let e=co()?co().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var NN=new ut(""),wn=(()=>{let t=class t extends $y{constructor(o,a,s){super(o,a),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!ON())}writeValue(o){let a=o??"";this.setProperty("value",a)}_handleInput(o){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(o)}_compositionStart(){this._composing=!0}_compositionEnd(o){this._composing=!1,this._compositionMode&&this.onChange(o)}};t.\u0275fac=function(a){return new(a||t)(O(N0),O(_e),O(NN,8))},t.\u0275dir=Dt({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(a,s){a&1&&lt("input",function(r){return s._handleInput(r.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(r){return s._compositionEnd(r.target.value)})},features:[o1([LN]),f0]});let e=t;return e})();function Ul(e){return e==null||(typeof e=="string"||Array.isArray(e))&&e.length===0}function qy(e){return e!=null&&typeof e.length=="number"}var v2=new ut(""),Yy=new ut("");function PN(e){return t=>{if(Ul(t.value)||Ul(e))return null;let n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}function FN(e){return Ul(e.value)?{required:!0}:null}function VN(e){return t=>Ul(t.value)||!qy(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}function jN(e){return t=>qy(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}function UN(e){if(!e)return nw;let t,n;return typeof e=="string"?(n="",e.charAt(0)!=="^"&&(n+="^"),n+=e,e.charAt(e.length-1)!=="$"&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),o=>{if(Ul(o.value))return null;let a=o.value;return t.test(a)?null:{pattern:{requiredPattern:n,actualValue:a}}}}function nw(e){return null}function Ky(e){return e!=null}function Zy(e){return l2(e)?Be(e):e}function Xy(e){let t={};return e.forEach(n=>{t=n!=null?S(S({},t),n):t}),Object.keys(t).length===0?null:t}function Qy(e,t){return t.map(n=>n(e))}function GN(e){return!e.validate}function Jy(e){return e.map(t=>GN(t)?t:n=>t.validate(n))}function WN(e){if(!e)return null;let t=e.filter(Ky);return t.length==0?null:function(n){return Xy(Qy(n,t))}}function aw(e){return e!=null?WN(Jy(e)):null}function $N(e){if(!e)return null;let t=e.filter(Ky);return t.length==0?null:function(n){let o=Qy(n,t).map(Zy);return vv(o).pipe(_t(Xy))}}function sw(e){return e!=null?$N(Jy(e)):null}function Ny(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function qN(e){return e._rawValidators}function YN(e){return e._rawAsyncValidators}function ow(e){return e?Array.isArray(e)?e:[e]:[]}function Wd(e,t){return Array.isArray(e)?e.includes(t):e===t}function Py(e,t){let n=ow(t);return ow(e).forEach(a=>{Wd(n,a)||n.push(a)}),n}function Fy(e,t){return ow(t).filter(n=>!Wd(e,n))}var $d=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=aw(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=sw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}},Pi=class extends $d{get formDirective(){return null}get path(){return null}},Gl=class extends $d{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},qd=class{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},KN={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Ent=V(S({},KN),{"[class.ng-submitted]":"isSubmitted"}),i1=(()=>{let t=class t extends qd{constructor(o){super(o)}};t.\u0275fac=function(a){return new(a||t)(O(Gl,2))},t.\u0275dir=Dt({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(a,s){a&2&&$c("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[f0]});let e=t;return e})(),go=(()=>{let t=class t extends qd{constructor(o){super(o)}};t.\u0275fac=function(a){return new(a||t)(O(Pi,10))},t.\u0275dir=Dt({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(a,s){a&2&&$c("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[f0]});let e=t;return e})();var Fl="VALID",Gd="INVALID",Ni="PENDING",Vl="DISABLED";function tI(e){return(Xd(e)?e.validators:e)||null}function ZN(e){return Array.isArray(e)?aw(e):e||null}function eI(e,t){return(Xd(t)?t.asyncValidators:e)||null}function XN(e){return Array.isArray(e)?sw(e):e||null}function Xd(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function QN(e,t,n){let o=e.controls;if(!(t?Object.keys(o):o).length)throw new $(1e3,"");if(!o[n])throw new $(1001,"")}function JN(e,t,n){e._forEachChild((o,a)=>{if(n[a]===void 0)throw new $(1002,"")})}var Yd=class{constructor(t,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Fl}get invalid(){return this.status===Gd}get pending(){return this.status==Ni}get disabled(){return this.status===Vl}get enabled(){return this.status!==Vl}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Py(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Py(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Fy(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Fy(t,this._rawAsyncValidators))}hasValidator(t){return Wd(this._rawValidators,t)}hasAsyncValidator(t){return Wd(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Ni,t.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=Vl,this.errors=null,this._forEachChild(o=>{o.disable(V(S({},t),{onlySelf:!0}))}),this._updateValue(),t.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(V(S({},t),{skipPristineCheck:n})),this._onDisabledChange.forEach(o=>o(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=Fl,this._forEachChild(o=>{o.enable(V(S({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(V(S({},t),{skipPristineCheck:n})),this._onDisabledChange.forEach(o=>o(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Fl||this.status===Ni)&&this._runAsyncValidator(t.emitEvent)),t.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Vl:Fl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Ni,this._hasOwnPendingAsyncValidator=!0;let n=Zy(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(o=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(o,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((o,a)=>o&&o._find(a),this)}getError(t,n){let o=n?this.get(n):this;return o&&o.errors?o.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new fe,this.statusChanges=new fe}_calculateStatus(){return this._allControlsDisabled()?Vl:this.errors?Gd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ni)?Ni:this._anyControlsHaveStatus(Gd)?Gd:Fl}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Xd(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=ZN(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=XN(this._rawAsyncValidators)}},Kd=class extends Yd{constructor(t,n,o){super(tI(n),eI(o,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,o={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,o={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){JN(this,!0,t),Object.keys(t).forEach(o=>{QN(this,!0,o),this.controls[o].setValue(t[o],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){t!=null&&(Object.keys(t).forEach(o=>{let a=this.controls[o];a&&a.patchValue(t[o],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((o,a)=>{o.reset(t?t[a]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,o)=>(t[o]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,o)=>o._syncPendingControls()?!0:n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{let o=this.controls[n];o&&t(o,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[n,o]of Object.entries(this.controls))if(this.contains(n)&&t(o))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(n,o,a)=>((o.enabled||this.disabled)&&(n[a]=o.value),n))}_reduceChildren(t,n){let o=t;return this._forEachChild((a,s)=>{o=n(o,a,s)}),o}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var iw=new ut("CallSetDisabledState",{providedIn:"root",factory:()=>rw}),rw="always";function tP(e,t){return[...t.path,e]}function nI(e,t,n=rw){oI(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),nP(e,t),aP(e,t),oP(e,t),eP(e,t)}function Vy(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function eP(e,t){if(t.valueAccessor.setDisabledState){let n=o=>{t.valueAccessor.setDisabledState(o)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function oI(e,t){let n=qN(e);t.validator!==null?e.setValidators(Ny(n,t.validator)):typeof n=="function"&&e.setValidators([n]);let o=YN(e);t.asyncValidator!==null?e.setAsyncValidators(Ny(o,t.asyncValidator)):typeof o=="function"&&e.setAsyncValidators([o]);let a=()=>e.updateValueAndValidity();Vy(t._rawValidators,a),Vy(t._rawAsyncValidators,a)}function nP(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&aI(e,t)})}function oP(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&aI(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function aI(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function aP(e,t){let n=(o,a)=>{t.valueAccessor.writeValue(o),a&&t.viewToModelUpdate(o)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function sP(e,t){e==null,oI(e,t)}function iP(e,t){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function rP(e){return Object.getPrototypeOf(e.constructor)===Zd}function lP(e,t){e._syncPendingControls(),t.forEach(n=>{let o=n.control;o.updateOn==="submit"&&o._pendingChange&&(n.viewToModelUpdate(o._pendingValue),o._pendingChange=!1)})}function hP(e,t){if(!t)return null;Array.isArray(t);let n,o,a;return t.forEach(s=>{s.constructor===wn?n=s:rP(s)?o=s:a=s}),a||o||n||null}var cP={provide:Pi,useExisting:vn(()=>P1)},jl=Promise.resolve(),P1=(()=>{let t=class t extends Pi{constructor(o,a,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._directives=new Set,this.ngSubmit=new fe,this.form=new Kd({},aw(o),sw(a))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(o){jl.then(()=>{let a=this._findContainer(o.path);o.control=a.registerControl(o.name,o.control),nI(o.control,o,this.callSetDisabledState),o.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(o)})}getControl(o){return this.form.get(o.path)}removeControl(o){jl.then(()=>{let a=this._findContainer(o.path);a&&a.removeControl(o.name),this._directives.delete(o)})}addFormGroup(o){jl.then(()=>{let a=this._findContainer(o.path),s=new Kd({});sP(s,o),a.registerControl(o.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(o){jl.then(()=>{let a=this._findContainer(o.path);a&&a.removeControl(o.name)})}getFormGroup(o){return this.form.get(o.path)}updateModel(o,a){jl.then(()=>{this.form.get(o.path).setValue(a)})}setValue(o){this.control.setValue(o)}onSubmit(o){return this.submitted=!0,lP(this.form,this._directives),this.ngSubmit.emit(o),o?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(o=void 0){this.form.reset(o),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(o){return o.pop(),o.length?this.form.get(o):this.form}};t.\u0275fac=function(a){return new(a||t)(O(v2,10),O(Yy,10),O(iw,8))},t.\u0275dir=Dt({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(a,s){a&1&&lt("submit",function(r){return s.onSubmit(r)})("reset",function(){return s.onReset()})},inputs:{options:[r0.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o1([cP]),f0]});let e=t;return e})();function jy(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function Uy(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var dP=class extends Yd{constructor(t=null,n,o){super(tI(n),eI(o,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Xd(n)&&(n.nonNullable||n.initialValueIsDefault)&&(Uy(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(o=>o(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){jy(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){jy(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){Uy(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var pP={provide:Gl,useExisting:vn(()=>Fn)},Gy=Promise.resolve(),Fn=(()=>{let t=class t extends Gl{constructor(o,a,s,i,r,l){super(),this._changeDetectorRef=r,this.callSetDisabledState=l,this.control=new dP,this._registered=!1,this.name="",this.update=new fe,this._parent=o,this._setValidators(a),this._setAsyncValidators(s),this.valueAccessor=hP(this,i)}ngOnChanges(o){if(this._checkForErrors(),!this._registered||"name"in o){if(this._registered&&(this._checkName(),this.formDirective)){let a=o.name.previousValue;this.formDirective.removeControl({name:a,path:this._getPath(a)})}this._setUpControl()}"isDisabled"in o&&this._updateDisabled(o),iP(o,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(o){this.viewModel=o,this.update.emit(o)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){nI(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(o){Gy.then(()=>{this.control.setValue(o,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(o){let a=o.isDisabled.currentValue,s=a!==0&&Ya(a);Gy.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(o){return this._parent?tP(o,this._parent):[o]}};t.\u0275fac=function(a){return new(a||t)(O(Pi,9),O(v2,10),O(Yy,10),O(Wl,10),O(ho,8),O(iw,8))},t.\u0275dir=Dt({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[r0.None,"disabled","isDisabled"],model:[r0.None,"ngModel","model"],options:[r0.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[o1([pP]),f0,A1]});let e=t;return e})(),uo=(()=>{let t=class t{};t.\u0275fac=function(a){return new(a||t)},t.\u0275dir=Dt({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let e=t;return e})(),vP={provide:Wl,useExisting:vn(()=>$l),multi:!0},$l=(()=>{let t=class t extends Zd{writeValue(o){let a=o??"";this.setProperty("value",a)}registerOnChange(o){this.onChange=a=>{o(a==""?null:parseFloat(a))}}};t.\u0275fac=(()=>{let o;return function(s){return(o||(o=Tn(t)))(s||t)}})(),t.\u0275dir=Dt({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(a,s){a&1&&lt("input",function(r){return s.onChange(r.target.value)})("blur",function(){return s.onTouched()})},features:[o1([vP]),f0]});let e=t;return e})();var gP={provide:Wl,useExisting:vn(()=>Qd),multi:!0};function sI(e,t){return e==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${e}: ${t}`.slice(0,50))}function uP(e){return e.split(":")[0]}var Qd=(()=>{let t=class t extends Zd{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(o){this._compareWith=o}writeValue(o){this.value=o;let a=this._getOptionId(o),s=sI(a,o);this.setProperty("value",s)}registerOnChange(o){this.onChange=a=>{this.value=this._getOptionValue(a),o(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(o){for(let a of this._optionMap.keys())if(this._compareWith(this._optionMap.get(a),o))return a;return null}_getOptionValue(o){let a=uP(o);return this._optionMap.has(a)?this._optionMap.get(a):o}};t.\u0275fac=(()=>{let o;return function(s){return(o||(o=Tn(t)))(s||t)}})(),t.\u0275dir=Dt({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(a,s){a&1&&lt("change",function(r){return s.onChange(r.target.value)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[o1([gP]),f0]});let e=t;return e})(),iI=(()=>{let t=class t{constructor(o,a,s){this._element=o,this._renderer=a,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(o){this._select!=null&&(this._select._optionMap.set(this.id,o),this._setElementValue(sI(this.id,o)),this._select.writeValue(this._select.value))}set value(o){this._setElementValue(o),this._select&&this._select.writeValue(this._select.value)}_setElementValue(o){this._renderer.setProperty(this._element.nativeElement,"value",o)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};t.\u0275fac=function(a){return new(a||t)(O(_e),O(N0),O(Qd,9))},t.\u0275dir=Dt({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let e=t;return e})(),wP={provide:Wl,useExisting:vn(()=>rI),multi:!0};function Wy(e,t){return e==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${e}: ${t}`.slice(0,50))}function fP(e){return e.split(":")[0]}var rI=(()=>{let t=class t extends Zd{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(o){this._compareWith=o}writeValue(o){this.value=o;let a;if(Array.isArray(o)){let s=o.map(i=>this._getOptionId(i));a=(i,r)=>{i._setSelected(s.indexOf(r.toString())>-1)}}else a=(s,i)=>{s._setSelected(!1)};this._optionMap.forEach(a)}registerOnChange(o){this.onChange=a=>{let s=[],i=a.selectedOptions;if(i!==void 0){let r=i;for(let l=0;l<r.length;l++){let h=r[l],c=this._getOptionValue(h.value);s.push(c)}}else{let r=a.options;for(let l=0;l<r.length;l++){let h=r[l];if(h.selected){let c=this._getOptionValue(h.value);s.push(c)}}}this.value=s,o(s)}}_registerOption(o){let a=(this._idCounter++).toString();return this._optionMap.set(a,o),a}_getOptionId(o){for(let a of this._optionMap.keys())if(this._compareWith(this._optionMap.get(a)._value,o))return a;return null}_getOptionValue(o){let a=fP(o);return this._optionMap.has(a)?this._optionMap.get(a)._value:o}};t.\u0275fac=(()=>{let o;return function(s){return(o||(o=Tn(t)))(s||t)}})(),t.\u0275dir=Dt({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(a,s){a&1&&lt("change",function(r){return s.onChange(r.target)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[o1([wP]),f0]});let e=t;return e})(),lI=(()=>{let t=class t{constructor(o,a,s){this._element=o,this._renderer=a,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(o){this._select!=null&&(this._value=o,this._setElementValue(Wy(this.id,o)),this._select.writeValue(this._select.value))}set value(o){this._select?(this._value=o,this._setElementValue(Wy(this.id,o)),this._select.writeValue(this._select.value)):this._setElementValue(o)}_setElementValue(o){this._renderer.setProperty(this._element.nativeElement,"value",o)}_setSelected(o){this._renderer.setProperty(this._element.nativeElement,"selected",o)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};t.\u0275fac=function(a){return new(a||t)(O(_e),O(N0),O(rI,9))},t.\u0275dir=Dt({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let e=t;return e})();function hI(e){return typeof e=="number"?e:parseInt(e,10)}function MP(e){return typeof e=="number"?e:parseFloat(e)}var ql=(()=>{let t=class t{constructor(){this._validator=nw}ngOnChanges(o){if(this.inputName in o){let a=this.normalizeInput(o[this.inputName].currentValue);this._enabled=this.enabled(a),this._validator=this._enabled?this.createValidator(a):nw,this._onChange&&this._onChange()}}validate(o){return this._validator(o)}registerOnValidatorChange(o){this._onChange=o}enabled(o){return o!=null}};t.\u0275fac=function(a){return new(a||t)},t.\u0275dir=Dt({type:t,features:[A1]});let e=t;return e})();var mP={provide:v2,useExisting:vn(()=>Yl),multi:!0},Yl=(()=>{let t=class t extends ql{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=o=>MP(o),this.createValidator=o=>PN(o)}};t.\u0275fac=(()=>{let o;return function(s){return(o||(o=Tn(t)))(s||t)}})(),t.\u0275dir=Dt({type:t,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(a,s){a&2&&gn("min",s._enabled?s.min:null)},inputs:{min:"min"},features:[o1([mP]),f0]});let e=t;return e})(),xP={provide:v2,useExisting:vn(()=>la),multi:!0};var la=(()=>{let t=class t extends ql{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Ya,this.createValidator=o=>FN}enabled(o){return o}};t.\u0275fac=(()=>{let o;return function(s){return(o||(o=Tn(t)))(s||t)}})(),t.\u0275dir=Dt({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(a,s){a&2&&gn("required",s._enabled?"":null)},inputs:{required:"required"},features:[o1([xP]),f0]});let e=t;return e})();var yP={provide:v2,useExisting:vn(()=>ha),multi:!0},ha=(()=>{let t=class t extends ql{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=o=>hI(o),this.createValidator=o=>VN(o)}};t.\u0275fac=(()=>{let o;return function(s){return(o||(o=Tn(t)))(s||t)}})(),t.\u0275dir=Dt({type:t,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(a,s){a&2&&gn("minlength",s._enabled?s.minlength:null)},inputs:{minlength:"minlength"},features:[o1([yP]),f0]});let e=t;return e})(),IP={provide:v2,useExisting:vn(()=>g2),multi:!0},g2=(()=>{let t=class t extends ql{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=o=>hI(o),this.createValidator=o=>jN(o)}};t.\u0275fac=(()=>{let o;return function(s){return(o||(o=Tn(t)))(s||t)}})(),t.\u0275dir=Dt({type:t,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(a,s){a&2&&gn("maxlength",s._enabled?s.maxlength:null)},inputs:{maxlength:"maxlength"},features:[o1([IP]),f0]});let e=t;return e})(),kP={provide:v2,useExisting:vn(()=>lw),multi:!0},lw=(()=>{let t=class t extends ql{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=o=>o,this.createValidator=o=>UN(o)}};t.\u0275fac=(()=>{let o;return function(s){return(o||(o=Tn(t)))(s||t)}})(),t.\u0275dir=Dt({type:t,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(a,s){a&2&&gn("pattern",s._enabled?s.pattern:null)},inputs:{pattern:"pattern"},features:[o1([kP]),f0]});let e=t;return e})();var zP=(()=>{let t=class t{};t.\u0275fac=function(a){return new(a||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=Ee({});let e=t;return e})();var F0=(()=>{let t=class t{static withConfig(o){return{ngModule:t,providers:[{provide:iw,useValue:o.callSetDisabledState??rw}]}}};t.\u0275fac=function(a){return new(a||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=Ee({imports:[zP]});let e=t;return e})();var Jd=class{};var Rnt=Symbol(),bP=Symbol();var cI=Object.getPrototypeOf,hw=new WeakMap,CP=e=>e&&(hw.has(e)?hw.get(e):cI(e)===Object.prototype||cI(e)===Array.prototype);var dI=e=>CP(e)&&e[bP]||null,cw=(e,t=!0)=>{hw.set(e,t)};var dw=e=>typeof e=="object"&&e!==null,Vi=new WeakMap,tp=new WeakSet,BP=(e=Object.is,t=(h,c)=>new Proxy(h,c),n=h=>dw(h)&&!tp.has(h)&&(Array.isArray(h)||!(Symbol.iterator in h))&&!(h instanceof WeakMap)&&!(h instanceof WeakSet)&&!(h instanceof Error)&&!(h instanceof Number)&&!(h instanceof Date)&&!(h instanceof String)&&!(h instanceof RegExp)&&!(h instanceof ArrayBuffer),o=h=>{switch(h.status){case"fulfilled":return h.value;case"rejected":throw h.reason;default:throw h}},a=new WeakMap,s=(h,c,d=o)=>{let p=a.get(h);if(p?.[0]===c)return p[1];let v=Array.isArray(h)?[]:Object.create(Object.getPrototypeOf(h));return cw(v,!0),a.set(h,[c,v]),Reflect.ownKeys(h).forEach(g=>{if(Object.getOwnPropertyDescriptor(v,g))return;let u=Reflect.get(h,g),{enumerable:f}=Reflect.getOwnPropertyDescriptor(h,g),M={value:u,enumerable:f,configurable:!0};if(tp.has(u))cw(u,!1);else if(u instanceof Promise)delete M.value,M.get=()=>d(u);else if(Vi.has(u)){let[m,k]=Vi.get(u);M.value=s(m,k(),d)}Object.defineProperty(v,g,M)}),Object.preventExtensions(v)},i=new WeakMap,r=[1,1],l=h=>{if(!dw(h))throw new Error("object required");let c=i.get(h);if(c)return c;let d=r[0],p=new Set,v=(C,E=++r[0])=>{d!==E&&(d=E,p.forEach(_=>_(C,E)))},g=r[1],u=(C=++r[1])=>(g!==C&&!p.size&&(g=C,M.forEach(([E])=>{let _=E[1](C);_>d&&(d=_)})),d),f=C=>(E,_)=>{let F=[...E];F[1]=[C,...F[1]],v(F,_)},M=new Map,m=(C,E)=>{if((import.meta.env?import.meta.env.MODE:void 0)!=="production"&&M.has(C))throw new Error("prop listener already exists");if(p.size){let _=E[3](f(C));M.set(C,[E,_])}else M.set(C,[E])},k=C=>{var E;let _=M.get(C);_&&(M.delete(C),(E=_[1])==null||E.call(_))},B=C=>(p.add(C),p.size===1&&M.forEach(([_,F],tt)=>{if((import.meta.env?import.meta.env.MODE:void 0)!=="production"&&F)throw new Error("remove already exists");let at=_[3](f(tt));M.set(tt,[_,at])}),()=>{p.delete(C),p.size===0&&M.forEach(([_,F],tt)=>{F&&(F(),M.set(tt,[_]))})}),z=Array.isArray(h)?[]:Object.create(Object.getPrototypeOf(h)),y=t(z,{deleteProperty(C,E){let _=Reflect.get(C,E);k(E);let F=Reflect.deleteProperty(C,E);return F&&v(["delete",[E],_]),F},set(C,E,_,F){let tt=Reflect.has(C,E),at=Reflect.get(C,E,F);if(tt&&(e(at,_)||i.has(_)&&e(at,i.get(_))))return!0;k(E),dw(_)&&(_=dI(_)||_);let U=_;if(_ instanceof Promise)_.then(P=>{_.status="fulfilled",_.value=P,v(["resolve",[E],P])}).catch(P=>{_.status="rejected",_.reason=P,v(["reject",[E],P])});else{!Vi.has(_)&&n(_)&&(U=l(_));let P=!tp.has(U)&&Vi.get(U);P&&m(E,P)}return Reflect.set(C,E,U,F),v(["set",[E],_,at]),!0}});i.set(h,y);let b=[z,u,s,B];return Vi.set(y,b),Reflect.ownKeys(h).forEach(C=>{let E=Object.getOwnPropertyDescriptor(h,C);"value"in E&&(y[C]=h[C],delete E.value,delete E.writable),Object.defineProperty(z,C,E)}),y})=>[l,Vi,tp,e,t,n,o,a,s,i,r],[SP]=BP();function pI(e={}){return SP(e)}var Ge=pI({vacations:[],currUser$:new Ce(void 0)});var ns=(()=>{let t=class t{constructor(){this.authToken=""}setToken(o){localStorage.setItem("token",o),this.authToken=o}getToken(){return localStorage.getItem("token")&&(this.authToken=localStorage.getItem("token")),this.authToken}};t.\u0275fac=function(a){return new(a||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var St=function(e){return e[e.State=0]="State",e[e.Transition=1]="Transition",e[e.Sequence=2]="Sequence",e[e.Group=3]="Group",e[e.Animate=4]="Animate",e[e.Keyframes=5]="Keyframes",e[e.Style=6]="Style",e[e.Trigger=7]="Trigger",e[e.Reference=8]="Reference",e[e.AnimateChild=9]="AnimateChild",e[e.AnimateRef=10]="AnimateRef",e[e.Query=11]="Query",e[e.Stagger=12]="Stagger",e}(St||{}),wo="*";function ca(e,t){return{type:St.Trigger,name:e,definitions:t,options:{}}}function da(e,t=null){return{type:St.Animate,styles:t,timings:e}}function vI(e,t=null){return{type:St.Sequence,steps:e,options:t}}function V0(e){return{type:St.Style,styles:e,offset:null}}function u2(e,t,n){return{type:St.State,name:e,styles:t,options:n}}function fo(e,t,n=null){return{type:St.Transition,expr:e,animation:t,options:n}}function gI(e=null){return{type:St.AnimateChild,options:e}}function uI(e,t,n=null){return{type:St.Query,selector:e,animation:t,options:n}}function wI(e,t){return{type:St.Stagger,timings:e,animation:t}}var os=class{constructor(t=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){let n=t=="start"?this._onStartFns:this._onDoneFns;n.forEach(o=>o()),n.length=0}},Kl=class{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let n=0,o=0,a=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(i=>{i.onDone(()=>{++n==s&&this._onFinish()}),i.onDestroy(()=>{++o==s&&this._onDestroy()}),i.onStart(()=>{++a==s&&this._onStart()})}),this.totalTime=this.players.reduce((i,r)=>Math.max(i,r.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){let n=t*this.totalTime;this.players.forEach(o=>{let a=o.totalTime?Math.min(1,n/o.totalTime):1;o.setPosition(a)})}getPosition(){let t=this.players.reduce((n,o)=>n===null||o.totalTime>n.totalTime?o:n,null);return t!=null?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){let n=t=="start"?this._onStartFns:this._onDoneFns;n.forEach(o=>o()),n.length=0}},np="!";var fI=["toast-component",""];function DP(e,t){if(e&1){let n=oe();D(0,"button",5),lt("click",function(){ht(n);let a=it();return ct(a.remove())}),D(1,"span",6),L(2,"\xD7"),H()()}}function HP(e,t){if(e&1&&(qc(0),L(1),Yc()),e&2){let n=it(2);T(),Oe("[",n.duplicatesCount+1,"]")}}function EP(e,t){if(e&1&&(D(0,"div"),L(1),gt(2,HP,2,1,"ng-container",4),H()),e&2){let n=it();na(n.options.titleClass),gn("aria-label",n.title),T(),Oe(" ",n.title," "),T(),A("ngIf",n.duplicatesCount)}}function TP(e,t){if(e&1&&yt(0,"div",7),e&2){let n=it();na(n.options.messageClass),A("innerHTML",n.message,p5)}}function _P(e,t){if(e&1&&(D(0,"div",8),L(1),H()),e&2){let n=it();na(n.options.messageClass),gn("aria-label",n.message),T(),Oe(" ",n.message," ")}}function AP(e,t){if(e&1&&(D(0,"div"),yt(1,"div",9),H()),e&2){let n=it();T(),r2("width",n.width()+"%")}}function RP(e,t){if(e&1){let n=oe();D(0,"button",5),lt("click",function(){ht(n);let a=it();return ct(a.remove())}),D(1,"span",6),L(2,"\xD7"),H()()}}function LP(e,t){if(e&1&&(qc(0),L(1),Yc()),e&2){let n=it(2);T(),Oe("[",n.duplicatesCount+1,"]")}}function OP(e,t){if(e&1&&(D(0,"div"),L(1),gt(2,LP,2,1,"ng-container",4),H()),e&2){let n=it();na(n.options.titleClass),gn("aria-label",n.title),T(),Oe(" ",n.title," "),T(),A("ngIf",n.duplicatesCount)}}function NP(e,t){if(e&1&&yt(0,"div",7),e&2){let n=it();na(n.options.messageClass),A("innerHTML",n.message,p5)}}function PP(e,t){if(e&1&&(D(0,"div",8),L(1),H()),e&2){let n=it();na(n.options.messageClass),gn("aria-label",n.message),T(),Oe(" ",n.message," ")}}function FP(e,t){if(e&1&&(D(0,"div"),yt(1,"div",9),H()),e&2){let n=it();T(),r2("width",n.width()+"%")}}var pw=class{_attachedHost;component;viewContainerRef;injector;constructor(t,n){this.component=t,this.injector=n}attach(t,n){return this._attachedHost=t,t.attach(this,n)}detach(){let t=this._attachedHost;if(t)return this._attachedHost=void 0,t.detach()}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},vw=class{_attachedPortal;_disposeFn;attach(t,n){return this._attachedPortal=t,this.attachComponentPortal(t,n)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(t){this._disposeFn=t}},gw=class{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new Le;_activate=new Le;_manualClose=new Le;_resetTimeout=new Le;_countDuplicate=new Le;constructor(t){this._overlayRef=t}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(t,n){t&&this._resetTimeout.next(),n&&this._countDuplicate.next(++this.duplicatesCount)}},ji=class{toastId;config;message;title;toastType;toastRef;_onTap=new Le;_onAction=new Le;constructor(t,n,o,a,s,i){this.toastId=t,this.config=n,this.message=o,this.title=a,this.toastType=s,this.toastRef=i,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(t){this._onAction.next(t)}onAction(){return this._onAction.asObservable()}},MI={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},mI=new ut("ToastConfig"),uw=class extends vw{_hostDomElement;_componentFactoryResolver;_appRef;constructor(t,n,o){super(),this._hostDomElement=t,this._componentFactoryResolver=n,this._appRef=o}attachComponentPortal(t,n){let o=this._componentFactoryResolver.resolveComponentFactory(t.component),a;return a=o.create(t.injector),this._appRef.attachView(a.hostView),this.setDisposeFn(()=>{this._appRef.detachView(a.hostView),a.destroy()}),n?this._hostDomElement.insertBefore(this._getComponentRootNode(a),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(a)),a}_getComponentRootNode(t){return t.hostView.rootNodes[0]}},VP=(()=>{class e{_document=K(Ue);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let n=this._document.createElement("div");n.classList.add("overlay-container"),n.setAttribute("aria-live","polite"),this._document.body.appendChild(n),this._containerElement=n}static \u0275fac=function(o){return new(o||e)};static \u0275prov=J({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),ww=class{_portalHost;constructor(t){this._portalHost=t}attach(t,n=!0){return this._portalHost.attach(t,n)}detach(){return this._portalHost.detach()}},jP=(()=>{class e{_overlayContainer=K(VP);_componentFactoryResolver=K(ki);_appRef=K(R1);_document=K(Ue);_paneElements=new Map;create(n,o){return this._createOverlayRef(this.getPaneElement(n,o))}getPaneElement(n="",o){return this._paneElements.get(o)||this._paneElements.set(o,{}),this._paneElements.get(o)[n]||(this._paneElements.get(o)[n]=this._createPaneElement(n,o)),this._paneElements.get(o)[n]}_createPaneElement(n,o){let a=this._document.createElement("div");return a.id="toast-container",a.classList.add(n),a.classList.add("toast-container"),o?o.getContainerElement().appendChild(a):this._overlayContainer.getContainerElement().appendChild(a),a}_createPortalHost(n){return new uw(n,this._componentFactoryResolver,this._appRef)}_createOverlayRef(n){return new ww(this._createPortalHost(n))}static \u0275fac=function(o){return new(o||e)};static \u0275prov=J({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Mo=(()=>{class e{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(n,o,a,s,i){this.overlay=o,this._injector=a,this.sanitizer=s,this.ngZone=i,this.toastrConfig=S(S({},n.default),n.config),n.config.iconClasses&&(this.toastrConfig.iconClasses=S(S({},n.default.iconClasses),n.config.iconClasses))}show(n,o,a={},s=""){return this._preBuildNotification(s,n,o,this.applyConfig(a))}success(n,o,a={}){let s=this.toastrConfig.iconClasses.success||"";return this._preBuildNotification(s,n,o,this.applyConfig(a))}error(n,o,a={}){let s=this.toastrConfig.iconClasses.error||"";return this._preBuildNotification(s,n,o,this.applyConfig(a))}info(n,o,a={}){let s=this.toastrConfig.iconClasses.info||"";return this._preBuildNotification(s,n,o,this.applyConfig(a))}warning(n,o,a={}){let s=this.toastrConfig.iconClasses.warning||"";return this._preBuildNotification(s,n,o,this.applyConfig(a))}clear(n){for(let o of this.toasts)if(n!==void 0){if(o.toastId===n){o.toastRef.manualClose();return}}else o.toastRef.manualClose()}remove(n){let o=this._findToast(n);if(!o||(o.activeToast.toastRef.close(),this.toasts.splice(o.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){let a=this.toasts[this.currentlyActive].toastRef;a.isInactive()||(this.currentlyActive=this.currentlyActive+1,a.activate())}return!0}findDuplicate(n="",o="",a,s){let{includeTitleDuplicates:i}=this.toastrConfig;for(let r of this.toasts){let l=i&&r.title===n;if((!i||l)&&r.message===o)return r.toastRef.onDuplicate(a,s),r}return null}applyConfig(n={}){return S(S({},this.toastrConfig),n)}_findToast(n){for(let o=0;o<this.toasts.length;o++)if(this.toasts[o].toastId===n)return{index:o,activeToast:this.toasts[o]};return null}_preBuildNotification(n,o,a,s){return s.onActivateTick?this.ngZone.run(()=>this._buildNotification(n,o,a,s)):this._buildNotification(n,o,a,s)}_buildNotification(n,o,a,s){if(!s.toastComponent)throw new Error("toastComponent required");let i=this.findDuplicate(a,o,this.toastrConfig.resetTimeoutOnDuplicate&&s.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&a||o)&&this.toastrConfig.preventDuplicates&&i!==null)return i;this.previousToastMessage=o;let r=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(r=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));let l=this.overlay.create(s.positionClass,this.overlayContainer);this.index=this.index+1;let h=o;o&&s.enableHtml&&(h=this.sanitizer.sanitize(An.HTML,o));let c=new gw(l),d=new ji(this.index,s,h,a,n,c),p=[{provide:ji,useValue:d}],v=_n.create({providers:p,parent:this._injector}),g=new pw(s.toastComponent,v),u=l.attach(g,s.newestOnTop);c.componentInstance=u.instance;let f={toastId:this.index,title:a||"",message:o||"",toastRef:c,onShown:c.afterActivate(),onHidden:c.afterClosed(),onTap:d.onTap(),onAction:d.onAction(),portal:u};return r||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{f.toastRef.activate()})),this.toasts.push(f),f}static \u0275fac=function(o){return new(o||e)(nt(mI),nt(jP),nt(_n),nt(wu),nt(Yt))};static \u0275prov=J({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),UP=(()=>{class e{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=hl(-1);toastClasses="";state;get _state(){return this.state()}get displayStyle(){if(this.state().value==="inactive")return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(n,o,a){this.toastrService=n,this.toastPackage=o,this.ngZone=a,this.message=o.message,this.title=o.title,this.options=o.config,this.originalTimeout=o.config.timeOut,this.toastClasses=`${o.toastType} ${o.config.toastClass}`,this.sub=o.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=o.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=o.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=o.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s}),this.state=hl({value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.update(n=>V(S({},n),{value:"active"})),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let n=new Date().getTime(),o=this.hideTime-n;this.width.set(o/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(a=>100-a),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.update(n=>V(S({},n),{value:"active"})),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){this.state().value!=="removed"&&(clearTimeout(this.timeout),this.state.update(n=>V(S({},n),{value:"removed"})),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){this.state().value!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state().value!=="removed"&&this.options.disableTimeOut!=="extendedTimeOut"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state().value==="removed"||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(n,o){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(n),o)):this.timeout=setTimeout(()=>n(),o)}outsideInterval(n,o){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(n),o)):this.intervalId=setInterval(()=>n(),o)}runInsideAngular(n){this.ngZone?this.ngZone.run(()=>n()):n()}static \u0275fac=function(o){return new(o||e)(O(Mo),O(ji),O(Yt))};static \u0275cmp=Pt({type:e,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(o,a){o&1&&lt("click",function(){return a.tapToast()})("mouseenter",function(){return a.stickAround()})("mouseleave",function(){return a.delayedHideToast()}),o&2&&(A5("@flyInOut",a._state),na(a.toastClasses),r2("display",a.displayStyle))},standalone:!0,features:[Gt],attrs:fI,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(o,a){o&1&&gt(0,DP,3,0,"button",0)(1,EP,3,5,"div",1)(2,TP,1,3,"div",2)(3,_P,2,4,"div",3)(4,AP,2,2,"div",4),o&2&&(A("ngIf",a.options.closeButton),T(),A("ngIf",a.title),T(),A("ngIf",a.message&&a.options.enableHtml),T(),A("ngIf",a.message&&!a.options.enableHtml),T(),A("ngIf",a.options.progressBar))},dependencies:[l0],encapsulation:2,data:{animation:[ca("flyInOut",[u2("inactive",V0({opacity:0})),u2("active",V0({opacity:1})),u2("removed",V0({opacity:0})),fo("inactive => active",da("{{ easeTime }}ms {{ easing }}")),fo("active => removed",da("{{ easeTime }}ms {{ easing }}"))])]},changeDetection:0})}return e})(),GP=V(S({},MI),{toastComponent:UP}),fw=(e={})=>Wa([{provide:mI,useValue:{default:GP,config:e}}]),xI=(()=>{class e{static forRoot(n={}){return{ngModule:e,providers:[fw(n)]}}static \u0275fac=function(o){return new(o||e)};static \u0275mod=Te({type:e});static \u0275inj=Ee({})}return e})();var WP=(()=>{class e{toastrService;toastPackage;appRef;message;title;options;duplicatesCount;originalTimeout;width=hl(-1);toastClasses="";get displayStyle(){return this.state()==="inactive"?"none":null}state=hl("inactive");timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(n,o,a){this.toastrService=n,this.toastPackage=o,this.appRef=a,this.message=o.message,this.title=o.title,this.options=o.config,this.originalTimeout=o.config.timeOut,this.toastClasses=`${o.toastType} ${o.config.toastClass}`,this.sub=o.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=o.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=o.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=o.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.set("active"),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let n=new Date().getTime(),o=this.hideTime-n;this.width.set(o/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(a=>100-a),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.set("active"),this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=new Date().getTime()+(this.originalTimeout||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.state.set("removed"),this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){this.state()!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state()==="removed"||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}static \u0275fac=function(o){return new(o||e)(O(Mo),O(ji),O(R1))};static \u0275cmp=Pt({type:e,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(o,a){o&1&&lt("click",function(){return a.tapToast()})("mouseenter",function(){return a.stickAround()})("mouseleave",function(){return a.delayedHideToast()}),o&2&&(na(a.toastClasses),r2("display",a.displayStyle))},standalone:!0,features:[Gt],attrs:fI,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(o,a){o&1&&gt(0,RP,3,0,"button",0)(1,OP,3,5,"div",1)(2,NP,1,3,"div",2)(3,PP,2,4,"div",3)(4,FP,2,2,"div",4),o&2&&(A("ngIf",a.options.closeButton),T(),A("ngIf",a.title),T(),A("ngIf",a.message&&a.options.enableHtml),T(),A("ngIf",a.message&&!a.options.enableHtml),T(),A("ngIf",a.options.progressBar))},dependencies:[l0],encapsulation:2,changeDetection:0})}return e})(),e1t=V(S({},MI),{toastComponent:WP});var j0=(()=>{let t=class t{get isLoggedIn(){return this.loggedIn.value}constructor(o,a,s){this.http=o,this.tokenService=a,this.toast=s,this.loggedIn=new Ce(!1),this.isLoggedIn$=this.loggedIn.asObservable()}register(o){return R(this,null,function*(){let a;try{let s=this.http.post(fn.registerUrl,o);a=yield W0(s),a.length&&this.loggedIn.next(!0),this.tokenService.setToken(a),yield this.retrieveUser(),this.toast.success(`Welcome ${o.firstName}!`)}catch(s){this.loggedIn.next(!1),this.toast.error(s.error)}return a})}login(o){return R(this,null,function*(){let a;try{let s=this.http.post(fn.loginUrl,o);a=yield W0(s),a.length&&this.loggedIn.next(!0),this.tokenService.setToken(a),yield this.retrieveUser()}catch(s){this.loggedIn.next(!1),this.toast.error(s.error)}return a})}logout(){localStorage.removeItem("token"),this.tokenService.setToken(""),this.loggedIn.next(!1)}retrieveUser(){return R(this,null,function*(){let o=this.tokenService.getToken();if(!o)return console.error("No token found"),null;try{let a=this.http.post(fn.usersUrl+"me",{token:o}),s=yield W0(a);return Ge.currUser$.next(s),s}catch(a){return console.error("Error retrieving user:",a),null}})}};t.\u0275fac=function(a){return new(a||t)(nt(c2),nt(ns),nt(Mo))},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var $P=()=>["/home"];function qP(e,t){e&1&&(D(0,"span",23),L(1,"Missing first name"),H())}function YP(e,t){e&1&&(D(0,"span",23),L(1,"First name has to be longer than one character"),H())}function KP(e,t){e&1&&(D(0,"span",23),L(1,"First name cannot be longer than 20 characters"),H())}function ZP(e,t){e&1&&(D(0,"span",23),L(1,"First name can only contain English letters"),H())}function XP(e,t){if(e&1&&(D(0,"span",23),gt(1,qP,2,0,"span",9)(2,YP,2,0,"span",9)(3,KP,2,0,"span",9)(4,ZP,2,0,"span",9),H()),e&2){it();let n=At(6);T(),A("ngIf",n.errors.required),T(),A("ngIf",!n.errors.required&&n.errors.minlength),T(),A("ngIf",!n.errors.required&&!n.errors.minlength&&n.errors.maxlength),T(),A("ngIf",!n.errors.required&&!n.errors.minlength&&!n.errors.maxlength&&n.errors.pattern)}}function QP(e,t){e&1&&(D(0,"span",23),L(1,"Missing last name"),H())}function JP(e,t){e&1&&(D(0,"span",23),L(1,"Last name has to be longer than one character"),H())}function tF(e,t){e&1&&(D(0,"span",23),L(1,"Last name cannot be longer than 20 characters"),H())}function eF(e,t){e&1&&(D(0,"span",23),L(1,"Last name can only contain English letters"),H())}function nF(e,t){if(e&1&&(D(0,"span",23),gt(1,QP,2,0,"span",9)(2,JP,2,0,"span",9)(3,tF,2,0,"span",9)(4,eF,2,0,"span",9),H()),e&2){it();let n=At(11);T(),A("ngIf",n.errors.required),T(),A("ngIf",!n.errors.required&&n.errors.minlength),T(),A("ngIf",!n.errors.required&&!n.errors.minlength&&n.errors.maxlength),T(),A("ngIf",!n.errors.required&&!n.errors.minlength&&!n.errors.maxlength&&n.errors.pattern)}}function oF(e,t){e&1&&(D(0,"span",23),L(1,"Missing email"),H())}function aF(e,t){e&1&&(D(0,"span",23),L(1,"Invalid email format"),H())}function sF(e,t){if(e&1&&(D(0,"span",23),gt(1,oF,2,0,"span",9)(2,aF,2,0,"span",9),H()),e&2){it();let n=At(16);T(),A("ngIf",n.errors.required),T(),A("ngIf",!n.errors.required&&n.errors.pattern)}}function iF(e,t){e&1&&(D(0,"span",23),L(1,"Missing password"),H())}function rF(e,t){e&1&&(D(0,"span",23),L(1,"Password has to be longer than 4 characters"),H())}function lF(e,t){if(e&1&&(D(0,"span",23),gt(1,iF,2,0,"span",9)(2,rF,2,0,"span",9),H()),e&2){it();let n=At(21);T(),A("ngIf",n.errors.required),T(),A("ngIf",!n.errors.required&&n.errors.minlength)}}function hF(e,t){e&1&&(D(0,"span",23),L(1," Password must contain both numbers and characters "),H())}function cF(e,t){e&1&&(D(0,"span",24),L(1," Password is weak, we recommend you use a stronger combination "),H())}function dF(e,t){e&1&&(D(0,"span",25),L(1," Password is strong "),H())}function pF(e,t){e&1&&(D(0,"span",23),L(1,"Missing confirmation of password"),H())}function vF(e,t){e&1&&(D(0,"span",23),L(1,"Password has to be longer than 4 characters"),H())}function gF(e,t){if(e&1&&(D(0,"span",23),gt(1,pF,2,0,"span",9)(2,vF,2,0,"span",9),H()),e&2){it();let n=At(29);T(),A("ngIf",n.errors.required),T(),A("ngIf",!n.errors.required&&n.errors.minlength)}}function uF(e,t){e&1&&(D(0,"span",23),L(1," Confirmation does not match password "),H())}var yI=(()=>{let t=class t{constructor(o,a,s){this.authService=o,this.router=a,this.title=s,this.newUser=new Jd,this.passwordWeak=!1,this.passwordStrong=!1,this.passwordInvalid=!1,this.passwordMismatch=!1,this.confirmPassword=""}ngOnInit(){this.title.setTitle("SoJourn | Register")}checkPasswordStrength(){let o=this.newUser.password;!/\d/.test(o)||!/[a-zA-Z]/.test(o)?(this.passwordInvalid=!0,this.passwordWeak=!1,this.passwordStrong=!1):o.length>=8?(this.passwordInvalid=!1,this.passwordWeak=!1,this.passwordStrong=!0):(this.passwordInvalid=!1,this.passwordWeak=!0,this.passwordStrong=!1)}checkPasswordMatch(){this.passwordMismatch=this.newUser.password!==this.confirmPassword}send(){return R(this,null,function*(){try{let o=yield this.authService.register(this.newUser);this.router.navigateByUrl("/home")}catch(o){alert(o.message)}})}};t.\u0275fac=function(a){return new(a||t)(O(j0),O(Ne),O(n0))},t.\u0275cmp=Pt({type:t,selectors:[["app-register"]],standalone:!0,features:[Gt],decls:37,vars:17,consts:[["registrationForm","ngForm"],["firstNameBox","ngModel"],["lastNameBox","ngModel"],["emailBox","ngModel"],["passwordBox","ngModel"],["confirmPasswordBox","ngModel"],[3,"ngSubmit"],["for","firstName"],["type","text","name","firstName","required","","minlength","2","maxlength","20","pattern","[a-zA-Z]*",3,"ngModelChange","ngModel"],["class","error",4,"ngIf"],["for","lastName"],["type","text","name","lastName","required","","minlength","2","maxlength","20","pattern","[a-zA-Z]*",3,"ngModelChange","ngModel"],["for","email"],["type","email","name","email","required","","pattern","[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$",3,"ngModelChange","ngModel"],["for","password"],["type","password","name","password","required","","minlength","4","pattern","[a-zA-Z0-9]*",3,"ngModelChange","input","ngModel"],["class","weak",4,"ngIf"],["class","strong",4,"ngIf"],["for","confirmPassword"],["type","password","name","confirmPassword","required","","minlength","4","pattern","[a-zA-Z0-9]*",3,"ngModelChange","ngModel"],[3,"routerLink"],["type","button",1,"discard"],[3,"disabled"],[1,"error"],[1,"weak"],[1,"strong"]],template:function(a,s){if(a&1){let i=oe();D(0,"div")(1,"form",6,0),lt("ngSubmit",function(){return ht(i),ct(s.send())}),D(3,"label",7),L(4,"first name"),H(),D(5,"input",8,1),te("ngModelChange",function(l){return ht(i),ae(s.newUser.firstName,l)||(s.newUser.firstName=l),ct(l)}),H(),gt(7,XP,5,4,"span",9),D(8,"label",10),L(9,"last name"),H(),D(10,"input",11,2),te("ngModelChange",function(l){return ht(i),ae(s.newUser.lastName,l)||(s.newUser.lastName=l),ct(l)}),H(),gt(12,nF,5,4,"span",9),D(13,"label",12),L(14,"email"),H(),D(15,"input",13,3),te("ngModelChange",function(l){return ht(i),ae(s.newUser.email,l)||(s.newUser.email=l),ct(l)}),H(),gt(17,sF,3,2,"span",9),D(18,"label",14),L(19,"password"),H(),D(20,"input",15,4),te("ngModelChange",function(l){return ht(i),ae(s.newUser.password,l)||(s.newUser.password=l),ct(l)}),lt("input",function(){return ht(i),s.checkPasswordStrength(),ct(s.checkPasswordMatch())}),H(),gt(22,lF,3,2,"span",9)(23,hF,2,0,"span",9)(24,cF,2,0,"span",16)(25,dF,2,0,"span",17),D(26,"label",18),L(27,"confirm password"),H(),D(28,"input",19,5),te("ngModelChange",function(l){return ht(i),ae(s.confirmPassword,l)||(s.confirmPassword=l),ct(l)}),lt("ngModelChange",function(){return ht(i),ct(s.checkPasswordMatch())}),H(),gt(30,gF,3,2,"span",9)(31,uF,2,0,"span",9),D(32,"a",20)(33,"button",21),L(34,"Discard"),H()(),D(35,"button",22),L(36," Register "),H()()()}if(a&2){let i=At(2),r=At(6),l=At(11),h=At(16),c=At(21),d=At(29);T(5),Jt("ngModel",s.newUser.firstName),T(2),A("ngIf",r.touched&&r.errors),T(3),Jt("ngModel",s.newUser.lastName),T(2),A("ngIf",l.touched&&l.errors),T(3),Jt("ngModel",s.newUser.email),T(2),A("ngIf",h.touched&&h.errors),T(3),Jt("ngModel",s.newUser.password),T(2),A("ngIf",c.touched&&c.errors),T(),A("ngIf",s.passwordInvalid&&c.touched),T(),A("ngIf",s.passwordWeak&&c.touched),T(),A("ngIf",s.passwordStrong&&c.touched),T(3),Jt("ngModel",s.confirmPassword),T(2),A("ngIf",d.touched&&d.errors),T(),A("ngIf",s.passwordMismatch&&c.touched&&d.value.length),T(),A("routerLink",rt(16,$P)),T(3),A("disabled",i.invalid||s.passwordMismatch)}},dependencies:[Me,l0,F0,uo,wn,i1,go,la,ha,g2,lw,Fn,P1,P0],styles:[".discard[_ngcontent-%COMP%]{background-color:#f00b;color:#fff;font-weight:500}"]});let e=t;return e})();var ap=class{};var wF=()=>["/register"];function fF(e,t){e&1&&(D(0,"span",12),L(1,"Missing email"),H())}function MF(e,t){e&1&&(D(0,"span",12),L(1,"Missing password"),H())}function mF(e,t){e&1&&(D(0,"span",12),L(1,"Password has to be longer than 4 characters"),H())}var II=(()=>{let t=class t{constructor(o,a,s){this.authService=o,this.router=a,this.title=s,this.credentials=new ap}ngOnInit(){this.title.setTitle("SoJourn | Login")}send(){return R(this,null,function*(){let o=yield this.authService.login(this.credentials);this.router.navigateByUrl("/home")})}};t.\u0275fac=function(a){return new(a||t)(O(j0),O(Ne),O(n0))},t.\u0275cmp=Pt({type:t,selectors:[["app-login"]],standalone:!0,features:[Gt],decls:21,vars:8,consts:[["loginForm","ngForm"],["emailBox","ngModel"],["passwordBox","ngModel"],[3,"ngSubmit"],["for","email"],["type","email","name","email","required","",3,"ngModelChange","ngModel"],["class","error",4,"ngIf"],["for","password"],["type","password","name","password","required","","minlength","4",3,"ngModelChange","ngModel"],[3,"disabled"],[1,"register-now"],[3,"routerLink"],[1,"error"]],template:function(a,s){if(a&1){let i=oe();D(0,"div")(1,"form",3,0),lt("ngSubmit",function(){return ht(i),ct(s.send())}),D(3,"label",4),L(4,"email"),H(),D(5,"input",5,1),te("ngModelChange",function(l){return ht(i),ae(s.credentials.email,l)||(s.credentials.email=l),ct(l)}),H(),gt(7,fF,2,0,"span",6),D(8,"label",7),L(9,"password"),H(),D(10,"input",8,2),te("ngModelChange",function(l){return ht(i),ae(s.credentials.password,l)||(s.credentials.password=l),ct(l)}),H(),gt(12,MF,2,0,"span",6)(13,mF,2,0,"span",6),D(14,"button",9),L(15,"Login"),H(),D(16,"div",10),L(17," Still not a registered user?"),yt(18,"br"),D(19,"a",11),L(20,"Register now!"),H()()()()}if(a&2){let i=At(2),r=At(6),l=At(11);T(5),Jt("ngModel",s.credentials.email),T(2),A("ngIf",r.touched&&(r.errors==null?null:r.errors.required)),T(3),Jt("ngModel",s.credentials.password),T(2),A("ngIf",l.touched&&(l.errors==null?null:l.errors.required)),T(),A("ngIf",l.touched&&!(l.errors!=null&&l.errors.required)&&(l.errors==null?null:l.errors.minLength)),T(),A("disabled",i.invalid),T(5),A("routerLink",rt(7,wF))}},dependencies:[Me,l0,F0,uo,wn,i1,go,la,ha,Fn,P1,P0],styles:[".register-now[_ngcontent-%COMP%]{text-align:center;color:#fff}"]});let e=t;return e})();var xF=["*"],Zl=class{constructor(t){this.options=t}};function yF(e){return e.toLowerCase().replace(/(?:^\w|[A-Z]|\b\w)/g,t=>t.toUpperCase()).replace(/[-_]/g,"")}var ss=(()=>{class e{constructor(n,o,a){this.elem=n,this.changeDetector=o,this.options=a}ngOnChanges(n){let a=Object.assign({},...this.options.map(s=>s.icons))[`Icon${yF(n.name.currentValue)}`]??"";!a&&!this.options.some(s=>s.ignoreWarnings)&&console.warn(`Tabler Icon not found: ${n.name.currentValue}
Refer to documentation on https://github.com/pierreavn/angular-tabler-icons`),this.elem.nativeElement.innerHTML=a,this.changeDetector.markForCheck()}}return e.\u0275fac=function(n){return new(n||e)(O(_e),O(ho),O(Zl))},e.\u0275cmp=Pt({type:e,selectors:[["i-tabler"],["tabler-icon"]],inputs:{name:"name"},features:[A1],ngContentSelectors:xF,decls:1,vars:0,template:function(n,o){n&1&&(Km(),Zm(0))},styles:["[_nghost-%COMP%]{display:inline-block;width:24px;height:24px;fill:none;stroke:currentColor;stroke-width:2px;stroke-linecap:round;stroke-linejoin:round}"]}),e})(),Mw=(()=>{class e{constructor(n){if(this.options=n,!this.options)throw new Error(`No icon provided. Make sure to use 'TablerIconsModule.pick({ ... })' when importing the module
Refer to documentation on https://github.com/pierreavn/angular-tabler-icons`)}static pick(n,o){return{ngModule:e,providers:[{provide:Zl,useValue:S({icons:n},o),multi:!0}]}}}return e.\u0275fac=function(n){return new(n||e)(nt(Zl,8))},e.\u0275mod=Te({type:e}),e.\u0275inj=Ee({}),e})();var kI='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" >  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>  <path d="M9 11l-4 4l4 4m-4 -4h11a4 4 0 0 0 0 -8h-1" /></svg>';var zI='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" >  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>  <path d="M17 11v6l-5 -4l-5 4v-6l5 -4z" /></svg>';var bI='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" >  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>  <path d="M15 11l4 4l-4 4m4 -4h-11a4 4 0 0 1 0 -8h1" /></svg>';var CI='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" >  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>  <path d="M13 12h-10" />  <path d="M6 15l-3 -3l3 -3" />  <path d="M17 12a2 2 0 1 1 4 0a2 2 0 0 1 -4 0z" /></svg>',BI='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" >  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>  <path d="M11 12h10" />  <path d="M18 9l3 3l-3 3" />  <path d="M7 12a2 2 0 1 1 -4 0a2 2 0 0 1 4 0z" /></svg>';var SI='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" >  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>  <path d="M12 5l0 14" />  <path d="M18 11l-6 -6" />  <path d="M6 11l6 -6" /></svg>';var DI='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" >  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>  <path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5" /></svg>';var HI='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" >  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>  <path d="M5 7h1a2 2 0 0 0 2 -2a1 1 0 0 1 1 -1h6a1 1 0 0 1 1 1a2 2 0 0 0 2 2h1a2 2 0 0 1 2 2v9a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-9a2 2 0 0 1 2 -2" />  <path d="M9 13a3 3 0 1 0 6 0a3 3 0 0 0 -6 0" /></svg>';var EI='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" >  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>  <path d="M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1" />  <path d="M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z" />  <path d="M16 5l3 3" /></svg>';var TI='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" >  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>  <path d="M19.5 12.572l-7.5 7.428l-7.5 -7.428a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572" /></svg>';var _I='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" >  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>  <path d="M15.157 11.81l4.83 1.295a2 2 0 1 1 -1.036 3.863l-14.489 -3.882l-1.345 -6.572l2.898 .776l1.414 2.45l2.898 .776l-.12 -7.279l2.898 .777l2.052 7.797z" />  <path d="M3 21h18" /></svg>',AI='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" >  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>  <path d="M14.639 10.258l4.83 -1.294a2 2 0 1 1 1.035 3.863l-14.489 3.883l-4.45 -5.02l2.897 -.776l2.45 1.414l2.897 -.776l-3.743 -6.244l2.898 -.777l5.675 5.727z" />  <path d="M3 21h18" /></svg>';var RI='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" >  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>  <path d="M16 10h4a2 2 0 0 1 0 4h-4l-4 7h-3l2 -7h-4l-2 2h-3l2 -4l-2 -4h3l2 2h4l-2 -7h3z" /></svg>';var LI='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" >  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>  <path d="M4 5v14l12 -7z" />  <path d="M20 5l0 14" /></svg>';var OI='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" >  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>  <path d="M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0" />  <path d="M21 21l-6 -6" /></svg>';var NI='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" >  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>  <path d="M4 7l16 0" />  <path d="M10 11l0 6" />  <path d="M14 11l0 6" />  <path d="M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12" />  <path d="M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3" /></svg>';var IF={IconTrash:NI,IconEdit:EI,IconCamera:HI,IconHeart:TI,IconBrandGithub:DI,IconPlane:RI,IconPlaneDeparture:AI,IconPlaneArrival:_I,IconArrowForward:bI,IconArrowBack:kI,IconPlayerSkipForward:LI,IconArrowMoveRight:BI,IconArrowMoveLeft:CI,IconSearch:OI,IconArrowUp:SI,IconArrowBadgeUp:zI},is=(()=>{let t=class t{};t.\u0275fac=function(a){return new(a||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=Ee({imports:[Mw.pick(IF),Mw]});let e=t;return e})();var Ui=(()=>{let t=class t{constructor(o,a,s){this.templateRef=o,this.viewContainer=a,this.authService=s}ngOnInit(){this.adminSubscription=Ge.currUser$.subscribe(o=>{this.user=o,this.updateView()}),this.loggedInSubscription=this.authService.isLoggedIn$.subscribe(o=>{this.isLoggedIn=o,this.updateView()})}updateView(){this.viewContainer.clear(),this.user?.roleId&&this.isLoggedIn&&this.viewContainer.createEmbeddedView(this.templateRef)}ngOnDestroy(){this.adminSubscription&&this.adminSubscription.unsubscribe(),this.loggedInSubscription&&this.loggedInSubscription.unsubscribe()}};t.\u0275fac=function(a){return new(a||t)(O(S0),O(w0),O(j0))},t.\u0275dir=Dt({type:t,selectors:[["","isAdmin",""]],standalone:!0});let e=t;return e})();var Gi=(()=>{let t=class t{transform(o,a="EUR",s="symbol"){if(o==null)return null;let i={style:"currency",currency:a,minimumFractionDigits:0,maximumFractionDigits:2};return new Intl.NumberFormat("en-US",i).format(o).replace(/(\.00$)/,"")}};t.\u0275fac=function(a){return new(a||t)},t.\u0275pipe=Sc({name:"customCurrency",type:t,pure:!0,standalone:!0});let e=t;return e})();var x0=(()=>{let t=class t{constructor(o,a){this.el=o,this.renderer=a}ngOnInit(){this.updateStyles(),this.resizeListener=this.onResize.bind(this),window.addEventListener("resize",this.resizeListener)}ngOnDestroy(){window.removeEventListener("resize",this.resizeListener)}onResize(){this.updateStyles()}updateStyles(){let o=window.innerWidth<935?this.mobileStyle:this.laptopStyle;this.applyStyles(o)}applyStyles(o){o&&Object.keys(o).forEach(a=>{this.renderer.setStyle(this.el.nativeElement,a,o[a])})}};t.\u0275fac=function(a){return new(a||t)(O(_e),O(N0))},t.\u0275dir=Dt({type:t,selectors:[["","customStyle",""]],inputs:{mobileStyle:"mobileStyle",laptopStyle:"laptopStyle"},standalone:!0});let e=t;return e})();var mo=(()=>{let t=class t{constructor(){this.modalDataSource=new Ce(null),this.modalData$=this.modalDataSource.asObservable(),this.openSource=new Ce(!1),this.open$=this.openSource.asObservable(),this.deletionConfirmed=new fe}openModal(o){this.modalDataSource.next(o),this.openSource.next(!0)}closeModal(){this.openSource.next(!1)}confirmDeletion(){this.deletionConfirmed.emit(),this.closeModal()}};t.\u0275fac=function(a){return new(a||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var y0=(()=>{let t=class t{constructor(o){this.http=o}getAllVacationsWithLimit(o,a="startDate",s="noFilter",i){return R(this,null,function*(){let r=this.http.get(fn.vacationsUrl(o,a,s,i));return yield W0(r)})}getAllVacations(o="startDate",a="noFilter"){return R(this,null,function*(){let i=localStorage.getItem("vacations"),r=!0;if(i){let l=JSON.parse(i),h=new Date(l.timeStamp).getTime();new Date().getTime()-h<36e5&&(r=!1)}if(r){let l=this.http.get(fn.vacationUrlStatic+`${o}/${a}`),h=yield W0(l);localStorage.setItem("vacations",JSON.stringify({value:h,timeStamp:new Date}))}Ge.vacations=JSON.parse(localStorage.getItem("vacations")).value})}getVacationById(o){return R(this,null,function*(){let a=this.http.get(fn.vacationUrlStatic+o);return yield W0(a)})}toggleLike(o,a){return R(this,null,function*(){let s=this.http.patch(fn.vacationUrlStatic+o+"/like",{userId:a});yield W0(s)})}addVacation(o,a){return R(this,null,function*(){let s=new FormData;s.append("destination",o.destination),s.append("description",o.description),s.append("startDate",o.startDate.toString()),s.append("endDate",o.endDate.toString()),s.append("price",o.price.toString()),s.append("image",a);let i=this.http.post(fn.vacationUrlStatic,s);return yield W0(i)})}deleteVacation(o){return R(this,null,function*(){let a=this.http.delete(fn.vacationUrlStatic,{body:{_id:o}});return yield W0(a)})}editVacation(o,a){return R(this,null,function*(){let s=new FormData;s.append("destination",o.destination),s.append("description",o.description),s.append("startDate",o.startDate.toString()),s.append("endDate",o.endDate.toString()),s.append("price",o.price.toString()),s.append("image",a);let i=this.http.put(fn.vacationUrlStatic+o._id,s);return yield W0(i)})}};t.\u0275fac=function(a){return new(a||t)(nt(c2))},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var kF=()=>({fontSize:"1rem"}),PI=()=>({fontSize:"0.8rem"});function zF(e,t){if(e&1){let n=oe();D(0,"div"),yt(1,"div",1),D(2,"div",2)(3,"h3",3),L(4),H(),D(5,"div",4)(6,"button",5),lt("click",function(){ht(n);let a=it();return ct(a.confirm())}),L(7," Yes, I'm sure "),H(),D(8,"button",6),lt("click",function(){ht(n);let a=it();return ct(a.discard())}),L(9," No, discard "),H()()()()}if(e&2){let n=it();T(3),A("mobileStyle",rt(4,kF)),T(),Oe(" Are you sure you want to delete vacation to ",n.vacation==null?null:n.vacation.destination,"? "),T(2),A("mobileStyle",rt(5,PI)),T(2),A("mobileStyle",rt(6,PI))}}var FI=(()=>{let t=class t{constructor(o,a,s){this.confirmationModalService=o,this.vacationsService=a,this.router=s,this.open=!1}ngOnInit(){this.confirmationModalService.modalData$.subscribe(o=>{this.vacation=o}),this.confirmationModalService.open$.subscribe(o=>{this.open=o})}confirm(){return R(this,null,function*(){yield this.vacationsService.deleteVacation(this.vacation._id),this.confirmationModalService.confirmDeletion(),this.router.navigateByUrl("/home")})}discard(){this.confirmationModalService.closeModal()}};t.\u0275fac=function(a){return new(a||t)(O(mo),O(y0),O(Ne))},t.\u0275cmp=Pt({type:t,selectors:[["app-confirmation-modal"]],standalone:!0,features:[Gt],decls:1,vars:1,consts:[[4,"ngIf"],[1,"modal-overlay"],[1,"confirmation-modal"],["customStyle","",3,"mobileStyle"],[1,"btns"],["customStyle","",1,"confirm",3,"click","mobileStyle"],["customStyle","",1,"discard",3,"click","mobileStyle"]],template:function(a,s){a&1&&gt(0,zF,10,7,"div",0),a&2&&A("ngIf",s.open)},dependencies:[Me,l0,x0],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;z-index:9999}.confirmation-modal[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);height:clamp(10vh,100%,50vh);width:clamp(10vw,100%,50vw);flex-direction:column;background-color:var(--secondary);padding:5rem;align-items:center;justify-content:center;gap:3rem;border-radius:1rem;z-index:10000}.confirmation-modal[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%]{color:var(--primary)}.btns[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;gap:2rem}button[_ngcontent-%COMP%]{padding:1rem;border-radius:1rem;text-shadow:1px 1px 2px rgba(0,0,0,.5);box-shadow:3px 3px 3px #00000080}.confirm[_ngcontent-%COMP%]{background-color:var(--primary);color:#fff;font-weight:500}.discard[_ngcontent-%COMP%]{background-color:#f00b;color:#fff;font-weight:500}"]});let e=t;return e})();var bF=()=>({height:"75vh"}),CF=e=>({"background-image":e}),BF=(e,t)=>({selected:e,"admin-cancel-interaction":t}),SF=e=>["/payment",e],DF=e=>["/vacations",e],HF=()=>({left:"0",transform:"translateX(10%)"}),VI=()=>({gap:"0.3rem"}),jI=()=>({scale:"75%"}),UI=()=>({fontSize:"0.75rem"}),EF=e=>({"admin-cancel-interaction":e}),TF=e=>["/edit/",e];function _F(e,t){if(e&1&&(D(0,"span",17),L(1),H()),e&2){let n=it();A("ngClass",M0(2,EF,(n.user==null?null:n.user.roleId)===1)),T(),Rn(n.vacation==null?null:n.vacation.likesIds.length)}}function AF(e,t){if(e&1){let n=oe();D(0,"div",18)(1,"i-tabler",19),lt("click",function(){ht(n);let a=it();return ct(a.openModal(a.vacation))}),H(),D(2,"a",11),yt(3,"i-tabler",20),H()()}if(e&2){let n=it();T(2),A("routerLink",M0(1,TF,n.vacation==null?null:n.vacation._id))}}var GI=(()=>{let t=class t{constructor(o,a){this.vacationService=o,this.confirmationModalService=a,this.vacationAltered=new fe,this.openConfirmationModal=!1}ngOnInit(){this.subscription=Ge.currUser$.subscribe(o=>{this.user=o})}toggle(){return R(this,null,function*(){yield this.vacationService.toggleLike(this.vacation?._id,this.user?._id),this.vacationAltered.emit(Math.random())})}isLiked(){return!this.user?.roleId&&this.vacation?.likesIds.includes(this.user?._id)}openModal(o){this.confirmationModalService.openModal(o)}};t.\u0275fac=function(a){return new(a||t)(O(y0),O(mo))},t.\u0275cmp=Pt({type:t,selectors:[["app-vacation-card"]],inputs:{vacation:"vacation"},outputs:{vacationAltered:"vacationAltered"},standalone:!0,features:[Gt],decls:30,vars:45,consts:[["customStyle","",1,"card",3,"mobileStyle","ngStyle"],[1,"layer1"],[1,"layer2"],[1,"layer3"],[1,"layer4"],[1,"layer5"],[1,"likes",3,"click"],["name","heart",1,"heart-icon",3,"ngClass"],[3,"ngClass",4,"ngIf"],["class","admin-actions",4,"isAdmin"],[1,"purchase-btn",3,"routerLink"],[3,"routerLink"],["customStyle","",1,"footer",3,"mobileStyle"],["customStyle","",1,"date-icon-pair",3,"mobileStyle"],["customStyle","","name","plane-departure",3,"mobileStyle"],["customStyle","",3,"mobileStyle"],["customStyle","","name","plane-arrival",3,"mobileStyle"],[3,"ngClass"],[1,"admin-actions"],["name","trash",3,"click"],["name","edit"]],template:function(a,s){a&1&&(D(0,"div",0),yt(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),D(6,"div",6),lt("click",function(){return s.user!=null&&s.user.roleId?null:s.toggle()}),yt(7,"i-tabler",7),gt(8,_F,2,4,"span",8),H(),gt(9,AF,4,3,"div",9),D(10,"h3"),L(11),H(),D(12,"button",10),L(13),ro(14,"customCurrency"),H(),D(15,"p"),L(16),D(17,"a",11),L(18,"Read More"),H()(),D(19,"div",12)(20,"div",13),yt(21,"i-tabler",14),D(22,"span",15),L(23),ro(24,"date"),H()(),D(25,"div",13)(26,"span",15),L(27),ro(28,"date"),H(),yt(29,"i-tabler",16),H()()()),a&2&&(A("mobileStyle",rt(28,bF))("@fadeIn",void 0)("ngStyle",M0(29,CF,"url("+(s.vacation==null?null:s.vacation.imageUrl)+")")),T(7),A("ngClass",tx(31,BF,s.isLiked(),(s.user==null?null:s.user.roleId)===1)),T(),A("ngIf",s.vacation==null||s.vacation.likesIds==null?null:s.vacation.likesIds.length),T(3),Rn(s.vacation==null?null:s.vacation.destination),T(),A("routerLink",M0(34,SF,s.vacation==null?null:s.vacation._id)),T(),Oe(" ",lo(14,19,s.vacation==null?null:s.vacation.price,"EUR")," "),T(3),Oe(" ",s.vacation==null||s.vacation.description==null?null:s.vacation.description.substring(0,150),"... "),T(),A("routerLink",M0(36,DF,s.vacation._id)),T(2),A("mobileStyle",rt(38,HF)),T(),A("mobileStyle",rt(39,VI)),T(),A("mobileStyle",rt(40,jI)),T(),A("mobileStyle",rt(41,UI)),T(),Oe(" ",lo(24,22,s.vacation==null?null:s.vacation.startDate,"dd/MM/YYYY"),""),T(2),A("mobileStyle",rt(42,VI)),T(),A("mobileStyle",rt(43,UI)),T(),Oe(" ",lo(28,25,s.vacation==null?null:s.vacation.endDate,"dd/MM/YYYY"),""),T(2),A("mobileStyle",rt(44,jI)))},dependencies:[Me,Bi,l0,Za,wd,is,ss,P0,Ui,Gi,x0],styles:[".card[_ngcontent-%COMP%]{position:relative;height:clamp(25vh,100%,100%);width:clamp(20vw,100%,100%);border-radius:2rem;overflow:hidden;border:none;box-shadow:3px 3px 3px var(--secondary);background-size:cover;background-position:center;display:flex;flex-direction:column;align-items:center;justify-content:space-between}.card[_ngcontent-%COMP%]   .layer1[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   .layer2[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   .layer3[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   .layer4[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   .layer5[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-image:inherit;background-size:inherit;background-position:inherit;pointer-events:none;z-index:1}.card[_ngcontent-%COMP%]   .layer1[_ngcontent-%COMP%]{filter:grayscale(20%);clip-path:polygon(0 25%,100% 25%,100% 35%,0 35%)}.card[_ngcontent-%COMP%]   .layer2[_ngcontent-%COMP%]{filter:grayscale(40%);clip-path:polygon(0 35%,100% 35%,100% 45%,0 45%)}.card[_ngcontent-%COMP%]   .layer3[_ngcontent-%COMP%]{filter:grayscale(60%);clip-path:polygon(0 45%,100% 45%,100% 55%,0 55%)}.card[_ngcontent-%COMP%]   .layer4[_ngcontent-%COMP%]{filter:grayscale(80%);clip-path:polygon(0 55%,100% 55%,100% 65%,0 65%)}.card[_ngcontent-%COMP%]   .layer5[_ngcontent-%COMP%]{filter:grayscale(100%);clip-path:polygon(0 65%,100% 65%,100% 100%,0 100%)}h3[_ngcontent-%COMP%]{margin-block:2rem;color:#ffa11c;text-shadow:3px 3px 2px rgba(0,0,0,.5);font-weight:500;font-size:2.5rem}.likes[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;position:absolute;top:.5rem;left:.5rem;cursor:pointer;z-index:3}.likes[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{color:#fff;font-family:Ga Maamli,sans-serif;font-weight:400;position:absolute;transition:transform ease-in-out .2s}.heart-icon[_ngcontent-%COMP%]:hover ~ span[_ngcontent-%COMP%]{transform:scale(1.125);transition:transform ease-in-out .2s}.heart-icon[_ngcontent-%COMP%]{stroke-width:.075rem;color:#fff;height:50px;width:50px;fill:transparent;transition:all ease-in-out .2s}.heart-icon[_ngcontent-%COMP%]:hover{transform:scale(1.125);transition:all ease-in-out .2s}.likes[_ngcontent-%COMP%]   .heart-icon.admin-cancel-interaction[_ngcontent-%COMP%], .likes[_ngcontent-%COMP%]   .heart-icon.admin-cancel-interaction[_ngcontent-%COMP%]:hover, .likes[_ngcontent-%COMP%]   span.admin-cancel-interaction[_ngcontent-%COMP%], .likes[_ngcontent-%COMP%]   span.admin-cancel-interaction[_ngcontent-%COMP%]:hover{transform:scale(1);cursor:default}.selected[_ngcontent-%COMP%]{fill:#f009}.admin-actions[_ngcontent-%COMP%]{position:absolute;top:.75rem;right:1rem;display:flex;gap:1rem;z-index:3}.admin-actions[_ngcontent-%COMP%] > i-tabler[_ngcontent-%COMP%], a[_ngcontent-%COMP%] > i-tabler[_ngcontent-%COMP%]{cursor:pointer;scale:150%;color:#fff;transition:transform ease-in-out .2s}.admin-actions[_ngcontent-%COMP%] > i-tabler[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%] > i-tabler[_ngcontent-%COMP%]:hover{transform:scale(1.125);transition:transform ease-in-out .2s}.purchase-btn[_ngcontent-%COMP%]{background-color:var(--primary);width:30%;padding-inline:1rem;padding-block:.5rem;border-radius:.5rem;border:none;box-shadow:3px 3px 3px #00000080;font-weight:600;z-index:3;margin-bottom:2rem;transition:all ease-in-out .3s}.purchase-btn[_ngcontent-%COMP%]:hover{transform:scale(1.15);background-color:#9defef;color:#ffa11c;text-shadow:1px 1px 1px rgba(0,0,0,.45)}p[_ngcontent-%COMP%]{padding:1rem;z-index:3;color:#fff;font-size:1.25rem;font-weight:700;text-shadow:2px 2px 1px rgba(0,0,0,.8);margin-bottom:4rem}p[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{font-size:1rem;color:var(--primary);text-decoration:none}img[_ngcontent-%COMP%]{width:50px;height:35px}.footer[_ngcontent-%COMP%]{position:absolute;bottom:1rem;display:flex;gap:clamp(5px,1rem,1rem);width:clamp(10vw,100%,25vw);justify-content:space-between;z-index:3}.date-icon-pair[_ngcontent-%COMP%]{display:flex;gap:1rem;padding-inline:1rem;padding-block-start:.3rem;padding-block-end:.6rem;border-radius:1rem;background-color:#00000073;align-items:center}.date-icon-pair[_ngcontent-%COMP%] > i-tabler[_ngcontent-%COMP%]{margin-bottom:.2rem;stroke:#ffa11c;filter:drop-shadow(-2px 4px 1px var(--secondary))}.date-icon-pair[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{color:#ffa11c;font-weight:500;text-shadow:2px 2px 1px rgba(0,0,0,.8)}"],data:{animation:[ca("fadeIn",[fo(":enter",[V0({opacity:0,transform:"translateX(-10px)"}),da("250ms",V0({opacity:1,transform:"translateX(0px)"}))])])]}});let e=t;return e})();var ip=(()=>{let t=class t{constructor(){this.isMobileSubject=new Ce(!1),this.isMobile$=this.isMobileSubject.asObservable()}setIsMobile(o){this.isMobileSubject.next(o)}};t.\u0275fac=function(a){return new(a||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var rp=(()=>{let t=class t{constructor(o,a,s){this.templateRef=o,this.viewContainer=a,this.isMobileService=s}ngOnInit(){this.updateView(),this.resizeListener=this.onResize.bind(this),window.addEventListener("resize",this.resizeListener)}ngOnDestroy(){window.removeEventListener("resize",this.resizeListener)}onResize(){this.updateView()}updateView(){this.viewContainer.clear();let o=window.innerWidth<935;this.isMobileService.setIsMobile(o),o&&this.viewContainer.createEmbeddedView(this.templateRef)}};t.\u0275fac=function(a){return new(a||t)(O(S0),O(w0),O(ip))},t.\u0275dir=Dt({type:t,selectors:[["","isMobile",""]],standalone:!0});let e=t;return e})();var lp=(()=>{let t=class t{constructor(o,a){this.templateRef=o,this.viewContainer=a}ngOnInit(){this.updateView(),this.resizeListener=this.onResize.bind(this),window.addEventListener("resize",this.resizeListener)}ngOnDestroy(){window.removeEventListener("resize",this.resizeListener)}onResize(){this.updateView()}updateView(){this.viewContainer.clear(),window.innerWidth>=935&&this.viewContainer.createEmbeddedView(this.templateRef)}};t.\u0275fac=function(a){return new(a||t)(O(S0),O(w0))},t.\u0275dir=Dt({type:t,selectors:[["","isLaptop",""]],standalone:!0});let e=t;return e})();var RF=()=>({scale:"200%",top:"3rem",right:"3rem"}),LF=()=>({scale:"100%",top:"3.5rem",right:"-1rem"}),OF=e=>({show:e}),NF=()=>({flexDirection:"row",gap:"2rem"}),PF=()=>({flexDirection:"column"}),FF=()=>({marginTop:"1rem"});function VF(e,t){e&1&&yt(0,"i-tabler",17)}function jF(e,t){e&1&&(D(0,"label"),L(1,"Search Vacation"),H())}var $I=(()=>{let t=class t{toggleHandler(){this.dataHandlerOpen=!this.dataHandlerOpen}constructor(o){this.confirmationModalService=o,this.dataHandlerOpen=!1,this.sortChange=new fe,this.filterChange=new fe,this.searchChange=new fe}ngOnInit(){this.confirmationModalService.deletionConfirmed.subscribe(()=>{this.searchValue=""})}sort(){this.sortChange.emit(this.sortBy)}toggleFilter(o){this.filterBy===o?this.filterBy="noFilter":this.filterBy=o,this.filterChange.emit(this.filterBy)}search(){this.searchChange.emit(this.searchValue)}};t.\u0275fac=function(a){return new(a||t)(O(mo))},t.\u0275cmp=Pt({type:t,selectors:[["app-vacations-data-handler"]],inputs:{sortBy:"sortBy",filterBy:"filterBy",user:"user"},outputs:{sortChange:"sortChange",filterChange:"filterChange",searchChange:"searchChange"},standalone:!0,features:[Gt],decls:31,vars:20,consts:[[1,"vacations-data-handler"],["name","search","customStyle","",1,"toggler",3,"click","laptopStyle","mobileStyle"],["id","filterCollapse","customStyle","",1,"d-md-flex",3,"ngClass","laptopStyle"],[1,"checkboxes"],[1,"checkbox-label-pair"],["type","checkbox","value","onGoing",3,"change","checked"],["type","checkbox","value","yetToBegin",3,"change","checked"],["type","checkbox","value","likedByUser",3,"change","disabled","checked"],["customStyle","",1,"label-select-pair",3,"mobileStyle"],[3,"ngModelChange","change","ngModel"],["value","startDate"],["value","price"],["value","likesCount"],["customStyle","",1,"search-bar",3,"mobileStyle"],["name","search",4,"isMobile"],[4,"isLaptop"],["type","text",3,"ngModelChange","ngModel"],["name","search"]],template:function(a,s){a&1&&(D(0,"div",0)(1,"i-tabler",1),lt("click",function(){return s.toggleHandler()}),H(),D(2,"div",2)(3,"div",3)(4,"div",4)(5,"input",5),lt("change",function(){return s.toggleFilter("onGoing")}),H(),D(6,"label"),L(7,"Only Ongoing Vacations"),H()(),D(8,"div",4)(9,"input",6),lt("change",function(){return s.toggleFilter("yetToBegin")}),H(),D(10,"label"),L(11,"Only Vacations Yet To Begin"),H()(),D(12,"div",4)(13,"input",7),lt("change",function(){return s.toggleFilter(s.user==null?null:s.user._id)}),H(),D(14,"label"),L(15,"Only Vacations Liked By Me"),H()()(),D(16,"div",8)(17,"label"),L(18,"Sort Vacations By:"),H(),D(19,"select",9),te("ngModelChange",function(r){return ae(s.sortBy,r)||(s.sortBy=r),r}),lt("change",function(){return s.sort()}),D(20,"option",10),L(21,"Start Date"),H(),D(22,"option",11),L(23,"Price"),H(),D(24,"option",12),L(25,"Likes"),H()()(),D(26,"div",13)(27,"div"),gt(28,VF,1,0,"i-tabler",14),H(),gt(29,jF,2,0,"label",15),D(30,"input",16),te("ngModelChange",function(r){return ae(s.searchValue,r)||(s.searchValue=r),r}),lt("ngModelChange",function(){return s.search()}),H()()()()),a&2&&(T(),A("laptopStyle",rt(13,RF))("mobileStyle",rt(14,LF)),T(),A("@toggleAnimation",s.dataHandlerOpen?"open":"closed")("ngClass",M0(15,OF,s.dataHandlerOpen))("laptopStyle",rt(17,NF)),T(3),A("checked",s.filterBy==="onGoing"),T(4),A("checked",s.filterBy==="yetToBegin"),T(4),A("disabled",(s.user==null?null:s.user.roleId)===1)("checked",s.filterBy===(s.user==null?null:s.user._id)),T(3),A("mobileStyle",rt(18,PF)),T(3),Jt("ngModel",s.sortBy),T(7),A("mobileStyle",rt(19,FF)),T(4),Jt("ngModel",s.searchValue))},dependencies:[Me,Bi,F0,iI,lI,wn,Qd,i1,Fn,is,ss,rp,lp,x0],styles:[".vacations-data-handler[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%;align-items:center;justify-content:space-between;gap:1rem}label[_ngcontent-%COMP%]{color:var(--primary);text-shadow:2px 4px 3px rgba(0,0,0,.3)}.checkboxes[_ngcontent-%COMP%]{display:flex;flex-direction:column}.checkbox-label-pair[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:.5rem}.label-select-pair[_ngcontent-%COMP%]{display:flex;flex-direction:column}.search-bar[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:center}.search-bar[_ngcontent-%COMP%] > input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{border-radius:.5rem;padding:.5rem}i-tabler[_ngcontent-%COMP%]{color:#fff;filter:drop-shadow(-2px 4px 1px var(--secondary))}.toggler[_ngcontent-%COMP%]{position:absolute;cursor:pointer;transition:transform ease-in-out .2s}.toggler[_ngcontent-%COMP%]:hover{transform:scale(1.2)}"],data:{animation:[ca("toggleAnimation",[u2("open",V0({height:"*",opacity:1})),u2("closed",V0({height:"0",opacity:0})),fo("open <=> closed",[da("300ms ease-in-out")])])]}});let e=t;return e})();var qI=(()=>{let t=class t{constructor(o,a){this.el=o,this.renderer=a,this.scrollThreshold=100}ngOnInit(){this.renderer.setStyle(this.el.nativeElement,"opacity","0"),this.scrollHandler=this.onContainerScroll.bind(this);let o=this.el.nativeElement?.parentElement.parentElement?.parentElement;o&&o.addEventListener("scroll",this.scrollHandler)}onContainerScroll(o){o.target.scrollTop>this.scrollThreshold?this.renderer.setStyle(this.el.nativeElement,"opacity","1"):this.renderer.setStyle(this.el.nativeElement,"opacity","0")}};t.\u0275fac=function(a){return new(a||t)(O(_e),O(N0))},t.\u0275dir=Dt({type:t,selectors:[["","atScrollDown",""]],inputs:{scrollThreshold:[r0.None,"atScrollDown","scrollThreshold"]},standalone:!0});let e=t;return e})();var UF=["scrollAnchor"],GF=()=>({scale:"125%"}),WF=()=>({scale:"200%"}),$F=()=>({fontSize:"1.5rem"}),qF=()=>({fontSize:"3.5rem"}),YF=()=>({"grid-template-columns":"1fr"}),KF=()=>({"grid-template-columns":"repeat(3, 1fr)"});function ZF(e,t){if(e&1){let n=oe();D(0,"app-vacation-card",10),lt("vacationAltered",function(a){ht(n);let s=it();return ct(s.receivedChangeFromChild(a))}),H()}if(e&2){let n=t.$implicit;A("vacation",n)("@leave",void 0)}}function XF(e,t){if(e&1){let n=oe();D(0,"i-tabler",14),lt("click",function(){ht(n);let a=it(2);return ct(a.backwards())}),H()}}function QF(e,t){if(e&1){let n=oe();D(0,"i-tabler",15),lt("click",function(){ht(n);let a=it(2);return ct(a.forwards())}),H()}}function JF(e,t){if(e&1&&(D(0,"div",11),gt(1,XF,1,0,"i-tabler",12)(2,QF,1,0,"i-tabler",13),H()),e&2){let n=it();T(),A("ngIf",n.currPage>1),T(),A("ngIf",!((n.vacations==null?null:n.vacations.length)<9))}}function tV(e,t){e&1&&yt(0,"div",null,0)}function eV(e,t){if(e&1){let n=oe();D(0,"i-tabler",16),lt("click",function(){ht(n);let a=it();return ct(a.scrollToTop())}),H()}}var YI=(()=>{let t=class t{constructor(o,a,s,i,r,l,h){this.vacationsService=o,this.authService=a,this.isMobileService=s,this.router=i,this.toast=r,this.confirmationModalService=l,this.title=h,this.currPage=1,this.key=0,this.sortBy="startDate",this.moreVacationsAvailable=!0}ngOnInit(){return R(this,null,function*(){this.title.setTitle("SoJourn | Home"),this.currPage=1,this.subscription=Ge.currUser$.subscribe(o=>{this.user=o}),this.isMobileSubscription=this.isMobileService.isMobile$.subscribe(o=>{this.isMobile=o}),yield this.fetchVacations(),this.confirmationModalService.deletionConfirmed.subscribe(()=>R(this,null,function*(){yield this.fetchVacations()}))})}ngAfterViewInit(){this.isMobile&&(this.intersectionObserver=new IntersectionObserver(o=>R(this,null,function*(){o[0].isIntersecting&&(yield this.forwards())}),{threshold:1,rootMargin:"0px 0px 200px 0px"}),this.intersectionObserver.observe(this.scrollAnchor?.nativeElement))}fetchVacations(){return R(this,null,function*(){try{let o=yield this.vacationsService.getAllVacationsWithLimit(this.currPage,this.sortBy,this.filterBy,this.searchValue);o.length?this.isMobile&&this.vacations?.length&&this.currPage>1?this.vacations=[...this.vacations,...o]:this.vacations=o:this.moreVacationsAvailable=!1,this.key++,!o?.length&&this.currPage>1&&(yield this.backwards())}catch(o){o.status===401?this.router.navigateByUrl("/login"):(this.toast.error(o.error),console.log(o))}})}receivedChangeFromChild(o){return R(this,null,function*(){yield this.fetchVacations()})}forwards(){return R(this,null,function*(){this.moreVacationsAvailable&&(this.currPage++,this.isMobile||document.querySelector(".list-container").parentElement?.parentElement?.scrollTo({top:0,behavior:"smooth"}),yield this.fetchVacations())})}backwards(){return R(this,null,function*(){this.currPage--,document.querySelector(".list-container").parentElement?.parentElement?.scrollTo({top:0,behavior:"smooth"}),yield this.fetchVacations()})}trackByFn(o,a){return a._id}sort(o){return R(this,null,function*(){this.sortBy=o,this.currPage=1,yield this.fetchVacations()})}toggleFilter(o){return R(this,null,function*(){this.filterBy=o,this.currPage=1,yield this.fetchVacations()})}search(o){return R(this,null,function*(){this.searchValue=o,this.currPage=1,yield this.fetchVacations()})}scrollToTop(){document.querySelector(".list-container").parentElement?.parentElement?.scrollTo({top:0,behavior:"smooth"})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}};t.\u0275fac=function(a){return new(a||t)(O(y0),O(j0),O(ip),O(Ne),O(Mo),O(mo),O(n0))},t.\u0275cmp=Pt({type:t,selectors:[["app-vacation-list"]],viewQuery:function(a,s){if(a&1&&Qm(UF,5),a&2){let i;Kc(i=Zc())&&(s.scrollAnchor=i.first)}},standalone:!0,features:[Gt],decls:11,vars:19,consts:[["scrollAnchor",""],[1,"list-container"],["name","plane","customStyle","",3,"mobileStyle","laptopStyle"],["customStyle","",3,"mobileStyle","laptopStyle"],[3,"sortChange","filterChange","searchChange","sortBy","filterBy","user"],["customStyle","",1,"vacations-grid",3,"mobileStyle","laptopStyle"],[3,"vacation","vacationAltered",4,"ngFor","ngForOf","ngForTrackBy"],["class","pagination-btns",4,"isLaptop"],[4,"isMobile"],["name","arrow-badge-up","class","scroll-up",3,"atScrollDown","click",4,"isMobile"],[3,"vacationAltered","vacation"],[1,"pagination-btns"],["name","arrow-move-left",3,"click",4,"ngIf"],["name","arrow-move-right",3,"click",4,"ngIf"],["name","arrow-move-left",3,"click"],["name","arrow-move-right",3,"click"],["name","arrow-badge-up",1,"scroll-up",3,"click","atScrollDown"]],template:function(a,s){a&1&&(D(0,"div",1)(1,"header"),yt(2,"i-tabler",2),D(3,"h3",3),L(4," Don't Plan. Just Fly. "),H()(),D(5,"app-vacations-data-handler",4),lt("sortChange",function(r){return s.sort(r)})("filterChange",function(r){return s.toggleFilter(r)})("searchChange",function(r){return s.search(r)}),H(),D(6,"div",5),gt(7,ZF,1,2,"app-vacation-card",6),H(),gt(8,JF,3,2,"div",7)(9,tV,2,0,"div",8)(10,eV,1,0,"i-tabler",9),H()),a&2&&(T(2),A("mobileStyle",rt(13,GF))("laptopStyle",rt(14,WF)),T(),A("mobileStyle",rt(15,$F))("laptopStyle",rt(16,qF)),T(2),A("sortBy",s.sortBy)("filterBy",s.filterBy)("user",s.user),T(),A("mobileStyle",rt(17,YF))("laptopStyle",rt(18,KF))("@listAnimation",void 0)("@listAnimation",s.key),T(),A("ngForOf",s.vacations)("ngForTrackBy",s.trackByFn))},dependencies:[GI,Me,ud,l0,F0,$I,is,ss,lp,rp,x0,qI],styles:[".list-container[_ngcontent-%COMP%]{position:relative;display:flex;justify-content:center;align-items:center;flex-direction:column;margin:3rem;gap:3rem}header[_ngcontent-%COMP%]{display:flex;width:100%;align-items:center;justify-content:center;gap:1.25rem}i-tabler[_ngcontent-%COMP%]{stroke-width:.075rem;fill:var(--primary);color:var(--primary);color:transparent;rotate:-45deg;filter:drop-shadow(-2px 4px 1px var(--secondary));transform:translateY(-3px)}header[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%]{text-shadow:2px 4px 1px var(--secondary);color:var(--primary)}.vacations-grid[_ngcontent-%COMP%]{display:grid;gap:1.5rem}.pagination-btns[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:space-evenly}.pagination-btns[_ngcontent-%COMP%] > i-tabler[_ngcontent-%COMP%]{color:#fff;fill:none;rotate:none;scale:250%;cursor:pointer;transition:transform ease-in-out .2s}.pagination-btns[_ngcontent-%COMP%] > i-tabler[_ngcontent-%COMP%]:hover{transform:scale(1.125) translateY(-.25rem);transition:transform ease-in-out .2s}.scroll-up[_ngcontent-%COMP%]{position:fixed;bottom:2rem;left:2rem;color:#fff;rotate:none;fill:none;z-index:10;scale:150%;transition:opacity .5s ease-in-out}"],data:{animation:[ca("listAnimation",[fo("* => *",[uI("@fadeIn",wI(100,gI()),{optional:!0})])]),ca("leave",[fo(":leave",[V0({opacity:1}),da("250ms",V0({opacity:0,transform:"translateX(10px)"}))])])]}});let e=t;return e})();var Wi=class{};var nV=e=>({"background-image":e}),oV=()=>["/home"];function aV(e,t){e&1&&(D(0,"span",23),L(1,"Missing destination"),H())}function sV(e,t){e&1&&(D(0,"span",23),L(1,"Destination has to be longer than one character"),H())}function iV(e,t){e&1&&(D(0,"span",23),L(1,"Destination cannot be longer than 20 characters"),H())}function rV(e,t){if(e&1&&(D(0,"span",23),gt(1,aV,2,0,"span",9)(2,sV,2,0,"span",9)(3,iV,2,0,"span",9),H()),e&2){it();let n=At(4);T(),A("ngIf",n.errors==null?null:n.errors.required),T(),A("ngIf",!(n.errors!=null&&n.errors.required)&&n.errors.minlength),T(),A("ngIf",!n.errors.required&&!(n.errors!=null&&n.errors.minlength)&&(n.errors==null?null:n.errors.maxlength))}}function lV(e,t){e&1&&(D(0,"span",23),L(1,"Missing description"),H())}function hV(e,t){e&1&&(D(0,"span",23),L(1,"Description has to be longer than one character"),H())}function cV(e,t){e&1&&(D(0,"span",23),L(1,"Description cannot be longer than 1000 characters"),H())}function dV(e,t){if(e&1&&(D(0,"span",23),gt(1,lV,2,0,"span",9)(2,hV,2,0,"span",9)(3,cV,2,0,"span",9),H()),e&2){it();let n=At(7);T(),A("ngIf",n.errors==null?null:n.errors.required),T(),A("ngIf",!(n.errors!=null&&n.errors.required)&&(n.errors==null?null:n.errors.minlength)),T(),A("ngIf",!(n.errors!=null&&n.errors.required)&&!(n.errors!=null&&n.errors.minlength)&&(n.errors==null?null:n.errors.maxlength))}}function pV(e,t){e&1&&(D(0,"span",23),L(1,"Missing start date."),H())}function vV(e,t){e&1&&(D(0,"span",23),L(1,"Vacation cannot start in the past."),H())}function gV(e,t){e&1&&(D(0,"span",23),L(1,"Missing end date."),H())}function uV(e,t){e&1&&(D(0,"span",23),L(1,"End date must be later than start date."),H())}function wV(e,t){if(e&1&&(D(0,"span",23),gt(1,gV,2,0,"span",9)(2,uV,2,0,"span",9),H()),e&2){let n=it(),o=At(12),a=At(18);T(),A("ngIf",a.errors==null?null:a.errors.required),T(),A("ngIf",!(a.errors!=null&&a.errors.required)&&o.touched&&!n.validateDates())}}function fV(e,t){e&1&&(D(0,"span",23),L(1,"Missing price"),H())}function MV(e,t){e&1&&(D(0,"span",23),L(1,"Price cannot be negative."),H())}function mV(e,t){if(e&1&&(D(0,"span",23),gt(1,fV,2,0,"span",9)(2,MV,2,0,"span",9),H()),e&2){it();let n=At(21);T(),A("ngIf",n.errors==null?null:n.errors.required),T(),A("ngIf",!(n.errors!=null&&n.errors.required)&&(n.errors==null?null:n.errors.min))}}function xV(e,t){e&1&&(D(0,"span",23),L(1,"Missing image"),H())}function yV(e,t){if(e&1&&(D(0,"span",23),L(1),H()),e&2){let n=it();T(),Rn(n.imageError)}}var KI=(()=>{let t=class t{constructor(o,a,s,i){this.vacationsService=o,this.router=a,this.toast=s,this.title=i,this.vacation=new Wi,this.image=null,this.imageError=null}ngOnInit(){this.title.setTitle("SoJourn | Add")}onFileSelected(o){let a=o.target.files[0];if(a&&this.validateImage(a)){this.image=a,this.imageError=null;let s=new FileReader;s.onload=()=>{this.selectedImageUrl=s.result},s.readAsDataURL(a)}else this.image=null,this.imageError="Invalid file. Please select an image."}validateImage(o){return["image/jpeg","image/png","image/jpg"].includes(o.type)}validateStartDate(){return this.vacation?.startDate>=new Date}validateDates(){return this.vacation?.startDate<this.vacation?.endDate}send(){return R(this,null,function*(){try{yield this.vacationsService.addVacation(this.vacation,this.image),this.router.navigateByUrl("/home"),this.toast.success("New vacation added successfully")}catch(o){this.toast.error(o.error)}})}};t.\u0275fac=function(a){return new(a||t)(O(y0),O(Ne),O(Mo),O(n0))},t.\u0275cmp=Pt({type:t,selectors:[["app-add"]],standalone:!0,features:[Gt],decls:37,vars:21,consts:[["myForm","ngForm"],["destinationBox","ngModel"],["descriptionBox","ngModel"],["startDateBox","ngModel"],["endDateBox","ngModel"],["priceBox","ngModel"],["imageInput","ngModel","fileInput",""],[3,"ngSubmit"],["type","text","name","vacationDestination","placeholder","Destination?","required","","minlength","2","maxlength","20",3,"ngModelChange","ngModel"],["class","error",4,"ngIf"],["type","text","name","vacationDescription","placeholder","Description?","required","","minlength","2","maxlength","1000",3,"ngModelChange","ngModel"],["for","startDate"],["type","date","name","startDate","required","",3,"ngModelChange","ngModel"],["for","endDate"],["type","date","name","endDate","placeholder","End date?","required","",3,"ngModelChange","ngModel"],["type","number","name","price","placeholder","Price?","required","","min","0",3,"ngModelChange","ngModel"],[1,"image-upload-container"],[1,"image-thumbnail",3,"ngStyle"],["type","button",3,"click"],["type","file","name","image","required","",3,"change","ngModelChange","ngModel"],[3,"routerLink"],["type","button",1,"discard"],[3,"disabled"],[1,"error"]],template:function(a,s){if(a&1){let i=oe();D(0,"div")(1,"form",7,0),lt("ngSubmit",function(){return ht(i),ct(s.send())}),D(3,"input",8,1),te("ngModelChange",function(l){return ht(i),ae(s.vacation.destination,l)||(s.vacation.destination=l),ct(l)}),H(),gt(5,rV,4,3,"span",9),D(6,"textarea",10,2),te("ngModelChange",function(l){return ht(i),ae(s.vacation.description,l)||(s.vacation.description=l),ct(l)}),H(),gt(8,dV,4,3,"span",9),D(9,"label",11),L(10,"Start Date:"),H(),D(11,"input",12,3),te("ngModelChange",function(l){return ht(i),ae(s.vacation.startDate,l)||(s.vacation.startDate=l),ct(l)}),H(),gt(13,pV,2,0,"span",9)(14,vV,2,0,"span",9),D(15,"label",13),L(16,"End Date:"),H(),D(17,"input",14,4),te("ngModelChange",function(l){return ht(i),ae(s.vacation.endDate,l)||(s.vacation.endDate=l),ct(l)}),H(),gt(19,wV,3,2,"span",9),D(20,"input",15,5),te("ngModelChange",function(l){return ht(i),ae(s.vacation.price,l)||(s.vacation.price=l),ct(l)}),H(),gt(22,mV,3,2,"span",9),D(23,"div",16)(24,"div",17)(25,"button",18),lt("click",function(){ht(i);let l=At(29);return ct(l.click())}),L(26),H()(),D(27,"input",19,6),lt("change",function(l){return ht(i),ct(s.onFileSelected(l))}),te("ngModelChange",function(l){return ht(i),ae(s.mockImageValue,l)||(s.mockImageValue=l),ct(l)}),H(),gt(30,xV,2,0,"span",9)(31,yV,2,1,"span",9),H(),D(32,"a",20)(33,"button",21),L(34,"Discard"),H()(),D(35,"button",22),L(36," Submit "),H()()()}if(a&2){let i=At(2),r=At(4),l=At(7),h=At(12),c=At(18),d=At(21),p=At(28);T(3),Jt("ngModel",s.vacation.destination),T(2),A("ngIf",r.touched&&r.errors),T(),Jt("ngModel",s.vacation.description),T(2),A("ngIf",l.touched&&l.errors),T(3),Jt("ngModel",s.vacation.startDate),T(2),A("ngIf",h.touched&&(h.errors==null?null:h.errors.required)),T(),A("ngIf",h.touched&&!(h.errors!=null&&h.errors.required)&&!s.validateStartDate()),T(3),Jt("ngModel",s.vacation.endDate),T(2),A("ngIf",c.touched&&c.errors),T(),Jt("ngModel",s.vacation.price),T(2),A("ngIf",d.touched&&d.errors),T(2),A("ngStyle",M0(18,nV,"url("+(s.selectedImageUrl!=null&&s.selectedImageUrl.length?s.selectedImageUrl:"../../../../assets/image-placeholder.png")+")")),T(2),Oe(" ",s.selectedImageUrl?"Replace Image":"Select Image"," "),T(),Jt("ngModel",s.mockImageValue),T(3),A("ngIf",p.touched&&!s.image),T(),A("ngIf",s.imageError),T(),A("routerLink",rt(20,oV)),T(3),A("disabled",i.invalid||!s.validateDates()||!s.validateStartDate())}},dependencies:[Me,l0,Za,F0,uo,wn,$l,i1,go,la,ha,g2,Yl,Fn,P1,P0],styles:[".discard[_ngcontent-%COMP%]{background-color:#f00b;color:#fff;font-weight:500}input[type=file][_ngcontent-%COMP%]{display:none}.image-thumbnail[_ngcontent-%COMP%]{display:flex;margin-bottom:1rem;min-height:25vh;width:100%;justify-content:center;align-items:center;background-size:cover;background-position:center}.image-upload-container[_ngcontent-%COMP%]{position:relative}.image-upload-container[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{position:absolute;top:50%;right:-100%;width:auto;color:#f53939;white-space:pre-line}"]});let e=t;return e})();var IV=e=>({"background-image":e}),kV=()=>["/home"];function zV(e,t){e&1&&(D(0,"span",26),L(1,"Missing destination"),H())}function bV(e,t){e&1&&(D(0,"span",26),L(1,"Destination has to be longer than one character"),H())}function CV(e,t){e&1&&(D(0,"span",26),L(1,"Destination cannot be longer than 20 characters"),H())}function BV(e,t){if(e&1&&(D(0,"span",26),gt(1,zV,2,0,"span",10)(2,bV,2,0,"span",10)(3,CV,2,0,"span",10),H()),e&2){it();let n=At(6);T(),A("ngIf",n.errors==null?null:n.errors.required),T(),A("ngIf",!(n.errors!=null&&n.errors.required)&&(n.errors==null?null:n.errors.minlength)),T(),A("ngIf",!(n.errors!=null&&n.errors.required)&&!(n.errors!=null&&n.errors.minlength)&&(n.errors==null?null:n.errors.maxlength))}}function SV(e,t){e&1&&(D(0,"span",26),L(1,"Missing description"),H())}function DV(e,t){e&1&&(D(0,"span",26),L(1,"Description has to be longer than one character"),H())}function HV(e,t){e&1&&(D(0,"span",26),L(1,"Description cannot be longer than 1000 characters"),H())}function EV(e,t){if(e&1&&(D(0,"span",26),gt(1,SV,2,0,"span",10)(2,DV,2,0,"span",10)(3,HV,2,0,"span",10),H()),e&2){it();let n=At(11);T(),A("ngIf",n.errors==null?null:n.errors.required),T(),A("ngIf",!(n.errors!=null&&n.errors.required)&&(n.errors==null?null:n.errors.minlength)),T(),A("ngIf",!(n.errors!=null&&n.errors.required)&&!(n.errors!=null&&n.errors.minlength)&&(n.errors==null?null:n.errors.maxlength))}}function TV(e,t){e&1&&(D(0,"span",26),L(1,"Missing start date."),H())}function _V(e,t){e&1&&(D(0,"span",26),L(1,"Missing end date."),H())}function AV(e,t){e&1&&(D(0,"span",26),L(1,"End date must be later than start date."),H())}function RV(e,t){e&1&&(D(0,"span",26),L(1,"Missing price"),H())}function LV(e,t){e&1&&(D(0,"span",26),L(1,"Price cannot be negative."),H())}function OV(e,t){if(e&1&&(D(0,"span",26),gt(1,RV,2,0,"span",10)(2,LV,2,0,"span",10),H()),e&2){it();let n=At(27);T(),A("ngIf",n.errors==null?null:n.errors.required),T(),A("ngIf",!(n.errors!=null&&n.errors.required)&&(n.errors==null?null:n.errors.min))}}function NV(e,t){if(e&1&&(D(0,"span",26),L(1),H()),e&2){let n=it();T(),Rn(n.imageError)}}function PV(e,t){e&1&&(D(0,"span",26),L(1,"Missing image"),H())}var ZI=(()=>{let t=class t{constructor(o,a,s,i,r){this.vacationsService=o,this.route=a,this.router=s,this.toast=i,this.title=r,this.vacation=new Wi,this.image=null,this.imageError=null}ngOnInit(){return R(this,null,function*(){this.route.params.subscribe(o=>{this._id=o._id}),this.vacation=yield this.vacationsService.getVacationById(this._id),this.title.setTitle(`SoJourn | Edit ${this.vacation.destination}`)})}get formattedStartDate(){return this.formatDate(this.vacation.startDate)}set formattedStartDate(o){this.vacation.startDate=new Date(o)}get formattedEndDate(){return this.formatDate(this.vacation.endDate)}set formattedEndDate(o){this.vacation.endDate=new Date(o)}onFileSelected(o){let a=o.target.files[0];if(a&&this.validateImage(a)){this.image=a,this.imageError=null;let s=new FileReader;s.onload=()=>{this.selectedImageUrl=s.result},s.readAsDataURL(a)}else this.image=null,this.imageError=`Invalid file. Please select an image.
Original image will remain until valid image is uploaded`}validateImage(o){return["image/jpeg","image/png","image/jpg"].includes(o.type)}validateDates(){return this.vacation?.startDate<this.vacation?.endDate}send(){return R(this,null,function*(){try{yield this.vacationsService.editVacation(this.vacation,this.image),this.router.navigateByUrl("/home"),this.toast.success("Vacation updated successfully")}catch(o){this.toast.error(o.error)}})}formatDate(o){let a=new Date(o),s=""+(a.getMonth()+1),i=""+a.getDate();return[a.getFullYear(),s.padStart(2,"0"),i.padStart(2,"0")].join("-")}isFormValid(){return this.vacation.destination&&this.vacation.description&&this.vacation.startDate&&this.vacation.endDate&&this.vacation.price>=0}};t.\u0275fac=function(a){return new(a||t)(O(y0),O(un),O(Ne),O(Mo),O(n0))},t.\u0275cmp=Pt({type:t,selectors:[["app-edit"]],standalone:!0,features:[Gt],decls:43,vars:20,consts:[["myForm","ngForm"],["destinationBox","ngModel"],["descriptionBox","ngModel"],["startDateBox","ngModel"],["endDateBox","ngModel"],["priceBox","ngModel"],["imageInput","ngModel","fileInput",""],[3,"ngSubmit"],["for","vacationDestination"],["type","text","name","vacationDestination","required","","minlength","2","maxlength","20",3,"ngModelChange","ngModel"],["class","error",4,"ngIf"],["for","vacationDescription"],["type","text","name","vacationDescription","required","","minlength","2","maxlength","1000",3,"ngModelChange","ngModel"],["for","startDate"],["type","date","name","startDate","required","",3,"ngModelChange","ngModel"],["for","endDate"],["type","date","name","endDate","required","",3,"ngModelChange","ngModel"],["for","price"],["type","number","name","price","required","","min","0",3,"ngModelChange","ngModel"],[1,"image-upload-container"],[1,"image-thumbnail",3,"ngStyle"],["type","button",3,"click"],["type","file","name","image","required","",3,"change","ngModelChange","ngModel"],[3,"routerLink"],["type","button",1,"discard"],["type","submit",3,"disabled"],[1,"error"]],template:function(a,s){if(a&1){let i=oe();D(0,"div")(1,"form",7,0),lt("ngSubmit",function(){return ht(i),ct(s.send())}),D(3,"label",8),L(4,"Destination:"),H(),D(5,"input",9,1),te("ngModelChange",function(l){return ht(i),ae(s.vacation.destination,l)||(s.vacation.destination=l),ct(l)}),H(),gt(7,BV,4,3,"span",10),D(8,"label",11),L(9,"Description:"),H(),D(10,"textarea",12,2),te("ngModelChange",function(l){return ht(i),ae(s.vacation.description,l)||(s.vacation.description=l),ct(l)}),H(),gt(12,EV,4,3,"span",10),D(13,"label",13),L(14,"Start Date:"),H(),D(15,"input",14,3),te("ngModelChange",function(l){return ht(i),ae(s.formattedStartDate,l)||(s.formattedStartDate=l),ct(l)}),H(),gt(17,TV,2,0,"span",10),D(18,"label",15),L(19,"End Date:"),H(),D(20,"input",16,4),te("ngModelChange",function(l){return ht(i),ae(s.formattedEndDate,l)||(s.formattedEndDate=l),ct(l)}),H(),gt(22,_V,2,0,"span",10)(23,AV,2,0,"span",10),D(24,"label",17),L(25,"Price:"),H(),D(26,"input",18,5),te("ngModelChange",function(l){return ht(i),ae(s.vacation.price,l)||(s.vacation.price=l),ct(l)}),H(),gt(28,OV,3,2,"span",10),D(29,"div",19)(30,"div",20)(31,"button",21),lt("click",function(){ht(i);let l=At(35);return ct(l.click())}),L(32,"Replace Image"),H()(),D(33,"input",22,6),lt("change",function(l){return ht(i),ct(s.onFileSelected(l))}),te("ngModelChange",function(l){return ht(i),ae(s.mockImageValue,l)||(s.mockImageValue=l),ct(l)}),H(),gt(36,NV,2,1,"span",10)(37,PV,2,0,"span",10),H(),D(38,"a",23)(39,"button",24),L(40,"Discard"),H()(),D(41,"button",25),L(42,"Submit Changes"),H()()()}if(a&2){let i=At(6),r=At(11),l=At(16),h=At(21),c=At(27),d=At(34);T(5),Jt("ngModel",s.vacation.destination),T(2),A("ngIf",i.touched&&i.errors),T(3),Jt("ngModel",s.vacation.description),T(2),A("ngIf",r.touched&&r.errors),T(3),Jt("ngModel",s.formattedStartDate),T(2),A("ngIf",l.touched&&(l.errors==null?null:l.errors.required)),T(3),Jt("ngModel",s.formattedEndDate),T(2),A("ngIf",h.touched&&(h.errors==null?null:h.errors.required)),T(),A("ngIf",h.touched&&!s.validateDates()),T(3),Jt("ngModel",s.vacation.price),T(2),A("ngIf",c.touched&&c.errors),T(2),A("ngStyle",M0(17,IV,"url("+(s.selectedImageUrl!=null&&s.selectedImageUrl.length?s.selectedImageUrl:s.vacation==null?null:s.vacation.imageUrl)+")")),T(3),Jt("ngModel",s.mockImageValue),T(3),A("ngIf",s.imageError),T(),A("ngIf",d.touched&&!s.image),T(),A("routerLink",rt(19,kV)),T(3),A("disabled",!s.isFormValid())}},dependencies:[Me,l0,Za,F0,uo,wn,$l,i1,go,la,ha,g2,Yl,Fn,P1,P0],styles:["input[type=file][_ngcontent-%COMP%]{display:none}.image-thumbnail[_ngcontent-%COMP%]{display:flex;margin-bottom:1rem;min-height:25vh;width:100%;justify-content:center;align-items:center;background-size:cover;background-position:center}.image-upload-container[_ngcontent-%COMP%]{position:relative}.image-upload-container[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{position:absolute;top:50%;right:-150%;width:auto;color:#f53939;white-space:pre-line}.discard[_ngcontent-%COMP%]{background-color:#f00b;color:#fff;font-weight:500}"]});let e=t;return e})();var Xk=Object.defineProperty,FV=Object.getOwnPropertyDescriptor,Oo=(e,t)=>{for(var n in t)Xk(e,n,{get:t[n],enumerable:!0})},w=(e,t,n,o)=>{for(var a=o>1?void 0:o?FV(t,n):t,s=e.length-1,i;s>=0;s--)(i=e[s])&&(a=(o?i(t,n,a):i(a))||a);return o&&a&&Xk(t,n,a),a},VV={ariaAnnounceVisible:"visible",ariaAnnounceHidden:"hidden",ariaAnnounceHoverDatum:"${datum}",ariaAnnounceChart:"chart, ${seriesCount}[number] series, ${caption}",ariaAnnounceHierarchyDatum:"level ${level}[number], ${count}[number] children, ${description}",ariaAnnounceFlowProportionLink:"link ${index} of ${count}, from ${from} to ${to}, ${sizeName} ${size}",ariaAnnounceFlowProportionNode:"node ${index} of ${count}, ${description}",ariaLabelAnnotationsToolbar:"Annotations",ariaLabelAnnotationOptionsToolbar:"Annotation Options",ariaLabelLegend:"Legend",ariaLabelLegendPagination:"Legend Pagination",ariaLabelLegendPagePrevious:"Previous Legend Page",ariaLabelLegendPageNext:"Next Legend Page",ariaLabelLegendItem:"${label}, Legend item ${index}[number] of ${count}[number], ",ariaLabelLegendItemUnknown:"Unknown legend item",ariaLabelNavigator:"Navigator",ariaLabelNavigatorRange:"Range",ariaLabelNavigatorMinimum:"Minimum",ariaLabelNavigatorMaximum:"Maximum",ariaLabelRangesToolbar:"Ranges",ariaLabelZoomToolbar:"Zoom",ariaValuePanRange:"${min}[percent] to ${max}[percent]",overlayLoadingData:"Loading data...",overlayNoData:"No data to display",overlayNoVisibleSeries:"No visible series",toolbarAnnotationsTrendLine:"Trend line",toolbarAnnotationsHorizontalLine:"Horizontal line",toolbarAnnotationsVerticalLine:"Vertical line",toolbarAnnotationsParallelChannel:"Parallel channel",toolbarAnnotationsDisjointChannel:"Disjoint channel",toolbarAnnotationsClearAll:"Clear all annotations",toolbarAnnotationsColor:"Pick annotation color",toolbarAnnotationsLock:"Lock annotation",toolbarAnnotationsUnlock:"Unlock annotation",toolbarAnnotationsDelete:"Delete annotation",toolbarRange1Month:"1m",toolbarRange1MonthAria:"1 month",toolbarRange3Months:"3m",toolbarRange3MonthsAria:"3 months",toolbarRange6Months:"6m",toolbarRange6MonthsAria:"6 months",toolbarRangeYearToDate:"YTD",toolbarRangeYearToDateAria:"Year to date",toolbarRange1Year:"1y",toolbarRange1YearAria:"1 year",toolbarRangeAll:"All",toolbarRangeAllAria:"All",toolbarZoomZoomOut:"Zoom out",toolbarZoomZoomIn:"Zoom in",toolbarZoomPanLeft:"Pan left",toolbarZoomPanRight:"Pan right",toolbarZoomPanStart:"Pan to the start",toolbarZoomPanEnd:"Pan to the end",toolbarZoomReset:"Reset the zoom",contextMenuDownload:"Download",contextMenuToggleSeriesVisibility:"Toggle Visibility",contextMenuToggleOtherSeries:"Toggle Other Series",contextMenuZoomToCursor:"Zoom to here",contextMenuPanToCursor:"Pan to here"};var jV={},UV=void 0;UV=jV;var Qk=(e=>(e.POINTER="pointer",e.NODE="node",e.TOP="top",e.RIGHT="right",e.BOTTOM="bottom",e.LEFT="left",e.TOP_LEFT="top-left",e.TOP_RIGHT="top-right",e.BOTTOM_RIGHT="bottom-right",e.BOTTOM_LEFT="bottom-left",e))(Qk||{}),GV={},WV=void 0;WV=GV;var $V={};Oo($V,{TimeInterval:()=>D2,day:()=>b6,friday:()=>iz,hour:()=>z6,millisecond:()=>y6,minute:()=>k6,monday:()=>nz,month:()=>B6,saturday:()=>rz,second:()=>I6,sunday:()=>C6,thursday:()=>sz,tuesday:()=>oz,utcDay:()=>cz,utcHour:()=>hz,utcMinute:()=>lz,utcMonth:()=>dz,utcYear:()=>pz,wednesday:()=>az,year:()=>S6});var Uw=new Map;function Gw(e,t){Uw.has(t)||(Uw.set(t,!0),e())}Gw.clear=()=>Uw.clear();function XI(e){return e}function*hp(...e){for(let t of e)yield*x4(t)}function QI(e,t=0,n){let{leading:o=!0,trailing:a=!0}=n??{},s,i,r=!1;function l(){a&&i?(s=setTimeout(l,t),e(...i)):r=!1,i=null}function h(...c){r?i=c:(r=!0,s=setTimeout(l,t),o?e(...c):i=c)}return Object.assign(h,{cancel(){clearTimeout(s),r=!1,i=null}})}function qV(...e){return()=>{for(let t of e)t()}}var q={log(...e){console.log(...e)},warn(e,...t){console.warn(`AG Charts - ${e}`,...t)},error(e,...t){typeof e=="object"?console.error("AG Charts error",e,...t):console.error(`AG Charts - ${e}`,...t)},table(...e){console.table(...e)},warnOnce(e,...t){Gw(()=>q.warn(e,...t),`Logger.warn: ${e}`)},errorOnce(e,...t){Gw(()=>q.error(e,...t),`Logger.error: ${e}`)}},D2=class{constructor(e,t,n){this._encode=e,this._decode=t,this._rangeCallback=n}floor(e){let t=new Date(e),n=this._encode(t);return this._decode(n)}ceil(e){let t=new Date(Number(e)-1),n=this._encode(t);return this._decode(n+1)}range(e,t,n){let o=this._rangeCallback?.(e,t),a=this._encode(n?this.floor(e):this.ceil(e)),s=this._encode(n?this.ceil(t):this.floor(t));if(s<a)return[];let i=[];for(let r=a;r<=s;r++){let l=this._decode(r);i.push(l)}return o?.(),i}},Gn=class extends D2{getOffset(e,t){let n=typeof e=="number"||e instanceof Date?this._encode(new Date(e)):0;return Math.floor(n)%t}every(e,t){let n=0,o,a=e;e=Math.max(1,Math.round(e)),a!==e&&q.warnOnce(`interval step of [${a}] rounded to [${e}].`);let{snapTo:s="start"}=t??{};if(typeof s=="string"){let l=n;o=(h,c)=>{let d=s==="start"?h:c;return n=this.getOffset(d,e),()=>n=l}}else typeof s=="number"?n=this.getOffset(new Date(s),e):s instanceof Date&&(n=this.getOffset(s,e));let i=l=>{let h=this._encode(l);return Math.floor((h-n)/e)},r=l=>this._decode(l*e+n);return new D2(i,r,o)}};function YV(e){return e.getTime()}function KV(e){return new Date(e)}var y6=new Gn(YV,KV),ZV=y6,Qot=new Date(0).getFullYear(),ds=1e3,_0=ds*60,Z0=_0*60,p1=Z0*24,wa=p1*7,Ql=p1*30,rr=p1*365,Jk=new Date().getTimezoneOffset()*_0;function XV(e){return Math.floor((e.getTime()-Jk)/ds)}function QV(e){return new Date(Jk+e*ds)}var I6=new Gn(XV,QV),oh=I6,tz=new Date().getTimezoneOffset()*_0;function JV(e){return Math.floor((e.getTime()-tz)/_0)}function tj(e){return new Date(tz+e*_0)}var k6=new Gn(JV,tj),ah=k6,ez=new Date().getTimezoneOffset()*_0;function ej(e){return Math.floor((e.getTime()-ez)/Z0)}function nj(e){return new Date(ez+e*Z0)}var z6=new Gn(ej,nj),sh=z6;function oj(e){let t=e.getTimezoneOffset()*_0;return Math.floor((e.getTime()-t)/p1)}function aj(e){let t=new Date(1970,0,1);return t.setDate(t.getDate()+e),t}var b6=new Gn(oj,aj),Ww=b6;function E2(e){let n=(7+e-4)%7;function o(s){let i=s.getTimezoneOffset()*_0;return Math.floor((s.getTime()-i)/wa-n/7)}function a(s){let i=new Date(1970,0,1);return i.setDate(i.getDate()+s*7+n),i}return new Gn(o,a)}var C6=E2(0),nz=E2(1),oz=E2(2),az=E2(3),sz=E2(4),iz=E2(5),rz=E2(6),zp=C6;function sj(e){return e.getFullYear()*12+e.getMonth()}function ij(e){let t=Math.floor(e/12),n=e-t*12;return new Date(t,n,1)}var B6=new Gn(sj,ij),$i=B6;function rj(e){return e.getFullYear()}function lj(e){let t=new Date;return t.setFullYear(e),t.setMonth(0,1),t.setHours(0,0,0,0),t}var S6=new Gn(rj,lj),D6=S6;function hj(e){return Math.floor(e.getTime()/_0)}function cj(e){return new Date(e*_0)}var lz=new Gn(hj,cj);function dj(e){return Math.floor(e.getTime()/Z0)}function pj(e){return new Date(e*Z0)}var hz=new Gn(dj,pj);function vj(e){return Math.floor(e.getTime()/p1)}function gj(e){let t=new Date(0);return t.setUTCDate(t.getUTCDate()+e),t.setUTCHours(0,0,0,0),t}var cz=new Gn(vj,gj);function uj(e){return e.getUTCFullYear()*12+e.getUTCMonth()}function wj(e){let t=Math.floor(e/12),n=e-t*12;return new Date(Date.UTC(t,n,1))}var dz=new Gn(uj,wj);function fj(e){return e.getUTCFullYear()}function Mj(e){let t=new Date;return t.setUTCFullYear(e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0),t}var pz=new Gn(fj,Mj),vz={};Oo(vz,{NODE_UPDATE_STATE_TO_PHASE_MAPPING:()=>X0,fromToMotion:()=>$e,staticFromToMotion:()=>Po});var $w=new Map;function gz(){$w.clear()}function No(e){let t=e.constructor,n=Object.hasOwn(t,"className")?t.className:t.name;if(!n)throw new Error(`The ${t} is missing the 'className' property.`);let o=($w.get(n)??0)+1;return $w.set(n,o),`${n}-${o}`}function mj(){return URL.createObjectURL(new Blob).split("/").at(-1)}var n3="$interpolate",JI=e=>e[n3]!=null;function o3(e,t,n,o=1/0){let a={nearest:void 0,distanceSquared:o};for(let s of n){let i=s.distanceSquared(e,t);if(i===0)return{nearest:s,distanceSquared:0};i<a.distanceSquared&&(a.nearest=s,a.distanceSquared=i)}return a}function xj(e,t,n,o=1/0){let{x:a,y:s}=n.transformPoint(e,t),i={nearest:void 0,distanceSquared:o};for(let r of n.children){let{nearest:l,distanceSquared:h}=r.nearestSquared(a,s,i.distanceSquared);if(h===0)return{nearest:l,distanceSquared:h};h<i.distanceSquared&&(i.nearest=l,i.distanceSquared=h)}return i}function Ft(e,t,n){return Math.min(n,Math.max(e,t))}function Np(e,t){let[n,o]=v1(t);return Ft(n,e,o)}function v1(e){return e.length?[Math.min(...e),Math.max(...e)]:[]}function Sh(e){let[t,n]=v1(e);return n-t}function z2(e,t,n=1e-10){return Math.abs(e-t)<n}function gr(e){return Math.sign(e)===-1||Object.is(e,-0)}function H6(e,t=2){let n=10**t;return Math.round(e*n)/n}function a3(e,t=2){let n=Math.floor(Math.log(Math.abs(e))/Math.LN10);return n>=0||!isFinite(n)?e.toFixed(t):e.toFixed(Math.abs(n)-1+t)}function s3(e,t){return Math.floor(e%t+(e<0?t:0))}function i3(e,t=10){let[,n=""]=(Math.abs(e)%1).toLocaleString("en-GB",{minimumFractionDigits:0,maximumFractionDigits:t}).split(".");return n.length}function E6(e,t){return t=t??navigator.language,new Intl.NumberFormat(t,{style:"percent"}).format(e)}function T6(e,t){return E6(e/100,t)}var Dh=class ih{constructor(t,n,o,a){this.x=t,this.y=n,this.width=o,this.height=a}static fromDOMRect({x:t,y:n,width:o,height:a}){return new ih(t,n,o,a)}clone(){let{x:t,y:n,width:o,height:a}=this;return new ih(t,n,o,a)}equals(t){return this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height}containsPoint(t,n){return t>=this.x&&t<=this.x+this.width&&n>=this.y&&n<=this.y+this.height}collidesBBox(t){return this.x<t.x+t.width&&this.x+this.width>t.x&&this.y<t.y+t.height&&this.y+this.height>t.y}computeCenter(){return{x:this.x+this.width/2,y:this.y+this.height/2}}isFinite(){return Number.isFinite(this.x)&&Number.isFinite(this.y)&&Number.isFinite(this.width)&&Number.isFinite(this.height)}distanceSquared(t,n){if(this.containsPoint(t,n))return 0;let o=t-Ft(this.x,t,this.x+this.width),a=n-Ft(this.y,n,this.y+this.height);return o*o+a*a}static nearestBox(t,n,o){return o3(t,n,o)}clip(t){if(t===void 0)return this;let n=Math.max(this.x,t.x),o=Math.max(this.y,t.y),a=Math.min(this.x+this.width,t.x+t.width),s=Math.min(this.y+this.height,t.y+t.height);return this.x=n,this.y=o,this.width=Math.max(0,a-n),this.height=Math.max(0,s-o),this}shrink(t,n){let o=(a,s)=>{switch(a){case"top":this.y+=s;case"bottom":this.height-=s;break;case"left":this.x+=s;case"right":this.width-=s;break;case"vertical":this.y+=s,this.height-=s*2;break;case"horizontal":this.x+=s,this.width-=s*2;break;case void 0:this.x+=s,this.width-=s*2,this.y+=s,this.height-=s*2;break;default:}};return typeof t=="number"?o(n,t):typeof t=="object"&&Object.entries(t).forEach(([a,s])=>o(a,s)),this}grow(t,n){if(typeof t=="number")this.shrink(-t,n);else{let o=S({},t);for(let a in o)o[a]*=-1;this.shrink(o)}return this}translate(t,n){return this.x+=t,this.y+=n,this}combine(t){let{x:n,y:o,width:a,height:s}=this;this.x=Math.min(n,t.x),this.y=Math.min(o,t.y),this.width=Math.max(n+a,t.x+t.width)-this.x,this.height=Math.max(o+s,t.y+t.height)-this.y}static merge(t){let n=1/0,o=1/0,a=-1/0,s=-1/0;for(let i of t)i.x<n&&(n=i.x),i.y<o&&(o=i.y),i.x+i.width>a&&(a=i.x+i.width),i.y+i.height>s&&(s=i.y+i.height);return new ih(n,o,a-n,s-o)}[n3](t,n){return new ih(this.x*(1-n)+t.x*n,this.y*(1-n)+t.y*n,this.width*(1-n)+t.width*n,this.height*(1-n)+t.height*n)}};Dh.zero=new Dh(0,0,0,0);Dh.NaN=new Dh(NaN,NaN,NaN,NaN);var pt=Dh,ws=(e=>(e[e.NONE=0]="NONE",e[e.TRIVIAL=1]="TRIVIAL",e[e.MINOR=2]="MINOR",e[e.MAJOR=3]="MAJOR",e))(ws||{});function dt(e){return function(t,n){let o=`__${n}`;t[n]||yj(t,n,o,e)}}function yj(e,t,n,o){let{redraw:a=1,type:s="normal",changeCb:i,convertor:r,checkDirtyOnAssignment:l=!1}=o??{},h={redraw:a,type:s,changeCb:i,checkDirtyOnAssignment:l,convertor:r},c;switch(s){case"normal":c=bj(n,h);break;case"transform":c=Cj(n,h);break;case"path":c=Bj(n,h);break;case"font":c=Sj(n,h);break}c=zj(kj(Ij(c,h),h),h),Object.defineProperty(e,t,{set:c,get:function(){return this[n]},enumerable:!0,configurable:!0})}function Ij(e,t){let{convertor:n}=t;return n?function(o){e.call(this,n(o))}:e}var ur=Symbol("no-change");function kj(e,t){let{changeCb:n}=t;return n?function(o){let a=e.call(this,o);return a!==ur&&n.call(this,this),a}:e}function zj(e,t){let{checkDirtyOnAssignment:n}=t;return n?function(o){let a=e.call(this,o);return a!==ur&&o!=null&&o._dirty>0&&this.markDirty(o,o._dirty),a}:e}function bj(e,t){let{redraw:n=1,changeCb:o}=t;return function(a){let s=this[e];return a!==s?(this[e]=a,this.markDirty(this,n),o?.(this),a):ur}}function Cj(e,t){let{redraw:n=1}=t;return function(o){let a=this[e];return o!==a?(this[e]=o,this.markDirtyTransform(n),o):ur}}function Bj(e,t){let{redraw:n=1}=t;return function(o){let a=this[e];return o!==a?(this[e]=o,this._dirtyPath||(this._dirtyPath=!0,this.markDirty(this,n)),o):ur}}function Sj(e,t){let{redraw:n=1}=t;return function(o){let a=this[e];return o!==a?(this[e]=o,this._dirtyFont||(this._dirtyFont=!0,this.markDirty(this,n)),o):ur}}var Dj=class{constructor(){this._dirty=3}markDirty(e,t=1){this._dirty<t&&(this._dirty=t)}markClean(e){this._dirty=0}isDirty(){return this._dirty>0}},qw=class rh{get e(){return[...this.elements]}constructor(t=[1,0,0,1,0,0]){this.elements=t}setElements(t){let n=this.elements;return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],this}get identity(){let t=this.elements;return t[0]===1&&t[1]===0&&t[2]===0&&t[3]===1&&t[4]===0&&t[5]===0}AxB(t,n,o){let a=t[0]*n[0]+t[2]*n[1],s=t[1]*n[0]+t[3]*n[1],i=t[0]*n[2]+t[2]*n[3],r=t[1]*n[2]+t[3]*n[3],l=t[0]*n[4]+t[2]*n[5]+t[4],h=t[1]*n[4]+t[3]*n[5]+t[5];o=o??t,o[0]=a,o[1]=s,o[2]=i,o[3]=r,o[4]=l,o[5]=h}multiplySelf(t){return this.AxB(this.elements,t.elements),this}multiply(t){let n=new Array(6);return this.AxB(this.elements,t.elements,n),new rh(n)}preMultiplySelf(t){return this.AxB(t.elements,this.elements,this.elements),this}inverse(){let t=this.elements,n=t[0],o=t[1],a=t[2],s=t[3],i=t[4],r=t[5],l=1/(n*s-o*a);return n*=l,o*=l,a*=l,s*=l,new rh([s,-o,-a,n,a*r-s*i,o*i-n*r])}inverseTo(t){let n=this.elements,o=n[0],a=n[1],s=n[2],i=n[3],r=n[4],l=n[5],h=1/(o*i-a*s);return o*=h,a*=h,s*=h,i*=h,t.setElements([i,-a,-s,o,s*l-i*r,a*r-o*l]),this}invertSelf(){let t=this.elements,n=t[0],o=t[1],a=t[2],s=t[3],i=t[4],r=t[5],l=1/(n*s-o*a);return n*=l,o*=l,a*=l,s*=l,t[0]=s,t[1]=-o,t[2]=-a,t[3]=n,t[4]=a*r-s*i,t[5]=o*i-n*r,this}transformPoint(t,n){let o=this.elements;return{x:t*o[0]+n*o[2]+o[4],y:t*o[1]+n*o[3]+o[5]}}transformBBox(t,n){let o=this.elements,a=o[0],s=o[1],i=o[2],r=o[3],l=t.width*.5,h=t.height*.5,c=t.x+l,d=t.y+h,p=Math.abs(l*a)+Math.abs(h*i),v=Math.abs(l*s)+Math.abs(h*r);return n||(n=new pt(0,0,0,0)),n.x=c*a+d*i+o[4]-p,n.y=c*s+d*r+o[5]-v,n.width=p+p,n.height=v+v,n}toContext(t){if(this.identity)return;let n=this.elements;t.transform(n[0],n[1],n[2],n[3],n[4],n[5])}static flyweight(t){return rh.instance.setElements(t.elements)}static updateTransformMatrix(t,n,o,a,s,i,r){let[l,h]=[0,0],c=n,d=o,p,v;c===1&&d===1?(p=0,v=0):(p=r?.scalingCenterX==null?l:r?.scalingCenterX,v=r?.scalingCenterY==null?h:r?.scalingCenterY);let g=a,u=Math.cos(g),f=Math.sin(g),M,m;g===0?(M=0,m=0):(M=r?.rotationCenterX==null?l:r?.rotationCenterX,m=r?.rotationCenterY==null?h:r?.rotationCenterY);let k=s,B=i,z=p*(1-c)-M,I=v*(1-d)-m;return t.setElements([u*c,f*c,-f*d,u*d,u*z-f*I+M+k,f*z+u*I+m+B]),t}static fromContext(t){let n=t.getTransform();return new rh([n.a,n.b,n.c,n.d,n.e,n.f])}};qw.instance=new qw;var Ho=qw,uz=(e=>(e[e.All=0]="All",e[e.None=1]="None",e))(uz||{}),yn=class wz extends Dj{constructor({isVirtual:t,tag:n,zIndex:o}={}){super(),this.serialNumber=wz._nextSerialNumber++,this.id=No(this),this.isContainerNode=!1,this._virtualChildren=[],this._children=[],this.childSet={},this.matrix=new Ho,this.dirtyTransform=!1,this.scalingX=1,this.scalingY=1,this.scalingCenterX=null,this.scalingCenterY=null,this.rotationCenterX=null,this.rotationCenterY=null,this.rotation=0,this.translationX=0,this.translationY=0,this._childNodeCounts={groups:0,nonGroups:0},this.visible=!0,this.dirtyZIndex=!1,this.zIndex=0,this.zIndexSubOrder=void 0,this.pointerEvents=0,this.isVirtual=t??!1,this.tag=n??NaN,this.zIndex=o??0}get datum(){return this._datum??this._parent?.datum}get previousDatum(){return this._previousDatum}set datum(t){this._datum!==t&&(this._previousDatum=this._datum),this._datum=t}_setLayerManager(t){this._layerManager=t,this._debug=t?.debug;for(let n of this._children)n._setLayerManager(t);for(let n of this._virtualChildren)n._setLayerManager(t)}get layerManager(){return this._layerManager}*ancestors(){let t=this;for(;t=t.parent;)yield t}*traverseUp(){yield this,yield*x4(this.ancestors())}get parent(){return this._parent}get children(){return this._virtualChildren.length?this._children.concat(this._virtualChildren.flatMap(t=>t.children)):this._children}get virtualChildren(){return this._virtualChildren}hasVirtualChildren(){return this._virtualChildren.length>0}setProperties(t,n){let o=n??Object.keys(t);for(let a of o)this[a]=t[a];return this}append(t){Array.isArray(t)||(t=[t]);for(let n of t){if(n.parent)throw new Error(`${n} already belongs to another parent: ${n.parent}.`);if(n.layerManager)throw new Error(`${n} already belongs to a scene: ${n.layerManager}.`);if(this.childSet[n.id])throw new Error(`Duplicate ${n.constructor.name} node: ${n}`);n.isVirtual?this._virtualChildren.push(n):this._children.push(n),this.childSet[n.id]=!0,n._parent=this,n._setLayerManager(this.layerManager)}this.dirtyZIndex=!0,this.markDirty(this,3)}appendChild(t){return this.append(t),t}removeChild(t){let n=()=>{throw new Error("The node to be removed is not a child of this node.")};if(t.parent!==this&&n(),t.isVirtual){let o=this._virtualChildren.indexOf(t);o<0&&n(),this._virtualChildren.splice(o,1)}else{let o=this._children.indexOf(t);o<0&&n(),this._children.splice(o,1)}return delete this.childSet[t.id],t._parent=void 0,t._setLayerManager(),this.dirtyZIndex=!0,this.markDirty(t,3),t}calculateCumulativeMatrix(){this.computeTransformMatrix();let t=Ho.flyweight(this.matrix);for(let n of this.ancestors())n.computeTransformMatrix(),t.preMultiplySelf(n.matrix);return t}transformPoint(t,n){return this.calculateCumulativeMatrix().invertSelf().transformPoint(t,n)}inverseTransformPoint(t,n){return this.calculateCumulativeMatrix().transformPoint(t,n)}transformBBox(t){return this.calculateCumulativeMatrix().invertSelf().transformBBox(t)}inverseTransformBBox(t){return this.calculateCumulativeMatrix().transformBBox(t)}markDirtyTransform(){this.dirtyTransform=!0,this.markDirty(this,3)}destroy(){this.parent?.removeChild(this)}containsPoint(t,n){return!1}pickNode(t,n){if(!this.visible||this.pointerEvents===1||!this.containsPoint(t,n))return;let{children:o}=this;if(o.length>1e3)for(let a=o.length-1;a>=0;a--){let s=o[a],r=s.computeTransformedBBox()?.containsPoint(t,n)?s.pickNode(t,n):void 0;if(r)return r}else if(o.length)for(let a=o.length-1;a>=0;a--){let s=o[a].pickNode(t,n);if(s)return s}else if(!this.isContainerNode)return this}getCachedBBox(){return this.cachedBBox??pt.zero}computeBBox(){}computeTransformedBBox(){let t=this.computeBBox();if(!t)return;this.computeTransformMatrix();let n=Ho.flyweight(this.matrix);for(let o of this.ancestors())o.computeTransformMatrix(),n.preMultiplySelf(o.matrix);return n.transformBBox(t,t),t}computeTransformMatrix(){if(!this.dirtyTransform)return;let{matrix:t,scalingX:n,scalingY:o,rotation:a,translationX:s,translationY:i,scalingCenterX:r,scalingCenterY:l,rotationCenterX:h,rotationCenterY:c}=this;Ho.updateTransformMatrix(t,n,o,a,s,i,{scalingCenterX:r,scalingCenterY:l,rotationCenterX:h,rotationCenterY:c}),this.dirtyTransform=!1}preRender(){this._childNodeCounts.groups=0,this._childNodeCounts.nonGroups=1;for(let t of this.children){let n=t.preRender();this._childNodeCounts.groups+=n.groups,this._childNodeCounts.nonGroups+=n.nonGroups}return this._childNodeCounts}render(t){let{stats:n}=t;this._dirty=0,this.cachedBBox=this.computeBBox(),n&&n.nodesRendered++}markDirty(t,n=1,o=n){this._dirty>n||this._dirty===n&&n===o||(this._dirty=n,this.parent?this.parent.markDirty(this,o):this.layerManager&&this.layerManager.markDirty())}get dirty(){return this._dirty}markClean(t){let{force:n=!1,recursive:o=!0}=t??{};if(!(this._dirty===0&&!n)){if(this._dirty=0,o!==!1)for(let a of this._virtualChildren)a.markClean({force:n});if(o===!0)for(let a of this._children)a.markClean({force:n})}}onVisibleChange(){}get nodeCount(){let t=1,n=this._dirty>=0||this.dirtyTransform?1:0,o=this.visible?1:0,a=s=>{let{count:i,visibleCount:r,dirtyCount:l}=s.nodeCount;t+=i,o+=r,n+=l};for(let s of this._children)a(s);for(let s of this._virtualChildren)a(s);return{count:t,visibleCount:o,dirtyCount:n}}onZIndexChange(){this.parent&&(this.parent.dirtyZIndex=!0)}};yn._nextSerialNumber=0;w([dt({type:"transform"})],yn.prototype,"scalingX",2);w([dt({type:"transform"})],yn.prototype,"scalingY",2);w([dt({type:"transform"})],yn.prototype,"scalingCenterX",2);w([dt({type:"transform"})],yn.prototype,"scalingCenterY",2);w([dt({type:"transform"})],yn.prototype,"rotationCenterX",2);w([dt({type:"transform"})],yn.prototype,"rotationCenterY",2);w([dt({type:"transform"})],yn.prototype,"rotation",2);w([dt({type:"transform"})],yn.prototype,"translationX",2);w([dt({type:"transform"})],yn.prototype,"translationY",2);w([dt({redraw:3,changeCb:e=>e.onVisibleChange()})],yn.prototype,"visible",2);w([dt({redraw:1,changeCb:e=>e.onZIndexChange()})],yn.prototype,"zIndex",2);w([dt({redraw:1,changeCb:e=>e.onZIndexChange()})],yn.prototype,"zIndexSubOrder",2);var wr=yn,cp=(e,t,n)=>e*(1-n)+t*n,mw=e=>{let t=e<0?-1:1,n=Math.abs(e);return n<=.04045?e/12.92:t*((n+.055)/1.055)**2.4},xw=e=>{let t=e<0?-1:1,n=Math.abs(e);return n>.0031308?t*(1.055*n**(1/2.4)-.055):12.92*e},fz=class ke{constructor(t,n,o,a=1){this.r=Ft(0,t||0,1),this.g=Ft(0,n||0,1),this.b=Ft(0,o||0,1),this.a=Ft(0,a||0,1)}static validColorString(t){return t.indexOf("#")>=0?!!ke.parseHex(t):t.indexOf("rgb")>=0?!!ke.stringToRgba(t):!!ke.nameToHex[t.toLowerCase()]}static fromString(t){if(t.indexOf("#")>=0)return ke.fromHexString(t);let n=ke.nameToHex[t.toLowerCase()];if(n)return ke.fromHexString(n);if(t.indexOf("rgb")>=0)return ke.fromRgbaString(t);throw new Error(`Invalid color string: '${t}'`)}static parseHex(t){t=t.replace(/ /g,"").slice(1);let n;switch(t.length){case 6:case 8:n=[];for(let o=0;o<t.length;o+=2)n.push(parseInt(`${t[o]}${t[o+1]}`,16));break;case 3:case 4:n=t.split("").map(o=>parseInt(o,16)).map(o=>o+o*16);break}if(n?.length>=3&&n.every(o=>o>=0))return n.length===3&&n.push(255),n}static fromHexString(t){let n=ke.parseHex(t);if(n){let[o,a,s,i]=n;return new ke(o/255,a/255,s/255,i/255)}throw new Error(`Malformed hexadecimal color string: '${t}'`)}static stringToRgba(t){let n=-1,o=-1;for(let r=0;r<t.length;r++){let l=t[r];if(n===-1&&l==="(")n=r;else if(l===")"){o=r;break}}if(n===-1||o===-1)return;let s=t.substring(n+1,o).split(","),i=[];for(let r=0;r<s.length;r++){let l=s[r],h=parseFloat(l);if(!Number.isFinite(h))return;l.indexOf("%")>=0?(h=Ft(0,h,100),h/=100):r===3?h=Ft(0,h,1):(h=Ft(0,h,255),h/=255),i.push(h)}return i}static fromRgbaString(t){let n=ke.stringToRgba(t);if(n){if(n.length===3)return new ke(n[0],n[1],n[2]);if(n.length===4)return new ke(n[0],n[1],n[2],n[3])}throw new Error(`Malformed rgb/rgba color string: '${t}'`)}static fromArray(t){if(t.length===4)return new ke(t[0],t[1],t[2],t[3]);if(t.length===3)return new ke(t[0],t[1],t[2]);throw new Error("The given array should contain 3 or 4 color components (numbers).")}static fromHSB(t,n,o,a=1){let s=ke.HSBtoRGB(t,n,o);return new ke(s[0],s[1],s[2],a)}static fromHSL(t,n,o,a=1){let s=ke.HSLtoRGB(t,n,o);return new ke(s[0],s[1],s[2],a)}static fromOKLCH(t,n,o,a=1){let s=ke.OKLCHtoRGB(t,n,o);return new ke(s[0],s[1],s[2],a)}static padHex(t){return t.length===1?"0"+t:t}toHexString(){let t="#"+ke.padHex(Math.round(this.r*255).toString(16))+ke.padHex(Math.round(this.g*255).toString(16))+ke.padHex(Math.round(this.b*255).toString(16));return this.a<1&&(t+=ke.padHex(Math.round(this.a*255).toString(16))),t}toRgbaString(t=3){let n=[Math.round(this.r*255),Math.round(this.g*255),Math.round(this.b*255)],o=Math.pow(10,t);return this.a!==1?(n.push(Math.round(this.a*o)/o),`rgba(${n.join(", ")})`):`rgb(${n.join(", ")})`}toString(){return this.a===1?this.toHexString():this.toRgbaString()}toHSB(){return ke.RGBtoHSB(this.r,this.g,this.b)}static RGBtoOKLCH(t,n,o){let a=mw(t),s=mw(n),i=mw(o),r=Math.cbrt(.4122214708*a+.5363325363*s+.0514459929*i),l=Math.cbrt(.2119034982*a+.6806995451*s+.1073969566*i),h=Math.cbrt(.0883024619*a+.2817188376*s+.6299787005*i),c=.2104542553*r+.793617785*l-.0040720468*h,d=1.9779984951*r-2.428592205*l+.4505937099*h,p=.0259040371*r+.7827717662*l-.808675766*h,v=Math.atan2(p,d)*180/Math.PI,g=c,u=Math.hypot(d,p),f=v>=0?v:v+360;return[g,u,f]}static OKLCHtoRGB(t,n,o){let a=t,s=n*Math.cos(o*Math.PI/180),i=n*Math.sin(o*Math.PI/180),r=(a+.3963377774*s+.2158037573*i)**3,l=(a-.1055613458*s-.0638541728*i)**3,h=(a-.0894841775*s-1.291485548*i)**3,c=4.0767416621*r-3.3077115913*l+.2309699292*h,d=-1.2684380046*r+2.6097574011*l-.3413193965*h,p=-.0041960863*r-.7034186147*l+1.707614701*h,v=xw(c),g=xw(d),u=xw(p);return[v,g,u]}static RGBtoHSL(t,n,o){let a=Math.min(t,n,o),s=Math.max(t,n,o),i=(s+a)/2,r,l;if(s===a)r=0,l=0;else{let h=s-a;l=i>.5?h/(2-s-a):h/(s+a),s===t?r=(n-o)/h+(n<o?6:0):s===n?r=(o-t)/h+2:r=(t-n)/h+4,r*=360/6}return[r,l,i]}static HSLtoRGB(t,n,o){if(t=(t%360+360)%360,n===0)return[o,o,o];let a=o<.5?o*(1+n):o+n-o*n,s=2*o-a;function i(c){return c<0&&(c+=1),c>1&&(c-=1),c<1/6?s+(a-s)*6*c:c<1/2?a:c<2/3?s+(a-s)*(2/3-c)*6:s}let r=i(t/360+1/3),l=i(t/360),h=i(t/360-1/3);return[r,l,h]}static RGBtoHSB(t,n,o){let a=Math.min(t,n,o),s=Math.max(t,n,o),i=s===0?0:(s-a)/s,r=0;if(a!==s){let l=s-a,h=(s-t)/l,c=(s-n)/l,d=(s-o)/l;t===s?r=d-c:n===s?r=2+h-d:r=4+c-h,r/=6,r<0&&(r=r+1)}return[r*360,i,s]}static HSBtoRGB(t,n,o){t=(t%360+360)%360/360;let a=0,s=0,i=0;if(n===0)a=s=i=o;else{let r=(t-Math.floor(t))*6,l=r-Math.floor(r),h=o*(1-n),c=o*(1-n*l),d=o*(1-n*(1-l));switch(r>>0){case 0:a=o,s=d,i=h;break;case 1:a=c,s=o,i=h;break;case 2:a=h,s=o,i=d;break;case 3:a=h,s=c,i=o;break;case 4:a=d,s=h,i=o;break;case 5:a=o,s=h,i=c;break}}return[a,s,i]}static mix(t,n,o){return new ke(cp(t.r,n.r,o),cp(t.g,n.g,o),cp(t.b,n.b,o),cp(t.a,n.a,o))}};fz.nameToHex={__proto__:null,aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",transparent:"#00000000",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};var Do=fz;function Mz(e,t){return n=>Number(e)*(1-n)+Number(t)*n}function mz(e,t){if(typeof e=="string")try{e=Do.fromString(e)}catch{e=Do.fromArray([0,0,0])}if(typeof t=="string")try{t=Do.fromString(t)}catch{t=Do.fromArray([0,0,0])}return n=>Do.mix(e,t,n).toRgbaString()}var Pp=Symbol("BREAK"),tr="__decorator_config";function xz(e,t){Object.getOwnPropertyDescriptor(e,tr)==null&&Object.defineProperty(e,tr,{value:{}});let n=e[tr],o=t.toString();if(typeof n[o]<"u")return n[o];let a=new WeakMap;n[o]={setters:[],getters:[],observers:[],valuesMap:a};let s=Object.getOwnPropertyDescriptor(e,t),i=s?.set,r=s?.get;return Object.defineProperty(e,t,{set:function(c){let{setters:d,observers:p}=n[o],v;d.some(g=>g.length>2)&&(v=r?r.call(this):a.get(this));for(let g of d)if(c=g(this,t,c,v),c===Pp)return;i?i.call(this,c):a.set(this,c);for(let g of p)g(this,c,v)},get:function(){let c=r?r.call(this):a.get(this);for(let d of n[o].getters)if(c=d(this,t,c),c===Pp)return;return c},enumerable:!0,configurable:!1}),n[o]}function ya(e,t,n){return(o,a)=>{let s=xz(o,a);s.setters.push(e),t&&s.getters.unshift(t),n&&Object.assign(s,n)}}function Hj(e){return(t,n)=>{xz(t,n).observers.push(e)}}function r3(e){return typeof e<"u"&&tr in e}function er(e){let t=new Set;for(;r3(e);)t.add(e?.[tr]),e=Object.getPrototypeOf(e);return Array.from(t).flatMap(n=>Object.keys(n))}function Ej(e){return er(e).reduce((t,n)=>(t[n]=e[n]??null,t),{})}function Tj(e,t){let n=t.toString();for(;r3(e);){let o=e[tr];if(Object.hasOwn(o,n))return o[n];e=Object.getPrototypeOf(e)}}function Hh(e){return e!=null}function Ze(e){return Array.isArray(e)}function yz(e){return typeof e=="boolean"}function Kh(e){return e instanceof Date}function Zh(e){return Kh(e)&&!isNaN(Number(e))}function Iz(e){return e instanceof RegExp}function T2(e){return typeof e=="function"}function g1(e){return typeof e=="object"&&e!==null&&!Ze(e)}function _j(e){return Ze(e)||f1(e)}function f1(e){return typeof e=="object"&&e!==null&&e.constructor===Object}function u1(e){return typeof e=="string"}function jn(e){return typeof e=="number"}function Xt(e){return jn(e)&&Number.isFinite(e)}function kz(e){return typeof window<"u"&&e instanceof HTMLElement}function Aj(e,t){return u1(t)&&Object.keys(e).includes(t)}function zz(e,t){return Object.values(e).includes(t)}function bz(e){return typeof e=="symbol"}function Rj(...e){return Wt(...e.reverse())}function Wt(...e){let t={};for(let n of e){if(!g1(n))continue;let o=r3(n)?er(n):Object.keys(n);for(let a of o)f1(t[a])&&f1(n[a])?t[a]=Wt(t[a],n[a]):t[a]??(t[a]=n[a])}return t}function Yw(e,...t){return t&&Ze(e)?e.map(n=>Wt(n,...t)):e}function _6(e,t){return Object.entries(e).reduce((n,[o,a])=>(n[o]=t(a,o,e),n),{})}function Kw(e,t){let n=S({},e);for(let o of t)delete n[o];return n}function A6(e,t){return(Ze(t)?t:t.split(".")).reduce((o,a)=>o[a],e)}function R6(e,t,n){let o=Ze(t)?t.slice():t.split("."),a=o.pop(),s=o.reduce((i,r)=>i[r],e);return s[a]=n,s[a]}function x2(e,t,n){if(n===void 0)return t;for(let o of e){let a=n[o];a!==void 0&&(t[o]=a)}return t}var Vt=class{set(e){let{className:t=this.constructor.name}=this.constructor;if(typeof e!="object")return q.warn(`unable to set ${t} - expecting a properties object`),this;let n=new Set(Object.keys(e));for(let o of er(this))if(n.has(o)){let a=e[o],s=this;_o(s[o])?s[o]=s[o]instanceof l3?s[o].reset(a):s[o].set(a):s[o]=a,n.delete(o)}for(let o of n)q.warn(`unable to set [${o}] in ${t} - property is unknown`);return this}isValid(e){return er(this).every(t=>{let{optional:n}=Tj(this,t),o=n===!0||typeof this[t]<"u";return o||q.warnOnce(`${e??""}[${t}] is required.`),o})}toJson(){return er(this).reduce((e,t)=>{let n=this[t];return e[t]=_o(n)?n.toJson():n,e},{})}},l3=class Cz extends Array{constructor(t,...n){super(n.length);let a=(s=>!!s?.prototype?.constructor?.name)(t)?s=>new t().set(s):t;Object.defineProperty(this,"itemFactory",{value:a,enumerable:!1,configurable:!1}),this.set(n)}set(t){if(Ze(t)){this.length=t.length;for(let n=0;n<t.length;n++)this[n]=this.itemFactory(t[n])}return this}reset(t){return new Cz(this.itemFactory,...t)}toJson(){return this.map(t=>t?.toJson?.()??t)}};function _o(e){return e instanceof Vt||e instanceof l3}var bp="class-instance";function Un(e,t,n){if(Ze(t)){if(!Ze(e)||e.length!==t.length||t.some((o,a)=>Un(e[a],o)!=null))return t}else if(f1(t)){if(!f1(e))return t;let o={},a=new Set([...Object.keys(e),...Object.keys(t)]);for(let s of a)if(!(e[s]===t[s]||n?.includes(s)))if(typeof e[s]==typeof t[s]){let i=Un(e[s],t[s]);i!==null&&(o[s]=i)}else o[s]=t[s];return Object.keys(o).length?o:null}else if(e!==t)return t;return null}function E0(e,t){return Ze(e)?e.map(n=>E0(n,t)):f1(e)?_6(e,(n,o)=>t?.shallow?.includes(o)?Fp(n):E0(n,t)):Fp(e)}function Fp(e){return Ze(e)?[...e]:f1(e)?S({},e):Kh(e)?new Date(e):Iz(e)?new RegExp(e.source,e.flags):e}function Eo(e,t,n,...o){if(Ze(e))t(e,...o),e.forEach((a,s)=>{Eo(a,t,n,...tk(o,s))});else if(f1(e)){t(e,...o);for(let a of Object.keys(e)){if(n?.skip?.includes(a))continue;let s=e[a];(Ze(s)||f1(s))&&Eo(s,t,n,...tk(o,a))}}}function fa(e,t,n={}){let{path:o,constructedArrays:a,matcherPath:s=o?.replace(/(\[[0-9+]+])/i,"[]"),skip:i=[]}=n;if(e==null)throw new Error(`AG Charts - target is uninitialised: ${o??"<root>"}`);if(t==null)return e;if(_o(e))return e.set(t);let r=e,l=yw(e);for(let h in t){let c=`${s?s+".":""}${h}`;if(i.includes(c))continue;let d=t[h],p=`${o?o+".":""}${h}`,v=r.constructor,g=r[h],u;try{let f=yw(g),M=yw(d);if(l===bp&&!(h in e)){q.warn(`unable to set [${p}] in ${v?.name} - property is unknown`);continue}if(f!=null&&M!=null&&M!==f&&(f!==bp||M!=="object")){q.warn(`unable to set [${p}] in ${v?.name} - can't apply type of [${M}], allowed types are: [${f}]`);continue}if(_o(g))r[h].set(d);else if(M==="array")if(u??(u=a?.get(g)),u==null)r[h]=d;else{let m=d;r[h]=m.map(k=>fa(new u,k,V(S({},n),{path:p,matcherPath:c+"[]"})))}else M===bp?r[h]=d:M==="object"?g!=null?fa(g,d,V(S({},n),{path:p,matcherPath:c})):u==null?(r[h]={},fa(r[h],d,V(S({},n),{path:p,matcherPath:c}))):r[h]=fa(new u,d,V(S({},n),{path:p,matcherPath:c})):r[h]=d}catch(f){q.warn(`unable to set [${p}] in [${v?.name}]; nested error is: ${f.message}`)}}return e}function tk(e,t){return e.map(n=>n?.[t])}function yw(e){return e==null?null:kz(e)||Kh(e)?"primitive":Ze(e)?"array":g1(e)?f1(e)?"object":bp:T2(e)?"function":"primitive"}var L6={};Oo(L6,{easeIn:()=>Lj,easeInOut:()=>Oj,easeInOutQuad:()=>Fj,easeInQuad:()=>Nj,easeOut:()=>Eh,easeOutQuad:()=>Pj,inverseEaseOut:()=>Sz,linear:()=>Bz});var Bz=e=>e,Lj=e=>1-Math.cos(e*Math.PI/2),Eh=e=>Math.sin(e*Math.PI/2),Oj=e=>-(Math.cos(e*Math.PI)-1)/2,Nj=e=>e*e,Pj=e=>1-(1-e)**2,Fj=e=>e<.5?2*e*e:1-(-2*e+2)**2/2,Sz=e=>2*Math.asin(e)/Math.PI,Vp=.2,qi=["initial","remove","update","add","trailing","end","none"],Th={initial:{animationDuration:1,animationDelay:0},add:{animationDuration:.25,animationDelay:.75},remove:{animationDuration:.25,animationDelay:0},update:{animationDuration:.5,animationDelay:.25},trailing:{animationDuration:Vp,animationDelay:1,skipIfNoEarlierAnimations:!0},end:{animationDelay:1+Vp,animationDuration:0,skipIfNoEarlierAnimations:!0},none:{animationDuration:0,animationDelay:0}},Dz=(e=>(e.Loop="loop",e.Reverse="reverse",e))(Dz||{});function Vj(e){return e.every(t=>t instanceof wr)}function h3(e){return Vj(e)?{nodes:e,selections:[]}:{nodes:[],selections:e}}var Hz=class{constructor(e){this.isComplete=!1,this.elapsed=0,this.iteration=0,this.isPlaying=!1,this.isReverse=!1,this.id=e.id,this.groupId=e.groupId,this.autoplay=e.autoplay??!0,this.ease=e.ease??Bz,this.phase=e.phase;let t=e.duration??Th[this.phase].animationDuration;this.duration=t*e.defaultDuration,this.delay=(e.delay??0)*e.defaultDuration,this.onComplete=e.onComplete,this.onPlay=e.onPlay,this.onStop=e.onStop,this.onUpdate=e.onUpdate,this.interpolate=this.createInterpolator(e.from,e.to),this.from=e.from,e.skip===!0&&(this.onUpdate?.(e.to,!1,this),this.onStop?.(this),this.onComplete?.(this),this.isComplete=!0),e.collapsable!==!1&&(this.duration=this.checkCollapse(e,this.duration))}checkCollapse(e,t){return e.from===e.to?0:(typeof e.from=="object"?Un(e.from,e.to):null)?t:0}play(e=!1){this.isPlaying||this.isComplete||(this.isPlaying=!0,this.onPlay?.(this),this.autoplay&&(this.autoplay=!1,e&&this.onUpdate?.(this.from,!0,this)))}pause(){this.isPlaying=!1}stop(){this.isPlaying=!1,this.isComplete||(this.isComplete=!0,this.onStop?.(this))}update(e){if(this.isComplete)return e;!this.isPlaying&&this.autoplay&&this.play(!0);let t=this.elapsed;if(this.elapsed+=e,this.delay>this.elapsed)return 0;let n=this.interpolate(this.isReverse?1-this.delta:this.delta);this.onUpdate?.(n,!1,this);let o=this.delay+this.duration;return this.elapsed>=o?(this.stop(),this.isComplete=!0,this.onComplete?.(this),e-(o-t)):0}get delta(){return this.ease(Ft(0,(this.elapsed-this.delay)/this.duration,1))}createInterpolator(e,t){if(typeof t!="object"||JI(t))return this.interpolateValue(e,t);let n=[];for(let o in t){let a=this.interpolateValue(e[o],t[o]);a!=null&&n.push([o,a])}return o=>{let a={};for(let[s,i]of n)a[s]=i(o);return a}}interpolateValue(e,t){if(!(e===void 0||t===void 0)){if(JI(e))return n=>e[n3](t,n);try{switch(typeof e){case"number":return Mz(e,t);case"string":return mz(e,t);case"boolean":if(e===t)return()=>e;break}}catch{}throw new Error(`Unable to interpolate values: ${e}, ${t}`)}}},X0={added:"add",updated:"update",removed:"remove",unknown:"initial","no-op":"none"};function $e(e,t,n,o,a,s,i){let{fromFn:r,toFn:l,intermediateFn:h}=a,{nodes:c,selections:d}=h3(o),p=(g,u)=>{let f,M=0,m=0;for(let z of u){let I=g[M]===z,y={last:m>=u.length-1,lastLive:M>=g.length-1,prev:u[m-1],prevFromProps:f,prevLive:g[M-1],next:u[m+1],nextLive:g[M+(I?1:0)]},b=`${e}_${t}_${z.id}`;n.stopByAnimationId(b);let C="unknown";I?s&&i&&(C=jj(z,z.datum,s,i)):C="removed";let k=r(z,z.datum,C,y),{phase:E,start:_,finish:F,delay:tt,duration:at}=k,U=ue(k,["phase","start","finish","delay","duration"]),B=l(z,z.datum,C,y),{phase:P,start:N,finish:W,delay:ot,duration:j}=B,Mt=ue(B,["phase","start","finish","delay","duration"]),xt=F==null&&W==null;n.animate({id:b,groupId:e,phase:E??P??"update",duration:at??j,delay:tt??ot,from:U,to:Mt,ease:Eh,collapsable:xt,onPlay:()=>{z.setProperties(S(S({},_),N))},onUpdate(wt){z.setProperties(wt),h&&z.setProperties(h(z,z.datum,C,y))},onStop:()=>{z.setProperties(S(S(S(S(S(S({},_),N),U),Mt),F),W))}}),I&&M++,m++,f=U}},v=0;for(let g of d){let u=g.nodes(),f=u.filter(M=>!g.isGarbage(M));p(f,u),n.animate({id:`${e}_${t}_selection_${v}`,groupId:e,phase:"end",from:0,to:1,ease:Eh,onStop(){g.cleanup()}}),v++}p(c,c)}function Po(e,t,n,o,a,s,i){let{nodes:r,selections:l}=h3(o),{start:h,finish:c,phase:d}=i,p=c==null;n.animate({id:`${e}_${t}`,groupId:e,phase:d??"update",from:a,to:s,ease:Eh,collapsable:p,onPlay:()=>{if(h){for(let v of r)v.setProperties(h);for(let v of l)for(let g of v.nodes())g.setProperties(h)}},onUpdate(v){for(let g of r)g.setProperties(v);for(let g of l)for(let u of g.nodes())u.setProperties(v)},onStop:()=>{for(let v of r)v.setProperties(S(S({},s),c));for(let v of l)for(let g of v.nodes())g.setProperties(S(S({},s),c))}})}function jj(e,t,n,o){let a=n(e,t);return o.added.has(a)?"added":o.removed.has(a)?"removed":"updated"}var dp={periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]};function O6(e,t=new Date(e.getFullYear(),0,1)){let n=e.getTimezoneOffset()-t.getTimezoneOffset(),o=e.getTime()-t.getTime()+n*6e4,a=36e5*24;return Math.floor(o/a)}function ek(e,t){let o=new Date(e.getFullYear(),0,1).getDay(),a=(t-o+7)%7,s=new Date(e.getFullYear(),0,a+1);return s<=e?Math.floor(O6(e,s)/7)+1:0}var Uj=0,Ez=1,nk=4;function Tz(e,t=e.getFullYear()){let o=new Date(t,0,1).getDay(),a=(nk-o+7)%7,s=new Date(t,0,a-(nk-Ez)+1);return s<=e?Math.floor(O6(e,s)/7)+1:Tz(e,t-1)}function Gj(e){let t=e.getTimezoneOffset(),n=Math.abs(t);return`${t>0?"-":"+"}${H0(Math.floor(n/60),2,"0")}${H0(Math.floor(n%60),2,"0")}`}var Wj={a:e=>dp.shortDays[e.getDay()],A:e=>dp.days[e.getDay()],b:e=>dp.shortMonths[e.getMonth()],B:e=>dp.months[e.getMonth()],c:"%x, %X",d:(e,t)=>H0(e.getDate(),2,t??"0"),e:"%_d",f:(e,t)=>H0(e.getMilliseconds()*1e3,6,t??"0"),H:(e,t)=>H0(e.getHours(),2,t??"0"),I:(e,t)=>{let n=e.getHours()%12;return n===0?"12":H0(n,2,t??"0")},j:(e,t)=>H0(O6(e)+1,3,t??"0"),m:(e,t)=>H0(e.getMonth()+1,2,t??"0"),M:(e,t)=>H0(e.getMinutes(),2,t??"0"),L:(e,t)=>H0(e.getMilliseconds(),3,t??"0"),p:e=>e.getHours()<12?"AM":"PM",Q:e=>String(e.getTime()),s:e=>String(Math.floor(e.getTime()/1e3)),S:(e,t)=>H0(e.getSeconds(),2,t??"0"),u:e=>{let t=e.getDay();return t<1&&(t+=7),String(t%7)},U:(e,t)=>H0(ek(e,Uj),2,t??"0"),V:(e,t)=>H0(Tz(e),2,t??"0"),w:(e,t)=>H0(e.getDay(),2,t??"0"),W:(e,t)=>H0(ek(e,Ez),2,t??"0"),x:"%-m/%-d/%Y",X:"%-I:%M:%S %p",y:(e,t)=>H0(e.getFullYear()%100,2,t??"0"),Y:(e,t)=>H0(e.getFullYear(),4,t??"0"),Z:e=>Gj(e),"%":()=>"%"},$j={_:" ",0:"0","-":""};function H0(e,t,n){let o=String(Math.floor(e));return o.length>=t?o:`${n.repeat(t-o.length)}${o}`}function Xh(e){let t=[];for(;e.length>0;){let n=e.indexOf("%");if(n!==0){let r=n>0?e.substring(0,n):e;t.push(r)}if(n<0)break;let o=e[n+1],a=$j[o];a!=null&&n++;let s=e[n+1],i=Wj[s];if(typeof i=="function")t.push([i,a]);else if(typeof i=="string"){let r=Xh(i);t.push([r,a])}else t.push(`${a??""}${s}`);e=e.substring(n+2)}return n=>{let o=typeof n=="number"?new Date(n):n;return t.map(a=>typeof a=="string"?a:a[0](o,a[1])).join("")}}function mn(e){return e instanceof Date?e.getTime():e}function N6(e,t,n){let o=_z(e,t,n),a=Xh(o);return s=>a(s)}function _z(e=[],t=e,n=0){let o=1/0;for(let l=1;l<e.length;l++)o=Math.min(o,Math.abs(e[l]-e[l-1]));let a=new Date(t[0]).getFullYear(),i=new Date(t.at(-1)).getFullYear()-a>0,r=isFinite(o)?qj(o,e):Yj(e[0]);return Zj(Math.max(r-n,0),i,e)}function qj(e,t){return e<ds?0:e<_0?1:e<Z0?2:e<p1?3:e<wa?4:e<p1*28||e<p1*31&&Kj(t)?5:e<rr?6:7}function Yj(e){return oh.floor(e)<e?0:ah.floor(e)<e?1:sh.floor(e)<e?2:Ww.floor(e)<e?3:$i.floor(e)<e?zp.floor(e)<e?4:5:D6.floor(e)<e?6:7}function Kj(e){let t=new Date(e[0]).getMonth();for(let n=1;n<e.length;n++){let o=new Date(e[n]).getMonth();if(t===o)return!0;t=o}return!1}function Zj(e,t,n){let o=mn(n[0]),a=mn(n.at(-1)),s=Math.abs(a-o),i=t||e===7,r=s===0,h=[["hour",6*Z0,14*p1,3,"%I %p"],["hour",_0,6*Z0,3,"%I:%M"],["second",1e3,6*Z0,1,":%S"],["ms",0,6*Z0,0,".%L"],["am/pm",_0,6*Z0,3,"%p"]," ",["day",p1,wa,4,"%a"],["month",r?0:wa,52*wa,5,"%b %d"],["month",5*wa,10*rr,6,"%B"]," ",["year",i?0:rr,1/0,7,"%Y"]].filter(p=>{if(typeof p=="string")return!0;let[v,g,u,f]=p;return f>=e&&g<=s&&s<u}).reduce((p,v)=>(typeof v=="string"?p.result.push(v):p.used.has(v[0])||(p.result.push(v),p.used.add(v[0])),p),{result:[],used:new Set}).result,c=h.findIndex(p=>typeof p!="string"),d=h.length-[...h].reverse().findIndex(p=>typeof p!="string");return h.slice(c,d).map(p=>typeof p=="string"?p:p[4]).join("").replaceAll(/\s+/g," ").trim()}var z0=(e,t)=>{let n=Symbol(String(t));e[n]=void 0,Object.defineProperty(e,t,{get(){return this[n]},set(o){this[n]!==o&&(this[n]=o,this.invalid=!0)},enumerable:!0,configurable:!1})},c3=class Az{constructor(){this.type="band",this.invalid=!0,this.range=[0,1],this.round=!1,this.interval=void 0,this.index=new Map,this.ordinalRange=[],this._domain=[],this._bandwidth=1,this._step=1,this._inset=1,this._rawBandwidth=1,this._paddingInner=0,this._paddingOuter=0}static is(t){return t instanceof Az}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&q.warnOnce("Expected update to not invalidate scale"))}set domain(t){this.index=new Map,this.invalid=!0,this._domain=[];for(let n of t){let o=mn(n);this.getIndex(o)===void 0&&this.index.set(o,this._domain.push(n)-1)}}get domain(){return this._domain}getDomain(){return this._domain}ticks(){return this.refresh(),this._domain}convert(t){this.refresh();let n=this.getIndex(t);return n==null?NaN:this.ordinalRange[n]??NaN}invert(t){this.refresh();let n=this.ordinalRange.findIndex(o=>o===t);return this.domain[n]}invertNearest(t){this.refresh();let n=-1,o=1/0,a=this.ordinalRange.findIndex((s,i)=>{if(s===t)return!0;let r=Math.abs(t-s);return r<o&&(o=r,n=i),!1});return this.domain[a]??this.domain[n]}get bandwidth(){return this.refresh(),this._bandwidth}get step(){return this.refresh(),this._step}get inset(){return this.refresh(),this._inset}get rawBandwidth(){return this.refresh(),this._rawBandwidth}set padding(t){t=Ft(0,t,1),this._paddingInner=t,this._paddingOuter=t}get padding(){return this._paddingInner}set paddingInner(t){this._paddingInner=Ft(0,t,1)}get paddingInner(){return this._paddingInner}set paddingOuter(t){this._paddingOuter=Ft(0,t,1)}get paddingOuter(){return this._paddingOuter}update(){let t=this._domain.length;if(t===0)return;let[n,o]=this.range,{_paddingInner:a}=this,{_paddingOuter:s,round:i}=this,r=o-n,l,h,c;t===1?(a=0,l=r*(1-s*2),h=i?Math.round(l):l,c=r*s):(l=r/Math.max(1,t-a+s*2),h=i?Math.floor(l):l,c=n+(r-h*(t-a))/2);let d=h*(1-a);i&&(c=Math.round(c),d=Math.round(d)),this._step=h,this._inset=c,this._bandwidth=d,this._rawBandwidth=l*(1-a),this.ordinalRange=this._domain.map((p,v)=>c+h*v)}getIndex(t){return this.index.get(t instanceof Date?t.getTime():t)}};w([z0],c3.prototype,"range",2);w([z0],c3.prototype,"round",2);w([z0],c3.prototype,"interval",2);var Is=c3;function x(e,t={}){let{optional:n=!1,property:o}=t;return ya((a,s,i)=>{let r=V(S({},t),{target:a,property:s});if(n&&typeof i>"u"||e(i,r))return _o(a[s])&&!_o(i)?(a[s].set(i),a[s]):i;let l=o??String(s).replace(/^_*/,""),h=a.constructor.className??a.constructor.name.replace(/Properties$/,""),c=Mh(i),d=50;if(c!=null&&c.length>d){let p=c.length-d;c=c.slice(0,d)+`... (+${p} characters)`}return q.warn(`Property [${l}] of [${h}] cannot be set to [${c}]${e.message?`; expecting ${Qh(e,r)}`:""}, ignoring.`),Pp},void 0,{optional:n})}var m1=(...e)=>{let t=[];return we((n,o)=>(t.length=0,e.every(a=>{let s=a(n,o);return s||t.push(Qh(a,o)),s})),()=>t.filter(Boolean).join(" AND "))},_2=(...e)=>we((t,n)=>e.some(o=>o(t,n)),t=>e.map(oU(t)).filter(Boolean).join(" OR ")),vt=Wz(we((e,t)=>_o(e)||g1(e)&&_o(t.target[t.property]),"a properties object")),Rz=Wz(we(e=>g1(e),"an object")),It=we(yz,"a boolean"),In=we(T2,"a function"),et=we(u1,"a string"),xe=sU(we(Xt,"a number")),d3=we(e=>jn(e)&&isNaN(e),"NaN"),Z=xe.restrict({min:0}),ie=xe.restrict({min:0,max:1}),Bs=xe.restrict({min:-360,max:360}),fr=_2(xe,d3),Mr=aU(we(Ze,"an array")),ka=(e,t)=>we((n,o)=>Ze(n)&&n.every(a=>e(a,o)),n=>{let o=Qh(Mr,n)??"";return t?`${o} of ${t}`:o}),jp=e=>Xt(e)||Zh(e),mr=e=>we((t,n)=>!jp(t)||!jp(n.target[e])||t<n.target[e],`to be less than ${e}`),xr=e=>we((t,n)=>!jp(t)||!jp(n.target[e])||t>n.target[e],`to be greater than ${e}`),P6=we(Zh,"Date object"),F6=_2(P6,Z),Lz="A color string can be in one of the following formats to be valid: #rgb, #rrggbb, rgb(r, g, b), rgba(r, g, b, a) or a CSS color name such as 'white', 'orange', 'cyan', etc",ne=we(e=>u1(e)&&Do.validColorString(e),`color String. ${Lz}`),x1=we(ka(ne),`color strings. ${Lz}`),Xj=ka(It,"boolean values"),p3=ka(xe,"numbers"),Oz=ka(et,"strings"),Qj=we(ka(P6),"Date objects"),Nz=we(ka(vt),"objects"),Pz=be(["butt","round","square"],"a line cap"),Jj=be(["round","bevel","miter"],"a line join"),za=we(ka(Z),"numbers specifying the length in pixels of alternating dashes and gaps, for example, [6, 3] means dashes with a length of 6 pixels with gaps between of 3 pixels."),V6=be(["top","right","bottom","left"],"a position"),Ss=be(["normal","italic","oblique"],"a font style"),Ds=_2(be(["normal","bold","bolder","lighter"],"a font weight"),xe.restrict({min:1,max:1e3})),v3=be(["never","always","hyphenate","on-space"],"a text wrap strategy"),Fz=be(["left","center","right"],"a text align"),tU=be(["top","middle","bottom"],"a vertical align"),eU=be(["ellipsis","hide"],"an overflow strategy"),Vz=be(["horizontal","vertical"],"a direction"),jz=be(["inside","outside"],"a placement"),g3=_2(be(["exact","nearest"],"interaction range"),xe),j6=be(["top","bottom","left","right"]);function be(e,t="a"){return we(n=>e.includes(n),`${t} keyword such as ${nU(e)}`)}var Uz=_2(m1(xe.restrict({min:1}),mr("maxSpacing")),d3),Gz=_2(m1(xe.restrict({min:1}),xr("minSpacing")),d3);function we(e,t){return e.message=t,e}function nU(e){let t=e.map(o=>`'${o}'`);if(t.length===1)return t[0];let n=t.pop();return`${t.join(", ")} or ${n}`}function Qh(e,t){return T2(e.message)?e.message(t):e.message}function oU(e){return t=>Qh(t,e)}function aU(e){return Object.assign(e,{restrict({length:t,minLength:n}={}){let o="an array";return jn(n)&&n>0?o="a non-empty array":jn(t)&&(o=`an array of length ${t}`),we(a=>Ze(a)&&(jn(t)?a.length===t:!0)&&(jn(n)?a.length>=n:!0),o)}})}function sU(e){return Object.assign(e,{restrict({min:t,max:n}={}){let o=["a number"],a=jn(t),s=jn(n);return a&&s?o.push(`between ${t} and ${n} inclusive`):a?o.push(`greater than or equal to ${t}`):s&&o.push(`less than or equal to ${n}`),we(i=>Xt(i)&&(a?i>=t:!0)&&(s?i<=n:!0),o.join(" "))}})}function Wz(e){return Object.assign(e,{restrict(t){return we(n=>n instanceof t,n=>Qh(e,n)??`an instance of ${t.name}`)}})}function Mh(e){if(typeof e=="number"){if(isNaN(e))return"NaN";if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity"}return JSON.stringify(e)}var U6=(e=>(e.X="x",e.Y="y",e))(U6||{}),Zw={constructedArrays:new WeakMap};function $z(e,t){Zw.constructedArrays?.set(e,t)}var Fo=class Xw{constructor(t,n){this.invalid=!0,this.nice=!1,this.interval=void 0,this.tickCount=Xw.defaultTickCount,this.minTickCount=0,this.maxTickCount=1/0,this.niceDomain=[],this.defaultClampMode="raw",this.domain=t,this.range=n}static is(t){return t instanceof Xw}transform(t){return t}transformInvert(t){return t}calcBandwidth(t=1){let n=this.getDomain(),o=this.getPixelRange(),a=Math.abs(n[1]-n[0])/t+1,s=Math.floor(o),i=Math.min(a,s);return o/Math.max(1,i)}getDomain(){return this.nice&&(this.refresh(),this.niceDomain.length)?this.niceDomain:this.domain}convert(t,n){let o=n?.clampMode??this.defaultClampMode;if(!this.domain||this.domain.length<2)return NaN;this.refresh();let a=this.getDomain().map(c=>this.transform(c)),[s,i]=a,{range:r}=this,[l,h]=r;if(t=this.transform(t),o==="clamped"){let[c,d]=v1(a.map(Number));if(Number(t)<c)return l;if(Number(t)>d)return h}return s===i?(l+h)/2:t===s?l:t===i?h:l+(Number(t)-Number(s))/(Number(i)-Number(s))*(h-l)}invert(t){this.refresh();let n=this.getDomain().map(p=>this.transform(p)),[o,a]=n,{range:s}=this,[i,r]=s,l=i>r,h=l?r:i,c=l?i:r,d;return t<h?l?a:o:t>c?l?o:a:(i===r?d=this.toDomain((Number(o)+Number(a))/2):d=this.toDomain(Number(o)+(t-i)/(r-i)*(Number(a)-Number(o))),this.transformInvert(d))}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&q.warnOnce("Expected update to not invalidate scale"))}getPixelRange(){let[t,n]=this.range;return Math.abs(n-t)}};Fo.defaultTickCount=5;Fo.defaultMaxTickCount=6;w([z0],Fo.prototype,"domain",2);w([z0],Fo.prototype,"range",2);w([z0],Fo.prototype,"nice",2);w([z0],Fo.prototype,"interval",2);w([z0],Fo.prototype,"tickCount",2);w([z0],Fo.prototype,"minTickCount",2);w([z0],Fo.prototype,"maxTickCount",2);var ve=Fo;function qz(e,t){let n=[];for(let o=0;o<e;o++)n.push(t(o));return n}function Vo(e){if(e.length===0)return;let t=1/0,n=-1/0;for(let a of e)a instanceof Date&&(a=a.getTime()),typeof a=="number"&&(a<t&&(t=a),a>n&&(n=a));let o=[t,n];if(o.every(isFinite))return o}function Yz(e,t,n){return Jh(e,t,n).extent}function Jh(e,t,n){let o=!1;return e.length>2&&(e=Vo(e)??[NaN,NaN]),isNaN(t)||(o||(o=t>e[0]),e=[t,e[1]]),isNaN(n)||(o||(o=n<e[1]),e=[e[0],n]),e[0]>e[1]&&(e=[]),{extent:e,clipped:o}}function b2(e,t){if(e==null||t==null||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(Array.isArray(e[n])&&Array.isArray(t[n])){if(!b2(e[n],t[n]))return!1}else if(e[n]!==t[n])return!1;return!0}function Qw(e){return typeof e>"u"?[]:Array.isArray(e)?e:[e]}function u3(e){return Array.from(new Set(e))}function G6(e,t){return e.reduce((n,o)=>{let a=t(o);return n[a]??(n[a]=[]),n[a].push(o),n},{})}function Jw(e,t,n=0){if(e.length===0)return[];let o=[];for(let a=0;a<t;a++)o.push(e.at((a+n)%e.length));return o}function Kz(e,t){return t.reduce(([n,o],a)=>e(a)?[[...n,a],o]:[n,[...o,a]],[[],[]])}function*iU(e,t){for(let n of e)yield t(n)}function rU(e,t){return e.includes(t)}function lU(e,t){return rU(e,t)}function Cp(e,t){return!t.some(n=>!lU(e,n))}function Zz(e){let t,n,o=cU.exec(e);o&&([,t,e,n]=o);let a=hU.exec(e);if(!a)throw new Error(`The number formatter is invalid: ${e}`);let[,s,i,r,l,h,c,d,p,v,g]=a;return{fill:s,align:i,sign:r,symbol:l,zero:h,width:parseInt(c),comma:d,precision:parseInt(p),trim:!!v,type:g,prefix:t,suffix:n}}function Xz(e){let t=typeof e=="string"?Zz(e):e,{fill:n,align:o,sign:a="-",symbol:s,zero:i,width:r,comma:l,type:h,prefix:c="",suffix:d="",precision:p}=t,{trim:v}=t,g=p==null||isNaN(p),u;if(!h)u=h1.g,v=!0;else if(h in h1&&h in Xi)u=g?Xi[h]:h1[h];else if(h in h1)u=h1[h];else if(h in Xi)u=Xi[h];else throw new Error(`The number formatter type is invalid: ${h}`);let f;return p==null||g?f=h?6:12:f=p,M=>{let m=u(M,f);return v&&(m=vU(m)),l&&(m=gU(m,l)),m=wU(M,m,a),s&&s!=="#"&&(m=`${s}${m}`),s==="#"&&h==="x"&&(m=`0x${m}`),h==="s"&&(m=`${m}${uU(M)}`),(h==="%"||h==="p")&&(m=`${m}%`),r!=null&&!isNaN(r)&&(m=fU(m,r,n??i,o)),m=`${c}${m}${d}`,m}}var hU=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(?:\.(\d+))?(~)?([%a-z])?$/i,cU=/^((?:[^#]|#[^{])*)#{([^}]+)}(.*)$/,Xi={b:e=>pp(e).toString(2),c:e=>String.fromCharCode(e),d:e=>Math.round(Math.abs(e)).toFixed(0),o:e=>pp(e).toString(8),x:e=>pp(e).toString(16),X:e=>Xi.x(e).toUpperCase(),n:e=>Xi.d(e),"%":e=>`${pp(e*100).toFixed(0)}`},h1={e:(e,t)=>Math.abs(e).toExponential(t),E:(e,t)=>h1.e(e,t).toUpperCase(),f:(e,t)=>Math.abs(e).toFixed(t),F:(e,t)=>h1.f(e,t).toUpperCase(),g:(e,t)=>{if(e===0)return"0";let n=Math.abs(e),o=Math.floor(Math.log10(n));return o>=-4&&o<t?n.toFixed(t-1-o):n.toExponential(t-1)},G:(e,t)=>h1.g(e,t).toUpperCase(),n:(e,t)=>h1.g(e,t),p:(e,t)=>h1.r(e*100,t),r:(e,t)=>{if(e===0)return"0";let n=Math.abs(e),a=Math.floor(Math.log10(n))-(t-1);if(a<=0)return n.toFixed(-a);let s=10**a;return(Math.round(n/s)*s).toFixed()},s:(e,t)=>{let n=tb(e);return h1.r(e/10**n,t)},"%":(e,t)=>h1.f(e*100,t)},Qz=-24,Jz=24,dU={[Qz]:"y",[-21]:"z",[-18]:"a",[-15]:"f",[-12]:"p",[-9]:"n",[-6]:"\xB5",[-3]:"m",0:"",3:"k",6:"M",9:"G",12:"T",15:"P",18:"E",21:"Z",[Jz]:"Y"},pU="\u2212";function pp(e){return Math.floor(Math.abs(e))}function vU(e){return e.replace(/\.0+$/,"").replace(/(\.[1-9])0+$/,"$1")}function gU(e,t){let n=e.indexOf(".");n<0&&(n=e.length);let o=e.substring(0,n).split(""),a=e.substring(n);for(let s=o.length-3;s>0;s-=3)o.splice(s,0,t);return`${o.join("")}${a}`}function uU(e){return dU[tb(e)]}function tb(e){return Ft(Qz,e?Math.floor(Math.log10(Math.abs(e))/3)*3:0,Jz)}function wU(e,t,n=""){if(n==="(")return e>=0?t:`(${t})`;let o=n==="+"?"+":"";return`${e>=0?o:pU}${t}`}function fU(e,t,n=" ",o=">"){let a=e;if(o===">"||!o)a=a.padStart(t,n);else if(o==="<")a=a.padEnd(t,n);else if(o==="^"){let s=Math.max(0,t-a.length),i=Math.ceil(s/2),r=Math.floor(s/2);a=a.padStart(i+a.length,n),a=a.padEnd(r+a.length,n)}return a}var Ve=(e,t,n)=>({duration:t*n,timeInterval:e,step:n}),lh=[Ve(oh,ds,1),Ve(oh,ds,5),Ve(oh,ds,15),Ve(oh,ds,30),Ve(ah,_0,1),Ve(ah,_0,5),Ve(ah,_0,15),Ve(ah,_0,30),Ve(sh,Z0,1),Ve(sh,Z0,3),Ve(sh,Z0,6),Ve(sh,Z0,12),Ve(Ww,p1,1),Ve(Ww,p1,2),Ve(zp,wa,1),Ve(zp,wa,2),Ve(zp,wa,3),Ve($i,Ql,1),Ve($i,Ql,2),Ve($i,Ql,3),Ve($i,Ql,4),Ve($i,Ql,6),Ve(D6,rr,1)],eb=[1,2,5,10];function w3(e,t,n,o,a){if(n<2)return _h(e,t,t-e);let s=lr(e,t,n,o,a);return isNaN(s)?[]:(e=Math.ceil(e/s)*s,t=Math.floor(t/s)*s,_h(e,t,s))}function ok(e,t,n,o,a,s){let i=s??Math.abs(t-e)/Math.max(n,1),r=0;for(let p of lh){if(i<=p.duration)break;r++}if(r===0){let p=Math.max(lr(e,t,n,o,a),1);return ZV.every(p)}else if(r===lh.length){let p=s==null?lr(e/rr,t/rr,n,o,a):1;return D6.every(p)}let l=lh[r-1],h=lh[r],{timeInterval:c,step:d}=i-l.duration<h.duration-i?l:h;return c.every(d)}function lr(e,t,n,o=0,a=1/0){if(e===t)return 1;if(n<1)return NaN;let s=Math.abs(t-e),i=10**Math.floor(Math.log10(s/n)),r=NaN,l=1/0,h=!1;for(let c of eb){let d=Math.ceil(s/(c*i)),p=d>=o&&d<=a;if(h&&!p)continue;let v=Math.abs(d-n);(l>v||h!==p)&&(h||(h=p),l=v,r=c)}return r*i}function ak(e){for(let t=e.length-1;t>=0;t-=1)if(e[t]!=="0")return t+1;return 0}function nb(e,t){let n=Zz(t??",f");(n.precision==null||isNaN(n.precision))&&(!n.type||"eEFgGnprs".includes(n.type)?n.precision=Math.max(...e.map(a=>{if(!Number.isFinite(a))return 0;let[s,i]=a.toExponential((n.type?6:12)-1).split(/\.|e/g);return(s!=="1"&&s!=="-1"?1:0)+ak(i)+1})):"f%".includes(n.type)&&(n.precision=Math.max(...e.map(a=>{if(!Number.isFinite(a)||a===0)return 0;let s=Math.floor(Math.log10(Math.abs(a))),i=n.type?6:12,[r,l]=a.toExponential(i-1).split(/\.|e/g),h=ak(l);return Math.max(0,h-s)}))));let o=Xz(n);return a=>o(Number(a))}function _h(e,t,n){let o=Math.ceil(Math.abs(t-e)/n),a=10**i3(n),s=Math.min(e,t);return qz(o+1,i=>Math.round((s+n*i)*a)/a)}function Ah(e,t){return e>=t?(q.warnOnce("the configured interval results in more than 1 item per pixel, ignoring. Supply a larger interval or omit this configuration"),!0):!1}function MU(e,t){let n=Math.abs(t-e),o=10**Math.floor(Math.log10(n)),a=1/0,s=[e,t];for(let i of eb){let r=i*o,l=Math.floor(e/r)*r,h=Math.ceil(t/r)*r,c=1-n/Math.abs(h-l);a>c&&(a=c,s=[l,h])}return s}var f3=class Bp extends ve{constructor(){super([],[0,1]),this.type="time"}toDomain(t){return new Date(t)}convert(t,n){return super.convert(new Date(t),n)}invert(t){return new Date(super.invert(t))}ticks(){if(!this.domain||this.domain.length<2)return[];this.refresh();let{interval:t,nice:n,tickCount:o,minTickCount:a,maxTickCount:s}=this,[i,r]=v1(this.getDomain().map(mn));return t!=null?Bp.getTicksForInterval({start:i,stop:r,interval:t,availableRange:this.getPixelRange()})??Bp.getDefaultTicks({start:i,stop:r,tickCount:o,minTickCount:a,maxTickCount:s}):n&&o===2?this.niceDomain:n&&o===1?this.niceDomain.slice(0,1):Bp.getDefaultTicks({start:i,stop:r,tickCount:o,minTickCount:a,maxTickCount:s})}static getDefaultTicks({start:t,stop:n,tickCount:o,minTickCount:a,maxTickCount:s}){let i=ok(t,n,o,a,s);return i?i.range(new Date(t),new Date(n)):[]}static getTicksForInterval({start:t,stop:n,interval:o,availableRange:a}){if(!o)return[];if(o instanceof D2){let d=o.range(new Date(t),new Date(n));return Ah(d.length,a)?void 0:d}let s=Math.abs(o);if(Ah((n-t)/s,a))return;let r=[...lh].reverse().find(d=>s%d.duration===0);if(r)return r.timeInterval.every(s/(r.duration/r.step)).range(new Date(t),new Date(n));let l=new Date(t),h=new Date(n),c=[];for(;l<=h;)c.push(l),l=new Date(l),l.setMilliseconds(l.getMilliseconds()+s);return c}tickFormat({ticks:t,domain:n,specifier:o,formatOffset:a}){return o==null?N6(t,n,a):Xh(o)}update(){!this.domain||this.domain.length<2||this.nice&&this.updateNiceDomain()}updateNiceDomain(){let[n,o]=this.domain;for(let a=0;a<4;a++){this.updateNiceDomainIteration(n,o);let[s,i]=this.niceDomain;if(mn(n)===mn(s)&&mn(o)===mn(i))break;n=s,o=i}}updateNiceDomainIteration(t,n){let o=Math.min(mn(t),mn(n)),a=Math.max(mn(t),mn(n)),s=t>n,{interval:i}=this,r;if(i instanceof D2)r=i;else{let l=typeof i=="number"?(a-o)/Math.max(i,1):this.tickCount;r=ok(o,a,l,this.minTickCount,this.maxTickCount)}if(r){let l=r.range(new Date(o),new Date(a),!0),h=s?[...l].reverse():l,c=h[0],d=h.at(-1);this.niceDomain=[c,d]}}};function mU(e,t){return e-t}var t4=class ob extends Is{constructor(){super(...arguments),this.type="ordinal-time",this.tickCount=ve.defaultTickCount,this.minTickCount=0,this.maxTickCount=1/0,this.interval=void 0,this._domain=[],this.timestamps=[],this.sortedTimestamps=[],this.visibleRange=[0,1]}static is(t){return t instanceof ob}setVisibleRange(t){this.visibleRange=t}set domain(t){if(this.invalid=!0,t.length===0){this._domain=[];return}this._domain=t,this.timestamps=u3(t.map(mn)),this.sortedTimestamps=this.timestamps.slice().sort(mU)}get domain(){return this._domain}ticks(){this.refresh();let[t,n]=[this.timestamps[0],this.timestamps.at(-1)],o=Math.min(t,n),a=Math.max(t,n),s=t>n,i;if(this.interval==null)i=this.getDefaultTicks(this.maxTickCount,s);else{let[l,h]=this.range,c=Math.abs(h-l);i=f3.getTicksForInterval({start:o,stop:a,interval:this.interval,availableRange:c})??[]}let r=new Set;return i.filter(l=>{let h=this.convert(l);return isNaN(h)||r.has(h)?!1:(r.add(h),!0)})}getDefaultTicks(t,n){let o=[],a=this.timestamps.length,s=Math.ceil(a*(this.visibleRange[1]-this.visibleRange[0])/t),i=Math.floor(s/2);for(let[r,l]of this.timestamps.entries())s>0&&(r+i)%s||(n?o.push(new Date(this.timestamps[a-r-1])):o.push(new Date(l)));return o}convert(t){this.refresh();let n=Number(t);if(n<this.sortedTimestamps[0])return NaN;let o=this.findInterval(n);return this.timestamps[0]!==this.sortedTimestamps[0]&&(o=this.timestamps.length-o-1),this.ordinalRange[o]??NaN}findInterval(t){let{sortedTimestamps:n}=this,o=0,a=n.length-1;for(;o<=a;){let s=Math.floor((o+a)/2);if(n[s]===t)return s;n[s]<t?o=s+1:a=s-1}return o}tickFormat({ticks:t,domain:n,specifier:o}){return o==null?N6(t,n):Xh(o)}invert(t){this.refresh();let n=this.ordinalRange.findIndex(o=>t<=o);return this.domain[n]}invertNearest(t){return new Date(super.invertNearest(t))}};w([z0],t4.prototype,"tickCount",2);w([z0],t4.prototype,"minTickCount",2);w([z0],t4.prototype,"maxTickCount",2);w([z0],t4.prototype,"interval",2);var U1=t4;function ab(e,t){return typeof e=="number"&&typeof t=="number"?e-t:typeof e=="string"&&typeof t=="string"?e.localeCompare(t):e==null&&t==null?0:e==null?-1:t==null?1:String(e).localeCompare(String(t))}function sk(e){return typeof e=="function"?e():e}function sb(e,t,n){for(let o in e){let a=n(sk(e[o]),sk(t[o]));if(a!==0)return a}return 0}var W6=class Sp extends wr{constructor(t){super({isVirtual:t?.isVirtual}),this.opts=t,this.opacity=1,this.lastBBox=void 0;let{zIndex:n,zIndexSubOrder:o}=t??{};this.isContainerNode=!0,n!==void 0&&(this.zIndex=n),o!==void 0&&(this.zIndexSubOrder=o),this.name=this.opts?.name}static is(t){return t instanceof Sp}onZIndexChange(){super.onZIndexChange(),this.layer&&this._layerManager?.moveLayer(this.layer,this.zIndex,this.zIndexSubOrder)}isLayer(){return this.layer!=null}_setLayerManager(t){if(this._layerManager&&this.layer&&(this._layerManager.removeLayer(this.layer),this.layer=void 0),this.layer)throw new Error("AG Charts - unable to deregister scene rendering layer!");super._setLayerManager(t)}initialiseLayer(){this.layer||!this._layerManager||this.opts?.layer!==!0||(this.layer=this._layerManager.addLayer({name:this.name,zIndex:this.zIndex,zIndexSubOrder:this.zIndexSubOrder,getComputedOpacity:()=>this.getComputedOpacity(),getVisibility:()=>this.getVisibility()}))}getComputedOpacity(){let t=1;for(let n of this.traverseUp())n instanceof Sp&&(t*=n.opacity);return t}getVisibility(){for(let t of this.traverseUp())if(!t.visible)return!1;return!0}onVisibleChange(){this.layer&&(this.layer.enabled=this.visible)}markDirty(t,n=1){if(this.isVirtual){super.markDirty(t,n);return}let o=n;(n<2||this.layer!=null)&&(o=1),super.markDirty(t,n,o)}containsPoint(t,n){return!0}computeBBox(){return this.computeTransformMatrix(),Sp.computeBBox(this.children)}computeTransformedBBox(){return this.computeBBox()}preRender(){let t=super.preRender();return t.groups+=1,t.nonGroups-=1,this.opts?.layer!==!0||this.layer!=null||(t.nonGroups>0&&this.initialiseLayer(),this.opts?.nonEmptyChildDerivedZIndex&&t.nonGroups>0&&this.deriveZIndexFromChildren()),t}deriveZIndexFromChildren(){let t=this.children.filter(o=>o._childNodeCounts.nonGroups>0);this.sortChildren(t);let n=t.at(-1);this.zIndex=n?.zIndex??-1/0,this.zIndexSubOrder=n?.zIndexSubOrder}render(t){let{opts:{name:n=void 0}={},_debug:o}=this,{dirty:a,dirtyZIndex:s,layer:i,children:r,clipRect:l,dirtyTransform:h}=this,{ctx:c,forceRender:d,clipBBox:p}=t,{resized:v,stats:g}=t,u=c.getTransform(),f=a>=2||s||v,M=f,m=!1;for(let b of r)if(M||(M=b.layerManager==null&&b.dirty>=1),m||(m=b.layerManager!=null&&b.dirty>=1),M)break;if(n&&o?.({name:n,group:this,isDirty:f,isChildDirty:M,dirtyTransform:h,renderCtx:t,forceRender:d}),h)d="dirtyTransform";else if(i){let b=this.computeBBox();(this.lastBBox===void 0||!this.lastBBox.equals(b))&&(d="dirtyTransform",this.lastBBox=b)}if(!f&&!M&&!m&&!d){n&&g&&o?.({name:n,result:"skipping",renderCtx:t,counts:this.nodeCount,group:this}),i&&g&&(g.layersSkipped++,g.nodesSkipped+=this.nodeCount.count),this.markClean({recursive:!1});return}let k=this.visible;if(i){if(c=i.context,c.save(),c.setTransform(i.pixelRatio,0,0,i.pixelRatio,0,0),d!=="dirtyTransform"&&(d=M||s),d&&i.clear(),p){let{width:b,height:C,x:E,y:_}=p;o?.(()=>({name:n,clipBBox:p,ctxTransform:c.getTransform(),renderCtx:t,group:this})),c.beginPath(),c.rect(E,_,b,C),c.clip()}c.setTransform(u)}else c.globalAlpha*=this.opacity;if(this.computeTransformMatrix(),this.matrix.toContext(c),l){let{x:b,y:C,width:E,height:_}=l;c.save(),o?.(()=>({name:n,clipRect:l,ctxTransform:c.getTransform(),renderCtx:t,group:this})),c.beginPath(),c.rect(b,C,E,_),c.clip(),p=this.matrix.transformBBox(l)}let B=this.hasVirtualChildren();s?(this.sortChildren(r),d!=="dirtyTransform"&&(d=!0)):B&&this.sortChildren(r);let I=d!==t.forceRender||p!==t.clipBBox||c!==t.ctx?V(S({},t),{ctx:c,forceRender:d,clipBBox:p}):t,y=0;for(let b of r){if(!b.visible||!k){b.markClean(),g&&(y+=b.nodeCount.count);continue}if(!d&&b.dirty===0){g&&(y+=b.nodeCount.count);continue}c.save(),b.render(I),c.restore()}if(g&&(g.nodesSkipped+=y),super.render(t),l&&c.restore(),B)for(let b of this.virtualChildren)b.markClean({recursive:"virtual"});i&&(g&&g.layersRendered++,c.restore(),d&&i.snapshot(),i.context.verifyDepthZero?.()),n&&g&&o?.({name:n,result:"rendered",skipped:y,renderCtx:t,counts:this.nodeCount,group:this})}sortChildren(t){this.dirtyZIndex=!1,t.sort((n,o)=>sb([n.zIndex,...n.zIndexSubOrder??[void 0,void 0],n.serialNumber],[o.zIndex,...o.zIndexSubOrder??[void 0,void 0],o.serialNumber],ab))}static computeBBox(t){let n=1/0,o=-1/0,a=1/0,s=-1/0;for(let i of t){if(!i.visible)continue;let r=i.computeTransformedBBox();if(!r)continue;let{x:l,y:h,width:c,height:d}=r;l<n&&(n=l),h<a&&(a=h),l+c>o&&(o=l+c),h+d>s&&(s=h+d)}return new pt(n,a,o-n,s-a)}setClipRectInGroupCoordinateSpace(t){this.clipRect=t?this.transformBBox(t):void 0}};W6.className="Group";w([dt({redraw:3,convertor:e=>Ft(0,e,1)})],W6.prototype,"opacity",2);var mt=W6,d1=Math.PI*2;function Re(e){return e%=d1,e+=d1,e%=d1,e}function xU(e){return e%=d1,e+=d1,e!==d1&&(e%=d1),e}function Rh(e){return e%=d1,e<-Math.PI?e+=d1:e>=Math.PI&&(e-=d1),e}function ps(e,t,n){let o=Re(e),a=Re(t),s=Re(n);return a<s?a<=o&&o<=s:a>s?a<=o||o<=s:!0}function Q0(e){return e/180*Math.PI}function yU(e){return e/Math.PI*180}function ib(e,t,n){n&&([e,t]=[t,e]);let o=Re(e);return(Re(t)+d1-o)%d1}function M3(e,t){return e=Re(e),t=Re(t),t-e+(e>t?2*Math.PI:0)}function IU(e,t,n,o){let a=e+n*Math.cos(o),s=t+n*Math.sin(o);return{x:a,y:s}}var kU=class{constructor(e=[]){this.stops=e}},zU=class extends kU{constructor(e,t=0){super(e),this.angle=t}createGradient(e,t){let{stops:o,angle:a}=this,s=Re(Q0(a+90)),i=Math.cos(s),r=Math.sin(s),l=t.width,h=t.height,c=t.x+l*.5,d=t.y+h*.5;if(l>0&&h>0){let p=Math.sqrt(h*h+l*l)/2,v=Math.atan2(h,l),g;s<Math.PI/2?g=s:s<Math.PI?g=Math.PI-s:s<1.5*Math.PI?g=s-Math.PI:g=2*Math.PI-s;let u=p*Math.abs(Math.cos(g-v)),f=e.createLinearGradient(c+i*u,d+r*u,c-i*u,d-r*u);for(let M of o)f.addColorStop(M.offset,M.color);return f}return"black"}},bU=/^linear-gradient\((-?[\d.]+)deg,(.*?)\)$/i,kn=class xo extends wr{constructor(){super(...arguments),this.fillOpacity=1,this.strokeOpacity=1,this.fill=xo.defaultStyles.fill,this.stroke=xo.defaultStyles.stroke,this.strokeWidth=xo.defaultStyles.strokeWidth,this.lineDash=xo.defaultStyles.lineDash,this.lineDashOffset=xo.defaultStyles.lineDashOffset,this.lineCap=xo.defaultStyles.lineCap,this.lineJoin=xo.defaultStyles.lineJoin,this.miterLimit=void 0,this.opacity=xo.defaultStyles.opacity,this.fillShadow=xo.defaultStyles.fillShadow}restoreOwnStyles(){let{defaultStyles:t}=this.constructor;Object.assign(this,t)}onFillChange(){let{fill:t}=this,n;if(t?.startsWith("linear-gradient")&&(n=bU.exec(t))){let o=parseFloat(n[1]),a=[],s=n[2],i=/(#[0-9a-f]+)|(rgba?\(.+?\))|([a-z]+)/gi,r;for(;r=i.exec(s);)a.push(r[0]);this.gradient=new zU(a.map((l,h)=>({color:l,offset:h/(a.length-1)})),o)}else this.gradient=void 0}align(t,n){let o=this.layerManager?.canvas?.pixelRatio??1,a=Math.round(t*o)/o;return n==null?a:n===0?0:n<1?Math.ceil(n*o)/o:Math.round((n+t)*o)/o-a}fillStroke(t,n){this.renderFill(t,n),this.renderStroke(t,n)}renderFill(t,n){if(this.fill){let{globalAlpha:o}=t;this.applyFill(t),this.applyFillAlpha(t),this.applyShadow(t),this.executeFill(t,n),t.globalAlpha=o}t.shadowColor="rgba(0, 0, 0, 0)"}executeFill(t,n){n?t.fill(n):t.fill()}applyFill(t){t.fillStyle=this.gradient?.createGradient(t,this.computeBBox())??this.fill}applyFillAlpha(t){t.globalAlpha*=this.opacity*this.fillOpacity}applyShadow(t){let n=this.layerManager?.canvas.pixelRatio??1,o=this.fillShadow;o?.enabled&&(t.shadowColor=o.color,t.shadowOffsetX=o.xOffset*n,t.shadowOffsetY=o.yOffset*n,t.shadowBlur=o.blur*n)}renderStroke(t,n){if(this.stroke&&this.strokeWidth){let{globalAlpha:o}=t;t.strokeStyle=this.stroke,t.globalAlpha*=this.opacity*this.strokeOpacity,t.lineWidth=this.strokeWidth,this.lineDash&&t.setLineDash(this.lineDash),this.lineDashOffset&&(t.lineDashOffset=this.lineDashOffset),this.lineCap&&(t.lineCap=this.lineCap),this.lineJoin&&(t.lineJoin=this.lineJoin),this.miterLimit!=null&&(t.miterLimit=this.miterLimit),this.executeStroke(t,n),t.globalAlpha=o}}executeStroke(t,n){n?t.stroke(n):t.stroke()}containsPoint(t,n){return this.isPointInPath(t,n)}};kn.defaultStyles={fill:"black",stroke:void 0,strokeWidth:0,lineDash:void 0,lineDashOffset:0,lineCap:void 0,lineJoin:void 0,opacity:1,fillShadow:void 0};w([dt({redraw:2})],kn.prototype,"fillOpacity",2);w([dt({redraw:2})],kn.prototype,"strokeOpacity",2);w([dt({redraw:2,changeCb:e=>e.onFillChange()})],kn.prototype,"fill",2);w([dt({redraw:2})],kn.prototype,"stroke",2);w([dt({redraw:2})],kn.prototype,"strokeWidth",2);w([dt({redraw:2})],kn.prototype,"lineDash",2);w([dt({redraw:2})],kn.prototype,"lineDashOffset",2);w([dt({redraw:2})],kn.prototype,"lineCap",2);w([dt({redraw:2})],kn.prototype,"lineJoin",2);w([dt({redraw:2})],kn.prototype,"miterLimit",2);w([dt({redraw:2,convertor:e=>Ft(0,e,1)})],kn.prototype,"opacity",2);w([dt({redraw:2,checkDirtyOnAssignment:!0})],kn.prototype,"fillShadow",2);var M1=kn,jo=class extends M1{constructor(e={}){super(e),this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.startLine=!1,this.endLine=!1,this.isRange=!1,this.restoreOwnStyles()}computeBBox(){return new pt(this.x1,this.y1,this.x2-this.x1,this.y2-this.y1)}isPointInPath(e,t){return!1}render(e){let{ctx:t,forceRender:n,stats:o}=e;if(this.dirty===0&&!n){o&&(o.nodesSkipped+=this.nodeCount.count);return}this.computeTransformMatrix(),this.matrix.toContext(t);let{x1:a,y1:s,x2:i,y2:r}=this;a=this.align(a),s=this.align(s),i=this.align(i),r=this.align(r);let{fill:l,opacity:h,isRange:c}=this;if(!!(c&&l)){let{fillOpacity:M}=this;t.fillStyle=l,t.globalAlpha=h*M,t.beginPath(),t.moveTo(a,s),t.lineTo(i,s),t.lineTo(i,r),t.lineTo(a,r),t.closePath(),t.fill()}let{stroke:p,strokeWidth:v,startLine:g,endLine:u}=this;if(!!((g||u)&&p&&v)){let{strokeOpacity:M,lineDash:m,lineDashOffset:k,lineCap:B,lineJoin:z}=this;t.strokeStyle=p,t.globalAlpha=h*M,t.lineWidth=v,m&&t.setLineDash(m),k&&(t.lineDashOffset=k),B&&(t.lineCap=B),z&&(t.lineJoin=z),t.beginPath(),g&&(t.moveTo(a,s),t.lineTo(i,s)),u&&(t.moveTo(i,r),t.lineTo(a,r)),t.stroke()}this.fillShadow?.markClean(),super.render(e)}};jo.className="Range";jo.defaultStyles=V(S({},M1.defaultStyles),{strokeWidth:1});w([dt({redraw:2})],jo.prototype,"x1",2);w([dt({redraw:2})],jo.prototype,"y1",2);w([dt({redraw:2})],jo.prototype,"x2",2);w([dt({redraw:2})],jo.prototype,"y2",2);w([dt({redraw:2})],jo.prototype,"startLine",2);w([dt({redraw:2})],jo.prototype,"endLine",2);w([dt({redraw:2})],jo.prototype,"isRange",2);var Jl=new WeakMap,th=new WeakMap;function Lh(e,t){let n=JSON.stringify(e,null,0);return Jl.has(t)||Jl.set(t,new Map),Jl.get(t)?.has(n)||Jl.get(t)?.set(n,t(e)),Jl.get(t)?.get(n)}function rb(e){return(t,...n)=>{let o=JSON.stringify(t,null,0);return th.has(e)||th.set(e,new Map),th.get(e)?.has(o)||th.get(e)?.set(o,e(t,...n)),th.get(e)?.get(o)}}function CU(e=0,t=0){return new OffscreenCanvas(e,t).getContext("2d")}var c1=class{constructor(e){this.ctx=e,this.charMap=new Map}static createFontMeasurer(e){let t=CU(),n=new this(t);return this.instanceMap.set(e,n),t.font=e,n}static getFontMeasurer(e){let t=this.instanceMap.get(e.font)??this.createFontMeasurer(e.font);return e.textAlign&&(t.ctx.textAlign=e.textAlign),e.textBaseline&&(t.ctx.textBaseline=e.textBaseline),t}static measureText(e,t){let{ctx:n}=this.getFontMeasurer(t);return this.getMetrics(n,e)}static measureLines(e,t){let{ctx:n}=this.getFontMeasurer(t),o=typeof e=="string"?e.split(this.lineSplitter):e;return this.getMultilineMetrics(n,o)}static wrapText(e,t){return this.wrapLines(e,t).join(`
`)}static wrapLines(e,t){let n=e.split(this.lineSplitter),o=this.getFontMeasurer(t);if(t.textWrap==="never")return n.map(r=>this.truncateLine(r.trimEnd(),o,t.maxWidth));let a=[],s=t.textWrap==="hyphenate",i=t.textWrap==="on-space";for(let r of n){r=r.trimEnd();for(let l=0,h=0,c=0;l<r.length;l++){let d=r.charAt(l);if(h+=o.textWidth(d),d===" "&&(c=l),h>t.maxWidth){if(l===0)break;if(c){let g=this.getWordAt(r,c+1),u=o.textWidth(g);if(u<=t.maxWidth){a.push(r.slice(0,c).trimEnd()),r=r.slice(c).trimStart(),l=-1,h=0,c=0;continue}else i&&u>t.maxWidth&&a.push(r.slice(0,c).trimEnd(),this.truncateLine(r.slice(c).trimStart(),o,t.maxWidth,!0))}else i&&a.push(this.truncateLine(r,o,t.maxWidth,!0));if(i){r="";break}let p=s?"-":"",v=r.slice(0,l).trim();for(;v.length&&o.textWidth(v+p)>t.maxWidth;)v=v.slice(0,-1).trimEnd();if(a.push(v+p),!v.length){r="";break}r=r.slice(v.length).trimStart(),l=-1,h=0,c=0}}r&&a.push(r)}return this.avoidOrphans(a,o,t),this.clipLines(a,o,t)}static getWordAt(e,t){let n=e.indexOf(" ",t);return n===-1?e.slice(t):e.slice(t,n)}static clipLines(e,t,n){if(!n.maxHeight)return e;let{height:o,lineMetrics:a}=this.measureLines(e,n);if(o<=n.maxHeight)return e;for(let s=0,i=0;s<a.length;s++){let{lineHeight:r}=a[s];if(i+=r,i>n.maxHeight){let l=e.slice(0,Math.max(s,1)),h=l.pop();return l.concat(this.truncateLine(h,t,n.maxWidth,!0))}}return e}static avoidOrphans(e,t,n){if(e.length<2)return;let{length:o}=e,a=e[o-1],s=e[o-2];if(s.length<a.length)return;let i=s.lastIndexOf(" ");if(i===-1||i===s.indexOf(" ")||a.includes(" "))return;let r=s.slice(i+1);t.textWidth(a+r)<=n.maxWidth&&(e[o-2]=s.slice(0,i),e[o-1]=r+" "+a)}static truncateLine(e,t,n,o){let a=t.textWidth(this.EllipsisChar),s=0,i=0;for(;i<e.length;i++){let r=t.textWidth(e.charAt(i));if(s+r>n)break;s+=r}if(e.length===i&&(!o||s+a<=n))return o?e+this.EllipsisChar:e;for(e=e.slice(0,i).trimEnd();e.length&&t.textWidth(e)+a>n;)e=e.slice(0,-1).trimEnd();return e+this.EllipsisChar}static getMetrics(e,t){let n=e.measureText(t);return n.fontBoundingBoxAscent??(n.fontBoundingBoxAscent=n.emHeightAscent),n.fontBoundingBoxDescent??(n.fontBoundingBoxDescent=n.emHeightDescent),{width:n.width,height:n.actualBoundingBoxAscent+n.actualBoundingBoxDescent,lineHeight:n.fontBoundingBoxAscent+n.fontBoundingBoxDescent,offsetTop:n.actualBoundingBoxAscent,offsetLeft:n.actualBoundingBoxLeft}}static getMultilineMetrics(e,t){let n=0,o=0,a=0,s=0,i=0,r=this.getVerticalModifier(e.textBaseline),l=t.map((h,c,{length:d})=>{let p=e.measureText(h);return p.fontBoundingBoxAscent??(p.fontBoundingBoxAscent=p.emHeightAscent),p.fontBoundingBoxDescent??(p.fontBoundingBoxDescent=p.emHeightDescent),n<p.width&&(n=p.width),s<p.actualBoundingBoxLeft&&(s=p.actualBoundingBoxLeft),c===0?(o+=p.actualBoundingBoxAscent,a+=p.actualBoundingBoxAscent):i+=p.fontBoundingBoxAscent,c===d-1?o+=p.actualBoundingBoxDescent:i+=p.fontBoundingBoxDescent,{text:h,width:p.width,height:p.actualBoundingBoxAscent+p.actualBoundingBoxDescent,lineHeight:p.fontBoundingBoxAscent+p.fontBoundingBoxDescent,offsetTop:p.actualBoundingBoxAscent,offsetLeft:p.actualBoundingBoxLeft}});return o+=i,a+=i*r,{width:n,height:o,offsetTop:a,offsetLeft:s,lineMetrics:l}}static getVerticalModifier(e){switch(e){case"hanging":case"top":return 0;case"middle":return .5;case"alphabetic":case"bottom":case"ideographic":default:return 1}}textWidth(e,t){if(t){let n=0;for(let o=0;o<e.length;o++)n+=this.textWidth(e.charAt(o));return n}return e.length>1?this.ctx.measureText(e).width:this.charMap.get(e)??this.charWidth(e)}charWidth(e){let{width:t}=this.ctx.measureText(e);return this.charMap.set(e,t),t}};c1.EllipsisChar="\u2026";c1.instanceMap=new Map;c1.lineSplitter=/\r?\n/g;var BU="\u2026";function m3(e){let{redraw:t=3,changeCb:n}=e??{};return dt({redraw:t,type:"font",changeCb:n})}var R0=class f2 extends M1{constructor(){super(...arguments),this.x=0,this.y=0,this.lines=[],this.text=void 0,this._dirtyFont=!0,this.fontSize=10,this.fontFamily="sans-serif",this.textAlign=f2.defaultStyles.textAlign,this.textBaseline=f2.defaultStyles.textBaseline}onTextChange(){this.lines=this.text?.split(`
`).map(t=>t.trim())??[]}get font(){return(this._font==null||this._dirtyFont)&&(this._dirtyFont=!1,this._font=C2(this)),this._font}computeBBox(){let{x:t,y:n,lines:o,textBaseline:a,textAlign:s}=this,{offsetTop:i,offsetLeft:r,width:l,height:h}=c1.measureLines(o,{font:C2(this),textBaseline:a,textAlign:s});return new pt(t-r,n-i,l,h)}getLineHeight(t){return this.lineHeight??c1.measureText(t,this).lineHeight}isPointInPath(t,n){let o=this.transformPoint(t,n),a=this.computeBBox();return a?a.containsPoint(o.x,o.y):!1}render(t){let{ctx:n,forceRender:o,stats:a}=t;if(this.dirty===0&&!o){a&&(a.nodesSkipped+=this.nodeCount.count);return}if(!this.lines.length||!this.layerManager){a&&(a.nodesSkipped+=this.nodeCount.count);return}this.computeTransformMatrix(),this.matrix.toContext(n);let{fill:s,stroke:i,strokeWidth:r}=this,{pixelRatio:l}=this.layerManager.canvas;if(n.font=this.font,n.textAlign=this.textAlign,n.textBaseline=this.textBaseline,s){n.fillStyle=s,n.globalAlpha*=this.opacity*this.fillOpacity;let{fillShadow:h}=this;h?.enabled&&(n.shadowColor=h.color,n.shadowOffsetX=h.xOffset*l,n.shadowOffsetY=h.yOffset*l,n.shadowBlur=h.blur*l),this.renderLines((c,d,p)=>n.fillText(c,d,p))}if(i&&r){n.strokeStyle=i,n.lineWidth=r,n.globalAlpha*=this.opacity*this.strokeOpacity;let{lineDash:h,lineDashOffset:c,lineCap:d,lineJoin:p}=this;h&&n.setLineDash(h),c&&(n.lineDashOffset=c),d&&(n.lineCap=d),p&&(n.lineJoin=p),this.renderLines((v,g,u)=>n.strokeText(v,g,u))}super.render(t)}renderLines(t){let{lines:n,x:o,y:a}=this,s=n.map(l=>this.getLineHeight(l)),i=s.reduce((l,h)=>l+h,0),r=(s[0]-i)*f2.getVerticalModifier(this.textBaseline);for(let l=0;l<n.length;l++)t(n[l],o,a+r),r+=s[l]}static wrapLines(t,n,o,a,s,i){let r=c1.wrapLines(t,{maxWidth:n,maxHeight:o,font:C2(a),textAlign:a.textAlign,textBaseline:a.textBaseline,textWrap:s});if(!(i==="hide"&&r.some(l=>l.endsWith(c1.EllipsisChar))))return r}static wrap(t,n,o,a,s,i="ellipsis"){return f2.wrapLines(t,n,o,a,s,i)?.join(`
`).trim()??""}setFont(t){this.fontFamily=t.fontFamily,this.fontSize=t.fontSize,this.fontStyle=t.fontStyle,this.fontWeight=t.fontWeight}setAlign(t){this.textAlign=t.textAlign,this.textBaseline=t.textBaseline}static getVerticalModifier(t){switch(t){case"top":case"hanging":return 0;case"bottom":case"alphabetic":case"ideographic":return 1;case"middle":return .5}}static measureText(t,n,o,a){return this._measureText({text:t,font:n,textBaseline:o,textAlign:a})}static getTextSize(t,n){return this._getTextSize({text:t,font:n})}static getTextSizeMultiline(t,n,o=f2.defaultStyles.textBaseline,a=f2.defaultStyles.textAlign){let s=c1.measureLines(t,{font:n,textBaseline:o,textAlign:a});return{top:s.offsetTop,left:s.offsetLeft,width:s.width,height:s.height}}};R0.className="Text";R0.defaultLineHeightRatio=1.15;R0.defaultStyles=Object.assign({},M1.defaultStyles,{textAlign:"start",fontStyle:void 0,fontWeight:void 0,fontSize:10,fontFamily:"sans-serif",textBaseline:"alphabetic"});R0.ellipsis=BU;R0._measureText=rb(({text:e,font:t,textBaseline:n,textAlign:o})=>c1.measureText(e,{font:t,textBaseline:n,textAlign:o}));R0._getTextSize=rb(({text:e,font:t})=>c1.measureText(e,{font:t}));w([dt({redraw:3})],R0.prototype,"x",2);w([dt({redraw:3})],R0.prototype,"y",2);w([dt({redraw:3,changeCb:e=>e.onTextChange()})],R0.prototype,"text",2);w([m3()],R0.prototype,"fontStyle",2);w([m3()],R0.prototype,"fontWeight",2);w([m3()],R0.prototype,"fontSize",2);w([m3()],R0.prototype,"fontFamily",2);w([dt({redraw:3})],R0.prototype,"textAlign",2);w([dt({redraw:3})],R0.prototype,"textBaseline",2);w([dt({redraw:3})],R0.prototype,"lineHeight",2);var se=R0;function C2(e){let{fontFamily:t,fontSize:n,fontStyle:o,fontWeight:a}=e;return[o??"",a??"",n+"px",t].join(" ").trim()}var d0=class extends Vt{constructor(){super(...arguments),this.enabled=!0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}getFont(){return C2(this)}};w([x(It)],d0.prototype,"enabled",2);w([x(ne,{optional:!0})],d0.prototype,"color",2);w([x(Ss,{optional:!0})],d0.prototype,"fontStyle",2);w([x(Ds,{optional:!0})],d0.prototype,"fontWeight",2);w([x(Z)],d0.prototype,"fontSize",2);w([x(et)],d0.prototype,"fontFamily",2);w([x(In,{optional:!0})],d0.prototype,"formatter",2);function Up(e){let{parallelFlipRotation:t=0,regularFlipRotation:n=0}=e,o=e.rotation?Re(Q0(e.rotation)):0,a=!o&&t>=0&&t<=Math.PI?-1:1,s=!o&&n>=0&&n<=Math.PI?-1:1,i=0;return e.parallel?i=a*Math.PI/2:s===-1&&(i=Math.PI),{configuredRotation:o,defaultRotation:i,parallelFlipFlag:a,regularFlipFlag:s}}function SU(e,t){return isNaN(e)?t?0:10:e}function DU(e,t,n,o){return e&&!t?n*o===-1?"hanging":"bottom":"middle"}function Iw(e,t,n,o,a){let s=t>0&&t<=Math.PI,i=n>0&&n<=Math.PI,r=s||i?-1:1;if(e)if(t||n){if(o*r===-1)return"end"}else return"center";else if(o*a===-1)return"end";return"start"}function HU(e,t,n,o,a){let{width:s,height:i}=t,r=new pt(n,o,0,0);a.transformBBox(r,t);let{x:l,y:h}=t;return t.width=s,t.height=i,{point:{x:l,y:h},label:{text:e,width:s,height:i}}}var lb=(e=>(e[e.SERIES_BACKGROUND_ZINDEX=0]="SERIES_BACKGROUND_ZINDEX",e[e.AXIS_GRID_ZINDEX=1]="AXIS_GRID_ZINDEX",e[e.AXIS_ZINDEX=2]="AXIS_ZINDEX",e[e.SERIES_CROSSLINE_RANGE_ZINDEX=3]="SERIES_CROSSLINE_RANGE_ZINDEX",e[e.SERIES_LAYER_ZINDEX=4]="SERIES_LAYER_ZINDEX",e[e.SERIES_HIGHLIGHT_ZINDEX=5]="SERIES_HIGHLIGHT_ZINDEX",e[e.AXIS_FOREGROUND_ZINDEX=6]="AXIS_FOREGROUND_ZINDEX",e[e.SERIES_CROSSHAIR_ZINDEX=7]="SERIES_CROSSHAIR_ZINDEX",e[e.SERIES_LABEL_ZINDEX=8]="SERIES_LABEL_ZINDEX",e[e.SERIES_CROSSLINE_LINE_ZINDEX=9]="SERIES_CROSSLINE_LINE_ZINDEX",e[e.SERIES_ANNOTATION_ZINDEX=10]="SERIES_ANNOTATION_ZINDEX",e[e.LEGEND_ZINDEX=11]="LEGEND_ZINDEX",e[e.NAVIGATOR_ZINDEX=12]="NAVIGATOR_ZINDEX",e))(lb||{});function hb(e){return e!=null&&Object.hasOwn(e,"toString")&&u1(e.toString())}function cb(e){return e!=null&&Object.hasOwn(e,"valueOf")&&Xt(e.valueOf())}function x3(e){return Xt(e)||Zh(e)||cb(e)}function t6(e,t){return e!=null&&(!t||x3(e))}function nr(e){return hb(e)&&Object.hasOwn(e,"id")?e.id:e}var $6=e=>e==="value"?we((t,n)=>n.target.type==="line",t=>t.target.type==="range"?"crossLine type 'range' to have a 'range' property instead of 'value'":"crossLine property 'type' to be 'line'"):we((t,n)=>n.target.type==="range",t=>t.target.type==="line"?"crossLine type 'line' to have a 'value' property instead of 'range'":"crossLine property 'type' to be 'range'"),db=(e,t,n,o)=>{let a=e==="line"&&t!==void 0,s=e==="range"&&n!==void 0;if(!a&&!s)return!0;let[i,r]=n??[t,void 0],l=ve.is(o)||U1.is(o),h=t6(i,l)&&!isNaN(o.convert(i)),c=t6(r,l)&&!isNaN(o.convert(r));if(a&&h||s&&h&&c)return!0;let d=["Expecting crossLine"];return s?(h||d.push(`range start ${Mh(i)}`),c||d.push(`${h?"":"and "}range end ${Mh(r)}`)):d.push(`value ${Mh(i)}`),d.push("to match the axis scale domain."),q.warnOnce(d.join(" ")),!1},EU={top:{xTranslationDirection:0,yTranslationDirection:-1},bottom:{xTranslationDirection:0,yTranslationDirection:1},left:{xTranslationDirection:-1,yTranslationDirection:0},right:{xTranslationDirection:1,yTranslationDirection:0},topLeft:{xTranslationDirection:1,yTranslationDirection:-1},topRight:{xTranslationDirection:-1,yTranslationDirection:-1},bottomLeft:{xTranslationDirection:1,yTranslationDirection:1},bottomRight:{xTranslationDirection:-1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},insideLeft:{xTranslationDirection:1,yTranslationDirection:0},insideRight:{xTranslationDirection:-1,yTranslationDirection:0},insideTop:{xTranslationDirection:0,yTranslationDirection:1},insideBottom:{xTranslationDirection:0,yTranslationDirection:-1},insideTopLeft:{xTranslationDirection:1,yTranslationDirection:1},insideBottomLeft:{xTranslationDirection:1,yTranslationDirection:-1},insideTopRight:{xTranslationDirection:-1,yTranslationDirection:1},insideBottomRight:{xTranslationDirection:-1,yTranslationDirection:-1}},TU={top:{xTranslationDirection:1,yTranslationDirection:0},bottom:{xTranslationDirection:-1,yTranslationDirection:0},left:{xTranslationDirection:0,yTranslationDirection:-1},right:{xTranslationDirection:0,yTranslationDirection:1},topLeft:{xTranslationDirection:-1,yTranslationDirection:-1},topRight:{xTranslationDirection:-1,yTranslationDirection:1},bottomLeft:{xTranslationDirection:1,yTranslationDirection:-1},bottomRight:{xTranslationDirection:1,yTranslationDirection:1},inside:{xTranslationDirection:0,yTranslationDirection:0},insideLeft:{xTranslationDirection:0,yTranslationDirection:1},insideRight:{xTranslationDirection:0,yTranslationDirection:-1},insideTop:{xTranslationDirection:-1,yTranslationDirection:0},insideBottom:{xTranslationDirection:1,yTranslationDirection:0},insideTopLeft:{xTranslationDirection:-1,yTranslationDirection:1},insideBottomLeft:{xTranslationDirection:1,yTranslationDirection:1},insideTopRight:{xTranslationDirection:-1,yTranslationDirection:-1},insideBottomRight:{xTranslationDirection:1,yTranslationDirection:-1}};function e6({yDirection:e,padding:t=0,position:n="top",bbox:o}){let a=e?EU:TU,{xTranslationDirection:s,yTranslationDirection:i}=a[n],r=e?o.width:o.height,l=e?o.height:o.width,h=s*(t+r/2),c=i*(t+l/2);return{xTranslation:h,yTranslation:c}}function pb({yDirection:e,bbox:t,padding:n=0,position:o="top"}){let a={};return o.startsWith("inside")||(o==="top"&&!e?a.top=n+t.height:o==="bottom"&&!e?a.bottom=n+t.height:o==="left"&&e?a.left=n+t.width:o==="right"&&e&&(a.right=n+t.width)),a}var Gp=({yDirection:e,xEnd:t,yStart:n,yEnd:o})=>e?{x:t/2,y:n}:{x:t,y:isNaN(o)?n:(n+o)/2},ik=({yDirection:e,xStart:t,xEnd:n,yStart:o,yEnd:a})=>e?{x:t,y:isNaN(a)?o:(o+a)/2}:{x:n/2,y:o},rk=({yDirection:e,xEnd:t,yStart:n,yEnd:o})=>e?{x:t,y:isNaN(o)?n:(n+o)/2}:{x:t/2,y:isNaN(o)?n:o},lk=({yDirection:e,xStart:t,xEnd:n,yStart:o,yEnd:a})=>e?{x:n/2,y:isNaN(a)?o:a}:{x:t,y:isNaN(a)?o:(o+a)/2},_U=({xEnd:e,yStart:t,yEnd:n})=>({x:e/2,y:isNaN(n)?t:(t+n)/2}),hk=({yDirection:e,xStart:t,xEnd:n,yStart:o})=>e?{x:t/2,y:o}:{x:n,y:o},ck=({yDirection:e,xStart:t,yStart:n,yEnd:o})=>e?{x:t,y:isNaN(o)?n:o}:{x:t,y:n},dk=({yDirection:e,xEnd:t,yStart:n,yEnd:o})=>e?{x:t,y:n}:{x:t,y:isNaN(o)?n:o},pk=({yDirection:e,xStart:t,xEnd:n,yStart:o,yEnd:a})=>e?{x:n,y:isNaN(a)?o:a}:{x:t,y:isNaN(a)?o:a},vb={top:{c:Gp},bottom:{c:lk},left:{c:ik},right:{c:rk},topLeft:{c:hk},topRight:{c:dk},bottomLeft:{c:ck},bottomRight:{c:pk},inside:{c:_U},insideLeft:{c:ik},insideRight:{c:rk},insideTop:{c:Gp},insideBottom:{c:lk},insideTopLeft:{c:hk},insideBottomLeft:{c:ck},insideTopRight:{c:dk},insideBottomRight:{c:pk}},AU=be(["top","left","right","bottom","topLeft","topRight","bottomLeft","bottomRight","inside","insideLeft","insideRight","insideTop","insideBottom","insideTopLeft","insideBottomLeft","insideTopRight","insideBottomRight"],"crossLine label position"),y1=class{constructor(){this.enabled=void 0,this.text=void 0,this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=14,this.fontFamily="Verdana, sans-serif",this.padding=5,this.color="rgba(87, 87, 87, 1)",this.position=void 0,this.rotation=void 0,this.parallel=void 0}};w([x(It,{optional:!0})],y1.prototype,"enabled",2);w([x(et,{optional:!0})],y1.prototype,"text",2);w([x(Ss,{optional:!0})],y1.prototype,"fontStyle",2);w([x(Ds,{optional:!0})],y1.prototype,"fontWeight",2);w([x(Z)],y1.prototype,"fontSize",2);w([x(et)],y1.prototype,"fontFamily",2);w([x(xe)],y1.prototype,"padding",2);w([x(ne,{optional:!0})],y1.prototype,"color",2);w([x(AU,{optional:!0})],y1.prototype,"position",2);w([x(Bs,{optional:!0})],y1.prototype,"rotation",2);w([x(It,{optional:!0})],y1.prototype,"parallel",2);var J0=class hh{constructor(){this.id=No(this),this.enabled=void 0,this.type=void 0,this.range=void 0,this.value=void 0,this.fill=void 0,this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=void 0,this.strokeOpacity=void 0,this.lineDash=void 0,this.label=new y1,this.scale=void 0,this.clippedRange=[-1/0,1/0],this.gridLength=0,this.sideFlag=-1,this.parallelFlipRotation=0,this.regularFlipRotation=0,this.direction="x",this.group=new mt({name:`${this.id}`,layer:!0,zIndex:hh.LINE_LAYER_ZINDEX}),this.labelGroup=new mt({name:`${this.id}`,layer:!0,zIndex:hh.LABEL_LAYER_ZINDEX}),this.crossLineRange=new jo,this.crossLineLabel=new se,this.labelPoint=void 0,this.data=[],this.startLine=!1,this.endLine=!1,this.isRange=!1;let{group:t,labelGroup:n,crossLineRange:o,crossLineLabel:a}=this;t.append(o),n.append(a),o.pointerEvents=1}update(t){let{enabled:n,data:o,type:a,value:s,range:i,scale:r}=this;if(!a||!r||!n||!t||!db(a,s,i,r)||o.length===0){this.group.visible=!1,this.labelGroup.visible=!1;return}this.group.visible=t,this.labelGroup.visible=t,this.group.zIndex=this.getZIndex(this.isRange),this.updateNodes()}calculateLayout(t,n){if(!t||!this.createNodeData(n))return;let{sideFlag:a,gridLength:s,data:i}=this,r=[],l=0,h=a*s,c=i[0],d=i[1],p=new pt(Math.min(l,h),Math.min(c,d),Math.abs(l-h),Math.abs(c-d));r.push(p);let v=this.computeLabelBBox();return v&&r.push(v),pt.merge(r)}updateNodes(){this.updateRangeNode(),this.label.enabled&&(this.updateLabel(),this.positionLabel())}createNodeData(t){let{scale:n,gridLength:o,sideFlag:a,direction:s,label:{position:i="top"},clippedRange:r,strokeWidth:l=0}=this;if(this.data=[],!n)return!1;let h=n.bandwidth??0,c=n.step??0,d=(t?-1:1)*(n instanceof Is?(c-h)/2:0),[p,v]=[0,a*o],[g,u]=this.getRange(),f=u===void 0&&U1.is(n)?h/2+d:0,[M,m]=[Number(n.convert(g,{clampMode:"clamped"}))-d+f,n.convert(u,{clampMode:"clamped"})+h+d];M=Np(M,r),m=Np(m,r),[g,u]=[Number(n.convert(g))+f,n.convert(u)+h];let k=(g===M||u===m||M!==m)&&Math.abs(m-M)>0;if(k&&M>m&&([M,m]=[m,M],[g,u]=[u,g]),g-d>=M&&(g-=d),u+d<=m&&(u+=d),this.isRange=k,this.startLine=l>0&&g>=M&&g<=M+d,this.endLine=l>0&&u>=m-h-d&&u<=m,!k&&!this.startLine&&!this.endLine)return!1;if(this.data=[M,m],this.label.enabled){let B=s==="y",{c:z=Gp}=vb[i]??{},{x:I,y}=z({yDirection:B,xStart:p,xEnd:v,yStart:M,yEnd:m});this.labelPoint={x:I,y}}return!0}updateRangeNode(){let{crossLineRange:t,sideFlag:n,gridLength:o,data:a,startLine:s,endLine:i,isRange:r,fill:l,fillOpacity:h,stroke:c,strokeWidth:d,lineDash:p}=this;t.x1=0,t.x2=n*o,t.y1=a[0],t.y2=a[1],t.startLine=s,t.endLine=i,t.isRange=r,t.fill=l,t.fillOpacity=h??1,t.stroke=c,t.strokeWidth=d??1,t.strokeOpacity=this.strokeOpacity??1,t.lineDash=p}updateLabel(){let{crossLineLabel:t,label:n}=this;n.text&&(t.fontStyle=n.fontStyle,t.fontWeight=n.fontWeight,t.fontSize=n.fontSize,t.fontFamily=n.fontFamily,t.fill=n.color,t.text=n.text)}positionLabel(){let{crossLineLabel:t,labelPoint:{x:n=void 0,y:o=void 0}={},label:{parallel:a,rotation:s,position:i="top",padding:r=0},direction:l,parallelFlipRotation:h,regularFlipRotation:c}=this;if(n===void 0||o===void 0)return;let{defaultRotation:d,configuredRotation:p}=Up({rotation:s,parallel:a,regularFlipRotation:c,parallelFlipRotation:h});t.rotation=d+p,t.textBaseline="middle",t.textAlign="center";let v=t.computeTransformedBBox();if(!v)return;let g=l==="y",{xTranslation:u,yTranslation:f}=e6({yDirection:g,padding:r,position:i,bbox:v});t.translationX=n+u,t.translationY=o+f}getZIndex(t=!1){return t?hh.RANGE_LAYER_ZINDEX:hh.LINE_LAYER_ZINDEX}getRange(){let{value:t,range:n,scale:o}=this,a=ve.is(o)||U1.is(o),s=n?.[0]??t,i=n?.[1];return!a&&i===void 0&&(i=s),a&&s===i&&(i=void 0),[s,i]}computeLabelBBox(){let{label:t}=this;if(!t.enabled)return;let n=new se;n.fontFamily=t.fontFamily,n.fontSize=t.fontSize,n.fontStyle=t.fontStyle,n.fontWeight=t.fontWeight,n.text=t.text;let{labelPoint:{x:o=void 0,y:a=void 0}={},label:{parallel:s,rotation:i,position:r="top",padding:l=0},direction:h,parallelFlipRotation:c,regularFlipRotation:d}=this;if(o===void 0||a===void 0)return;let{configuredRotation:p}=Up({rotation:i,parallel:s,regularFlipRotation:d,parallelFlipRotation:c});n.rotation=p,n.textBaseline="middle",n.textAlign="center";let v=n.computeTransformedBBox();if(!v)return;let g=h==="y",{xTranslation:u,yTranslation:f}=e6({yDirection:g,padding:l,position:r,bbox:v});return n.translationX=o+u,n.translationY=a+f,n.computeTransformedBBox()}calculatePadding(t){let{isRange:n,startLine:o,endLine:a,direction:s,label:{padding:i=0,position:r="top"}}=this;if(!n&&!o&&!a)return;let l=this.computeLabelBBox();if(l?.x==null||l?.y==null)return;let h=pb({yDirection:s==="y",padding:i,position:r,bbox:l});t.left=Math.max(t.left??0,h.left??0),t.right=Math.max(t.right??0,h.right??0),t.top=Math.max(t.top??0,h.top??0),t.bottom=Math.max(t.bottom??0,h.bottom??0)}};J0.LINE_LAYER_ZINDEX=9;J0.RANGE_LAYER_ZINDEX=3;J0.LABEL_LAYER_ZINDEX=8;J0.className="CrossLine";w([x(It,{optional:!0})],J0.prototype,"enabled",2);w([x(be(["range","line"],"a crossLine type"),{optional:!0})],J0.prototype,"type",2);w([x(m1($6("range"),Mr.restrict({length:2})),{optional:!0})],J0.prototype,"range",2);w([x($6("value"),{optional:!0})],J0.prototype,"value",2);w([x(ne,{optional:!0})],J0.prototype,"fill",2);w([x(ie,{optional:!0})],J0.prototype,"fillOpacity",2);w([x(ne,{optional:!0})],J0.prototype,"stroke",2);w([x(xe,{optional:!0})],J0.prototype,"strokeWidth",2);w([x(ie,{optional:!0})],J0.prototype,"strokeOpacity",2);w([x(za,{optional:!0})],J0.prototype,"lineDash",2);var n6=J0,q6=class{constructor(){this.moduleMap=new Map}*modules(){let e=["toolbar","navigator"];for(let t of this.moduleMap.values())e.includes(t.module.optionsKey)||(yield t.moduleInstance);for(let t of e){let n=this.moduleMap.get(t);n&&(yield n.moduleInstance)}}addModule(e,t){if(this.moduleMap.has(e.optionsKey))throw new Error(`AG Charts - module already initialised: ${e.optionsKey}`);this.moduleMap.set(e.optionsKey,{module:e,moduleInstance:t(e)})}removeModule(e){let t=u1(e)?e:e.optionsKey;this.moduleMap.get(t)?.moduleInstance.destroy(),this.moduleMap.delete(t)}getModule(e){return this.moduleMap.get(u1(e)?e:e.optionsKey)?.moduleInstance}isEnabled(e){return this.moduleMap.has(u1(e)?e:e.optionsKey)}mapModules(e){return Array.from(this.moduleMap.values(),(t,n)=>e(t.moduleInstance,n))}destroy(){for(let e of this.moduleMap.keys())this.moduleMap.get(e)?.moduleInstance.destroy();this.moduleMap.clear()}},gb={};Oo(gb,{resetMotion:()=>o0});function o0(e,t){let{nodes:n,selections:o}=h3(e);for(let a of o){for(let s of a.nodes()){let i=t(s,s.datum);s.setProperties(i)}a.cleanup()}for(let a of n){let s=t(a,a.datum);a.setProperties(s)}}var ub=class o6 extends ve{constructor(){super([1,10],[0,1]),this.type="log",this.base=10,this.baseLog=XI,this.basePow=XI,this.log=t=>Math.min(...this.domain)>=0?this.baseLog(t):-this.baseLog(-t),this.pow=t=>Math.min(...this.domain)>=0?this.basePow(t):-this.basePow(-t),this.defaultClampMode="clamped"}toDomain(t){return t}transform(t){return Math.min(...this.domain)>=0?Math.log(t):-Math.log(-t)}transformInvert(t){return Math.min(...this.domain)>=0?Math.exp(t):-Math.exp(-t)}refresh(){this.base<=0&&(this.base=0,q.warnOnce("expecting a finite Number greater than to 0")),super.refresh()}update(){!this.domain||this.domain.length<2||(this.baseLog=o6.getBaseLogMethod(this.base),this.basePow=o6.getBasePowerMethod(this.base),this.nice&&this.updateNiceDomain())}updateNiceDomain(){let[t,n]=this.domain,o=t>n?Math.ceil:Math.floor,a=t>n?Math.floor:Math.ceil,s=this.pow(o(this.log(t))),i=this.pow(a(this.log(n)));this.niceDomain=[s,i]}ticks(){let t=this.tickCount??10;if(!this.domain||this.domain.length<2||t<1)return[];this.refresh();let n=this.base,[o,a]=this.getDomain(),s=Math.min(o,a),i=Math.max(o,a),r=this.log(s),l=this.log(i);if(this.interval){let u=m=>m>=s&&m<=i,f=Math.min(Math.abs(this.interval),Math.abs(l-r)),M=_h(r,l,f).map(this.pow).filter(u);if(!Ah(M.length,this.getPixelRange()))return M}let h=n%1===0,c=l-r>=t;if(!h||c)return w3(r,l,Math.min(l-r,t)).map(this.pow);let d=[],p=s>0;r=Math.floor(r)-1,l=Math.round(l)+1;let v=Sh(this.range)/t,g=1/0;for(let u=r;u<=l;u++){let f=this.convert(this.pow(u+1));for(let M=1;M<n;M++){let m=p?M:n-M+1,k=this.pow(u)*m,B=this.convert(k),z=Math.abs(g-B),I=Math.abs(B-f),y=z>=v&&I>=v;k>=s&&k<=i&&(M===1||y||d.length===0)&&(d.push(k),g=B)}}return d}tickFormat({count:t,ticks:n,specifier:o}){return t!==1/0&&n==null&&this.ticks(),o??(o=this.base===10?".0e":","),u1(o)?Xz(o):o}static getBaseLogMethod(t){switch(t){case 10:return Math.log10;case Math.E:return Math.log;case 2:return Math.log2;default:let n=Math.log(t);return o=>Math.log(o)/n}}static getBasePowerMethod(t){switch(t){case 10:return n=>n>=0?10**n:1/10**-n;case Math.E:return Math.exp;default:return n=>t**n}}};w([z0],ub.prototype,"base",2);var Y6=ub,Ao={};typeof window<"u"?Ao.window=window:typeof global<"u"&&(Ao.window=global.window);typeof document<"u"?Ao.document=document:typeof global<"u"&&(Ao.document=global.document);function ma(e){return e?Ao.document?.[e]:Ao.document}function Ro(e){return e?Ao.window?.[e]:Ao.window}function T0(e,t,n){let o=ma().createElement(e);return typeof t=="object"&&(n=t,t=void 0),t&&o.classList.add(t),n&&Object.assign(o.style,n),o}function wb(e,t){let{body:n}=ma(),o=T0("a",{display:"none"});o.href=e,o.download=t,n.appendChild(o),o.click(),setTimeout(()=>n.removeChild(o))}function fb(e){Ao.document=e}function Mb(e){Ao.window=e}function ga(e,t){e&&(e.style.width=`${t.width}px`,e.style.height=`${t.height}px`,e.style.left=`${t.x}px`,e.style.top=`${t.y}px`)}var RU=2e3,vk=Date.now(),LU=()=>{let e=Date.now()-vk;if(e>RU){let t=(Math.floor(e/100)/10).toFixed(1);q.log(`**** ${t}s since last log message ****`)}vk=Date.now()},me={create(...e){return Object.assign((...n)=>{me.check(...e)&&(typeof n[0]=="function"&&(n=Qw(n[0]())),LU(),q.log(...n))},{check:()=>me.check(...e)})},check(...e){return e.length===0&&e.push(!0),Qw(Ro("agChartsDebug")).some(n=>e.includes(n))}},qe=class M2{constructor(t,n,o=!0){this.parentNode=t,this.autoCleanup=o,this.garbageBin=new Set,this._nodesMap=new Map,this._nodes=[],this.data=[],this.debug=me.create(!0,"scene","scene:selections"),this.nodeFactory=Object.prototype.isPrototypeOf.call(wr,n)?()=>new n:n}static select(t,n,o=!0){return new M2(t,n,o)}static selectAll(t,n){let o=[],a=s=>{n(s)&&o.push(s),s.children.forEach(a)};return a(t),o}static selectByClass(t,n,...o){return M2.selectAll(t,a=>a instanceof n||o.some(s=>a instanceof s))}static selectByTag(t,n){return M2.selectAll(t,o=>o.tag===n)}createNode(t,n,o){let a=this.nodeFactory(t);return a.datum=t,n?.(a),o==null?this._nodes.push(a):this._nodes.splice(o,0,a),this.parentNode.appendChild(a),a}update(t,n,o){if(this.garbageBin.size>0&&this.debug(`Selection - update() called with pending garbage: ${t}`),o){let a=new Map(t.map((s,i)=>[o(s),[s,i]]));for(let[s,i]of this._nodesMap.entries())if(a.has(i)){let[r]=a.get(i);s.datum=r,this.garbageBin.delete(s),a.delete(i)}else this.garbageBin.add(s);for(let[s,[i,r]]of a.entries())this._nodesMap.set(this.createNode(i,n,r),s)}else{let a=Math.max(t.length,this.data.length);for(let s=0;s<a;s++)s>=t.length?this.garbageBin.add(this._nodes[s]):s>=this._nodes.length?this.createNode(t[s],n):(this._nodes[s].datum=t[s],this.garbageBin.delete(this._nodes[s]))}return this.data=t.slice(),this.autoCleanup&&this.cleanup(),this}cleanup(){return this.garbageBin.size===0?this:(this._nodes=this._nodes.filter(t=>this.garbageBin.has(t)?(this._nodesMap.delete(t),this.garbageBin.delete(t),t.destroy(),!1):!0),this)}clear(){return this.update([]),this}isGarbage(t){return this.garbageBin.has(t)}hasGarbage(){return this.garbageBin.size>0}each(t){for(let n of this._nodes.entries())t(n[1],n[1].datum,n[0]);return this}*[Symbol.iterator](){for(let t=0;t<this._nodes.length;t++){let n=this._nodes[t],o=this._nodes[t].datum;yield{node:n,datum:o,index:t}}}select(t){return M2.selectAll(this.parentNode,t)}selectByClass(t){return M2.selectByClass(this.parentNode,t)}selectByTag(t){return M2.selectByTag(this.parentNode,t)}nodes(){return this._nodes}};function mh(e,t,n,o){let a=e-n,s=t-o;return a*a+s*s}function Dp(e,t,n,o,a,s,i){if(n===a&&o===s)return Math.min(i,mh(e,t,n,o));let r=a-n,l=s-o,h=Math.max(0,Math.min(1,((e-n)*r+(t-o)*l)/(r*r+l*l))),c=n+h*r,d=o+h*l;return Math.min(i,mh(e,t,c,d))}function OU(e,t,n,o,a,s,i,r,l){r&&([i,s]=[s,i]);let h=Math.atan2(t-o,e-n);if(!ps(h,s,i)){let d=n+Math.cos(s)*a,p=o+Math.sin(s)*a,v=n+Math.cos(s)*a,g=o+Math.sin(s)*a;return Math.min(l,mh(e,t,d,p),mh(e,t,v,g))}let c=a-Math.sqrt(mh(e,t,n,o));return Math.min(l,c*c)}var k0=class extends M1{constructor(e={}){super(e),this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.restoreOwnStyles()}set x(e){this.x1=e,this.x2=e}set y(e){this.y1=e,this.y2=e}computeBBox(){return new pt(Math.min(this.x1,this.x2),Math.min(this.y1,this.y2),Math.abs(this.x2-this.x1),Math.abs(this.y2-this.y1))}isPointInPath(e,t){if(this.x1===this.x2||this.y1===this.y2){let{x:n,y:o}=this.transformPoint(e,t);return this.computeBBox().grow(this.strokeWidth/2).containsPoint(n,o)}return!1}distanceSquared(e,t){let{x1:n,y1:o,x2:a,y2:s}=this;return Dp(e,t,n,o,a,s,1/0)}render(e){let{ctx:t,forceRender:n,stats:o,devicePixelRatio:a}=e;if(this.dirty===0&&!n){o&&(o.nodesSkipped+=this.nodeCount.count);return}this.computeTransformMatrix(),this.matrix.toContext(t);let{x1:s,y1:i,x2:r,y2:l}=this;if(s===r){let{strokeWidth:h}=this,c=Math.round(s*a)/a+Math.trunc(h*a)%2/(a*2);s=c,r=c}else if(i===l){let{strokeWidth:h}=this,c=Math.round(i*a)/a+Math.trunc(h*a)%2/(a*2);i=c,l=c}t.beginPath(),t.moveTo(s,i),t.lineTo(r,l),this.fillStroke(t),this.fillShadow?.markClean(),super.render(e)}};k0.className="Line";k0.defaultStyles=Object.assign({},M1.defaultStyles,{fill:void 0,strokeWidth:1});w([dt({redraw:3})],k0.prototype,"x1",2);w([dt({redraw:3})],k0.prototype,"y1",2);w([dt({redraw:3})],k0.prototype,"x2",2);w([dt({redraw:3})],k0.prototype,"y2",2);function NU(e,t,n,o,a,s){if(e.size===0)return!1;let i=e.x,r=e.y;t!=null&&(i-=(t.x-.5)*e.size,r-=(t.y-.5)*e.size);let l=i;i<n?l=n:i>n+a&&(l=n+a);let h=r;r<o?h=o:r>o+s&&(h=o+s);let c=i-l,d=r-h;return Math.sqrt(c*c+d*d)<=e.size*.5}function mb(e,t,n,o,a){let s=e.x+e.width>t&&e.x<t+o,i=e.y+e.height>n&&e.y<n+a;return s&&i}function PU(e,t,n,o,a){return t+o<e.x+e.width&&t>e.x&&n>e.y&&n+a<e.y+e.height}function FU(e){return e!=null&&typeof e.point=="object"&&typeof e.label=="object"}var VU={top:{x:0,y:-1},bottom:{x:0,y:1},left:{x:-1,y:0},right:{x:1,y:0}};function jU(e,t,n=5){let o=[];e=e.map(a=>a.slice().sort((s,i)=>i.point.size-s.point.size));for(let a=0;a<e.length;a++){let s=o[a]=[],i=e[a];if(i?.length&&i[0].label)for(let r=0,l=i.length;r<l;r++){let h=i[r],{point:c,label:d,marker:p}=h,{text:v,width:g,height:u}=d,f=c.size*.5,M=0,m=0;if(f>0&&h.placement!=null){let b=VU[h.placement];M=(g*.5+f+n)*b.x,m=(u*.5+f+n)*b.y}let k=c.x-g*.5+M-((p?.center.x??.5)-.5)*c.size,B=c.y-u*.5+m-((p?.center.y??.5)-.5)*c.size;!(!t||PU(t,k,B,g,u))||e.some(b=>b.some(C=>NU(C.point,C.marker?.center,k,B,g,u)))||o.some(b=>b.some(C=>mb(C,k,B,g,u)))||s.push({index:r,text:v,x:k,y:B,width:g,height:u,datum:h})}}return o}function UU(e,t){let n=[];for(let o=0;o<e.length;o++){let a=e[o],{point:{x:s,y:i},label:{text:r}}=a,{label:{width:l,height:h}}=a;if(l+=t??0,h+=t??0,n.some(d=>mb(d,s,i,l,h)))return!0;n.push({index:o,text:r,x:s,y:i,width:l,height:h,datum:a})}return!1}function xb(e,t){return e.length===t.length&&e.every((n,o)=>{let a=t[o];return Array.isArray(n)&&Array.isArray(a)?xb(n,a):n===a})}function yb(e,t){return e.length===t.length&&e.every((n,o)=>Number(n)===Number(t[o]))}function p0(e,t){let n=Ze(e)?e:e.split(".");if(n.length===1){let[o]=n;return ya((a,s,i)=>a[o]=i,a=>a[o],t)}return ya((o,a,s)=>R6(o,n,s),o=>A6(o,n),t)}function GU(e){return ya((t,n,o)=>t[e]=o)}function U0(e,t){return ya((n,o,a)=>n[e][t??o]=a)}function tn(e){let{newValue:t,oldValue:n,changeValue:o}=e;return ya((a,s,i,r)=>(i!==r&&(r!==void 0&&n?.call(a,r),i!==void 0&&t?.call(a,i),o?.call(a,i,r)),i))}function en(e){return Hj(e)}var kw="color: green",e4=class Hp{constructor(t,n,o){this.defaultState=t,this.states=n,this.enterEach=o,this.debug=me.create(!0,"animation"),this.state=t,this.debug(`%c${this.constructor.name} | init -> ${t}`,kw)}is(t){return this.state==="__child"&&this.childState?this.childState.is(t):this.state===t}transition(t,n){if(!this.transitionChild(t,n)||this.state==="__child"||this.state==="__parent")return;let a=this.states[this.state],s=a?.[t];if(!s){this.debug(`%c${this.constructor.name} | ${this.state} -> ${t} -> ${this.state}`,"color: grey");return}let i=this.getDestinationState(s),r=i===this.state?void 0:a.onExit;this.debug(`%c${this.constructor.name} | ${this.state} -> ${t} -> ${i}`,kw),this.enterEach?.(this.state,i),i!=="__child"&&i!=="__parent"&&this.states[i].onEnter?.(),this.state=i,typeof s=="function"?s(n):typeof s=="object"&&!(s instanceof Hp)&&s.action?.(n),r?.()}resetHierarchy(){this.debug(`%c${this.constructor.name} | ${this.state} -> [resetHierarchy] -> ${this.defaultState}`,"color: green"),this.state=this.defaultState}transitionChild(t,n){return this.state!=="__child"||!this.childState||(this.childState.transition(t,n),!this.childState.is("__parent"))?!0:(this.debug(`%c${this.constructor.name} | ${this.state} -> ${t} -> ${this.defaultState}`,kw),this.state=this.defaultState,this.states[this.state].onEnter?.(),this.childState.resetHierarchy(),!1)}getDestinationState(t){let n=this.state;return typeof t=="string"?n=t:t instanceof Hp?(this.childState=t,n="__child"):typeof t=="object"&&(t.target instanceof Hp?(this.childState=t.target,n="__child"):n=t.target),n}};function H2(e,t,n){n===void 0||n===""?e?.removeAttribute(t):e?.setAttribute(t,n.toString())}function Ib(e,t,n,o,a){let{top:s,right:i,bottom:r,left:l,width:h,height:c}=a;return l!=null?h!=null?i=n-l+h:i!=null&&(h=n-l-i):i!=null&&h!=null&&(l=n-i-h),s!=null?c!=null?r=o-s-c:r!=null&&(c=o-r-s):r!=null&&c!=null&&(s=o-r-c),h==null?c==null?(h=e,c=t):h=Math.ceil(e*c/t):c==null&&(c=Math.ceil(t*h/e)),l==null&&(i==null?l=Math.floor((n-h)/2):l=n-i-h),s==null&&(r==null?s=Math.floor((o-c)/2):s=o-c-r),{x:l,y:s,width:h,height:c}}var So="ag-chart-tooltip",kb="ag-chart-dark-tooltip",ba={html:"",ariaLabel:""};function WU(e){let t=(n,o,a)=>o===0||a[o-1]!=="."?". ":" ";return e.replace(/<br\s*\/?>/g,t).replace(/<\/p\s+>/g,t).replace(/<\/li\s*>/g,t).replace(/<[^<>]+>/g,"").replace(/\n+/g," ").replace(/\s+/g," ")}function hr(e,t){if(typeof e=="string")return{html:e,ariaLabel:e};let{content:n=t?.content??"",title:o=t?.title,color:a=t?.color??"white",backgroundColor:s=t?.backgroundColor??"#888"}=e,i=o?`<div class="${So}-title"
        style="color: ${a}; background-color: ${s}">${o}</div>`:"",r=o?`${o}: `:"",l=n?`<div class="${So}-content">${n}</div>`:"";return{html:`${i}${l}`,ariaLabel:WU(`${r}${n}`)}}var yr=class extends Vt{constructor(){super(...arguments),this.type="pointer",this.xOffset=0,this.yOffset=0}};w([x(be(["pointer","node","top","right","bottom","left","top-left","top-right","bottom-right","bottom-left"],"a position type"))],yr.prototype,"type",2);w([x(xe)],yr.prototype,"xOffset",2);w([x(xe)],yr.prototype,"yOffset",2);var I1=class extends Vt{constructor(){super(),this.enabled=!0,this.delay=0,this.range=void 0,this.wrapping="hyphenate",this.position=new yr,this.darkTheme=!1,this.nestedDOM=!0,this.enableInteraction=!1,this.lastVisibilityChange=Date.now(),this.wrapTypes=["always","hyphenate","on-space","never"],this.showTimeout=0,this._showArrow=!0}get interactive(){return this.enableInteraction}setup(e){this.element=e.addChild("canvas-overlay",So),this.element.classList.add(So),H2(this.element,"aria-hidden",!0)}destroy(e){e.removeChild("canvas-overlay",So)}isVisible(){return!this.element?.classList.contains(So+"-hidden")}show(e,t,n,o=!1){let{element:a}=this;if(n!=null&&a!=null)a.innerHTML=n.html;else if(!a?.innerHTML){this.toggle(!1);return}let s=t.position?.type??this.position.type,i=t.position?.xOffset??0,r=t.position?.yOffset??0,l=this.getTooltipBounds({positionType:s,meta:t,yOffset:r,xOffset:i,canvasRect:e}),h=Ib(a.clientWidth,a.clientHeight,e.width,e.height,l),c=this.nestedDOM?e:this.getWindowSize(),d=this.nestedDOM?0:-e.left,p=this.nestedDOM?0:-e.top,v=c.width-a.clientWidth-1+d,g=c.height-a.clientHeight+p,u=Ft(d,h.x,v),f=Ft(p,h.y,g),M=u!==h.x||f!==h.y,m=(s==="node"||s==="pointer")&&!M&&!i&&!r,k=t.showArrow??this.showArrow??m;this.updateShowArrow(k),a.style.transform=`translate(${Math.round(u)}px, ${Math.round(f)}px)`,this.enableInteraction=t.enableInteraction??!1,this.delay>0&&!o?(this.toggle(!1),this.showTimeout=setTimeout(()=>{this.toggle(!0)},this.delay)):this.toggle(!0)}getWindowSize(){let{innerWidth:e,innerHeight:t}=Ro();return{width:e,height:t}}toggle(e){if(!this.element)return;let{classList:t}=this.element,n=(l,h)=>t.toggle(`${So}-${l}`,h),o=this.isVisible(),a=1/0;if(e||clearTimeout(this.showTimeout),o!==e){let l=Date.now();a=l-this.lastVisibilityChange,this.lastVisibilityChange=l}let s=100,i=5,r=!o&&e&&a>s;a>i&&n("no-animation",r),n("no-interaction",!this.enableInteraction),n("hidden",!e),n("arrow",this._showArrow),t.toggle(kb,this.darkTheme);for(let l of this.wrapTypes)t.toggle(`${So}-wrap-${l}`,l===this.wrapping)}updateShowArrow(e){this._showArrow=e}getTooltipBounds(e){if(!this.element)return{};let{positionType:t,meta:n,yOffset:o,xOffset:a,canvasRect:s}=e,{clientWidth:i,clientHeight:r}=this.element,l={width:i,height:r};switch(t){case"node":case"pointer":return l.top=n.offsetY+o-r-8,l.left=n.offsetX+a-i/2,l;case"top":return l.top=o,l.left=s.width/2-i/2+a,l;case"right":return l.top=s.height/2-r/2+o,l.left=s.width-i/2+a,l;case"left":return l.top=s.height/2-r/2+o,l.left=a,l;case"bottom":return l.top=s.height-r+o,l.left=s.width/2-i/2+a,l;case"top-left":return l.top=o,l.left=a,l;case"top-right":return l.top=o,l.left=s.width-i+a,l;case"bottom-right":return l.top=s.height-r+o,l.left=s.width-i+a,l;case"bottom-left":return l.top=s.height-r+o,l.left=a,l}}};w([x(It)],I1.prototype,"enabled",2);w([x(It,{optional:!0})],I1.prototype,"showArrow",2);w([en((e,t,n)=>{t&&e.element?.classList.add(t),n&&e.element?.classList.remove(n)}),x(et,{optional:!0})],I1.prototype,"class",2);w([x(Z)],I1.prototype,"delay",2);w([x(g3,{optional:!0})],I1.prototype,"range",2);w([x(v3)],I1.prototype,"wrapping",2);w([x(vt)],I1.prototype,"position",2);w([x(It)],I1.prototype,"darkTheme",2);w([x(It)],I1.prototype,"nestedDOM",2);var ze=class extends Vt{constructor(){super(...arguments),this.id=No(this),this.node=new se({zIndex:1}).setProperties({textAlign:"center",pointerEvents:1}),this.enabled=!1,this.textAlign="center",this.fontSize=10,this.fontFamily="sans-serif",this.wrapping="always",this.truncated=!1,this.layoutStyle="block"}registerInteraction(e){let t=e.regionManager.getRegion("root"),n=[t.addListener("hover",o=>this.handleMouseMove(e,o)),t.addListener("leave",o=>this.handleMouseLeave(e,o))];return qV(...n)}computeTextWrap(e,t){let{text:n,wrapping:o}=this,a=Math.min(this.maxWidth??1/0,e),s=this.maxHeight??t;if(!isFinite(a)&&!isFinite(s)){this.node.text=n;return}let i=se.wrap(n??"",a,s,this,o);this.node.text=i,this.truncated=i.includes(c1.EllipsisChar)}handleMouseMove(e,t){if(t!==void 0&&this.enabled&&this.node.visible&&this.truncated){let{offsetX:n,offsetY:o}=t;e.tooltipManager.updateTooltip(this.id,{offsetX:n,offsetY:o,lastPointerEvent:t,showArrow:!1},hr({content:this.text}))}}handleMouseLeave(e,t){e.tooltipManager.removeTooltip(this.id)}};ze.SMALL_PADDING=10;ze.LARGE_PADDING=20;w([x(It)],ze.prototype,"enabled",2);w([x(et,{optional:!0}),U0("node")],ze.prototype,"text",2);w([x(Fz,{optional:!0}),U0("node")],ze.prototype,"textAlign",2);w([x(Ss,{optional:!0}),U0("node")],ze.prototype,"fontStyle",2);w([x(Ds,{optional:!0}),U0("node")],ze.prototype,"fontWeight",2);w([x(Z),U0("node")],ze.prototype,"fontSize",2);w([x(et),U0("node")],ze.prototype,"fontFamily",2);w([x(ne,{optional:!0}),U0("node","fill")],ze.prototype,"color",2);w([x(Z,{optional:!0})],ze.prototype,"spacing",2);w([x(Z,{optional:!0})],ze.prototype,"lineHeight",2);w([x(Z,{optional:!0})],ze.prototype,"maxWidth",2);w([x(Z,{optional:!0})],ze.prototype,"maxHeight",2);w([x(v3)],ze.prototype,"wrapping",2);w([x(et)],ze.prototype,"layoutStyle",2);var Hs=class{constructor(){this.registeredListeners=new Map}addListener(e,t){let n={symbol:Symbol(e),handler:t};return this.registeredListeners.has(e)?this.registeredListeners.get(e).push(n):this.registeredListeners.set(e,[n]),()=>this.removeListener(n.symbol)}removeListener(e){for(let[t,n]of this.registeredListeners.entries()){let o=n.findIndex(a=>a.symbol===e);if(o>=0){n.splice(o,1),n.length===0&&this.registeredListeners.delete(t);break}}}dispatch(e,...t){for(let n of this.getListenersByType(e))try{n.handler(...t)}catch(o){q.errorOnce(o)}}dispatchWrapHandlers(e,t,...n){for(let o of this.getListenersByType(e))try{t(o.handler,...n)}catch(a){q.errorOnce(a)}}getListenersByType(e){return this.registeredListeners.get(e)??[]}destroy(){this.registeredListeners.clear()}},W1=class{constructor(){this.listeners=new Hs,this.destroyFns=[]}addListener(e,t){return this.listeners.addListener(e,t)}destroy(){this.listeners.destroy(),this.destroyFns.forEach(e=>e())}};function Oh(e){let t=V(S({},e),{preventDefault(){t.sourceEvent?.preventDefault()}});return t}function Ep(e,t){e.dispatchWrapHandlers(t.type,(n,o)=>n(o),Oh(t))}var K6=["click","dblclick","contextmenu","hover","drag-start","drag","drag-end","leave","enter","page-left","wheel"],$U=["blur","focus"],qU=["keydown","keyup"],zw=["mousemove","mouseup"],gk=["pagehide","mousemove","mouseup"],uk=["click","dblclick","contextmenu","mousedown","mouseleave","mouseenter","touchstart","touchmove","touchend","touchcancel","wheel","blur","focus","keydown","keyup"],cr=(e=>(e[e.Default=16]="Default",e[e.ZoomDrag=8]="ZoomDrag",e[e.Annotations=4]="Annotations",e[e.ContextMenu=2]="ContextMenu",e[e.Animation=1]="Animation",e[e.All=31]="All",e))(cr||{}),zb=class a6 extends W1{constructor(t,n){super(),this.keyboardOptions=t,this.domManager=n,this.debug=me.create(!0,"interaction"),this.eventHandler=o=>this.processEvent(o),this.mouseDown=!1,this.touchDown=!1,this.clickHistory=[{offsetX:NaN,offsetY:NaN,type:"mousedown"}],this.dblclickHistory=[{offsetX:NaN,offsetY:NaN,type:"mousedown"},{offsetX:NaN,offsetY:NaN,type:"mouseup"},{offsetX:NaN,offsetY:NaN,type:"mousedown"}],this.stateQueue=17,this.rootElement=this.domManager.getDocumentRoot();for(let o of uk)o.startsWith("touch")||o==="wheel"?this.domManager.addEventListener(o,this.eventHandler,{passive:!1}):this.domManager.addEventListener(o,this.eventHandler);for(let o of gk)Ro().addEventListener(o,this.eventHandler);this.containerChanged(!0),this.domManager.addListener("container-changed",()=>this.containerChanged())}containerChanged(t=!1){let n=this.domManager.getDocumentRoot();if(!(!t&&n===this.rootElement)){for(let o of zw)this.rootElement?.removeEventListener(o,this.eventHandler);this.rootElement=n,this.debug("[InteractionManager] Switching rootElement to:",this.rootElement);for(let o of zw)this.rootElement?.addEventListener(o,this.eventHandler)}}destroy(){super.destroy();for(let t of gk)Ro().removeEventListener(t,this.eventHandler);for(let t of zw)this.rootElement?.removeEventListener(t,this.eventHandler);for(let t of uk)this.domManager.removeEventListener(t,this.eventHandler);this.domManager.removeStyles("interactionManager")}addListener(t,n,o=16){return super.addListener(t,a=>{this.getState()&o&&n(a)})}pushState(t){this.stateQueue|=t}popState(t){this.stateQueue&=~t}getState(){return this.stateQueue&-this.stateQueue}processEvent(t){let n=this.decideInteractionEventTypes(t),o=t.target;if(t.type==="click"&&o?.ariaDisabled==="true"){t.preventDefault();return}n.length>0&&this.dispatchEvent(t,n).catch(a=>q.errorOnce(a))}dispatchEvent(t,n){return R(this,null,function*(){if(Cp(K6,n)){this.dispatchPointerEvent(t,n);return}let{relatedElement:o,targetElement:a}=this.extractElements(t);if(Cp($U,n))for(let s of n){let i=t;Ep(this.listeners,{type:s,sourceEvent:i,relatedElement:o,targetElement:a})}else if(Cp(qU,n))for(let s of n){let i=t;Ep(this.listeners,{type:s,sourceEvent:i,relatedElement:o,targetElement:a})}})}extractElements(t){let n,o;return"relatedTarget"in t&&t.relatedTarget instanceof HTMLElement&&(n=t.relatedTarget),"target"in t&&t.target instanceof HTMLElement&&(o=t.target),{relatedElement:n,targetElement:o}}dispatchPointerEvent(t,n){let o=this.calculateCoordinates(t);if(o!=null)for(let a of n)Ep(this.listeners,this.buildPointerEvent(S({type:a,event:t},o)))}getEventHTMLTarget(t){if(t.target instanceof HTMLElement)return t.target;if(t.currentTarget instanceof HTMLElement)return t.currentTarget}recordDown(t){t instanceof MouseEvent&&(x2(["offsetX","offsetY"],this.clickHistory[0],t),x2(["offsetX","offsetY"],this.dblclickHistory[2],this.dblclickHistory[0]),x2(["offsetX","offsetY"],this.dblclickHistory[0],t)),this.dragStartElement=this.getEventHTMLTarget(t)}recordUp(t){t instanceof MouseEvent&&x2(["offsetX","offsetY"],this.dblclickHistory[1],t),this.dragStartElement=void 0}decideInteractionEventTypes(t){let n="drag-start";switch(t.type){case"blur":case"focus":case"keydown":case"keyup":return this.keyboardOptions.enabled?[t.type]:[];case"click":case"dblclick":case"contextmenu":case"wheel":return[t.type];case"mousedown":return!this.isEventOverElement(t)||!("button"in t)||t.button!==0?[]:(this.mouseDown=!0,this.recordDown(t),[n]);case"touchstart":return this.isEventOverElement(t)?(this.touchDown=!0,this.recordDown(t),[n]):[];case"touchmove":case"mousemove":return!this.mouseDown&&!this.touchDown&&!this.isEventOverElement(t)?[]:this.mouseDown||this.touchDown?["drag"]:["hover"];case"mouseup":return!this.mouseDown&&!this.isEventOverElement(t)?[]:(this.mouseDown=!1,this.recordUp(t),["drag-end"]);case"touchend":return!this.touchDown&&!this.isEventOverElement(t)?[]:(this.touchDown=!1,this.recordUp(t),["drag-end"]);case"mouseleave":case"touchcancel":return["leave"];case"mouseenter":let o=t instanceof MouseEvent&&(t.buttons&1)===1;return this.mouseDown!==o?(this.mouseDown=o,[o?n:"drag-end"]):["enter"];case"pagehide":return["page-left"]}return[]}isEventOverElement(t){return this.domManager.isEventOverElement(t)}calculateCoordinates(t){if(t instanceof MouseEvent)return this.getMouseEventCoords(t);if(typeof TouchEvent<"u"&&t instanceof TouchEvent){let n=t.touches[0]??t.changedTouches[0],{clientX:o,clientY:a,pageX:s,pageY:i}=n;return V(S({},a6.NULL_COORDS),{clientX:o,clientY:a,pageX:s,pageY:i})}else if(t instanceof PageTransitionEvent)return t.persisted?void 0:a6.NULL_COORDS}getMouseEventCoords(t){let{clientX:n,clientY:o,pageX:a,pageY:s}=t,{offsetX:i,offsetY:r}=t,l=this.getEventHTMLTarget(t),{x:h=0,y:c=0}=l?this.domManager.calculateCanvasPosition(l):{};if(this.dragStartElement!=null&&t.target!==this.dragStartElement){let d=this.domManager.calculateCanvasPosition(this.dragStartElement);i-=d.x-h,r-=d.y-c}else i+=h,r+=c;return{clientX:n,clientY:o,pageX:a,pageY:s,offsetX:i,offsetY:r}}isWheelEvent(t){return t.type==="wheel"}buildPointerEvent(t){let{type:n,event:o,clientX:a,clientY:s}=t,{offsetX:i,offsetY:r,pageX:l,pageY:h}=t;if(!Xt(i)||!Xt(r)){let f=this.domManager.getBoundingClientRect();i=a-f.left,r=s-f.top}if(!Xt(l)||!Xt(h)){let f=this.rootElement?.getBoundingClientRect();l=a-(f?.left??0),h=s-(f?.top??0)}let[c,d]=[NaN,NaN];if(this.isWheelEvent(o)){let f=o.deltaMode===0?.01:1;c=o.deltaX*f,d=o.deltaY*f}let p=[];o.type==="click"?p=this.clickHistory:o.type==="dblclick"&&(p=this.dblclickHistory);let{relatedElement:v,targetElement:g}=this.extractElements(o),u={type:n,offsetX:i,offsetY:r,pageX:l,pageY:h,deltaX:c,deltaY:d,pointerHistory:p,sourceEvent:o,relatedElement:v,targetElement:g};return this.debug("InteractionManager - builtEvent: ",u),u}};zb.NULL_COORDS={clientX:-1/0,clientY:-1/0,pageX:-1/0,pageY:-1/0,offsetX:-1/0,offsetY:-1/0};var bb=zb,Cb=(e=>(e.TITLE="title",e.SUBTITLE="subtitle",e.FOOTNOTE="footnote",e.LEGEND="legend",e.NAVIGATOR="navigator",e.PAGINATION="pagination",e.ROOT="root",e.SERIES="series",e.HORIZONTAL_AXES="horizontal-axes",e.VERTICAL_AXES="vertical-axes",e.TOOLBAR="toolbar",e))(Cb||{}),YU=["stroke","lineDash"],KU=ka(e=>g1(e)&&Object.keys(e).every(t=>YU.includes(t)),"objects with gridline style properties such as 'stroke' or 'lineDash'"),y3=class{constructor(){this.enabled=!0,this.width=1,this.style=[{stroke:void 0,lineDash:[]}]}};w([x(It)],y3.prototype,"enabled",2);w([x(Z)],y3.prototype,"width",2);w([x(KU)],y3.prototype,"style",2);function Es(e,t=[void 0]){return ya((n,o,a)=>t.includes(a)?T2(e)?e(a):e:a)}var Bb=we(e=>Xt(e)&&e>0||e instanceof D2,"a non-zero positive Number value or, for a time axis, a Time Interval such as 'agCharts.time.month'"),Ir=class extends Vt{constructor(){super(...arguments),this.minSpacing=NaN,this.maxSpacing=NaN}};w([x(Bb,{optional:!0})],Ir.prototype,"step",2);w([x(Mr,{optional:!0})],Ir.prototype,"values",2);w([x(Uz),Es(NaN)],Ir.prototype,"minSpacing",2);w([x(Gz),Es(NaN)],Ir.prototype,"maxSpacing",2);var Xe=class extends Vt{constructor(){super(...arguments),this.enabled=!0,this.autoWrap=!1,this.fontSize=12,this.fontFamily="Verdana, sans-serif",this.padding=5,this.minSpacing=NaN,this.color="rgba(87, 87, 87, 1)",this.avoidCollisions=!0,this.mirrored=!1,this.parallel=!1}getSideFlag(){return this.mirrored?1:-1}};w([x(It)],Xe.prototype,"enabled",2);w([x(It,{optional:!0})],Xe.prototype,"autoWrap",2);w([x(Z,{optional:!0})],Xe.prototype,"maxWidth",2);w([x(Z,{optional:!0})],Xe.prototype,"maxHeight",2);w([x(Ss,{optional:!0})],Xe.prototype,"fontStyle",2);w([x(Ds,{optional:!0})],Xe.prototype,"fontWeight",2);w([x(xe.restrict({min:1}))],Xe.prototype,"fontSize",2);w([x(et)],Xe.prototype,"fontFamily",2);w([x(Z)],Xe.prototype,"padding",2);w([x(fr),Es(NaN)],Xe.prototype,"minSpacing",2);w([x(ne,{optional:!0})],Xe.prototype,"color",2);w([x(Bs,{optional:!0})],Xe.prototype,"rotation",2);w([x(It)],Xe.prototype,"avoidCollisions",2);w([x(It)],Xe.prototype,"mirrored",2);w([x(It)],Xe.prototype,"parallel",2);w([x(In,{optional:!0})],Xe.prototype,"formatter",2);w([x(et,{optional:!0})],Xe.prototype,"format",2);var n4=class{constructor(){this.enabled=!0,this.width=1,this.stroke=void 0}};w([x(It)],n4.prototype,"enabled",2);w([x(Z)],n4.prototype,"width",2);w([x(ne,{optional:!0})],n4.prototype,"stroke",2);var kr=class extends Vt{constructor(){super(...arguments),this.enabled=!0,this.width=1,this.size=6}};w([x(It)],kr.prototype,"enabled",2);w([x(Z)],kr.prototype,"width",2);w([x(Z)],kr.prototype,"size",2);w([x(ne,{optional:!0})],kr.prototype,"stroke",2);var $1=class extends Vt{constructor(){super(...arguments),this.enabled=!1,this.spacing=ze.SMALL_PADDING,this.fontSize=10,this.fontFamily="sans-serif",this.wrapping="always"}};w([x(It)],$1.prototype,"enabled",2);w([x(et,{optional:!0})],$1.prototype,"text",2);w([x(Z,{optional:!0})],$1.prototype,"spacing",2);w([x(Ss,{optional:!0})],$1.prototype,"fontStyle",2);w([x(Ds,{optional:!0})],$1.prototype,"fontWeight",2);w([x(Z)],$1.prototype,"fontSize",2);w([x(et)],$1.prototype,"fontFamily",2);w([x(ne,{optional:!0})],$1.prototype,"color",2);w([x(v3)],$1.prototype,"wrapping",2);w([x(In,{optional:!0})],$1.prototype,"formatter",2);function s6(e){let[t,n]=v1(e.range),o=Math.floor(t),a=Math.ceil(n);return{min:o,max:a,visible:o!==a}}var i6=Math.PI*2,ZU=i6/2;function XU(e,t){return Math.abs(t-e)<ZU?t:e>t?t+i6:t-i6}function Sb(e){let t=(i,r)=>{let[l=e.min,h=e.max]=v1(r??[]);return i<l||i>h};return{tick:{fromFn(i,r,l){let h=i.y1+i.translationY,c=i.opacity;return(l==="added"||t(i.datum.translationY,i.datum.range))&&(h=r.translationY,c=0),{y:0,translationY:h,opacity:c,phase:X0[l]}},toFn(i,r,l){let h=r.translationY,c=1;return l==="removed"&&(c=0),{y:0,translationY:h,opacity:c,finish:{y:h,translationY:0}}},intermediateFn(i,r,l){return{visible:!t(i.y)}}},line:{fromFn(i,r){return V(S({},i.previousDatum??r),{phase:X0.updated})},toFn(i,r){return S({},r)}},label:{fromFn(i,r,l){let h=i.previousDatum??r,c=h.x,d=h.y,p=h.rotationCenterX,v=Math.round(i.translationY),g=h.rotation,u=i.opacity;return l==="removed"||t(h.y,h.range)?g=r.rotation:(l==="added"||t(i.datum.y,i.datum.range))&&(v=Math.round(h.translationY),u=0,g=r.rotation),{x:c,y:d,rotationCenterX:p,translationY:v,rotation:g,opacity:u,phase:X0[l]}},toFn(i,r,l){let h=r.x,c=r.y,d=r.rotationCenterX,p=Math.round(r.translationY),v=0,g=1;return l==="added"?(g=1,v=r.rotation):l==="removed"?(g=0,v=r.rotation):v=XU(i.previousDatum?.rotation??r.rotation,r.rotation),{x:h,y:c,rotationCenterX:d,translationY:p,rotation:v,opacity:g,finish:{rotation:r.rotation}}}},group:{fromFn(i,r){let{rotation:l,translationX:h,translationY:c}=i;return{rotation:l,translationX:h,translationY:c,phase:X0.updated}},toFn(i,r){let{rotation:l,translationX:h,translationY:c}=r;return{rotation:l,translationX:h,translationY:c}}}}}function Db(){return(e,t)=>({rotation:t.rotation,rotationCenterX:t.rotationCenterX,rotationCenterY:t.rotationCenterY,translationX:t.translationX,translationY:t.translationY})}function Hb(e){let{visible:t,min:n,max:o}=e;return(a,s)=>{let i=s.translationY,r=t&&i>=n&&i<=o;return{y:i,translationY:0,opacity:1,visible:r}}}function Eb(){return(e,t)=>({x:t.x,y:t.y,translationY:t.translationY,rotation:t.rotation,rotationCenterX:t.rotationCenterX})}function Tb(){return(e,t)=>S({},t)}var Ca=class _b{constructor(t,n,o){this.moduleCtx=t,this.scale=n,this.id=No(this),this.nice=!0,this.reverse=!1,this.keys=[],this.interval=new Ir,this.disableZoom=!1,this.dataDomain={domain:[],clipped:!1},this.layoutConstraints={stacked:!0,align:"start",width:100,unit:"percent"},this.boundSeries=[],this.includeInvisibleDomains=!1,this.interactionEnabled=!0,this.axisGroup=new mt({name:`${this.id}-axis`,zIndex:2}),this.lineNode=this.axisGroup.appendChild(new k0),this.tickLineGroup=this.axisGroup.appendChild(new mt({name:`${this.id}-Axis-tick-lines`,zIndex:2})),this.tickLabelGroup=this.axisGroup.appendChild(new mt({name:`${this.id}-Axis-tick-labels`,zIndex:2})),this.crossLineGroup=new mt({name:`${this.id}-CrossLines`}),this.labelGroup=new mt({name:`${this.id}-Labels`,zIndex:10}),this.gridGroup=new mt({name:`${this.id}-Axis-grid`}),this.gridLineGroup=this.gridGroup.appendChild(new mt({name:`${this.id}-gridLines`,zIndex:1})),this.tickLineGroupSelection=qe.select(this.tickLineGroup,k0,!1),this.tickLabelGroupSelection=qe.select(this.tickLabelGroup,se,!1),this.gridLineGroupSelection=qe.select(this.gridLineGroup,k0,!1),this.line=new n4,this.tick=new kr,this.gridLine=new y3,this.label=this.createLabel(),this.defaultTickMinSpacing=_b.defaultTickMinSpacing,this.translation={x:0,y:0},this.rotation=0,this.layout={label:{fractionDigits:0,padding:this.label.padding,format:this.label.format}},this.destroyFns=[],this.minRect=void 0,this.range=[0,1],this.visibleRange=[0,1],this.title=new $1,this._titleCaption=new ze,this.gridLength=0,this.gridPadding=0,this.seriesAreaPadding=0,this.tickGenerationResult=void 0,this.maxThickness=1/0,this.moduleMap=new q6,this.range=this.scale.range.slice(),this.crossLines?.forEach(s=>this.initCrossLine(s)),this.destroyFns.push(this._titleCaption.registerInteraction(this.moduleCtx)),this._titleCaption.node.rotation=-Math.PI/2,this.axisGroup.appendChild(this._titleCaption.node),this.destroyFns.push(t.regionManager.getRegion("series").addListener("hover",s=>this.checkAxisHover(s)),t.regionManager.getRegion("horizontal-axes").addListener("hover",s=>this.checkAxisHover(s)),t.regionManager.getRegion("vertical-axes").addListener("hover",s=>this.checkAxisHover(s))),this.animationManager=t.animationManager,this.animationState=new e4("empty",{empty:{update:{target:"ready",action:()=>this.resetSelectionNodes()},reset:"empty"},ready:{update:s=>this.animateReadyUpdate(s),resize:()=>this.resetSelectionNodes(),reset:"empty"}}),this._crossLines=[],this.assignCrossLineArrayConstructor(this._crossLines);let a;this.destroyFns.push(t.layoutService.addListener("layout-complete",s=>{a!=null&&Un(s.chart,a)!=null&&this.animationState.transition("resize"),a=S({},s.chart)})),o?.respondsToZoom!==!1&&this.destroyFns.push(t.updateService.addListener("update-complete",s=>{this.minRect=s.minRect}))}get type(){return this.constructor.type??""}set crossLines(t){this._crossLines?.forEach(n=>this.detachCrossLine(n)),t&&this.assignCrossLineArrayConstructor(t),this._crossLines=t,this._crossLines?.forEach(n=>{this.attachCrossLine(n),this.initCrossLine(n)})}get crossLines(){return this._crossLines}resetAnimation(t){t==="initial"&&this.animationState.transition("reset")}attachCrossLine(t){this.crossLineGroup.appendChild(t.group),this.crossLineGroup.appendChild(t.labelGroup)}detachCrossLine(t){this.crossLineGroup.removeChild(t.group),this.crossLineGroup.removeChild(t.labelGroup)}destroy(){this.moduleMap.destroy(),this.destroyFns.forEach(t=>t())}updateRange(){let{range:t,visibleRange:n,scale:o}=this,a=(t[1]-t[0])/(n[1]-n[0]),s=a*n[0],i=t[0]-s;o.setVisibleRange?.(n),o.range=[i,i+a],this.crossLines?.forEach(r=>{r.clippedRange=[t[0],t[1]]})}setCrossLinesVisible(t){this.crossLineGroup.visible=t}attachAxis(t,n){n.appendChild(this.gridGroup),t.appendChild(this.axisGroup),t.appendChild(this.crossLineGroup),t.appendChild(this.labelGroup)}attachLabel(t){this.labelGroup.append(t)}detachAxis(t,n){n.removeChild(this.gridGroup),t.removeChild(this.axisGroup),t.removeChild(this.crossLineGroup),t.removeChild(this.labelGroup)}getAxisGroup(){return this.axisGroup}inRange(t,n=0){let[o,a]=v1(this.range);return t>=o-n&&t<=a+n}onFormatChange(t,n,o,a){let{scale:s}=this,i=s instanceof Y6,r=l=>i?String:h=>typeof h=="number"?h.toFixed(n+l):String(h);if(a&&s&&s.tickFormat)try{let l=s.tickFormat({ticks:t,specifier:a});this.labelFormatter=l,this.datumFormatter=l}catch{this.labelFormatter=r(0),this.datumFormatter=r(1),q.warnOnce(`the axis label format string ${a} is invalid. No formatting will be applied`)}else this.labelFormatter=r(0),this.datumFormatter=r(1)}setTickInterval(t){this.scale.interval=this.interval?.step??t}onGridLengthChange(t,n){(n&&!t||!n&&t)&&this.onGridVisibilityChange(),this.crossLines?.forEach(o=>this.initCrossLine(o))}onGridVisibilityChange(){this.gridLineGroupSelection.clear()}createLabel(){return new Xe}checkAxisHover(t){!this.interactionEnabled||!this.computeBBox().containsPoint(t.offsetX,t.offsetY)||this.moduleCtx.chartEventManager.axisHover(this.id,this.direction)}update(t=0,n=!0){if(!this.tickGenerationResult)return;let{rotation:o,parallelFlipRotation:a,regularFlipRotation:s}=this.calculateRotations(),i=this.label.getSideFlag();this.updatePosition();let r=this.getAxisLineCoordinates(),{tickData:l,combinedRotation:h,textBaseline:c,textAlign:d,primaryTickCount:p}=this.tickGenerationResult,v=this.tickLabelGroupSelection.nodes().map(g=>g.datum.tickId);if(this.updateSelections(r,l.ticks,{combinedRotation:h,textAlign:d,textBaseline:c,range:this.scale.range}),!n||this.animationManager.isSkipped())this.resetSelectionNodes();else{let g=this.calculateUpdateDiff(v,l);this.animationState.transition("update",g)}return this.updateAxisLine(),this.updateLabels(),this.updateVisibility(),this.updateGridLines(i),this.updateTickLines(),this.updateTitle({anyTickVisible:l.ticks.length>0}),this.updateCrossLines({rotation:o,parallelFlipRotation:a,regularFlipRotation:s}),this.updateLayoutState(l.fractionDigits),p}getAxisLineCoordinates(){let[t,n]=v1(this.range);return{x:0,y1:t,y2:n}}getTickLineCoordinates(t){let o=this.label.getSideFlag()*this.getTickSize(),a=Math.min(0,o),s=a+Math.abs(o),i=t.translationY;return{x1:a,x2:s,y:i}}getTickLabelProps(t,n){let{label:o}=this,{combinedRotation:a,textBaseline:s,textAlign:i,range:r}=n,l=t.tickLabel,c=o.getSideFlag()*(this.getTickSize()+o.padding+this.seriesAreaPadding),d=l!==""&&l!=null;return{tickId:t.tickId,translationY:t.translationY,fill:o.color,fontFamily:o.fontFamily,fontSize:o.fontSize,fontStyle:o.fontStyle,fontWeight:o.fontWeight,rotation:a,rotationCenterX:c,text:l,textAlign:i,textBaseline:s,visible:d,x:c,y:0,range:r}}getTickSize(){return this.tick.enabled?this.tick.size:6}setTitleProps(t,n){let{title:o}=this;if(!o.enabled){t.enabled=!1,t.node.visible=!1;return}t.color=o.color,t.fontFamily=o.fontFamily,t.fontSize=o.fontSize,t.fontStyle=o.fontStyle,t.fontWeight=o.fontWeight,t.enabled=o.enabled,t.wrapping=o.wrapping;let a=t.node,s=(o.spacing??0)+n.spacing,i=this.label.getSideFlag(),r=Re(this.rotation),l=i===-1&&r>Math.PI&&r<Math.PI*2?-1:1,h=l*i*Math.PI/2,c=l===1?"bottom":"top",{range:d}=this,p=Math.floor(l*i*(d[0]+d[1])/2),v=Math.floor(i===-1?l*-s:-s),{callbackCache:g}=this.moduleCtx,{formatter:u=M=>M.defaultValue}=o,f=g.call(u,this.getTitleFormatterParams());a.setProperties({rotation:h,text:f,textBaseline:c,visible:!0,x:p,y:v})}calculateLayout(t){let{rotation:n,parallelFlipRotation:o,regularFlipRotation:a}=this.calculateRotations(),s=this.label.getSideFlag(),i=s*(this.getTickSize()+this.label.padding+this.seriesAreaPadding);this.updateScale(),this.tickGenerationResult=this.generateTicks({primaryTickCount:t,parallelFlipRotation:o,regularFlipRotation:a,labelX:i,sideFlag:s});let z=this.tickGenerationResult,{tickData:r,combinedRotation:l,textBaseline:h,textAlign:c}=z,d=ue(z,["tickData","combinedRotation","textBaseline","textAlign"]);this.updateLayoutState(r.fractionDigits);let p=[],{x:v,y1:g,y2:u}=this.getAxisLineCoordinates(),f=new pt(v+Math.min(s*this.seriesAreaPadding,0),g,this.seriesAreaPadding,u-g);if(p.push(f),this.tick.enabled&&r.ticks.forEach(I=>{let{x1:y,x2:b,y:C}=this.getTickLineCoordinates(I),E=new pt(y,C,b-y,0);p.push(E)}),this.label.enabled){let I=new se;r.ticks.forEach(y=>{let b=this.getTickLabelProps(y,{combinedRotation:l,textAlign:c,textBaseline:h,range:this.scale.range});if(!b.visible)return;I.setProperties(V(S({},b),{translationY:Math.round(y.translationY)}));let C=I.computeTransformedBBox();C&&p.push(C)})}let M=I=>{let y=new Ho,{rotation:b,translationX:C,translationY:E,rotationCenterX:_,rotationCenterY:F}=this.getAxisTransform();return Ho.updateTransformMatrix(y,1,1,b,C,E,{scalingCenterX:0,scalingCenterY:0,rotationCenterX:_,rotationCenterY:F}),y.transformBBox(I)};if(this.title?.enabled){let I=new ze,y=pt.merge(p).width;this.setTitleProps(I,{spacing:y});let C=I.node.computeTransformedBBox();C&&p.push(C)}let m=pt.merge(p),k=M(m),B=this.isAnySeriesActive();return this.crossLines?.forEach(I=>{var y;I.sideFlag=-s,I.direction=n===-Math.PI/2?"x":"y",I instanceof n6&&((y=I.label).parallel??(y.parallel=this.label.parallel)),I.parallelFlipRotation=o,I.regularFlipRotation=a,I.calculateLayout(B,this.reverse)}),t=d.primaryTickCount,{primaryTickCount:t,bbox:k}}updateLayoutState(t){this.layout.label={fractionDigits:t,padding:this.label.padding,format:this.label.format}}setDomain(t){this.dataDomain=this.normaliseDataDomain(t),this.reverse&&this.dataDomain.domain.reverse(),this.scale.domain=this.dataDomain.domain}updateScale(){this.updateRange(),this.calculateDomain(),this.setTickInterval(this.interval.step);let{scale:t,nice:n}=this;ve.is(t)&&(t.nice=n,t.update())}calculateRotations(){let t=Q0(this.rotation),n=Re(t),o=Re(t-Math.PI/2);return{rotation:t,parallelFlipRotation:n,regularFlipRotation:o}}generateTicks({primaryTickCount:t,parallelFlipRotation:n,regularFlipRotation:o,labelX:a,sideFlag:s}){let{scale:i,interval:{minSpacing:r,maxSpacing:l},label:{parallel:h,rotation:c,fontFamily:d,fontSize:p,fontStyle:v,fontWeight:g}}=this,u=t!==void 0,{defaultRotation:f,configuredRotation:M,parallelFlipFlag:m,regularFlipFlag:k}=Up({rotation:c,parallel:h,regularFlipRotation:o,parallelFlipRotation:n}),B=M+f,z=new Ho,{maxTickCount:I}=this.estimateTickCount({minSpacing:r,maxSpacing:l}),b=!(ve.is(i)||U1.is(i))||isNaN(I)?10:I,C=Iw(h,M,0,s,k),E=DU(h,M,s,m),_=C2({fontFamily:d,fontSize:p,fontStyle:v,fontWeight:g}),F={fontFamily:d,fontSize:p,fontStyle:v,fontWeight:g,textBaseline:E,textAlign:C},tt={rawTicks:[],fractionDigits:0,ticks:[],labelCount:0},at=0,U=0,P=!0,N=!1;for(;P&&at<=b&&!N;){U=0,C=Iw(h,M,0,s,k);let ot=this.getTickStrategies({secondaryAxis:u,index:at});for(let j of ot){({tickData:tt,index:at,autoRotation:U,terminate:N}=j({index:at,tickData:tt,textProps:F,labelOverlap:P,terminate:N,primaryTickCount:t}));let Mt=M!==0||U!==0,xt=B+U;C=Iw(h,M,U,s,k),P=this.label.avoidCollisions?this.checkLabelOverlap(xt,Mt,z,tt.ticks,a,{font:_}):!1}}let W=f+M+U;return!u&&tt.rawTicks.length>0&&(t=tt.rawTicks.length),{tickData:tt,primaryTickCount:t,combinedRotation:W,textBaseline:E,textAlign:C}}getTickStrategies({index:t,secondaryAxis:n}){let{scale:o,label:a}=this,{minSpacing:s}=this.interval,i=ve.is(o)||U1.is(o),r=a.enabled&&a.avoidCollisions,l=!i&&t!==0&&r,h=a.autoRotate===!0&&a.rotation===void 0,c=[],d;this.interval.values?d=3:n?d=1:l?d=2:d=0;let p=({index:v,tickData:g,primaryTickCount:u,terminate:f})=>this.createTickData(d,v,g,f,u);if(c.push(p),!i&&!isNaN(s)){let v=({index:g,tickData:u,primaryTickCount:f,terminate:M})=>this.createTickData(2,g,u,M,f);c.push(v)}if(!r)return c;if(a.autoWrap){let v=({index:g,tickData:u,textProps:f})=>this.wrapLabels(u,g,f);c.push(v)}else if(h){let v=({index:g,tickData:u,labelOverlap:f,terminate:M})=>({index:g,tickData:u,autoRotation:this.getAutoRotation(f),terminate:M});c.push(v)}return c}createTickData(t,n,o,a,s){let{scale:i}=this,{step:r,values:l,minSpacing:h,maxSpacing:c}=this.interval,{maxTickCount:d,minTickCount:p,defaultTickCount:v}=this.estimateTickCount({minSpacing:h,maxSpacing:c}),g=ve.is(i)||U1.is(i),u=!g||isNaN(d)?10:d,f=g?Math.max(v-n,p):d,M=r===void 0&&l===void 0&&f>p&&(g||t===2),m=!0;for(;m&&n<=u;){let B=o.rawTicks;f=g?Math.max(v-n,p):d;let{rawTicks:z,fractionDigits:I,ticks:y,labelCount:b}=this.getTicks({tickGenerationType:t,previousTicks:B,tickCount:f,minTickCount:p,maxTickCount:d,primaryTickCount:s});o.rawTicks=z,o.fractionDigits=I,o.ticks=y,o.labelCount=b,m=M?yb(z,B):!1,n++}return a||(a=r!==void 0||l!==void 0),{tickData:o,index:n,autoRotation:0,terminate:a}}checkLabelOverlap(t,n,o,a,s,i){Ho.updateTransformMatrix(o,1,1,t,0,0);let r=this.createLabelData(a,s,i,o),l=SU(this.label.minSpacing,n);return UU(r,l)}createLabelData(t,n,o,a){let s=[];for(let{tickLabel:i,translationY:r}of t){if(!i)continue;let{width:l,height:h}=c1.measureLines(i,o),c=new pt(n,r,l,h),d=HU(i,c,n,r,a);s.push(d)}return s}getAutoRotation(t){return t?Re(Q0(this.label.autoRotateAngle??0)):0}getTicks({tickGenerationType:t,previousTicks:n,tickCount:o,minTickCount:a,maxTickCount:s,primaryTickCount:i}){let{range:r,scale:l,visibleRange:h}=this,c;switch(t){case 3:if(c=this.interval.values,ve.is(l)){let[k,B]=v1(l.getDomain().map(Number));c=c.filter(z=>z>=k&&z<=B).sort((z,I)=>z-I)}break;case 1:ve.is(l)?c=this.updateSecondaryAxisTicks(i):c=this.createTicks(o,a,s);break;case 2:c=this.filterTicks(n,o);break;default:c=this.createTicks(o,a,s);break}let d=c.reduce((k,B)=>Math.max(k,i3(B)),0),p=(l.bandwidth??0)/2,v=[],g=0,u=new Map,f=Math.max(0,Math.floor(h[0]*c.length)),M=Math.min(c.length,Math.ceil(h[1]*c.length)),m=c.slice(f,M);this.onFormatChange(m,d,c,this.label.format);for(let k=0;k<m.length;k++){let B=m[k],z=l.convert(B)+p;if(r.length>0&&!this.inRange(z,.001))continue;let I=this.formatTick(B,d,f+k),y=I;if(u.has(y)){let b=u.get(y);u.set(y,b+1),y=`${y}_${b}`}else u.set(y,1);v.push({tick:B,tickId:y,tickLabel:I,translationY:Math.floor(z)}),!(I===""||I==null)&&g++}return{rawTicks:c,fractionDigits:d,ticks:v,labelCount:g}}filterTicks(t,n){let{minSpacing:o,maxSpacing:a}=this.interval,i=!isNaN(o)||!isNaN(a)?Math.ceil(t.length/n):2;return t.filter((r,l)=>l%i===0)}createTicks(t,n,o){let{scale:a}=this;return t&&(ve.is(a)||U1.is(a))&&(typeof t=="number"?(a.tickCount=t,a.minTickCount=n??0,a.maxTickCount=o??1/0):a instanceof f3&&this.setTickInterval(t)),a.ticks?.()??[]}estimateTickCount({minSpacing:t,maxSpacing:n}){let{minRect:o,label:{avoidCollisions:a}}=this;if(!a)return{minTickCount:ve.defaultMaxTickCount,maxTickCount:ve.defaultMaxTickCount,defaultTickCount:ve.defaultMaxTickCount};let s=this.calculateRangeWithBleed(),i=Math.max(this.defaultTickMinSpacing,s/ve.defaultMaxTickCount),r=!isNaN(n);isNaN(t)&&(t=i),isNaN(n)&&(n=s),t>n&&(t===i?t=n:n=t);let l=1;o&&(l=this.direction==="x"?o.width:o.height),r&&(r=l<i);let h=Ft(1,Math.floor(s/t),r?Math.min(Math.floor(s/l),100):100),c=Math.min(h,Math.ceil(s/n)),d=Ft(c,ve.defaultTickCount,h);return{minTickCount:c,maxTickCount:h,defaultTickCount:d}}updateVisibility(){this.moduleCtx.animationManager.isSkipped()&&this.resetSelectionNodes(),this.tickLineGroup.visible=this.tick.enabled,this.gridLineGroup.visible=this.gridLine.enabled,this.tickLabelGroup.visible=this.label.enabled}updateCrossLines({rotation:t,parallelFlipRotation:n,regularFlipRotation:o}){let a=this.label.getSideFlag(),s=this.isAnySeriesActive();this.crossLines?.forEach(i=>{i.sideFlag=-a,i.direction=t===-Math.PI/2?"x":"y",i instanceof n6&&(i.label.parallel=i.label.parallel??this.label.parallel),i.parallelFlipRotation=n,i.regularFlipRotation=o,i.update(s)})}updateTickLines(){let{tick:t,label:n}=this,o=n.getSideFlag();this.tickLineGroupSelection.each(a=>{a.strokeWidth=t.width,a.stroke=t.stroke,a.x1=o*this.getTickSize(),a.x2=0})}calculateAvailableRange(){return Sh(this.range)}calculateRangeWithBleed(){let t=1/Sh(this.visibleRange);return H6(this.calculateAvailableRange()*t,2)}calculateDomain(){let n=this.boundSeries.filter(o=>this.includeInvisibleDomains||o.isEnabled()).flatMap(o=>o.getDomain(this.direction));this.setDomain(n)}getAxisTransform(){return{rotation:Q0(this.rotation),rotationCenterX:0,rotationCenterY:0,translationX:Math.floor(this.translation.x),translationY:Math.floor(this.translation.y)}}updatePosition(){let{crossLineGroup:t,axisGroup:n,gridGroup:o,translation:a,gridLineGroupSelection:s,gridPadding:i,gridLength:r}=this,{rotation:l}=this.calculateRotations(),h=this.label.getSideFlag(),c=Math.floor(a.x),d=Math.floor(a.y);t.setProperties({rotation:l,translationX:c,translationY:d}),o.setProperties({rotation:l,translationX:c,translationY:d}),n.datum=this.getAxisTransform(),s.each(p=>{p.x1=i,p.x2=-h*r+i})}updateSecondaryAxisTicks(t){throw new Error("AG Charts - unexpected call to updateSecondaryAxisTicks() - check axes configuration.")}updateSelections(t,n,o){this.lineNode.datum=t,this.gridLineGroupSelection.update(this.gridLength?n:[],a=>a.append(new k0),a=>a.tickId),this.tickLineGroupSelection.update(n,a=>a.appendChild(new k0),a=>a.tickId),this.tickLabelGroupSelection.update(n.map(a=>this.getTickLabelProps(a,o)),a=>a.appendChild(new se),a=>a.tickId)}updateAxisLine(){let{line:t}=this,n=t.enabled?t.width:0;this.lineNode.setProperties({stroke:t.stroke,strokeWidth:n})}updateGridLines(t){let{gridLine:{style:n,width:o},gridPadding:a,gridLength:s}=this;s===0||n.length===0||this.gridLineGroupSelection.each((i,r,l)=>{let{stroke:h,lineDash:c}=n[l%n.length];i.setProperties({x1:a,x2:-t*s+a,fill:void 0,stroke:h,strokeWidth:o,lineDash:c})})}updateLabels(){let{label:t}=this;t.enabled&&this.tickLabelGroupSelection.each((n,o)=>{n.setProperties(o,["fill","fontFamily","fontSize","fontStyle","fontWeight","text","textAlign","textBaseline"])})}wrapLabels(t,n,o){let{parallel:a,maxWidth:s,maxHeight:i}=this.label,r=this.maxThickness,l=Math.round(this.calculateAvailableRange()/t.labelCount);return a&&([r,l]=[l,r]),t.ticks.forEach(h=>{h.tickLabel=se.wrap(h.tickLabel,s??r,i??l,o,"hyphenate")}),{tickData:t,index:n,autoRotation:0,terminate:!0}}updateTitle(t){let{rotation:n,title:o,_titleCaption:a,lineNode:s,tickLineGroup:i,tickLabelGroup:r}=this,l=0;if(o.enabled&&t.anyTickVisible){let h=mt.computeBBox([i,r,s]),c=n===0?h.width:h.height;l+=c+(this.tickLabelGroup.visible?0:this.seriesAreaPadding)}this.setTitleProps(a,{spacing:l})}formatTick(t,n,o){return String(this.getFormatter(o,!0)(t,n))}formatDatum(t){return String(this.getFormatter()(t))}getFormatter(t=0,n){let{label:o,labelFormatter:a,datumFormatter:s,moduleCtx:{callbackCache:i}}=this;return o.formatter?(r,l)=>i.call(o.formatter,{value:r,index:t,fractionDigits:l})??r:!n&&s?r=>i.call(s,r)??String(r):a?r=>i.call(a,r)??String(r):r=>String(r)}computeBBox(){return this.axisGroup.computeBBox()}initCrossLine(t){t.scale=this.scale,t.gridLength=this.gridLength}isAnySeriesActive(){return this.boundSeries.some(t=>this.includeInvisibleDomains||t.isEnabled())}clipTickLines(t,n,o,a){this.tickLineGroup.setClipRectInGroupCoordinateSpace(new pt(t,n,o,a))}clipGrid(t,n,o,a){this.gridGroup.setClipRectInGroupCoordinateSpace(new pt(t,n,o,a))}calculatePadding(t,n){let o=Math.abs(this.reverse?n:t)*.01;return[o,o]}getTitleFormatterParams(){let t=this.boundSeries.reduce((n,o)=>{let a=o.getKeys(this.direction),s=o.getNames(this.direction);for(let i=0;i<a.length;i++)n.push({key:a[i],name:s[i]});return n},[]);return{direction:this.direction,boundSeries:t,defaultValue:this.title?.text}}normaliseDataDomain(t){return{domain:[...t],clipped:!1}}getLayoutState(){return S({rect:this.computeBBox(),gridPadding:this.gridPadding,seriesAreaPadding:this.seriesAreaPadding,tickSize:this.getTickSize(),direction:this.direction,domain:this.dataDomain.domain,scale:this.scale},this.layout)}getModuleMap(){return this.moduleMap}createModuleContext(){return this.axisContext??(this.axisContext=this.createAxisContext()),V(S({},this.moduleCtx),{parent:this.axisContext})}createAxisContext(){let{scale:t}=this;return{axisId:this.id,direction:this.direction,continuous:ve.is(t)||U1.is(t),keys:()=>this.boundSeries.flatMap(n=>n.getKeys(this.direction)),seriesKeyProperties:()=>this.boundSeries.reduce((n,o)=>(o.getKeyProperties(this.direction).forEach(s=>{n.indexOf(s)<0&&n.push(s)}),n),[]),scaleValueFormatter:n=>n?t.tickFormat?.({specifier:n}):this.getFormatter(),scaleBandwidth:()=>t.bandwidth??0,scaleDomain:()=>t.getDomain?.(),scaleConvert:n=>t.convert(n),scaleInvert:U1.is(t)?n=>t.invertNearest?.(n):n=>t.invert?.(n),scaleInvertNearest:n=>t.invertNearest?.(n),attachLabel:n=>this.attachLabel(n),inRange:(n,o)=>this.inRange(n,o)}}animateReadyUpdate(t){let{animationManager:n}=this.moduleCtx,o=s6(this),a=Sb(o);$e(this.id,"axis-group",n,[this.axisGroup],a.group),$e(this.id,"line",n,[this.lineNode],a.line),$e(this.id,"line-paths",n,[this.gridLineGroupSelection,this.tickLineGroupSelection],a.tick,(s,i)=>i.tickId,t),$e(this.id,"tick-labels",n,[this.tickLabelGroupSelection],a.label,(s,i)=>i.tickId,t)}resetSelectionNodes(){let{gridLineGroupSelection:t,tickLineGroupSelection:n,tickLabelGroupSelection:o,lineNode:a}=this,s=s6(this);o0([this.axisGroup],Db()),o0([t,n],Hb(s)),o0([o],Eb()),o0([a],Tb())}calculateUpdateDiff(t,n){let o=new Set,a=new Set,s={},i=Math.max(t.length,n.ticks.length);for(let r=0;r<i;r++){let l=n.ticks[r],h=t[r],c=l?.tickId;s[c??h]=l,h!==c&&(a.has(c)?a.delete(c):c&&o.add(c),o.has(h)?o.delete(h):h&&a.add(h))}return{changed:o.size>0||a.size>0,added:o,removed:a}}isReversed(){return this.reverse}};Ca.defaultTickMinSpacing=50;w([x(It)],Ca.prototype,"nice",2);w([x(It)],Ca.prototype,"reverse",2);w([x(Oz)],Ca.prototype,"keys",2);w([x(vt)],Ca.prototype,"interval",2);w([x(It)],Ca.prototype,"disableZoom",2);w([x(vt,{optional:!0})],Ca.prototype,"title",2);w([en((e,t,n)=>e.onGridLengthChange(t,n))],Ca.prototype,"gridLength",2);var Z6=Ca,X6=class extends Xe{constructor(){super(...arguments),this.autoRotateAngle=335}};w([x(It,{optional:!0})],X6.prototype,"autoRotate",2);w([x(Bs)],X6.prototype,"autoRotateAngle",2);var Q6=class Ab extends Z6{constructor(){super(...arguments),this.thickness=0}static is(t){return t instanceof Ab}get direction(){return["top","bottom"].includes(this.position)?"x":"y"}updateDirection(){switch(this.position){case"top":this.rotation=-90,this.label.mirrored=!0,this.label.parallel=!0;break;case"right":this.rotation=0,this.label.mirrored=!0,this.label.parallel=!1;break;case"bottom":this.rotation=-90,this.label.mirrored=!1,this.label.parallel=!0;break;case"left":this.rotation=0,this.label.mirrored=!1,this.label.parallel=!1;break}this.axisContext&&(this.axisContext.position=this.position,this.axisContext.direction=this.direction)}update(t,n){return this.updateDirection(),super.update(t,n)}calculateLayout(t){return this.updateDirection(),super.calculateLayout(t)}createAxisContext(){return V(S({},super.createAxisContext()),{position:this.position})}assignCrossLineArrayConstructor(t){$z(t,n6)}createLabel(){return new X6}};w([x(Z)],Q6.prototype,"thickness",2);w([x(V6)],Q6.prototype,"position",2);var zr=Q6,Ts=class extends zr{constructor(e,t=new Is){super(e,t),this._paddingOverrideEnabled=!1,this.groupPaddingInner=.1,this.includeInvisibleDomains=!0}set paddingInner(e){this._paddingOverrideEnabled=!0,this.scale.paddingInner=e}get paddingInner(){return this._paddingOverrideEnabled=!0,this.scale.paddingInner}set paddingOuter(e){this.scale.paddingOuter=e}get paddingOuter(){return this.scale.paddingOuter}normaliseDataDomain(e){let t=[],n=new Set;for(let o of e){let a=o instanceof Date?o.getTime():o;n.has(a)||(n.add(a),t.push(o))}return{domain:t,clipped:!1}}calculateDomain(){if(!this._paddingOverrideEnabled){let e=1/0,t=-1/0;for(let n of this.boundSeries){let o=n.getBandScalePadding?.();o!=null&&(e=Math.min(e,o.inner),t=Math.max(t,o.outer))}this.scale.paddingInner=Number.isFinite(e)?e:0,this.scale.paddingOuter=Number.isFinite(t)?t:0}return super.calculateDomain()}};Ts.className="CategoryAxis";Ts.type="category";w([x(ie)],Ts.prototype,"groupPaddingInner",2);var Rb=class{constructor(e="",t,n=0){this.x=0,this.y=0,this.subtreeLeft=NaN,this.subtreeRight=NaN,this.screenX=0,this.screenY=0,this.children=[],this.leafCount=0,this.prelim=0,this.mod=0,this.ancestor=this,this.change=0,this.shift=0,this.label=e,this.parent=t,this.depth=t?t.depth+1:0,this.number=n}getLeftSibling(){return this.number>0&&this.parent?this.parent.children[this.number-1]:void 0}getLeftmostSibling(){return this.number>0&&this.parent?this.parent.children[0]:void 0}nextLeft(){return this.children?this.children[0]:this.thread}nextRight(){return this.children?this.children[this.children.length-1]:this.thread}getSiblings(){return this.parent?this.parent.children.filter((e,t)=>t!==this.number):[]}};function QU(e,t=!0){let n=new Rb,o=0;return t&&e.forEach(a=>o=Math.max(o,a.labels.length)),e.forEach(a=>{if(t)for(;a.labels.length<o;)a.labels.unshift("");JU(n,a)}),n}function JU(e,t){let n=t.labels.slice().reverse(),o=n.length-1;n.forEach((a,s)=>{let i=e.children,r=i.find(h=>h.label===a),l=s!==o;if(r&&l)e=r;else{let h=new Rb(a,e);h.number=i.length,i.push(h),l&&(e=h)}})}function tG(e,t,n){let o=t.number-e.number,a=n/o;t.change-=a,t.shift+=n,e.change+=a,t.prelim+=n,t.mod+=n}function eG(e,t,n){return t.getSiblings().indexOf(e.ancestor)>=0?e.ancestor:n}function nG(e){let t=e.children;if(t){let n=0,o=0;for(let a=t.length-1;a>=0;a--){let s=t[a];s.prelim+=n,s.mod+=n,o+=s.change,n+=s.shift+o}}}function oG(e,t,n){let o=e.getLeftSibling();if(o){let a=e,s=e,i=o,r=s.getLeftmostSibling(),l=s.mod,h=a.mod,c=i.mod,d=r.mod;for(;i.nextRight()&&s.nextLeft();){i=i.nextRight(),s=s.nextLeft(),r=r.nextLeft(),a=a.nextRight(),a.ancestor=e;let p=i.prelim+c-(s.prelim+l)+n;p>0&&(tG(eG(i,e,t),e,p),l+=p,h+=p),c+=i.mod,l+=s.mod,d+=r.mod,h+=a.mod}i.nextRight()&&!a.nextRight()?(a.thread=i.nextRight(),a.mod+=c-h):(s.nextLeft()&&!r.nextLeft()&&(r.thread=s.nextLeft(),r.mod+=l-d),t=e)}return t}function Lb(e,t){let n=e.children;if(n.length){let o=n[0];n.forEach(i=>{Lb(i,t),o=oG(i,o,t)}),nG(e);let a=(n[0].prelim+n.at(-1).prelim)/2,s=e.getLeftSibling();s?(e.prelim=s.prelim+t,e.mod=e.prelim-a):e.prelim=a}else{let o=e.getLeftSibling();e.prelim=o?o.prelim+t:0}}var wk=class{constructor(){this.top=1/0,this.right=-1/0,this.bottom=-1/0,this.left=1/0}update(e,t){let{x:n,y:o}=t(e);n>this.right&&(this.right=n),n<this.left&&(this.left=n),o>this.bottom&&(this.bottom=o),o<this.top&&(this.top=o)}};function Ob(e,t,n){e.x=e.prelim+t,e.y=e.depth,n.update(e),e.children.forEach(o=>Ob(o,t+e.mod,n))}function Nb(e){let t=e.children,n=0;t.forEach(o=>{Nb(o),o.children.length?n+=o.leafCount:n++}),e.leafCount=n,t.length?(e.subtreeLeft=t[0].subtreeLeft,e.subtreeRight=t[e.children.length-1].subtreeRight,e.x=(e.subtreeLeft+e.subtreeRight)/2):(e.subtreeLeft=e.x,e.subtreeRight=e.x)}function aG(e){let t=new sG;return Lb(e,1),Ob(e,-e.prelim,t),Nb(e),t}var sG=class{constructor(){this.dimensions=new wk,this.leafCount=0,this.nodes=[],this.leafNodes=[],this.nonLeafNodes=[],this.depth=0}update(e){this.dimensions.update(e,t=>({x:t.x,y:t.y})),e.children.length?this.nonLeafNodes.push(e):(this.leafCount++,this.leafNodes.push(e)),e.depth>this.depth&&(this.depth=e.depth),this.nodes.push(e)}resize(e,t,n=0,o=0,a=!1){let s=this.leafCount-1,i=this.depth,r=this.dimensions,l=1,h=1;if(e>0&&s){let v=(r.right-r.left)/s;l=e/s/v,a&&(l=-l)}if(t>0&&i){let v=(r.bottom-r.top)/i;h=t/i/v}let c=new wk;this.nodes.forEach(v=>{v.screenX=v.x*l,v.screenY=v.y*h,c.update(v,g=>({x:g.screenX,y:g.screenY}))});let d=-c.left,p=-c.top;this.nodes.forEach(v=>{v.screenX+=d+n,v.screenY+=p+o})}},Pb=class extends Xe{constructor(){super(...arguments),this.grid=!1}};w([x(It)],Pb.prototype,"grid",2);var ks=class extends zr{constructor(e){let t=new Is;t.paddingOuter=.1,t.paddingInner=t.paddingOuter*2,super(e,t),this.tickScale=new Is,this.line=new n4,this.label=new Pb,this.labelColor="rgba(87, 87, 87, 1)",this.includeInvisibleDomains=!0;let{tickLineGroup:n,tickLabelGroup:o,gridLineGroup:a,tickScale:s}=this;s.paddingInner=1,s.paddingOuter=0,this.gridLineSelection=qe.select(a,k0),this.axisLineSelection=qe.select(n,k0),this.separatorSelection=qe.select(n,k0),this.labelSelection=qe.select(o,se)}updateRange(){let{range:e,visibleRange:t,scale:n}=this,o=(e[1]-e[0])/(t[1]-t[0]),a=o*t[0],s=e[0]-a;this.tickScale.range=n.range=[s,s+o],this.resizeTickTree()}resizeTickTree(){let e=this.scale,t=e.domain.length?[e.convert(e.domain[0]),e.convert(e.domain[e.domain.length-1])]:e.range,n=this.tickTreeLayout,o=this.lineHeight;n&&n.resize(Math.abs(t[1]-t[0]),n.depth*o,(Math.min(t[0],t[1])||0)+(e.bandwidth??0)/2,-n.depth*o,t[1]-t[0]<0)}get lineHeight(){return this.label.fontSize*1.5}onGridVisibilityChange(){this.gridLineSelection.clear(),this.labelSelection.clear()}calculateDomain(){let{direction:e}=this,t=null,n=this.boundSeries.filter(a=>a.visible).flatMap(a=>{if(e==="y"||t)return a.getDomain(e);if(t===null){let s=a.getDomain(e);return t=jn(s[0]),s}return[]});this.setDomain(Vo(n)??u3(n));let{domain:o}=this.dataDomain;this.tickTreeLayout=aG(QU(o)),this.tickScale.domain=o.concat(""),this.resizeTickTree()}update(){this.computedLayout&&(this.updatePosition(),this.updateTitleCaption(),this.updateCategoryLabels(),this.updateSeparators(),this.updateAxisLines(),this.updateCategoryGridLines(),this.resetSelectionNodes())}updateTitleCaption(){let{_titleCaption:e}=this;e.node.visible=!1}updateCategoryLabels(){if(!this.computedLayout)return;let{tickLabelLayout:e}=this.computedLayout;this.labelSelection.update(e).each((n,o)=>{n.setProperties(o)})}updateSeparators(){if(!this.computedLayout)return;let{separatorLayout:e}=this.computedLayout,{range:t}=this,n=1e-7;this.separatorSelection.update(e).each((a,s)=>{a.x1=s.x1,a.x2=s.x2,a.y1=s.y,a.y2=s.y,a.visible=s.y>=t[0]-n&&s.y<=t[1]+n,a.stroke=this.tick.stroke,a.fill=void 0,a.strokeWidth=1})}updateAxisLines(){if(!this.computedLayout)return;let{axisLineLayout:e}=this.computedLayout;this.axisLineSelection.update(e).each((n,o)=>{n.setProperties(V(S({},o),{stroke:this.line.stroke,strokeWidth:this.line.width})),n.x1=o.x,n.x2=o.x,n.y1=o.y1,n.y2=o.y2,n.strokeWidth=this.line.width,n.stroke=this.line.stroke})}updateCategoryGridLines(){let{gridLength:e,gridLine:t,label:n,range:o,tickScale:a}=this,s=a.ticks(),i=n.getSideFlag(),r=this.gridLineSelection.update(e?s:[]);if(e){let{width:l,style:h}=t,c=h.length;r.each((d,p,v)=>{let g=Math.round(a.convert(p));d.x1=0,d.x2=-i*e,d.y1=g,d.y2=g,d.visible=g>=o[0]&&g<=o[1];let{stroke:u,lineDash:f}=h[v%c];d.stroke=u,d.strokeWidth=l,d.lineDash=f,d.fill=void 0})}}computeLayout(){this.updateDirection(),this.calculateDomain(),this.updateRange();let{scale:e,label:t,label:{parallel:n},moduleCtx:{callbackCache:o},range:a,title:s,title:{formatter:i=Y=>Y.defaultValue}={}}=this,r=e.range[0],l=e.range[1],c=Math.abs(l-r)/e.domain.length||0,d=Math.ceil(t.fontSize/c),p=Q0(this.rotation),v=Math.abs(Math.cos(p))<1e-8,g=t.getSideFlag(),u=this.lineHeight,f=this.tickTreeLayout,M=e.ticks(),m=f?f.nodes:[],k=f?f.depth>1:!1,{defaultRotation:B,configuredRotation:z,parallelFlipFlag:I}=Up({rotation:t.rotation,parallel:n,regularFlipRotation:Re(p-Math.PI/2),parallelFlipRotation:Re(p)}),y=[],b=Y=>({fill:Y.fill,fontFamily:Y.fontFamily,fontSize:Y.fontSize,fontStyle:Y.fontStyle,fontWeight:Y.fontWeight,rotation:Y.rotation,rotationCenterX:Y.rotationCenterX,rotationCenterY:Y.rotationCenterY,text:Y.text,textAlign:Y.textAlign,textBaseline:Y.textBaseline,translationX:Y.translationX,translationY:Y.translationY,visible:Y.visible,x:Y.x,y:Y.y}),C=new Map,E=0,_=new se,F=(Y,G)=>{if(_.setProperties({fill:t.color,fontFamily:t.fontFamily,fontSize:t.fontSize,fontStyle:t.fontStyle,fontWeight:t.fontWeight,textAlign:"center",textBaseline:I===-1?"bottom":"hanging",translationX:Y.screenY-t.fontSize*.25,translationY:Y.screenX}),G===0){if(!(s?.enabled&&M.length>0))return!1;let Q=o.call(i,this.getTitleFormatterParams());_.setProperties({fill:s.color,fontFamily:s.fontFamily,fontSize:s.fontSize,fontStyle:s.fontStyle,fontWeight:s.fontWeight,text:Q,textBaseline:"hanging",translationX:Y.screenY-t.fontSize*.25,translationY:Y.screenX})}else if(G%d===0){if(!(Y.screenX>=a[0]&&Y.screenX<=a[1]))return!1;t.formatter?_.text=o.call(t.formatter,{value:String(Y.label),index:G})??String(Y.label):_.text=String(Y.label)}else return!1;return!0};m.forEach((Y,G)=>{if(!F(Y,G))return;let Q=_.computeTransformedBBox();if(!Q)return;C.set(G,Q),!Y.children.length&&Q.width>E&&(E=Q.width)});let tt=g*t.padding,at=this.label.grid,U=[];m.forEach((Y,G)=>{let X=F(Y,G),Q=G;_.x=tt,_.rotationCenterX=tt;let ft=!Y.children.length;if(ft)_.rotation=z,_.textAlign="end",_.textBaseline="middle";else{_.translationX-=E-u+this.label.padding;let kt=Y.leafCount*c,Tt=C.get(Q);Tt&&Tt.width>kt?(X=!1,C.delete(Q)):v?_.rotation=B:_.rotation=-Math.PI/2}if(Y.parent&&k){let kt=ft?Y.screenX-c/2:Y.screenX-Y.leafCount*c/2;if(ft)(Y.number!==Y.children.length-1||at)&&U.push({y:kt,x1:0,x2:-E-this.label.padding*2});else{let Tt=-E-this.label.padding*2+Y.screenY;U.push({y:kt,x1:Tt+u,x2:Tt})}}let zt;if(X){let kt=_.computeTransformedBBox();kt&&C.set(G,kt),zt=V(S({},b(_)),{visible:X})}else C.delete(G),zt={visible:X};y.push(zt)});let P=0;U.forEach(Y=>P=Math.min(P,Y.x2)),U.push({y:Math.max(r,l),x1:0,x2:P});let N=[],W=[],ot=1e-7;U.forEach(Y=>{if(Y.y>=a[0]-ot&&Y.y<=a[1]+ot){let{x1:G,x2:X,y:Q}=Y,ft=new pt(Math.min(G,X),Q,Math.abs(G-X),0);W.push(ft),N.push({x1:G,x2:X,y:Q})}});let j=[],Mt=[],xt=f?f.depth+1:1;for(let Y=0;Y<xt;Y++){let G=M.length>0&&(Y===0||at&&k),X=Y>0?-E-this.label.padding*2-(Y-1)*u:0,Q=new pt(X,Math.min(...a),0,Math.abs(a[1]-a[0]));Mt.push(Q),j.push({x:X,y1:a[0],y2:a[1],visible:G})}let wt=Y=>{let G=new Ho,{rotation:X,translationX:Q,translationY:ft,rotationCenterX:zt,rotationCenterY:kt}=this.getAxisTransform();return Ho.updateTransformMatrix(G,1,1,X,Q,ft,{scalingCenterX:0,scalingCenterY:0,rotationCenterX:zt,rotationCenterY:kt}),G.transformBBox(Y)},st=pt.merge([...C.values(),...W,...Mt]);return{bbox:wt(st),tickLabelLayout:y,separatorLayout:N,axisLineLayout:j}}calculateLayout(){let{axisLineLayout:e,separatorLayout:t,tickLabelLayout:n,bbox:o}=this.computeLayout();return this.computedLayout={axisLineLayout:e,separatorLayout:t,tickLabelLayout:n},{bbox:o,primaryTickCount:void 0}}};ks.className="GroupedCategoryAxis";ks.type="grouped-category";w([x(ne,{optional:!0})],ks.prototype,"labelColor",2);var o4=class{constructor(){this.destroyFns=[]}destroy(){for(let e of this.destroyFns)e()}},Fb=class{constructor(){this.modules=[],this.dependencies=new Map,this.dependents=new Map}register(...e){for(let t of e){this.registerDependencies(t);let n=this.modules.find(o=>t.type===o.type&&t.optionsKey===o.optionsKey&&t.identifier===o.identifier);if(n){if(t.packageType==="enterprise"&&n.packageType==="community"){let o=this.modules.indexOf(n);this.modules.splice(o,1,t)}}else this.modules.push(t)}}hasEnterpriseModules(){return this.modules.some(e=>e.packageType==="enterprise")}*byType(...e){let{dependents:t}=this,n=new Set,o=0,a=3,s=this.modules.filter(i=>e.includes(i.type));do{for(let i of s)if(!(n.has(i.optionsKey)||t.has(i.optionsKey))){yield i,n.add(i.optionsKey);for(let[r,l]of t.entries())l.delete(i.optionsKey),l.size===0&&t.delete(r)}o++}while(n.size<s.length&&o<a);if(t.size>0)throw new Error(`Could not resolve module dependencies: [${[...t.keys()]}]`)}registerDependencies(e){if(!(e.dependencies==null||e.dependencies.length===0)){for(let t of e.dependencies){let n=this.dependencies.get(t)??new Set;n.add(e.optionsKey),this.dependencies.set(t,n)}this.dependents.set(e.optionsKey,new Set(e.dependencies))}}},fs=new Fb;function iG(e){return new Promise(t=>{setTimeout(()=>t(void 0),e)})}var rG=class{constructor(){this.available=!0,this.acquireQueue=[]}acquire(e){return new Promise(t=>{this.acquireQueue.push([e,t]),this.available&&this.dispatchNext().catch(n=>q.errorOnce(n))})}acquireImmediately(e){return R(this,null,function*(){return this.available?(yield this.acquire(e),!0):!1})}waitForClearAcquireQueue(){return R(this,null,function*(){return this.acquire(()=>R(this,null,function*(){}))})}dispatchNext(){return R(this,null,function*(){this.available=!1;let[e,t]=this.acquireQueue.shift()??[];for(;e;){try{yield e(),t?.()}catch(n){q.error("mutex callback error",n),t?.()}[e,t]=this.acquireQueue.shift()??[]}this.available=!0})}},Vb=class{constructor(){this.eventListeners=new Map}addEventListener(e,t){if(typeof t!="function")throw new Error("AG Charts - listener must be a Function");let n=this.eventListeners.get(e);n?n.add(t):this.eventListeners.set(e,new Set([t]))}removeEventListener(e,t){this.eventListeners.get(e)?.delete(t),this.eventListeners.size===0&&this.eventListeners.delete(e)}hasEventListener(e){return this.eventListeners.has(e)}clearEventListeners(){this.eventListeners.clear()}fireEvent(e){this.eventListeners.get(e.type)?.forEach(t=>t(e))}},_s=class extends Vt{constructor(e=0,t=e,n=e,o=t){super(),this.top=e,this.right=t,this.bottom=n,this.left=o}clear(){this.top=this.right=this.bottom=this.left=0}};w([x(Z)],_s.prototype,"top",2);w([x(Z)],_s.prototype,"right",2);w([x(Z)],_s.prototype,"bottom",2);w([x(Z)],_s.prototype,"left",2);function lG(e){return jb((t,n)=>requestAnimationFrame(t),e)}function hG(e){return jb((t,n=0)=>setTimeout(t,n),e)}function jb(e,t){let n=0,o=!1,a,s,i=()=>o,r=()=>{o=!1,s?.(),s=void 0,a=void 0,n>0&&e(l)},l=()=>{let c=n;n=0,o=!0;let d=t({count:c});if(!d){r();return}d.then(r,r)};return{schedule(c){n===0&&!i()&&e(l,c),n++},await(){return R(this,null,function*(){if(i())for(a==null&&(a=new Promise(c=>{s=c}));i();)yield a})}}}var Ub="10.0.0",Gb=class{constructor(e){this.version=e.split("-")[0]}save(...e){let t={version:this.version};for(let n of Object.values(e))t[n.mementoOriginatorKey]=this.encode(n,n.createMemento());return t}restore(e,...t){if(typeof e!="object"){q.warnOnce(`Could not restore data of type [${typeof e}], expecting an object, ignoring.`);return}if(e==null){q.warnOnce("Could not restore data of type [null], expecting an object, ignoring.");return}if(!("version"in e)||typeof e.version!="string"){q.warnOnce("Could not restore data, missing [version] string in object, ignoring.");return}for(let n of t){if(!(n.mementoOriginatorKey in e))continue;let o=this.decode(n,e[n.mementoOriginatorKey]);if(!n.guardMemento(o)){q.warnOnce(`Could not restore [${n.mementoOriginatorKey}] data, value was invalid, ignoring.`,o);return}n.restoreMemento(this.version,e.version,o)}}encode(e,t){try{return JSON.parse(JSON.stringify(t,this.encodeTypes))}catch(n){throw new Error(`Failed to encode [${e.mementoOriginatorKey}] value [${n}].`,{cause:n})}}decode(e,t){try{return JSON.parse(JSON.stringify(t),this.decodeTypes)}catch(n){throw new Error(`Failed to decode [${e.mementoOriginatorKey}] value [${n}].`,{cause:n})}}encodeTypes(e,t){return Kh(this[e])?{__type:"date",value:String(this[e])}:t}decodeTypes(e,t){return g1(this[e])&&"__type"in this[e]&&this[e].__type==="date"?new Date(this[e].value):t}},cG=class{constructor(){this.caretaker=new Gb(Ub),this.state=new Map}setState(e,t){Un(this.state.get(e.mementoOriginatorKey),t)!=null&&(this.state.set(e.mementoOriginatorKey,t),this.restoreState(e))}restoreState(e){let{caretaker:t,state:n}=this;if(!n.has(e.mementoOriginatorKey))return;let o=n.get(e.mementoOriginatorKey);t.restore({version:t.version,[e.mementoOriginatorKey]:o},e)}};function dG(){if(typeof navigator>"u")return!1;let e=navigator.userAgent.match(/\(iPhone; CPU iPhone OS (\d+_\d+_\d+) like Mac OS X\)/);if(e==null)return!1;let[t,n]=e[1].split("_").map(Number);return t<16||t===16&&n<6}var Wb=class r6{constructor(t){this.enabled=!0,this.width=600,this.height=300;let{width:n,height:o,pixelRatio:a,canvasConstructor:s}=t;this.pixelRatio=dG()?1:a??Ro("devicePixelRatio"),this.element=s?.()??T0("canvas"),this.element.style.display="block",this.element.style.width=(n??this.width)+"px",this.element.style.height=(o??this.height)+"px",this.element.width=Math.round((n??this.width)*this.pixelRatio),this.element.height=Math.round((o??this.height)*this.pixelRatio),this.context=this.element.getContext("2d"),this.onEnabledChange(),this.resize(n??0,o??0),r6.debugContext(this.context)}static is(t){return t instanceof r6}drawImage(t,n=0,o=0){return t.drawImage(this.context.canvas,n,o)}toDataURL(t){return this.element.toDataURL(t)}resize(t,n){if(!(t>0&&n>0))return;let{element:o,context:a,pixelRatio:s}=this;o.width=Math.round(t*s),o.height=Math.round(n*s),a.setTransform(s,0,0,s,0,0),o.style.width=t+"px",o.style.height=n+"px",this.width=t,this.height=n}snapshot(){}clear(){this.context.save(),this.context.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0),this.context.clearRect(0,0,this.width,this.height),this.context.restore()}destroy(){this.element.remove(),this.element.width=0,this.element.height=0,this.context.clearRect(0,0,0,0),Object.freeze(this)}onEnabledChange(){this.element&&(this.element.style.display=this.enabled?"":"none")}static debugContext(t){if(me.check("canvas")){let n=t.save.bind(t),o=t.restore.bind(t),a=0;Object.assign(t,{save(){n(),a++},restore(){if(a===0)throw new Error("AG Charts - Unable to restore() past depth 0");o(),a--},verifyDepthZero(){if(a!==0)throw new Error(`AG Charts - Save/restore depth is non-zero: ${a}`)}})}}};w([en(e=>e.onEnabledChange())],Wb.prototype,"enabled",2);var J6=Wb,pG=class $b{constructor(t,n){this.canvas=t,this.markDirty=n,this.debug=me.create(!0,"scene"),this.layersMap=new Map,this.nextZIndex=0,this.nextLayerId=0}static sortLayers(t,n){return sb([t.zIndex,...t.zIndexSubOrder??[void 0,void 0],t.id],[n.zIndex,...n.zIndexSubOrder??[void 0,void 0],n.id],ab)}get size(){return this.layersMap.size}forEach(t){Array.from(this.layersMap.values()).sort($b.sortLayers).forEach(t)}resize(t,n){this.canvas.resize(t,n),this.layersMap.forEach(({canvas:o})=>o.resize(t,n))}addLayer(t){let{width:n,height:o,pixelRatio:a}=this.canvas,{zIndex:s=this.nextZIndex++,name:i,zIndexSubOrder:r,getComputedOpacity:l,getVisibility:h}=t,c=new J6({width:n,height:o,pixelRatio:a}),d={id:this.nextLayerId++,name:i,canvas:c,zIndex:s,zIndexSubOrder:r,getComputedOpacity:l,getVisibility:h};return s>=this.nextZIndex&&(this.nextZIndex=s+1),this.layersMap.set(c,d),this.debug("Scene.addLayer() - layers",this.layersMap),d.canvas}removeLayer(t){this.layersMap.has(t)&&(this.layersMap.delete(t),t.destroy(),this.markDirty(),this.debug("Scene.removeLayer() -  layers",this.layersMap))}moveLayer(t,n,o){let a=this.layersMap.get(t);a&&(a.zIndex=n,a.zIndexSubOrder=o,this.markDirty(),this.debug("Scene.moveLayer() -  layers",this.layersMap))}clear(){this.layersMap.clear()}};function fk(e,t,n,o,a={}){if(!me.check("scene:stats","scene:stats:verbose"))return;let{layersRendered:s=0,layersSkipped:i=0,nodesRendered:r=0,nodesSkipped:l=0}=o??{},h=performance.now(),B=t,{start:c}=B,d=ue(B,["start"]),p=Object.entries(d).map(([z,I])=>mk(z,I)).filter(z=>z!=null).join(" + "),v=Object.entries(a).map(([z,I])=>`${z}: ${I}`).join(" ; "),g=me.check("scene:stats:verbose"),u=[`${mk("\u23F1\uFE0F",c,h)} (${p})`,`${v}`,`Layers: ${g?Mk(s,i):e.size}`,g?`Nodes: ${Mk(r,l)}`:null].filter(u1),f=new Map(u.map(z=>[z,se.getTextSize(z,n.font)])),M=Math.max(...Array.from(f.values(),z=>z.width)),m=gG(f.values(),z=>z.height);n.save(),n.fillStyle="white",n.fillRect(0,0,M,m),n.fillStyle="black";let k=0;for(let[z,I]of f.entries())k+=I.height,n.fillText(z,2,k);n.restore()}function vG(e,t){e.save();for(let[n,o]of Object.entries(t)){let a=o.computeTransformedBBox();if(!a){q.log(`Scene.render() - no bbox for debugged node [${n}].`);continue}e.globalAlpha=.8,e.strokeStyle="red",e.lineWidth=1,e.strokeRect(a.x,a.y,a.width,a.height),e.fillStyle="red",e.strokeStyle="white",e.font="16px sans-serif",e.textBaseline="top",e.textAlign="left",e.lineWidth=2,e.strokeText(n,a.x,a.y,a.width),e.fillText(n,a.x,a.y,a.width)}e.restore()}function Tp(e){return me.check(!0,"scene")?S(S({node:e,name:(e instanceof mt?e.name:null)??e.id,dirty:ws[e.dirty]},e.parent?.isVirtual?{virtualParentDirty:ws[e.parent.dirty],virtualParent:e.parent}:{}),e.children.map(t=>Tp(t)).reduce((t,n)=>{let{name:o}=n,{node:{visible:a,opacity:s,zIndex:i,zIndexSubOrder:r},node:l,virtualParent:h}=n;(!a||s<=0)&&(o=`(${o})`),l instanceof mt&&l.isLayer()&&(o=`*${o}*`);let c=[`${o??"<unknown>"}`,`z: ${i}`,r&&`zo: ${r.map(v=>typeof v=="function"?`${v()} (fn)`:v).join(" / ")}`,h&&"(virtual parent)"].filter(v=>!!v).join(" "),d=c,p=1;for(;t[d]!=null&&p<100;)d=`${c} (${p++})`;return t[d]=n,t},{})):{}}function qb(e){if(e.dirty===0)return{dirtyTree:{},paths:[]};let t=e.children.map(a=>qb(a)).filter(a=>a.paths.length>0),n=mt.is(e)?e.name??e.id:e.id,o=t.length?t.flatMap(a=>a.paths).map(a=>`${n}.${a}`):[n];return{dirtyTree:S({name:n,node:e,dirty:ws[e.dirty]},t.map(a=>a.dirtyTree).filter(a=>a.dirty!=null).reduce((a,s)=>(a[s.name??"<unknown>"]=s,a),{})),paths:o}}function Mk(e,t){let n=e+t;return`${e} / ${n} (${Math.round(100*e/n)}%)`}function mk(e,t,n){let o=n!=null?n-t:t;return`${e}: ${Math.round(o*100)/100}ms`}function gG(e,t){let n=0;for(let o of e)n+=t(o);return n}var tf=class{constructor({width:e,height:t,pixelRatio:n,domManager:o}){this.debug=me.create(!0,"scene"),this.id=No(this),this.root=null,this.isDirty=!1,this.domManager=o;let a={width:e,height:t,pixelRatio:n};o&&(a.canvasConstructor=()=>o.addChild("canvas","scene-canvas")),this.canvas=new J6(a),this.layersManager=new pG(this.canvas,()=>{this.isDirty=!0})}get width(){return this.pendingSize?.[0]??this.canvas.width}get height(){return this.pendingSize?.[1]??this.canvas.height}setContainer(e){if((n=>typeof n.tagName<"u")(e)){let{element:n}=this.canvas;n.parentElement?.removeChild(n),e.appendChild(n)}else this.domManager=e,this.domManager.addChild("canvas","scene-canvas",this.canvas.element);return this}setRoot(e){return this.root===e?this:(this.isDirty=!0,this.root?._setLayerManager(),this.root=e,e&&(e.visible=!0,e._setLayerManager(this.layersManager)),this)}attachNode(e,t){if(!t)return this.root?.appendChild(e),()=>this.removeChild(e);let n=this.root?.children.find(o=>o instanceof mt&&o.name===t);if(!n)throw new Error("AG Charts - Unrecognized root group name: "+t);return n.appendChild(e),()=>n.removeChild(e)}appendChild(e){return this.root?.appendChild(e),this}removeChild(e){return this.root?.removeChild(e),this}download(e,t){wb(this.canvas.toDataURL(t),e?.trim()??"image")}getDataURL(e){return this.canvas.toDataURL(e)}resize(e,t){return e=Math.round(e),t=Math.round(t),e>0&&t>0&&(e!==this.width||t!==this.height)?(this.pendingSize=[e,t],this.isDirty=!0,!0):!1}render(e){return R(this,null,function*(){let{debugSplitTimes:t={start:performance.now()},extraDebugStats:n}=e??{},{canvas:o,canvas:{context:a}={},root:s,pendingSize:i}=this;if(!a)return;let r=performance.now();if(i&&(this.layersManager.resize(...i),this.pendingSize=void 0),s&&!s.visible){this.isDirty=!1;return}if(s&&!this.isDirty){this.debug.check()&&this.debug("Scene.render() - no-op",{redrawType:ws[s.dirty],tree:Tp(s)}),fk(this.layersManager,t,a,void 0,n);return}let l={ctx:a,devicePixelRatio:this.canvas.pixelRatio??1,forceRender:!0,resized:!!i,debugNodes:{}};me.check("scene:stats:verbose")&&(l.stats={layersRendered:0,layersSkipped:0,nodesRendered:0,nodesSkipped:0});let h=!1;if((!s||s.dirty>=1)&&(h=!0,o.clear()),s&&me.check("scene:dirtyTree")){let{dirtyTree:c,paths:d}=qb(s);me.create("scene:dirtyTree")("Scene.render() - dirtyTree",{dirtyTree:c,paths:d})}if(s&&h&&(this.debug("Scene.render() - before",{redrawType:ws[s.dirty],canvasCleared:h,tree:Tp(s)}),s.visible&&(s.preRender(),a.save(),s.render(l),a.restore())),t["\u270D\uFE0F"]=performance.now()-r,this.layersManager.size&&h){let c=performance.now();a.save(),a.resetTransform(),this.layersManager.forEach(d=>{d.canvas.enabled&&d.getVisibility()&&(a.globalAlpha=d.getComputedOpacity(),d.canvas.drawImage(a))}),a.restore(),t["\u26D9"]=performance.now()-c}a.verifyDepthZero?.(),this.isDirty=!1,fk(this.layersManager,t,a,l.stats,n),vG(a,l.debugNodes),s&&this.debug.check()&&this.debug("Scene.render() - after",{redrawType:ws[s.dirty],tree:Tp(s),canvasCleared:h})})}strip(){let{context:e,pixelRatio:t}=this.canvas;e.setTransform(t,0,0,t,0,0),this.layersManager.clear(),this.setRoot(null),this.isDirty=!1}destroy(){this.strip(),this.canvas.destroy(),Object.assign(this,{canvas:void 0})}};tf.className="Scene";var uG=class{constructor(){this.cache=new WeakMap}call(e,...t){let n,o=this.cache.get(e),a=()=>{try{let s=e(...t);return o&&n!=null&&o.set(n,s),s}catch(s){q.warnOnce("User callback errored, ignoring",s);return}};try{n=JSON.stringify(t)}catch{return a()}return o==null&&(o=new Map,this.cache.set(e,o)),o.has(n)?o.get(n):a()}invalidateCache(){this.cache=new WeakMap}},wG=class extends W1{constructor(e){super(),this.annotationRoot=e,this.mementoOriginatorKey="annotations",this.annotations=[]}createMemento(){return this.annotations}guardMemento(e){return Ze(e)}restoreMemento(e,t,n){this.listeners.dispatch("restore-annotations",{type:"restore-annotations",annotations:n})}updateData(e){this.annotations=e??[]}attachNode(e){return this.annotationRoot.append(e),()=>(this.annotationRoot?.removeChild(e),this)}setAnnotationStyles(e){this.styles=e}getAnnotationTypeStyles(e){return this.styles?.[e]}},fG=class{constructor(e){this.sceneRoot=e,this.axes=new Map,this.axisGridGroup=new mt({name:"Axes-Grids",layer:!0,zIndex:1}),this.axisGroup=new mt({name:"Axes",layer:!0,zIndex:2}),this.sceneRoot.appendChild(this.axisGroup),this.sceneRoot.appendChild(this.axisGridGroup)}updateAxes(e,t){for(let n of e)t.includes(n)||(n.detachAxis(this.axisGroup,this.axisGridGroup),n.destroy());for(let n of t)e?.includes(n)||n.attachAxis(this.axisGroup,this.axisGridGroup);this.axes.clear();for(let n of t){let o=n.createAxisContext();this.axes.has(o.direction)?this.axes.get(o.direction)?.push(o):this.axes.set(o.direction,[o])}}getAxisContext(e){return[...this.axes.get(e)??[]]}destroy(){this.axes.clear(),this.sceneRoot.removeChild(this.axisGroup),this.sceneRoot.removeChild(this.axisGridGroup)}},I3=class extends Hs{constructor(e){super(),this.animationManager=e,this.dispatchOnlyLatest=!0,this.dispatchThrottle=0,this.requestThrottle=300,this.isLoadingInitialData=!1,this.isLoadingData=!1,this.freshRequests=[],this.requestCounter=0,this.debug=me.create(!0,"data-model","data-source"),this.throttledFetch=this.createThrottledFetch(this.requestThrottle),this.throttledDispatch=this.createThrottledDispatch(this.dispatchThrottle)}updateCallback(e){typeof e=="function"&&(this.debug("DataService - updated data source callback"),this.dataSourceCallback=e,this.isLoadingInitialData=!0,this.animationManager.skip(),this.dispatch("data-source-change"))}clearCallback(){this.dataSourceCallback=void 0}load(e){this.isLoadingData=!0,this.throttledFetch(e)}isLazy(){return this.dataSourceCallback!=null}isLoading(){return this.isLazy()&&(this.isLoadingInitialData||this.isLoadingData)}createThrottledFetch(e){return QI(t=>this.fetch(t),e,{leading:!1,trailing:!0})}createThrottledDispatch(e){return QI((t,n)=>{this.debug(`DataService - dispatching 'data-load' | ${t}`),this.dispatch("data-load",{type:"data-load",data:n})},e,{leading:!0,trailing:!0})}fetch(e){return R(this,null,function*(){if(!this.dataSourceCallback)throw new Error("DataService - [dataSource.getData] callback not initialised");let t=performance.now(),n=this.requestCounter++;this.debug(`DataService - requesting | ${n}`),this.freshRequests.push(n);let o;try{o=yield this.dataSourceCallback(e),this.debug(`DataService - response | ${performance.now()-t}ms | ${n}`)}catch(s){this.debug(`DataService - request failed | ${n}`),q.errorOnce(`DataService - request failed | [${s}]`)}this.isLoadingInitialData=!1;let a=this.freshRequests.findIndex(s=>s===n);if(a===-1||this.dispatchOnlyLatest&&a!==this.freshRequests.length-1){this.debug(`DataService - discarding stale request | ${n}`);return}this.freshRequests=this.freshRequests.slice(a+1),this.freshRequests.length===0&&(this.isLoadingData=!1),Array.isArray(o)?this.throttledDispatch(n,o):this.dispatch("data-error")})}};w([tn({newValue(e){this.throttledDispatch=this.createThrottledDispatch(e)}})],I3.prototype,"dispatchThrottle",2);w([tn({newValue(e){this.throttledFetch=this.createThrottledFetch(e)}})],I3.prototype,"requestThrottle",2);var MG=class{constructor(e,t,n){this.element=e,this.topTabGuard=t,this.bottomTabGuard=n,this.destroyFns=[],this.guardTabIndex=0,this.element.tabIndex=-1,this.initEventListener(this.element,"blur",()=>this.onBlur()),this.initEventListener(this.element,"focus",()=>this.onFocus()),this.initEventListener(this.topTabGuard,"focus",o=>this.onTabStart(o,this.topTabGuard)),this.initEventListener(this.bottomTabGuard,"focus",o=>this.onTabStart(o,this.bottomTabGuard))}set tabIndex(e){e>=0&&(this.guardTabIndex=e),e>0?(this.topTabGuard.tabIndex=e,this.bottomTabGuard.style.display="none"):(this.topTabGuard.tabIndex=e,this.bottomTabGuard.tabIndex=e)}destroy(){for(let e of this.destroyFns)e();this.destroyFns.length=0}initEventListener(e,t,n){e.addEventListener(t,n),this.destroyFns.push(()=>e.removeEventListener(t,n))}onBlur(){this.element.tabIndex===-1&&(this.tabIndex=this.guardTabIndex,this.guardTarget=void 0,this.guessedDelta=void 0)}onFocus(){this.element.tabIndex===-1&&(this.tabIndex=-1)}onTabStart(e,t){if(t.tabIndex>0&&(this.guessedDelta=0,e.relatedTarget!=null&&"tabIndex"in e.relatedTarget)){let n=Number(e.relatedTarget.tabIndex);!isNaN(n)&&n>0&&(this.guessedDelta=n<t.tabIndex?1:-1)}this.guardTarget=t,this.element.focus()}getBrowserFocusDelta(){let{guessedDelta:e,guardTarget:t,topTabGuard:n,bottomTabGuard:o}=this;return e!==void 0?e:t===n?1:t===o?-1:0}},mG=class{constructor(){this.elements=new Map,this.documentReady=!1,this.queuedObserveRequests=[],this.onLoad=()=>{this.documentReady=!0,this.queuedObserveRequests.forEach(([e,t])=>this.observe(e,t)),this.queuedObserveRequests=[]},!(typeof ResizeObserver>"u")&&(this.resizeObserver=new ResizeObserver(e=>{for(let{target:t,contentRect:{width:n,height:o}}of e){let a=this.elements.get(t);this.checkSize(a,t,n,o)}}),this.documentReady=ma("readyState")==="complete",this.documentReady||Ro()?.addEventListener("load",this.onLoad))}destroy(){Ro()?.removeEventListener("load",this.onLoad),this.resizeObserver?.disconnect(),this.resizeObserver=null}checkSize(e,t,n,o){e&&(n!==e.size?.width||o!==e.size?.height)&&(e.size={width:n,height:o},e.cb(e.size,t))}observe(e,t){if(!this.documentReady){this.queuedObserveRequests.push([e,t]);return}this.elements.has(e)?this.removeFromQueue(e):this.resizeObserver?.observe(e);let n={cb:t};this.elements.set(e,n),this.checkSize(n,e,e.offsetWidth,e.offsetHeight)}unobserve(e){this.resizeObserver?.unobserve(e),this.elements.delete(e),this.removeFromQueue(e),this.elements.size||this.destroy()}removeFromQueue(e){this.queuedObserveRequests=this.queuedObserveRequests.filter(([t])=>t!==e)}},xG='<div class="ag-charts-wrapper ag-charts-styles" data-ag-charts><div class="ag-charts-canvas-center"><div class="ag-charts-canvas-container"><div class="ag-charts-tab-guard"></div><div class="ag-charts-canvas"></div><div class="ag-charts-canvas-proxy"></div><div class="ag-charts-tab-guard"></div><div class="ag-charts-canvas-overlay"></div></div></div></div>',yG=`.ag-charts-wrapper,
.ag-charts-wrapper:focus,
.ag-charts-wrapper:after,
.ag-charts-wrapper:before,
.ag-charts-wrapper *,
.ag-charts-wrapper *:focus,
.ag-charts-wrapper *:after,
.ag-charts-wrapper *:before{box-sizing:border-box;outline:none}.ag-charts-wrapper{position:relative}.ag-charts-canvas-center{width:100%;height:100%;position:absolute;touch-action:auto;display:flex;align-items:var(--ag-charts-align);justify-content:var(--ag-charts-justify)}.ag-charts-canvas-container,
.ag-charts-canvas{position:relative}.ag-charts-canvas-container > *,
.ag-charts-canvas > *{display:block}.ag-charts-canvas-proxy{opacity:0;position:absolute;top:0;left:0;pointer-events:none}.ag-charts-tab-guard{opacity:0;width:0px;height:0px}.ag-charts-canvas-overlay{pointer-events:none;position:absolute;top:0;left:0;right:0;bottom:0}.ag-charts-canvas-overlay > *{position:absolute;pointer-events:auto}.ag-charts-theme-default,
.ag-charts-theme-default-dark{--ag-charts-active-color:var(--ag-active-color,#2196f3);--ag-charts-background-color:var(--ag-background-color,#fff);--ag-charts-foreground-color:var(--ag-foreground-color,#181d1f);--ag-charts-border-color:var(--ag-border-color,#dddddd);--ag-charts-font-size:var(--ag-font-size,14px);--ag-charts-size:var(--ag-grid-size,8px);--ag-charts-border:var(--ag-charts-border-color) var(--ag-borders,solid 1px);--ag-charts-border-critical:var(--ag-borders-critical,solid 1px);--ag-charts-layer-context-menu:5;--ag-charts-layer-tooltip:4;--ag-charts-layer-toolbar:3;--ag-charts-layer-crosshair:2;--ag-charts-layer-annotations:1;--ag-charts-align:center;--ag-charts-justify:center;--ag-charts-axis-label-background-color:#474747;--ag-charts-axis-label-color:#ffffff;--ag-charts-toolbar-foreground-color:var(--ag-header-foreground-color,var(--ag-charts-foreground-color));--ag-charts-toolbar-background-color:var(
        --ag-header-background-color,color-mix(in srgb,var(--ag-charts-background-color),var(--ag-charts-foreground-color) 2%)
    );--ag-charts-toolbar-size:34px;--ag-charts-toolbar-size-small:24px;--ag-charts-toolbar-border:var(--ag-charts-border-critical,solid 1px) var(--ag-charts-border-color);--ag-charts-toolbar-hover-color:color-mix(in srgb,var(--ag-charts-background-color),var(--ag-charts-active-color) 12%);--ag-charts-toolbar-focus-color:var(--ag-charts-active-color);--ag-charts-toolbar-active-background-color:color-mix(in srgb,var(--ag-charts-background-color),var(--ag-charts-active-color) 24%);--ag-charts-toolbar-active-color:var(--ag-active-color,#5090dc);--ag-charts-toolbar-disabled-foreground-color:var(
        --ag-disabled-foreground-color,color-mix(in srgb,transparent,var(--ag-charts-toolbar-foreground-color) 50%)
    );--ag-charts-toolbar-disabled-background-color:color-mix(in srgb,var(--ag-charts-toolbar-background-color),var(--ag-charts-toolbar-foreground-color) 6%);--ag-charts-toolbar-gap:var(--ag-charts-size);--ag-charts-toolbar-font-size:14px;--ag-charts-toolbar-font-size-small:12px;--ag-charts-toolbar-button-padding:7px;--ag-charts-toolbar-button-padding-small:3px;--ag-charts-button-radius:var(--ag-border-radius,4px);--ag-charts-focus-border-color:var(--ag-input-focus-border-color,var(--ag-charts-active-color));--ag-charts-focus-border:solid 1px var(--ag-charts-focus-border-color);--ag-charts-focus-border-shadow:var(
        --ag-input-focus-box-shadow,0 0 0 3px color-mix(in srgb,transparent,var(--ag-input-focus-border-color,var(--ag-charts-active-color)) 47%)
    );--ag-charts-icon-font-family:'agChartsDefault';--ag-charts-icon-font-weight:normal;--ag-charts-icon-font-color:color-mix(in srgb,transparent,var(--ag-charts-foreground-color),90%)}.ag-charts-theme-default-dark{--ag-charts-background-color:var(--ag-background-color,color-mix(in srgb,#fff,#182230 97%));--ag-charts-foreground-color:var(--ag-foreground-color,#fff);--ag-charts-border-color:var(--ag-border-color,rgba(255,255,255,0.16));--ag-charts-hover-color:var(
        --ag-row-hover-color,color-mix(in srgb,transparent,var(--ag-charts-active-color) 20%)
    );--ag-charts-axis-label-background-color:#9caebb;--ag-charts-axis-label-color:#000000;--ag-charts-toolbar-background-color:var(--ag-header-background-color,color-mix(in srgb,#fff,#182230 93%))}[class^='ag-charts-icon']{display:block;speak:none;speak:never;mask-size:contain;mask-repeat:no-repeat;background-color:currentColor}.ag-charts-icon-zoom-in{mask-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik04Ljc1IDQuNWEuNzUuNzUgMCAwIDAtMS41IDB2Mi43NUg0LjVhLjc1Ljc1IDAgMCAwIDAgMS41aDIuNzV2Mi43NWEuNzUuNzUgMCAwIDAgMS41IDBWOC43NWgyLjc1YS43NS43NSAwIDAgMCAwLTEuNUg4Ljc1VjQuNVoiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-zoom-out{mask-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0zLjc1IDhhLjc1Ljc1IDAgMCAxIC43NS0uNzVoN2EuNzUuNzUgMCAwIDEgMCAxLjVoLTdBLjc1Ljc1IDAgMCAxIDMuNzUgOFoiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-zoom-in-alt{mask-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXpvb20taW4iPjxjaXJjbGUgY3g9IjExIiBjeT0iMTEiIHI9IjgiLz48bGluZSB4MT0iMjEiIHgyPSIxNi42NSIgeTE9IjIxIiB5Mj0iMTYuNjUiLz48bGluZSB4MT0iMTEiIHgyPSIxMSIgeTE9IjgiIHkyPSIxNCIvPjxsaW5lIHgxPSI4IiB4Mj0iMTQiIHkxPSIxMSIgeTI9IjExIi8+PC9zdmc+)}.ag-charts-icon-zoom-out-alt{mask-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXpvb20tb3V0Ij48Y2lyY2xlIGN4PSIxMSIgY3k9IjExIiByPSI4Ii8+PGxpbmUgeDE9IjIxIiB4Mj0iMTYuNjUiIHkxPSIyMSIgeTI9IjE2LjY1Ii8+PGxpbmUgeDE9IjgiIHgyPSIxNCIgeTE9IjExIiB5Mj0iMTEiLz48L3N2Zz4=)}.ag-charts-icon-reset{mask-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00LjQxMiA0LjA1OCAyLjc1IDIuMzk2VjYuNzVoLjc0NGEuNzYuNzYgMCAwIDAgLjAxMiAwaDMuNTk4TDUuNDc4IDUuMTI1YTQuMTI1IDQuMTI1IDAgMCAxIDIuNTIzLS44NzUgMy43NSAzLjc1IDAgMSAxLTMuMTE5IDUuODMzLjc1Ljc1IDAgMCAwLTEuMjQ3LjgzNEE1LjI1IDUuMjUgMCAxIDAgOCAyLjc1aC0uMDAzYTUuNjI1IDUuNjI1IDAgMCAwLTMuNTg1IDEuMzA4WiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-pan-left{mask-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMC4wMyA0LjQ3YS43NS43NSAwIDAgMSAwIDEuMDZMNy41NiA4bDIuNDcgMi40N2EuNzUuNzUgMCAxIDEtMS4wNiAxLjA2bC0zLTNhLjc1Ljc1IDAgMCAxIDAtMS4wNmwzLTNhLjc1Ljc1IDAgMCAxIDEuMDYgMFoiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-pan-right{mask-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik01Ljk3IDExLjUzYS43NS43NSAwIDAgMSAwLTEuMDZMOC40NCA4IDUuOTcgNS41M2EuNzUuNzUgMCAwIDEgMS4wNi0xLjA2bDMgM2EuNzUuNzUgMCAwIDEgMCAxLjA2bC0zIDNhLjc1Ljc1IDAgMCAxLTEuMDYgMFoiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-pan-start{mask-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLWNoZXZyb24tZmlyc3QiPjxwYXRoIGQ9Im0xNyAxOC02LTYgNi02Ii8+PHBhdGggZD0iTTcgNnYxMiIvPjwvc3ZnPg==)}.ag-charts-icon-pan-end{mask-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLWNoZXZyb24tbGFzdCI+PHBhdGggZD0ibTcgMTggNi02LTYtNiIvPjxwYXRoIGQ9Ik0xNyA2djEyIi8+PC9zdmc+)}.ag-charts-icon-trend-line{mask-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMi41IiBjeT0iOCIgcj0iMS43NSIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjEuNSIvPjxjaXJjbGUgY3g9IjEzLjUiIGN5PSI4IiByPSIxLjc1IiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMS41Ii8+PHBhdGggc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjEuNSIgZD0iTTQgOGg4Ii8+PC9zdmc+)}.ag-charts-icon-horizontal-line{mask-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMC4zODYgOC43NWEyLjUwMSAyLjUwMSAwIDAgMS00Ljc3MiAwSC43NWEuNzUuNzUgMCAwIDEgMC0xLjVoNC44NjRhMi41MDEgMi41MDEgMCAwIDEgNC43NzIgMGg0Ljg2NGEuNzUuNzUgMCAwIDEgMCAxLjVoLTQuODY0Wk05IDhhMSAxIDAgMSAxLTIgMCAxIDEgMCAwIDEgMiAwWiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-vertical-line{mask-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik04Ljc1IDUuNjE0YTIuNTAxIDIuNTAxIDAgMCAxIDAgNC43NzJ2NC44NjRhLjc1Ljc1IDAgMCAxLTEuNSAwdi00Ljg2NGEyLjUwMSAyLjUwMSAwIDAgMSAwLTQuNzcyVi43NWEuNzUuNzUgMCAwIDEgMS41IDB2NC44NjRaTTggN2ExIDEgMCAxIDEgMCAyIDEgMSAwIDAgMSAwLTJaIiBmaWxsPSIjMDAwIi8+PC9zdmc+)}.ag-charts-icon-parallel-channel{mask-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC40MjQgNC45MmEyLjUgMi41IDAgMSAwLTMuMzc3LTIuMTRsLTYuNjMgMi45YTIuNTAxIDIuNTAxIDAgMSAwIC42MDcgMS4zNzJsNi41ODUtMi44OGEyLjUwMSAyLjUwMSAwIDAgMCAyLjgxNS43NDhabS4wNS0yLjY5M2ExIDEgMCAxIDEtMS44Ny43MDggMSAxIDAgMCAxIDEuODctLjcwOFptLTExIDQuNzVhMSAxIDAgMSAxLTEuODcuNzA4IDEgMSAwIDAgMSAxLjg3LS43MDhabTEuNTUgNi4wNzVhMi41MDEgMi41MDEgMCAxIDEtLjYwNy0xLjM3Mmw2LjYzLTIuOWEyLjUwMSAyLjUwMSAwIDEgMSAuNTYyIDEuMzkxbC02LjU4NSAyLjg4Wm0tMS41NS0uMDc1YTEgMSAwIDEgMS0xLjg3LjcwOCAxIDEgMCAwIDEgMS44Ny0uNzA4Wm0xMC40Mi0zLjQ2YTEgMSAwIDEgMC0uNzA5LTEuODcgMSAxIDAgMCAwIC43MDggMS44N1oiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-disjoint-channel{mask-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC40MjQgNC45MmEyLjUgMi41IDAgMSAwLTMuMzgzLTIuNDUzTDQuNjkgNC4wNTVhMi41IDIuNSAwIDEgMCAuMzQ0IDEuNDZsNi4zOTItMS41OThhMi41MDEgMi41MDEgMCAwIDAgMyAxLjAwM1ptLjA1LTIuNjkzYTEgMSAwIDEgMS0xLjg3LjcwOCAxIDEgMCAwIDEgMS44Ny0uNzA4Wm0tMTEgMi43NWExIDEgMCAxIDEtMS44Ny43MDggMSAxIDAgMCAxIDEuODctLjcwOFptMS41NiA1LjQyYTIuNSAyLjUgMCAxIDAtLjM0NSAxLjQ2MWw2LjM1MiAxLjU4OGEyLjUgMi41IDAgMSAwIC4zODQtMS40NWwtNi4zOTItMS41OThabS0xLjU2LjUzOGExIDEgMCAxIDAtMS44Ny0uNzA4IDEgMSAwIDAgMCAxLjg3LjcwOFptMTAuNDIgMS40NjFhMSAxIDAgMSAxLS43MDkgMS44NyAxIDEgMCAwIDEgLjcwOC0xLjg3WiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-line-color{mask-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgY2xpcC1wYXRoPSJ1cmwoI2EpIj48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEyLjc4OC41ODNhMi42MyAyLjYzIDAgMCAwLTEuODYuNzdMOS41NDQgMi43MzhhLjc1Ny43NTcgMCAwIDAtLjE0LjE0TDIuMDMyIDEwLjI1di4wMDFjLS4yNDIuMjQxLS40Mi41MzgtLjUyLjg2NGwtLjAwMi4wMDItLjg4IDIuOTAyLS4wMDEuMDAzYTEuMDgzIDEuMDgzIDAgMCAwIDEuMzUgMS4zNDdoLjAwMWwyLjkwMi0uODhoLjAwMWMuMzI2LS4xLjYyMy0uMjc3Ljg2NS0uNTE4di0uMDAxbDcuMzc1LTcuMzc2YS43NjMuNzYzIDAgMCAwIC4xMzktLjEzOWwxLjM4NC0xLjM4NEEyLjYzIDIuNjMgMCAwIDAgMTIuNzg4LjU4M1ptLS4xMjYgNC4zNTIuOTI0LS45MjRhMS4xMyAxLjEzIDAgMCAwLTEuNTk3LTEuNTk3bC0uOTI0LjkyNCAxLjU5NyAxLjU5N1ptLTIuNjU3LS41MzYtNi45MTMgNi45MTRIMy4wOWEuNTgzLjU4MyAwIDAgMC0uMTQ2LjI0MmwtLjY1MyAyLjE1MyAyLjE1NS0uNjU0YS41ODMuNTgzIDAgMCAwIC4yNDEtLjE0NGw2LjkxNC02LjkxNC0xLjU5Ny0xLjU5N1oiIGZpbGw9IiMwMDAiLz48L2c+PGRlZnM+PGNsaXBQYXRoIGlkPSJhIj48cGF0aCBmaWxsPSIjZmZmIiBkPSJNMCAwaDE2djE2SDB6Ii8+PC9jbGlwUGF0aD48L2RlZnM+PC9zdmc+)}.ag-charts-icon-delete{mask-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02LjA4MyAyLjY2N2MwLS4wOS4wNTMtLjI0Mi4xOTctLjM4Ny4xNDUtLjE0NC4yOTctLjE5Ny4zODctLjE5N2gyLjY2N2MuMDg5IDAgLjI0MS4wNTMuMzg2LjE5Ny4xNDUuMTQ1LjE5Ny4yOTcuMTk3LjM4N3YuNTgzSDYuMDg0di0uNTgzWk01LjMzIDQuNzVIMTEuOTE3djguNTgzYzAgLjA5LS4wNTIuMjQyLS4xOTcuMzg3LS4xNDUuMTQ0LS4yOTcuMTk3LS4zODYuMTk3SDQuNjY3Yy0uMDkgMC0uMjQyLS4wNTMtLjM4Ny0uMTk3LS4xNDQtLjE0NS0uMTk3LS4yOTctLjE5Ny0uMzg3VjQuNzVINS4zM1ptLS43NDUtMS41di0uNTgzYzAtLjU3OC4yOC0xLjA5Mi42MzYtMS40NDcuMzU1LS4zNTYuODctLjYzNyAxLjQ0Ny0uNjM3aDIuNjY3Yy41NzcgMCAxLjA5MS4yODEgMS40NDcuNjM3LjM1NS4zNTUuNjM2Ljg3LjYzNiAxLjQ0N3YuNTgzSDE0YS43NS43NSAwIDAgMSAwIDEuNWgtLjU4M3Y4LjU4M2MwIC41NzgtLjI4MSAxLjA5Mi0uNjM2IDEuNDQ3LS4zNTYuMzU2LS44Ny42MzctMS40NDcuNjM3SDQuNjY3Yy0uNTc3IDAtMS4wOTItLjI4MS0xLjQ0Ny0uNjM3LS4zNTUtLjM1NS0uNjM3LS44Ny0uNjM3LTEuNDQ3VjQuNzVIMmEuNzUuNzUgMCAwIDEgMC0xLjVoMi41ODNabTIuMDgzIDMuMzMzYS43NS43NSAwIDAgMSAuNzUuNzV2NGEuNzUuNzUgMCAxIDEtMS41IDB2LTRhLjc1Ljc1IDAgMCAxIC43NS0uNzVabTMuNDE3Ljc1YS43NS43NSAwIDAgMC0xLjUgMHY0YS43NS43NSAwIDEgMCAxLjUgMHYtNFoiIGZpbGw9IiMwMDAiLz48L3N2Zz4=)}.ag-charts-icon-lock{mask-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02LjE3MyAyLjg0YTIuNTgzIDIuNTgzIDAgMCAxIDQuNDEgMS44Mjd2MS45MTZINS40MTZWNC42NjdjMC0uNjg1LjI3My0xLjM0My43NTctMS44MjdaTTMuOTE3IDYuNTgzVjQuNjY3YTQuMDgzIDQuMDgzIDAgMCAxIDguMTY2IDB2MS45MTZoLjU4NGMxLjE1IDAgMi4wODMuOTMzIDIuMDgzIDIuMDg0djQuNjY2YzAgMS4xNS0uOTMzIDIuMDg0LTIuMDgzIDIuMDg0SDMuMzMzYTIuMDgzIDIuMDgzIDAgMCAxLTIuMDgzLTIuMDg0VjguNjY3YzAtMS4xNTEuOTMzLTIuMDg0IDIuMDgzLTIuMDg0aC41ODNabTcuNDE2IDEuNWgtOGEuNTgzLjU4MyAwIDAgMC0uNTgzLjU4NHY0LjY2NmMwIC4zMjIuMjYxLjU4NC41ODMuNTg0aDkuMzM0YS41ODMuNTgzIDAgMCAwIC41ODMtLjU4NFY4LjY2N2EuNTgzLjU4MyAwIDAgMC0uNTgzLS41ODRoLTEuMzM0WiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-unlock{mask-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik02LjkyMyAyLjg0YTIuNTgzIDIuNTgzIDAgMCAxIDMuNjUzIDAgMyAzIDAgMCAxIC41Ny43OThjLjEzNC4yNzguMTcuNDc0LjE3LjU0NWEuNzUuNzUgMCAwIDAgMS41IDBjMC0uMzgxLS4xMzItLjgwOS0uMzItMS4xOThhNC41MDEgNC41MDEgMCAwIDAtLjg1OS0xLjIwNiA0LjA4MyA0LjA4MyAwIDAgMC02Ljk3IDIuODg4djEuOTE2aC0uNTg0QzIuOTMzIDYuNTgzIDIgNy41MTYgMiA4LjY2N3Y0LjY2NmMwIDEuMTUuOTMzIDIuMDg0IDIuMDgzIDIuMDg0aDkuMzM0YzEuMTUgMCAyLjA4My0uOTMzIDIuMDgzLTIuMDg0VjguNjY3YzAtMS4xNTEtLjkzMy0yLjA4NC0yLjA4My0yLjA4NGgtNy4yNVY0LjY2N2MwLS42ODUuMjcyLTEuMzQzLjc1Ni0xLjgyN1pNNS40MTcgOC4wODNINC4wODJhLjU4My41ODMgMCAwIDAtLjU4My41ODR2NC42NjZjMCAuMzIyLjI2MS41ODQuNTgzLjU4NGg5LjMzNGEuNTgzLjU4MyAwIDAgMCAuNTgzLS41ODRWOC42NjdhLjU4My41ODMgMCAwIDAtLjU4My0uNTg0aC04WiIgZmlsbD0iIzAwMCIvPjwvc3ZnPg==)}.ag-charts-icon-plus{mask-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLXBsdXMiPjxwYXRoIGQ9Ik01IDEyaDE0Ii8+PHBhdGggZD0iTTEyIDV2MTQiLz48L3N2Zz4=)}.ag-charts-icon-crossline-add-line{mask-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgZmlsbD0ibm9uZSI+PHBhdGggZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIiBkPSJNOC43NSA0LjVhLjc1Ljc1IDAgMCAwLTEuNSAwdjIuNzVINC41YS43NS43NSAwIDAgMCAwIDEuNWgyLjc1djIuNzVhLjc1Ljc1IDAgMCAwIDEuNSAwVjguNzVoMi43NWEuNzUuNzUgMCAwIDAgMC0xLjVIOC43NXoiIGNsaXAtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==)}`,ef="canvas-center",IG=["styles",ef,"canvas","canvas-proxy","canvas-overlay"],bw=new Map([["styles",{childElementType:"style"}],["canvas",{childElementType:"canvas",eventTypes:["focus","blur"]}],["canvas-proxy",{childElementType:"div"}],["canvas-overlay",{childElementType:"div"}],[ef,{childElementType:"div"}]]);function kG(e,t){if(typeof IntersectionObserver>"u")return;let n=new IntersectionObserver(o=>{for(let a of o)a.target===e&&t(a.intersectionRatio)},{root:e});return n.observe(e),n}var Yb=class extends W1{constructor(e){super(),this.containerSize=void 0,this.sizeMonitor=new mG;let t=T0("div");t.innerHTML=xG,this.element=t.children.item(0),this.rootElements=IG.reduce((o,a)=>{let s=`ag-charts-${a}`,i=this.element.classList.contains(s)?this.element:this.element.querySelector(`.${s}`);if(!i)throw new Error(`AG Charts - unable to find DOM element ${s}`);return o[a]={element:i,children:new Map,listeners:[]},o},{});let n=!1;this.observer=kG(this.element,o=>{o===0&&!n&&this.listeners.dispatch("hidden",{type:"hidden"}),n=o===0}),this.setSizeOptions(),this.addStyles("dom-manager",yG),e&&this.setContainer(e)}destroy(){super.destroy(),this.observer?.unobserve(this.element),this.container&&this.sizeMonitor.unobserve(this.container),Object.values(this.rootElements).forEach(e=>{e.children.forEach(t=>t.remove()),e.element.remove()}),this.guardedElement?.destroy(),this.element.remove()}setSizeOptions(e=300,t=300,n,o){let{style:a}=this.element;a.width=`${n??e}px`,a.height=`${o??t}px`}updateContainerSize(){let{style:e}=this.rootElements[ef].element;e.width=`${this.containerSize?.width??0}px`,e.height=`${this.containerSize?.height??0}px`}setContainer(e){e!==this.container&&(this.container&&(this.container.removeChild(this.element),this.sizeMonitor.unobserve(this.container)),e.appendChild(this.element),this.sizeMonitor.observe(e,t=>{this.containerSize=t,this.updateContainerSize(),this.listeners.dispatch("resize",{type:"resize"})}),this.container=e,this.listeners.dispatch("container-changed",{type:"container-changed"}))}setThemeClass(e){let t="ag-charts-theme-";this.element.classList.forEach(n=>{n.startsWith(t)&&n!==e&&this.element.classList.remove(n)}),this.element.classList.add(e)}createTabGuards(){let e=this.rootElements.canvas.element.querySelector("canvas"),t=this.element.querySelectorAll(".ag-charts-tab-guard");if(e==null||t[0]==null||t[1]==null)throw new Error("AG Charts - error initialising canvas tab guards");return new MG(e,t[0],t[1])}setTabIndex(e){this.guardedElement??(this.guardedElement=this.createTabGuards()),this.guardedElement.tabIndex=e}getBrowserFocusDelta(){return this.guardedElement?.getBrowserFocusDelta()??0}addEventListener(e,t,n){this.element.addEventListener(e,t,n),bw.forEach((o,a)=>{if(!o.eventTypes?.includes(e))return;let s=this.rootElements[a];s.listeners.push([e,t,n]),s.children.forEach(i=>{i.addEventListener(e,t)})})}removeEventListener(e,t,n){this.element.removeEventListener(e,t,n),bw.forEach((o,a)=>{if(!o.eventTypes?.includes(e))return;let s=this.rootElements[a];s.listeners=s.listeners.filter(([i,r])=>i!==e&&r!==t),s.children.forEach(i=>{i.removeEventListener(e,t,n)})})}getBoundingClientRect(){return this.rootElements.canvas.element.getBoundingClientRect()}getDocumentRoot(){let e=this.container?.ownerDocument?.body??ma("body"),t=this.container;for(;t!=null;){if(t===e)return;if(t.parentNode instanceof DocumentFragment)return t;t=t.parentNode}}getChildBoundingClientRect(e){let{children:t}=this.rootElements[e],n=[];for(let o of t.values())n.push(pt.fromDOMRect(o.getBoundingClientRect()));return pt.merge(n)}calculateCanvasPosition(e){let t=0,n=0,{x:o=0,y:a=0}=this.getChildBoundingClientRect("canvas")??{},s=e.getBoundingClientRect();return t=s.x-o,n=s.y-a,{x:t,y:n}}isManagedDOMElement(e,t=this.element){for(;e&&e!==t;){if(e.parentElement==null)return!1;e=e.parentElement}return!0}isManagedChildDOMElement(e,t,n){let{children:o}=this.rootElements[t],a=o?.get(n);return a!=null&&this.isManagedDOMElement(e,a)}isEventOverElement(e){let t=e.target;if(t==null)return!1;for(;t!==this.element;)if(t=t.parentElement,t==null)return!1;return!0}addStyles(e,t){let n=this.addChild("styles",e);n.innerHTML=t}removeStyles(e){this.removeChild("styles",e)}updateCursor(e){this.element.style.cursor=e}getCursor(){return this.element.style.cursor}addChild(e,t,n){let{element:o,children:a,listeners:s}=this.rootElements[e];if(!a)throw new Error("AG Charts - unable to create DOM elements after destroy()");if(a.has(t))return a.get(t);let{childElementType:i="div"}=bw.get(e)??{};if(n&&n.tagName.toLowerCase()!==i.toLowerCase())throw new Error("AG Charts - mismatching DOM element type");let r=n??T0(i);for(let[l,h,c]of s)r.addEventListener(l,h,c);return a.set(t,r),o?.appendChild(r),r}removeChild(e,t){let{children:n}=this.rootElements[e];n&&n.has(t)&&(n.get(t)?.remove(),n.delete(t))}incrementDataCounter(e){let{dataset:t}=this.element;t[e]??(t[e]="0"),t[e]=String(Number(t[e])+1)}};function zG(e,t){let n=-t/e;return e!==0&&n>=0&&n<=1?[n]:[]}function bG(e,t,n){if(e===0)return zG(t,n);let o=t*t-4*e*n,a=[];if(o===0){let s=-t/(2*e);s>=0&&s<=1&&a.push(s)}else if(o>0){let s=Math.sqrt(o),i=(-t-s)/(2*e),r=(-t+s)/(2*e);i>=0&&i<=1&&a.push(i),r>=0&&r<=1&&a.push(r)}return a}function CG(e,t,n,o){if(e===0)return bG(t,n,o);let a=t/e,s=n/e,i=o/e,r=(3*s-a*a)/9,l=(9*a*s-27*i-2*a*a*a)/54,h=r*r*r+l*l,c=1/3,d=[];if(h>=0){let p=Math.sqrt(h),v=Math.sign(l+p)*Math.pow(Math.abs(l+p),c),g=Math.sign(l-p)*Math.pow(Math.abs(l-p),c),u=Math.abs(Math.sqrt(3)*(v-g)/2),f=-c*a+(v+g);if(f>=0&&f<=1&&d.push(f),u===0){let M=-c*a-(v+g)/2;M>=0&&M<=1&&d.push(M)}}else{let p=Math.acos(l/Math.sqrt(-r*r*r)),v=c*a,g=2*Math.sqrt(-r),u=g*Math.cos(c*p)-v,f=g*Math.cos(c*(p+2*Math.PI))-v,M=g*Math.cos(c*(p+4*Math.PI))-v;u>=0&&u<=1&&d.push(u),f>=0&&f<=1&&d.push(f),M>=0&&M<=1&&d.push(M)}return d}function Qi(e,t,n,o,a,s,i,r){let l=(n-e)*(r-s)-(o-t)*(i-a);if(l===0)return 0;let h=((i-a)*(t-s)-(e-a)*(r-s))/l,c=((n-e)*(t-s)-(o-t)*(e-a))/l;return h>=0&&h<=1&&c>=0&&c<=1?1:0}function BG(e,t,n,o,a,s,i,r,l,h,c,d){let p=0,v=h-d,g=c-l,u=l*(d-h)-h*(c-l),f=xk(e,n,a,i),M=xk(t,o,s,r),m=v*f[0]+g*M[0],k=v*f[1]+g*M[1],B=v*f[2]+g*M[2],z=v*f[3]+g*M[3]+u,I=CG(m,k,B,z);for(let y of I){let b=y*y,C=y*b,E=f[0]*C+f[1]*b+f[2]*y+f[3],_=M[0]*C+M[1]*b+M[2]*y+M[3],F;l===c?F=(_-h)/(d-h):F=(E-l)/(c-l),F>=0&&F<=1&&p++}return p}function xk(e,t,n,o){return[-e+3*t-3*n+o,3*e-6*t+3*n,-3*e+3*t,e]}function Kb(e,t,n,o,a,s,i,r,l,h){if(isNaN(e)||isNaN(t))return 0;s&&([a,o]=[o,a]);let c=(h-r)/(l-i),d=r-c*i,p=Math.pow(c,2)+1,v=2*(c*(d-t)-e),g=Math.pow(e,2)+Math.pow(d-t,2)-Math.pow(n,2),u=Math.pow(v,2)-4*p*g;if(u<0)return 0;let f=(-v+Math.sqrt(u))/2/p,M=(-v-Math.sqrt(u))/2/p,m=0;return[f,M].forEach(k=>{if(!(k>=Math.min(i,l)&&k<=Math.max(i,l)))return;let z=c*k+d,I=k-e,y=z-t,b=Math.atan2(y,I);ps(b,o,a)&&m++}),m}var Nh=class{constructor(){this.path2d=new Path2D,this.previousCommands=[],this.previousParams=[],this.previousClosedPath=!1,this.commands=[],this.params=[],this.openedPath=!1,this.closedPath=!1}isDirty(){return this.closedPath!==this.previousClosedPath||this.previousCommands.length!==this.commands.length||this.previousParams.length!==this.params.length||this.previousCommands.toString()!==this.commands.toString()||this.previousParams.toString()!==this.params.toString()}getPath2D(){return this.path2d}moveTo(e,t){this.openedPath=!0,this.path2d.moveTo(e,t),this.commands.push(0),this.params.push(e,t)}lineTo(e,t){this.openedPath?(this.path2d.lineTo(e,t),this.commands.push(1),this.params.push(e,t)):this.moveTo(e,t)}rect(e,t,n,o){this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+o),this.lineTo(e,t+o),this.closePath()}roundRect(e,t,n,o,a){a=Math.min(a,n/2,o/2),this.moveTo(e,t+a),this.arc(e+a,t+a,a,Math.PI,1.5*Math.PI),this.lineTo(e+a,t),this.lineTo(e+n-a,t),this.arc(e+n-a,t+a,a,1.5*Math.PI,2*Math.PI),this.lineTo(e+n,t+a),this.lineTo(e+n,t+o-a),this.arc(e+n-a,t+o-a,a,0,Math.PI/2),this.lineTo(e+n-a,t+o),this.lineTo(e+a,t+o),this.arc(e+ +a,t+o-a,a,Math.PI/2,Math.PI),this.lineTo(e,t+o-a),this.closePath()}arc(e,t,n,o,a,s){this.openedPath=!0,this.path2d.arc(e,t,n,o,a,s),this.commands.push(2),this.params.push(e,t,n,o,a,s?1:0)}cubicCurveTo(e,t,n,o,a,s){this.openedPath||this.moveTo(e,t),this.path2d.bezierCurveTo(e,t,n,o,a,s),this.commands.push(3),this.params.push(e,t,n,o,a,s)}closePath(){this.openedPath&&(this.path2d.closePath(),this.commands.push(4),this.openedPath=!1,this.closedPath=!0)}clear(e){e&&(this.previousCommands=this.commands,this.previousParams=this.params,this.previousClosedPath=this.closedPath),this.path2d=new Path2D,this.openedPath=!1,this.closedPath=!1,this.commands=[],this.params=[]}isPointInPath(e,t){let n=this.commands,o=this.params,a=n.length,s=-1e4,i=-1e4,r=NaN,l=NaN,h=0,c=0,d=0;for(let p=0,v=0;p<a;p++)switch(n[p]){case 0:d+=Qi(r,l,h,c,s,i,e,t),h=o[v++],r=h,c=o[v++],l=c;break;case 1:d+=Qi(h,c,o[v++],o[v++],s,i,e,t),h=o[v-2],c=o[v-1];break;case 3:d+=BG(h,c,o[v++],o[v++],o[v++],o[v++],o[v++],o[v++],s,i,e,t),h=o[v-2],c=o[v-1];break;case 2:let g=o[v++],u=o[v++],f=o[v++],M=o[v++],m=o[v++],k=!!o[v++];if(d+=Kb(g,u,f,M,m,k,s,i,e,t),!isNaN(r)){let B=g+Math.cos(M)*f,z=u+Math.sin(M)*f;d+=Qi(h,c,B,z,s,i,e,t)}h=g+Math.cos(m)*f,c=u+Math.sin(m)*f;break;case 4:d+=Qi(r,l,h,c,s,i,e,t);break}return d%2===1}distanceSquared(e,t){let n=1/0,o=this.commands,a=this.params,s=o.length,i=NaN,r=NaN,l=0,h=0;for(let c=0,d=0;c<s;c++)switch(o[c]){case 0:l=i=a[d++],h=r=a[d++];break;case 1:{let p=a[d++],v=a[d++];n=Dp(e,t,l,h,p,v,n);break}case 3:q.error("Command.Curve distanceSquare not implemented");break;case 2:{let p=a[d++],v=a[d++],g=a[d++],u=a[d++],f=a[d++],M=p+Math.cos(u)*g,m=v+Math.sin(u)*g,k=!!a[d++];n=Dp(e,t,l,h,M,m,n),n=OU(e,t,p,v,g,u,f,k,n),l=p+Math.cos(f)*g,h=v+Math.sin(f)*g;break}case 4:n=Dp(e,t,l,h,i,r,n);break}return n}getPoints(){let{commands:e,params:t}=this,n=[],o=0;for(let a=0;a<e.length;a++)switch(e[a]){case 0:case 1:n.push({x:t[o++],y:t[o++]});break;case 3:o+=4,n.push({x:t[o++],y:t[o++]});break;case 2:n.push({x:t[o++],y:t[o++]}),o+=4;break;case 4:break}return n}computeSVGDataPath(e,t){let n=[],{commands:o,params:a}=this,s=0;for(let i=0;i<o.length;i++)switch(o[i]){case 0:n.push("M",e+a[s++],t+a[s++]);break;case 1:n.push("L",e+a[s++],t+a[s++]);break;case 3:n.push("C",e+a[s++],t+a[s++],e+a[s++],t+a[s++],e+a[s++],t+a[s++]);break;case 2:let[r,l,h,c,d,p]=[a[s++],a[s++],a[s++],a[s++],a[s++],a[s++]],v=e+r+Math.cos(c)*h,g=t+l+Math.sin(c)*h,u=e+r+Math.cos(d)*h,f=t+l+Math.sin(d)*h,M=ib(c,d,!!p)>Math.PI?1:0,m=(p+1)%2;n.push("L",v,g,"A",h,h,0,M,m,u,f);break;case 4:n.push("Z");break}return n.join(" ")}};function Bt(e){let{redraw:t=3,changeCb:n,convertor:o}=e??{};return dt({redraw:t,type:"path",convertor:o,changeCb:n})}var nn=class extends M1{constructor(){super(...arguments),this.path=new Nh,this._clipX=NaN,this._clipY=NaN,this._dirtyPath=!0}set clipX(e){this._clipX=e,this.dirtyPath=!0}set clipY(e){this._clipY=e,this.dirtyPath=!0}set dirtyPath(e){this._dirtyPath!==e&&(this._dirtyPath=e,e&&this.markDirty(this,3))}get dirtyPath(){return this._dirtyPath}checkPathDirty(){this._dirtyPath||(this.dirtyPath=this.path.isDirty()||(this.fillShadow?.isDirty()??!1)||(this._clipPath?.isDirty()??!1))}isPointInPath(e,t){let n=this.transformPoint(e,t);return this.path.closedPath&&this.path.isPointInPath(n.x,n.y)}distanceSquared(e,t){let n=this.transformPoint(e,t);return this.distanceSquaredTransformedPoint(n.x,n.y)}computeSVGDataPath(){let{x:e,y:t}=this.inverseTransformPoint(0,0);return this.path.computeSVGDataPath(e,t)}distanceSquaredTransformedPoint(e,t){return this.path.closedPath&&this.path.isPointInPath(e,t)?0:this.path.distanceSquared(e,t)}isDirtyPath(){return!1}updatePath(){}render(e){let{ctx:t,forceRender:n,stats:o}=e;if(this.dirty===0&&!n){o&&(o.nodesSkipped+=this.nodeCount.count);return}if(this.computeTransformMatrix(),this.matrix.toContext(t),(this.dirtyPath||this.isDirtyPath())&&(this.updatePath(),this.dirtyPath=!1),!isNaN(this._clipX)&&!isNaN(this._clipY)&&this.clipMode!=null){t.save();let a=this.strokeWidth/2;if(this._clipPath??(this._clipPath=new Nh),this._clipPath.clear(),this._clipPath.rect(-a,-a,this._clipX+a,this._clipY+a+a),this.clipMode==="normal"&&t.clip(this._clipPath?.getPath2D()),this._clipX>0&&this._clipY>0&&this.drawPath(t),this.clipMode==="punch-out"){t.clip(this._clipPath?.getPath2D());let{x:s=-1e4,y:i=-1e4,width:r=2e4,height:l=2e4}=this.computeBBox()??{};t.clearRect(s,i,r,l)}t.restore()}else this.drawPath(t);this.fillShadow?.markClean(),super.render(e)}drawPath(e){this.fillStroke(e,this.path.getPath2D())}};nn.className="Path";w([Bt()],nn.prototype,"clipMode",2);w([Bt()],nn.prototype,"clipX",1);w([Bt()],nn.prototype,"clipY",1);var Zb={};Oo(Zb,{block:()=>l6,css:()=>SG,elements:()=>DG,modifiers:()=>h6});var SG=".ag-charts-focus.ag-charts-focus__indicator{position:absolute;display:block;pointer-events:none;user-select:none;width:100%;height:100%}.ag-charts-focus.ag-charts-focus__indicator > div{position:absolute;outline:var(--ag-charts-focus-border);outline-width:2px;box-shadow:var(--ag-charts-focus-border-shadow)}.ag-charts-focus.ag-charts-focus__indicator > svg{width:100%;height:100%;fill:none;stroke:var(--ag-charts-focus-border-color);stroke-width:2px}.ag-charts-focus--hidden{visibility:hidden}",l6="ag-charts-focus",DG={indicator:"ag-charts-focus__indicator",svg:"ag-charts-focus__svg"},h6={hidden:"ag-charts-focus--hidden"},HG=class{constructor(e){this.domManager=e;let{css:t,block:n,elements:o,modifiers:a}=Zb;this.div=ma().createElement("div"),this.svg=ma().createElementNS("http://www.w3.org/2000/svg","svg"),this.path=ma().createElementNS("http://www.w3.org/2000/svg","path"),this.svg.append(this.path),e.addStyles(n,t),this.element=e.addChild("canvas-overlay",n),this.element.classList.add(n,o.indicator,a.hidden),this.element.append(this.svg)}destroy(){this.domManager.removeStyles(l6),this.domManager.removeChild("canvas-overlay",l6)}updateBounds(e){e===void 0?this.element.classList.add(h6.hidden):e instanceof nn?(this.path.setAttribute("d",e.computeSVGDataPath()),this.show(this.svg)):(ga(this.div,e),this.show(this.div))}show(e){this.element.classList.remove(h6.hidden),this.element.innerHTML="",this.element.append(e)}};function yk(e,t){return t.params?.type===e}function Ik(e){return{params:e,result:T0({button:"button",slider:"input",toolbar:"div",group:"div"}[e.type])}}var EG=class{constructor(e,t,n,o){this.localeManager=t,this.domManager=n,this.focusIndicator=o,this.debugShowDOMProxies=me.check("showDOMProxies"),this.destroyFns=[],this.destroyFns.push(e.addListener("update-complete",()=>this.update()))}destroy(){this.destroyFns.forEach(e=>e())}update(){this.focusable&&this.focusIndicator.updateBounds(this.focusable.computeTransformedBBox())}addLocalisation(e){e(),this.destroyFns.push(this.localeManager.addListener("locale-changed",e))}createProxyContainer(e){let t=Ik(e),{params:n,result:o}=t;return this.domManager.addChild("canvas-overlay",n.id,o),o.classList.add(...n.classList),o.style.pointerEvents="none",o.role=n.type,o.ariaOrientation=n.ariaOrientation,this.addLocalisation(()=>{o.ariaLabel=this.localeManager.t(n.ariaLabel.id,n.ariaLabel.params)}),o}createProxyElement(e){let t=Ik(e);if(yk("button",t)){let{params:n,result:o}=t;if(this.initElement(n,o),typeof n.textContent=="string")o.textContent=n.textContent;else{let{textContent:a}=n;this.addLocalisation(()=>{o.textContent=this.localeManager.t(a.id,a.params)})}}if(yk("slider",t)){let{params:n,result:o}=t;this.initElement(n,o),o.type="range",o.role="presentation",o.style.margin="0px",o.ariaOrientation=n.ariaOrientation,this.addLocalisation(()=>{o.ariaLabel=this.localeManager.t(n.ariaLabel.id,n.ariaLabel.params)})}return t.result}initElement(e,t){let{focusable:n,onclick:o,onchange:a,onfocus:s,onblur:i,tabIndex:r,id:l,parent:h}=e;t.id=l,t.style.pointerEvents="none",t.style.opacity=this.debugShowDOMProxies?"0.25":"0",t.style.position="absolute",t.style.overflow="hidden",r!==void 0&&(t.tabIndex=r),h.appendChild(t),t.addEventListener("focus",c=>{this.focusable=n,t.style.setProperty("pointerEvents",null),this.focusIndicator.updateBounds(n.computeTransformedBBox())}),t.addEventListener("blur",c=>{this.focusable=void 0,t.style.pointerEvents="none",this.focusIndicator.updateBounds(void 0)}),o&&t.addEventListener("click",o),s&&t.addEventListener("focus",s),i&&t.addEventListener("blur",i),a&&t.addEventListener("change",a)}},kk=class{constructor(e){this.maxAnimationTime=e,this.debug=me.create(!0,"animation"),this.controllers=new Map,this.stoppedCbs=new Set,this.currentPhase=0,this.phases=new Map(qi.map(t=>[t,[]])),this.skipAnimations=!1,this.animationTimeConsumed=0,this.isReady=!1}get size(){return this.controllers.size}get consumedTimeMs(){return this.animationTimeConsumed}isActive(){return this.controllers.size>0}getActiveControllers(){return this.phases.get(qi[this.currentPhase])??[]}checkOverlappingId(e){e!=null&&this.controllers.has(e)&&(this.controllers.get(e).stop(),this.debug(`Skipping animation batch due to update of existing animation: ${e}`),this.skip())}addAnimation(e){if(e.isComplete)return;if(qi.indexOf(e.phase)<this.currentPhase){this.debug("Skipping animation due to being for an earlier phase",e.id),e.stop();return}this.controllers.set(e.id,e),this.phases.get(e.phase)?.push(e)}removeAnimation(e){this.controllers.delete(e.id);let t=this.phases.get(e.phase),n=t?.indexOf(e);n!=null&&n>=0&&t?.splice(n,1)}progress(e){if(!this.isReady)return;let t=e===0?.01:e,n=()=>{let h=qi[this.currentPhase];return{phaseControllers:[...this.getActiveControllers()],phase:h,phaseMeta:Th[h]}},{phase:o,phaseControllers:a,phaseMeta:s}=n(),i=()=>qi[this.currentPhase]==null,r=()=>{for({phase:o,phaseControllers:a,phaseMeta:s}=n();!i()&&a.length===0;)this.currentPhase++,{phase:o,phaseControllers:a,phaseMeta:s}=n(),this.debug(`AnimationBatch - phase changing to ${o}`,{unusedTime:t},a)},l=this.controllers.size;this.debug(`AnimationBatch - ${e}ms; phase ${o} with ${a?.length} of ${l}`);do{let h=t,c=s.skipIfNoEarlierAnimations&&this.animationTimeConsumed===0,d=0;for(let p of a)c?p.stop():t=Math.min(p.update(h),t),p.isComplete&&(d++,this.removeAnimation(p));this.animationTimeConsumed+=h-t,this.debug(`AnimationBatch - updated ${a.length} controllers; ${d} completed`),this.debug(`AnimationBatch - animationTimeConsumed: ${this.animationTimeConsumed}`),r()}while(t>0&&!i());this.animationTimeConsumed>this.maxAnimationTime&&(q.warnOnce("Animation batch exceeded max animation time, skipping.",new Map(this.controllers.entries())),this.stop())}ready(){if(this.isReady)return;this.isReady=!0,this.debug(`AnimationBatch - ready; skipped: ${this.skipAnimations}`,[...this.controllers]);let e=!0;for(let[,t]of this.controllers)if(t.duration>0&&Th[t.phase].skipIfNoEarlierAnimations!==!0){e=!1;break}if(!e)for(let[,t]of this.controllers)t.autoplay&&t.play(!0)}skip(e=!0){if(this.skipAnimations===!1&&e===!0){for(let t of this.controllers.values())t.stop();this.controllers.clear()}this.skipAnimations=e}play(){for(let e of this.controllers.values())e.play()}pause(){for(let e of this.controllers.values())e.pause()}stop(){for(let e of this.controllers.values())try{e.stop(),this.removeAnimation(e)}catch(t){q.error("Error during animation stop",t)}this.dispatchStopped()}stopByAnimationId(e){if(e!=null&&this.controllers.has(e)){let t=this.controllers.get(e);t&&(t.stop(),this.removeAnimation(t))}}stopByAnimationGroupId(e){for(let t of this.controllers.values())t.groupId===e&&this.stopByAnimationId(t.id)}dispatchStopped(){this.stoppedCbs.forEach(e=>e()),this.stoppedCbs.clear()}isSkipped(){return this.skipAnimations}destroy(){this.stop(),this.controllers.clear()}};function zk(e){return e==null?!0:!isNaN(e)&&e>=0&&e<=2}var Xb=class extends W1{constructor(e,t){super(),this.interactionManager=e,this.chartUpdateMutex=t,this.defaultDuration=1e3,this.batch=new kk(this.defaultDuration*1.5),this.debug=me.create(!0,"animation"),this.rafAvailable=typeof requestAnimationFrame<"u",this.isPlaying=!1,this.requestId=null,this.skipAnimations=!1,this.currentAnonymousAnimationId=0}animate(t){var e=ue(t,[]);let n=this.batch;try{n.checkOverlappingId(e.id)}catch(l){this.failsafeOnError(l);return}let{id:o}=e;o==null&&(o=`__${this.currentAnonymousAnimationId}`,this.currentAnonymousAnimationId+=1);let a=this.isSkipped()||e.phase==="none";a&&this.debug("AnimationManager - skipping animation");let{delay:s,duration:i}=e;if(!zk(s))throw new Error(`Animation delay of ${s} is unsupported (${o})`);if(!zk(i))throw new Error(`Animation duration of ${i} is unsupported (${o})`);let r=new Hz(V(S({},e),{id:o,skip:a,autoplay:this.isPlaying?e.autoplay:!1,phase:e.phase,defaultDuration:this.defaultDuration}));if(!this.forceTimeJump(r,this.defaultDuration))return this.batch.addAnimation(r),r}play(){if(!this.isPlaying){this.isPlaying=!0,this.debug("AnimationManager.play()");try{this.batch.play()}catch(e){this.failsafeOnError(e)}this.requestAnimation()}}pause(){if(this.isPlaying){this.isPlaying=!1,this.cancelAnimation(),this.debug("AnimationManager.pause()");try{this.batch.pause()}catch(e){this.failsafeOnError(e)}}}stop(){this.isPlaying=!1,this.cancelAnimation(),this.debug("AnimationManager.stop()"),this.batch.stop()}stopByAnimationId(e){try{this.batch.stopByAnimationId(e)}catch(t){this.failsafeOnError(t)}}stopByAnimationGroupId(e){try{this.batch.stopByAnimationGroupId(e)}catch(t){this.failsafeOnError(t)}}reset(){this.isPlaying?(this.stop(),this.play()):this.stop()}skip(e=!0){this.skipAnimations=e}isSkipped(){return!this.rafAvailable||this.skipAnimations||this.batch.isSkipped()}isActive(){return this.isPlaying&&this.batch.isActive()}skipCurrentBatch(){this.debug.check()&&this.debug("AnimationManager - skipCurrentBatch()",{stack:new Error().stack}),this.batch.skip()}isSkippingFrames(){return!0}scheduleAnimationFrame(e){this.requestId=requestAnimationFrame(e)}forceTimeJump(e,t){return!1}requestAnimation(){if(!this.rafAvailable||!this.batch.isActive()||this.requestId!==null)return;let e,t=n=>R(this,null,function*(){let o=()=>R(this,null,function*(){let a=n-(e??n);e=n,this.debug("AnimationManager - onAnimationFrame()",{controllersCount:this.batch.size,deltaTime:a}),this.interactionManager.pushState(1);try{this.batch.progress(a)}catch(s){this.failsafeOnError(s)}this.listeners.dispatch("animation-frame",{type:"animation-frame",deltaMs:a})});this.isSkippingFrames()?yield this.chartUpdateMutex.acquireImmediately(o):yield this.chartUpdateMutex.acquire(o),this.batch.isActive()?this.scheduleAnimationFrame(t):(this.batch.stop(),this.listeners.dispatch("animation-stop",{type:"animation-stop",deltaMs:this.batch.consumedTimeMs}))});this.listeners.dispatch("animation-start",{type:"animation-start",deltaMs:0}),this.scheduleAnimationFrame(t)}cancelAnimation(){this.requestId!==null&&(cancelAnimationFrame(this.requestId),this.requestId=null,this.startBatch())}failsafeOnError(e,t=!0){q.error("Error during animation, skipping animations",e),t&&this.cancelAnimation()}startBatch(e){this.debug(`AnimationManager - startBatch() with skipAnimations=${e}.`),this.reset(),this.batch.stop(),this.batch.destroy(),this.batch=new kk(this.defaultDuration*1.5),e===!0&&this.batch.skip()}endBatch(){this.batch.isActive()?(this.batch.ready(),this.requestAnimation()):(this.interactionManager.popState(1),this.batch.isSkipped()&&this.batch.skip(!1))}onBatchStop(e){this.batch.stoppedCbs.add(e)}},TG=class Qb{constructor(t,n,o){this.localeManager=t,this.domManager=n,this.layoutService=o,this.debug=me.create(!0,"aria"),this.destroyFns=[],this.liveElem=Qb.createAnnouncer(),this.domManager.addChild("canvas-proxy","ag-charts-canvas-proxy",this.liveElem),this.destroyFns.push(this.layoutService.addListener("layout-complete",a=>this.onResize(a)),()=>this.domManager.removeChild("canvas-proxy","ag-charts-canvas-proxy"))}static createAnnouncer(){let t=ma().createElement("div");return t.classList.add("ag-charts-aria-announcer"),H2(t,"role","figure"),H2(t,"aria-live","assertive"),t}destroy(){this.destroyFns.forEach(t=>t())}onResize(t){this.liveElem.style.width=`${t.chart.width}px`,this.liveElem.style.height=`${t.chart.height}px`}announceValue(t,n){let{localeManager:o,liveElem:a}=this,s=o.t(t,n);this.debug(`AriaAnnouncementService - announceValue: ${s}`),a.textContent="\xA0",setTimeout(()=>a.innerText=s,16)}},Jb=class extends W1{legendItemClick(e,t,n,o){let a={type:"legend-item-click",series:e,itemId:t,enabled:n,legendItemName:o};this.listeners.dispatch("legend-item-click",a)}legendItemDoubleClick(e,t,n,o,a){let s={type:"legend-item-double-click",series:e,itemId:t,enabled:n,legendItemName:a,numVisibleItems:o};this.listeners.dispatch("legend-item-double-click",s)}axisHover(e,t){let n={type:"axis-hover",axisId:e,direction:t};this.listeners.dispatch("axis-hover",n)}},tC=class eC{constructor(t){this.defaultActions=[],this.disabledActions=new Set,this.hiddenActions=new Set,this.listeners=new Hs;let{Default:n,ContextMenu:o}=cr;this.destroyFns=[t.listenAll("contextmenu",a=>this.onContextMenu(a),n|o)]}destroy(){this.destroyFns.forEach(t=>t())}onContextMenu(t){eC.toContextType(t.region)==="all"&&this.dispatchContext("all",t,{})}static toContextType(t){return t==="legend"||t==="series"?t:"all"}static check(t,n){return n.type===t}static checkCallback(t,n,o){return t===n}dispatchContext(t,n,o){let{offsetX:a,offsetY:s,sourceEvent:i}=n;this.listeners.dispatch("",Oh({type:t,x:a,y:s,context:o,sourceEvent:i}))}addListener(t){return this.listeners.addListener("",t)}filterActions(t){return this.defaultActions.filter(n=>n.id&&!this.hiddenActions.has(n.id)&&["all",t].includes(n.type))}registerDefaultAction(t){t.id&&this.defaultActions.find(({id:n})=>n===t.id)||this.defaultActions.push(t)}enableAction(t){this.disabledActions.delete(t)}disableAction(t){this.disabledActions.add(t)}setActionVisiblity(t,n){n?this.hiddenActions.delete(t):this.hiddenActions.add(t)}isDisabled(t){return this.disabledActions.has(t)}},dr=class extends Map{constructor(e,t){super(),this.defaultValue=e,this.defaultState=t}set(e,t){return this.delete(e),typeof t<"u"&&super.set(e,t),this}stateId(){return Array.from(this.keys()).pop()??this.defaultState}stateValue(){return Array.from(this.values()).pop()??this.defaultValue}},nC=(e=>(e.Auto="auto",e.Default="default",e.Grab="grab",e.Grabbing="grabbing",e.Move="move",e.NotAllowed="not-allowed",e.Pointer="pointer",e.EWResize="ew-resize",e.NSResize="ns-resize",e.ZoomIn="zoom-in",e.ZoomOut="zoom-out",e))(nC||{}),oC=class{constructor(e){this.domManager=e,this.stateTracker=new dr("default")}updateCursor(e,t){this.stateTracker.set(e,t),this.domManager.updateCursor(this.stateTracker.stateValue())}getCursor(){return this.domManager.getCursor()}};function _G(e,t){let n=e.screenX-t.screenX,o=e.screenY-t.screenY;return n*n+o*o}function bk(e,t){return Math.sqrt(_G(e,t))}var AG=1,aC=class extends W1{constructor(e){super(),this.domManager=e,this.touchstart=t=>this.onTouchStart(t),this.touchmove=t=>this.onTouchMove(t),this.touchend=t=>this.onTouchEnd(t),this.touchcancel=t=>this.onTouchCancel(t),this.pinch={finger1:{identifier:NaN,screenX:NaN,screenY:NaN},finger2:{identifier:NaN,screenX:NaN,screenY:NaN},origin:{x:NaN,y:NaN},distance:NaN,status:0},this.domManager.addEventListener("touchstart",this.touchstart,{passive:!0}),this.domManager.addEventListener("touchmove",this.touchmove,{passive:!1}),this.domManager.addEventListener("touchend",this.touchend),this.domManager.addEventListener("touchcancel",this.touchcancel)}destroy(){this.domManager.removeEventListener("touchstart",this.touchstart),this.domManager.removeEventListener("touchmove",this.touchmove),this.domManager.removeEventListener("touchend",this.touchend),this.domManager.removeEventListener("touchcancel",this.touchcancel)}findPinchTouches(e){let{touches:t}=e,{finger1:n,finger2:o}=this.pinch;if(this.pinch.status!==0&&t.length===2){if(t[0].identifier===n.identifier&&t[1].identifier===o.identifier)return[t[0],t[1]];if(t[0].identifier===o.identifier&&t[1].identifier===n.identifier)return[t[1],t[0]]}}copyTouchData(e){let t=["identifier","screenX","screenY"];x2(t,this.pinch.finger1,e.touches[0]),x2(t,this.pinch.finger2,e.touches[1]),this.pinch.distance=bk(this.pinch.finger1,this.pinch.finger2)}dispatchPinchEvent(e,t,n){let{finger1:o,finger2:a,origin:s}=this.pinch;this.listeners.dispatch(e,Oh({sourceEvent:n,type:e,finger1:o,finger2:a,deltaDistance:t,origin:s}))}onTouchStart(e){this.stopPinchTracking(e);let{pinch:t}=this;e.touches.length===2&&(t.status=1,this.copyTouchData(e),t.origin.x=(e.touches[0].clientX+e.touches[1].clientX)/2,t.origin.y=(e.touches[0].clientY+e.touches[1].clientY)/2)}onTouchMove(e){let t=this.findPinchTouches(e);if(t!==void 0){let[n,o]=t,{pinch:a}=this,s=bk(n,o),i=s-a.distance;a.status===1?Math.abs(i)>AG&&(a.status=2,this.copyTouchData(e),this.dispatchPinchEvent("pinch-start",0,e)):a.status===2?(a.distance=s,this.copyTouchData(e),this.dispatchPinchEvent("pinch-move",i,e)):q.error(`unexpected pinch.status: ${a.status}`)}}onTouchEnd(e){this.stopPinchTracking(e)}onTouchCancel(e){this.stopPinchTracking(e)}stopPinchTracking(e){let{pinch:t}=this;t.status===2&&this.dispatchPinchEvent("pinch-end",0,e),this.pinch.status=0}},sC=class extends W1{constructor(){super(...arguments),this.highlightStates=new dr}updateHighlight(e,t){let{activeHighlight:n}=this;this.highlightStates.set(e,t),this.activeHighlight=this.highlightStates.stateValue(),this.isEqual(this.activeHighlight,n)||this.listeners.dispatch("highlight-change",{type:"highlight-change",currentHighlight:this.activeHighlight,previousHighlight:n})}getActiveHighlight(){return this.activeHighlight}isEqual(e,t){return e===t||e?.series===t?.series&&e?.itemId===t?.itemId&&e?.datum===t?.datum}},iC=class extends W1{constructor(e,t){super(),this.domManager=t,this.hasBrowserFocus=!1,this.isMouseBlurred=!1,this.isClicking=!1,this.destroyFns.push(e.addListener("drag-start",n=>this.onClickStart(n),31),e.addListener("click",n=>this.onClickStop(n),31),e.addListener("drag-end",n=>this.onClickStop(n),31),e.addListener("wheel",n=>this.mouseBlur(n)),e.addListener("hover",n=>this.mouseBlur(n)),e.addListener("drag",n=>this.mouseBlur(n)),e.addListener("blur",n=>this.onBlur(n),31),e.addListener("focus",n=>this.onFocus(n),31),e.addListener("keydown",n=>this.onKeyDown(n),31))}destroy(){super.destroy()}onClickStart(e){this.isClicking=!0,this.mouseBlur(e)}onClickStop(e){this.mouseBlur(e),this.isClicking=!1}mouseBlur(e){this.hasBrowserFocus&&(this.isMouseBlurred||(this.dispatch("blur",0,e),this.isMouseBlurred=!0))}onBlur(e){this.hasBrowserFocus=!1,this.isMouseBlurred=!1,this.dispatch("blur",0,e)}onFocus(e){let t=this.domManager.getBrowserFocusDelta();if(this.dispatch("browserfocus",t,e),this.hasBrowserFocus=!0,this.isClicking){this.isMouseBlurred=!0;return}this.dispatch("tab",t,e)}onKeyDown(e){if(!this.hasBrowserFocus)return;this.isMouseBlurred=!1;let{code:t,altKey:n,shiftKey:o,metaKey:a,ctrlKey:s}=e.sourceEvent;if(t==="Tab")return o?this.dispatch("tab",-1,e):this.dispatch("tab",1,e);if(!(n||o||a||s)){switch(t){case"ArrowDown":return this.dispatch("nav-vert",1,e);case"ArrowUp":return this.dispatch("nav-vert",-1,e);case"ArrowLeft":return this.dispatch("nav-hori",-1,e);case"ArrowRight":return this.dispatch("nav-hori",1,e);case"ZoomIn":case"Add":return this.dispatch("nav-zoom",1,e);case"ZoomOut":case"Substract":return this.dispatch("nav-zoom",-1,e);case"Space":case"Enter":return this.dispatch("submit",0,e);case"Escape":return this.dispatch("cancel",0,e);case"Backspace":case"Delete":return this.dispatch("delete",0,e)}switch(e.sourceEvent.key){case"+":return this.dispatch("nav-zoom",1,e);case"-":return this.dispatch("nav-zoom",-1,e)}}}dispatch(e,t,n){Ep(this.listeners,{type:e,delta:t,sourceEvent:n})}},Cw=["series"],Ck=class extends Hs{};function Bk(e,t,n,o,a=16){return e?.addListener(n,s=>{t.getState()&a&&o(s)})??(()=>{})}var RG=class{constructor(e,t,n){this.interactionManager=e,this.keyNavManager=t,this.focusIndicator=n,this.currentTabIndex=0,this.isDragging=!1,this.leftCanvas=!1,this.regions=new Map,this.destroyFns=[],this.allRegionsListeners=new Ck,this.destroyFns.push(...K6.map(o=>e.addListener(o,this.processPointerEvent.bind(this),31)),this.keyNavManager.addListener("blur",this.onNav.bind(this)),this.keyNavManager.addListener("browserfocus",this.onBrowserFocus.bind(this)),this.keyNavManager.addListener("tab",this.onTab.bind(this)),this.keyNavManager.addListener("nav-vert",this.onNav.bind(this)),this.keyNavManager.addListener("nav-hori",this.onNav.bind(this)),this.keyNavManager.addListener("nav-zoom",this.onNav.bind(this)),this.keyNavManager.addListener("submit",this.onNav.bind(this)),this.keyNavManager.addListener("cancel",this.onNav.bind(this)),this.keyNavManager.addListener("delete",this.onNav.bind(this)))}destroy(){this.destroyFns.forEach(e=>e()),this.currentRegion=void 0;for(let e of this.regions.values())e.listeners.destroy();this.focusIndicator.destroy(),this.regions.clear()}addRegion(e,...t){if(this.regions.has(e))throw new Error(`AG Charts - Region: ${e} already exists`);let n={properties:{name:e,bboxproviders:[...t]},listeners:new Ck};return this.regions.set(e,n),this.makeObserver(n)}updateRegion(e,...t){let n=this.regions.get(e);n&&(n.properties.bboxproviders=[...t])}getRegion(e){return this.makeObserver(this.regions.get(e))}listenAll(e,t,n=16){return Bk(this.allRegionsListeners,this.interactionManager,e,t,n)}makeObserver(e){let{interactionManager:t}=this;class n{addListener(a,s,i=16){return Bk(e?.listeners,t,a,s,i)}}return new n}checkPointerHistory(e,t){for(let n of t.pointerHistory){let o=this.pickRegion(n.offsetX,n.offsetY);if(e.properties.name!==o?.properties.name)return!1}return!0}dispatch(e,t){if(e==null)return;let n=Oh(V(S({},t),{region:e.properties.name}));this.allRegionsListeners.dispatch(n.type,n),e.listeners.dispatch(n.type,n)}handleDragging(e){let{currentRegion:t}=this;switch(e.type){case"drag-start":this.isDragging=!0,this.leftCanvas=!1;break;case"leave":return this.leftCanvas=!0,this.isDragging;case"enter":return this.leftCanvas=!1,this.isDragging;case"drag":if(this.isDragging)return this.dispatch(t,e),!0;break;case"drag-end":if(this.isDragging)return this.isDragging=!1,this.dispatch(t,e),this.leftCanvas&&this.dispatch(t,V(S({},e),{type:"leave"})),!0;break}return!1}processPointerEvent(e){if(this.handleDragging(e))return;let{currentRegion:t}=this,n=this.pickRegion(e.offsetX,e.offsetY);t!==void 0&&n?.properties.name!==t.properties.name&&this.dispatch(t,V(S({},e),{type:"leave"})),n!==void 0&&n.properties.name!==t?.properties.name&&this.dispatch(n,V(S({},e),{type:"enter"})),n!==void 0&&this.checkPointerHistory(n,e)&&this.dispatch(n,e),this.currentRegion=n}pickRegion(e,t){let n=1/0,o;for(let a of this.regions.values())for(let s of a.properties.bboxproviders){let i=s.computeTransformedBBox(),r=i.width*i.height;r<n&&i.containsPoint(e,t)&&(n=r,o=a)}return o}getTabRegion(e){if(e!==void 0&&e>=0&&e<Cw.length)return this.regions.get(Cw[e])}getNextInteractableTabIndex(e,t){let n=t<0?-1:1,o=e;for(;t!==0;){if(this.getTabRegion(o+n)===void 0)return;t=t-n,o=o+n}return o}validateCurrentTabIndex(){this.getTabRegion(this.currentTabIndex)!==void 0&&(this.currentTabIndex=this.getNextInteractableTabIndex(-1,1)??0)}onBrowserFocus(e){e.delta>0?this.currentTabIndex=-1:e.delta<0&&(this.currentTabIndex=Cw.length)}onTab(e){this.validateCurrentTabIndex();let t=this.getNextInteractableTabIndex(this.currentTabIndex,e.delta),n=this.getTabRegion(t),o=this.getTabRegion(this.currentTabIndex);if(t!==void 0&&(this.currentTabIndex=t),o!==void 0&&n?.properties.name!==o.properties.name){let{delta:a,sourceEvent:s}=e,i=Oh({type:"blur",delta:a,sourceEvent:s});this.dispatch(o,i)}n===void 0?this.focusIndicator.updateBounds(void 0):this.dispatch(n,e)}onNav(e){let t=this.getTabRegion(this.currentTabIndex);this.dispatch(t,e)}},rC=["start","center","end"],Bw=["annotations","annotationOptions","ranges","zoom"],xh=(e=>(e.Top="top",e.Right="right",e.Bottom="bottom",e.Left="left",e.Floating="floating",e.FloatingTop="floating-top",e.FloatingBottom="floating-bottom",e))(xh||{}),Ji=Object.values(xh);function Sk(e){return["floating-top","floating-bottom"].includes(e)}var lC=class extends W1{static isGroup(e,t){return t.group===e}static isChildElement(e,t){for(let n of Ji)if(e.isManagedChildDOMElement(t,"canvas-overlay",`toolbar-${n}`))return!0;return!1}pressButton(e,t){this.listeners.dispatch("button-pressed",{type:"button-pressed",group:e,value:t})}cancel(e){this.listeners.dispatch("cancelled",{type:"cancelled",group:e})}toggleButton(e,t,n){let{active:o=!1,enabled:a=!0,visible:s=!0}=n;this.listeners.dispatch("button-toggled",{type:"button-toggled",group:e,value:t,active:o,enabled:a,visible:s})}toggleGroup(e,t,n){this.listeners.dispatch("group-toggled",{type:"group-toggled",caller:e,group:t,visible:n})}changeFloatingAnchor(e,t){this.listeners.dispatch("floating-anchor-changed",{type:"floating-anchor-changed",group:e,anchor:t})}buttonMoved(e,t,n){this.listeners.dispatch("button-moved",{type:"button-moved",group:e,value:t,rect:n})}proxyGroupOptions(e,t,n){this.listeners.dispatch("proxy-group-options",{type:"proxy-group-options",caller:e,group:t,options:n})}},LG=".ag-chart-tooltip{transition:transform 0.1s ease;max-width:100%;z-index:99999;font:12px Verdana,sans-serif;color:rgb(70,70,70);box-shadow:0 4px 8px rgba(0,0,0,0.08)}.ag-chart-tooltip-wrap-always{overflow-wrap:break-word;word-break:break-word;hyphens:none}.ag-chart-tooltip-wrap-hyphenate{overflow-wrap:break-word;word-break:break-word;hyphens:auto}.ag-chart-tooltip-wrap-on-space{overflow-wrap:normal;word-break:normal}.ag-chart-tooltip-wrap-never{white-space:pre;text-overflow:ellipsis}.ag-chart-tooltip-no-interaction{pointer-events:none;user-select:none}.ag-chart-tooltip-no-animation{transition:none!important}.ag-chart-tooltip-hidden{visibility:hidden}.ag-chart-tooltip-title{overflow:hidden;position:relative;padding:8px 14px;border-top-left-radius:2px;border-top-right-radius:2px;color:white;background-color:#888888;z-index:1;text-overflow:inherit}.ag-chart-tooltip-title:only-child{border-bottom-left-radius:2px;border-bottom-right-radius:2px}.ag-chart-tooltip-content{overflow:hidden;padding:6px 14px;line-height:1.7em;background:white;border-bottom-left-radius:2px;border-bottom-right-radius:2px;border:1px solid rgba(0,0,0,0.15);text-overflow:inherit}.ag-chart-tooltip-arrow::before{content:'';position:absolute;top:100%;left:50%;transform:translateX(-50%);border:5px solid #d9d9d9;border-left-color:transparent;border-right-color:transparent;border-bottom-color:transparent;width:0;height:0;margin:0 auto}.ag-chart-tooltip-arrow::after{content:'';position:absolute;top:calc(100% - 1px);left:50%;transform:translateX(-50%);border:5px solid white;border-left-color:transparent;border-right-color:transparent;border-bottom-color:transparent;width:0;height:0;margin:0 auto}",Wp=class{constructor(e,t){this.domManager=e,this.tooltip=t,this.stateTracker=new dr,this.suppressState=new dr(!1),this.appliedState=null,t.setup(e),e.addListener("hidden",()=>this.tooltip.toggle(!1)),e.addStyles("tooltip",LG)}updateTooltip(e,t,n){this.tooltip.enabled&&(n??(n=this.stateTracker.get(e)?.content),this.stateTracker.set(e,{content:n,meta:t}),this.applyStates())}removeTooltip(e){this.tooltip.enabled&&(this.stateTracker.delete(e),this.applyStates())}suppressTooltip(e){this.suppressState.set(e,!0)}unsuppressTooltip(e){this.suppressState.delete(e)}getTooltipMeta(e){return this.stateTracker.get(e)?.meta}destroy(){this.domManager.removeStyles("tooltip")}applyStates(){let e=this.stateTracker.stateId(),t=e?this.stateTracker.get(e):null;if(this.suppressState.stateValue()||t?.meta==null||t?.content==null){this.appliedState=null,this.tooltip.toggle(!1);return}let n=this.domManager.getBoundingClientRect();if(this.appliedState?.content===t?.content){let o=this.tooltip.isVisible();this.tooltip.show(n,t?.meta,null,o)}else this.tooltip.show(n,t?.meta,t?.content);this.appliedState=t}static makeTooltipMeta(e,t){let{offsetX:n,offsetY:o}=e,{tooltip:a}=t.series.properties,s={offsetX:n,offsetY:o,enableInteraction:a.interaction?.enabled??!1,lastPointerEvent:{type:e.type,offsetX:n,offsetY:o},showArrow:a.showArrow,position:{type:a.position.type,xOffset:a.position.xOffset,yOffset:a.position.yOffset}},i=t.yBar?.upperPoint??t.midPoint??t.series.datumMidPoint?.(t);if(a.position.type==="node"&&i){let{x:r,y:l}=i,h=t.series.contentGroup.inverseTransformPoint(r,l);return V(S({},s),{offsetX:Math.round(h.x),offsetY:Math.round(h.y)})}return s}},hC=class extends Hs{constructor(){super(...arguments),this.layoutComplete="layout-complete",this.debug=me.create(!0,"layout")}addListener(e,t){if(this.isLayoutStage(e)||this.isLayoutComplete(e))return super.addListener(e,t);throw new Error(`AG Charts - unsupported listener type: ${e}`)}dispatchPerformLayout(e,t){return this.isLayoutStage(e)?this.getListenersByType(e).reduce((n,o)=>{try{let a=o.handler(n);return this.debug("[LayoutService] Context updated to: ",S({},a),o),a}catch(a){return q.errorOnce(a),n}},t):t}dispatchLayoutComplete(e){this.dispatch(this.layoutComplete,e)}isLayoutStage(e){return e!==this.layoutComplete}isLayoutComplete(e){return e===this.layoutComplete}},OG=/\$\{(\w+)\}(?:\[(\w+)\])?/gi,Sw={number:new Intl.NumberFormat("en-US"),percent:new Intl.NumberFormat("en-US",{style:"percent"}),date:new Intl.DateTimeFormat("en-US",{dateStyle:"full"}),time:new Intl.DateTimeFormat("en-US",{timeStyle:"full"}),datetime:new Intl.DateTimeFormat("en-US",{dateStyle:"full",timeStyle:"full"})},NG=({defaultValue:e,variables:t})=>e?.replaceAll(OG,(n,o,a)=>{let s=t[o],i=a!=null?Sw[a]:void 0;return a!=null&&i==null&&q.warnOnce(`Format style [${a}] is not supported`),i!=null?i.format(s):typeof s=="number"?Sw.number.format(s):s instanceof Date?Sw.datetime.format(s):s}),PG=class extends Hs{constructor(){super(...arguments),this.localeText=void 0,this.getLocaleText=void 0}setLocaleText(e){this.localeText!==e&&(this.localeText=e,this.dispatch("locale-changed"))}setLocaleTextFormatter(e){this.getLocaleText=e,this.getLocaleText!==e&&(this.getLocaleText=e,this.dispatch("locale-changed"))}t(e,t={}){let{localeText:n=VV,getLocaleText:o}=this,a=n[e];return o?.({key:e,defaultValue:a,variables:t})??NG({key:e,defaultValue:a,variables:t})??e}},FG=class{constructor(){this.groups={}}registerSeries({id:e,seriesGrouping:t,visible:n,type:o}){var a;t&&((a=this.groups)[o]??(a[o]={}),this.groups[o][e]={grouping:t,visible:n})}deregisterSeries({id:e,type:t}){this.groups[t]&&delete this.groups[t][e],this.groups[t]&&Object.keys(this.groups[t]).length===0&&delete this.groups[t]}getVisiblePeerGroupIndex({type:e,seriesGrouping:t,visible:n}){if(!t)return{visibleGroupCount:n?1:0,visibleSameStackCount:n?1:0,index:0};let o=new Set,a=new Set;for(let i of Object.values(this.groups[e]??{}))i.visible&&(o.add(i.grouping.groupIndex),i.grouping.groupIndex===t.groupIndex&&a.add(i.grouping.stackIndex));let s=Array.from(o);return s.sort((i,r)=>i-r),{visibleGroupCount:s.length,visibleSameStackCount:a.size,index:s.indexOf(t.groupIndex)}}},yh=(e=>(e[e.FULL=0]="FULL",e[e.UPDATE_DATA=1]="UPDATE_DATA",e[e.PROCESS_DATA=2]="PROCESS_DATA",e[e.PERFORM_LAYOUT=3]="PERFORM_LAYOUT",e[e.SERIES_UPDATE=4]="SERIES_UPDATE",e[e.TOOLTIP_RECALCULATION=5]="TOOLTIP_RECALCULATION",e[e.SCENE_RENDER=6]="SCENE_RENDER",e[e.NONE=7]="NONE",e))(yh||{}),cC=class extends Hs{constructor(e){super(),this.updateCallback=e}update(e=0,t){this.updateCallback(e,t)}dispatchUpdateComplete(e){this.dispatch("update-complete",{type:"update-complete",minRect:e?.minRect,minVisibleRect:e?.minVisibleRect})}},VG=class{constructor(e,t){let{scene:n,root:o,syncManager:a,container:s,updateCallback:i,updateMutex:r,overrideDevicePixelRatio:l}=t;this.chartService=e,this.syncManager=a,this.zoomManager=e.zoomManager,this.domManager=new Yb(s),n?.setContainer(this.domManager),this.scene=n??new tf({pixelRatio:l,domManager:this.domManager}),this.scene.setRoot(o),this.axisManager=new fG(o),this.localeManager=new PG,this.annotationManager=new wG(e.annotationRoot),this.chartEventManager=new Jb,this.cursorManager=new oC(this.domManager),this.highlightManager=new sC,this.interactionManager=new bb(e.keyboard,this.domManager),this.keyNavManager=new iC(this.interactionManager,this.domManager),this.focusIndicator=new HG(this.domManager),this.regionManager=new RG(this.interactionManager,this.keyNavManager,this.focusIndicator),this.contextMenuRegistry=new tC(this.regionManager),this.toolbarManager=new lC,this.gestureDetector=new aC(this.domManager),this.layoutService=new hC,this.ariaAnnouncementService=new TG(this.localeManager,this.domManager,this.layoutService),this.updateService=new cC(i),this.proxyInteractionService=new EG(this.updateService,this.localeManager,this.domManager,this.focusIndicator),this.seriesStateManager=new FG,this.stateManager=new cG,this.callbackCache=new uG,this.animationManager=new Xb(this.interactionManager,r),this.animationManager.skip(),this.animationManager.play(),this.dataService=new I3(this.animationManager),this.tooltipManager=new Wp(this.domManager,e.tooltip)}destroy(){this.tooltipManager.destroy(),this.contextMenuRegistry.destroy(),this.regionManager.destroy(),this.proxyInteractionService.destroy(),this.focusIndicator.destroy(),this.keyNavManager.destroy(),this.interactionManager.destroy(),this.animationManager.stop(),this.animationManager.destroy(),this.ariaAnnouncementService.destroy(),this.chartEventManager.destroy(),this.highlightManager.destroy(),this.callbackCache.invalidateCache(),this.animationManager.reset(),this.syncManager.destroy(),this.domManager.destroy(),this.axisManager.destroy()}},dC=class extends Vt{constructor(){super(...arguments),this.range="tooltip"}};w([x(be(["tooltip","node"],"a range"))],dC.prototype,"range",2);var Dk=class pC{constructor(){this.domain=new Set}static is(t){return t instanceof pC}extend(t){this.domain.add(t)}getDomain(){return Array.from(this.domain)}},Yi=class vC{constructor(){this.domain=[1/0,-1/0]}static is(t){return t instanceof vC}static extendDomain(t,n=[1/0,-1/0]){for(let o of t)typeof o=="number"&&(n[0]>o&&(n[0]=o),n[1]<o&&(n[1]=o));return n}extend(t){this.domain[0]>t&&(this.domain[0]=t),this.domain[1]<t&&(this.domain[1]=t)}getDomain(){return[...this.domain]}};function jG(e){return e.map(t=>g1(t)?JSON.stringify(t):t).join("-")}function UG(e){return Number.isInteger(e)?e:Math.abs(e)>1e4?Math.trunc(e):Math.round(e*1e4)/1e4}function GG(e){if(e==null)return[];let[t,n]=e.map(Number);return t===0&&n===0?[0,1]:t===1/0&&n===-1/0?[]:(t===1/0?t=0:n===-1/0&&(n=0),Xt(t)&&Xt(n)?[t,n]:[])}function xn(e,t){let n=GG(e);if(n.length===0)return n;let[o,a]=n;if(o===a){let[s,i]=t?.calculatePadding(o,a)??[1,1];o-=s,a+=i}return[o,a]}function nf(e,t){return t?.get(e.id)??0}var w2=Symbol("invalid");function gC(e){let t=[],n=0,o,a=new RegExp(`((?:(?:^|\\.)\\s*\\w+|\\[\\s*(?:'(?:[^']|(?<!\\\\)\\\\')*'|"(?:[^"]|(?<!\\\\)\\\\")*"|-?\\d+)\\s*\\])\\s*)`,"g");for(;o=a.exec(e);){if(o.index!==n)return;n=o.index+o[0].length;let s=o[1].trim();if(s.startsWith("."))t.push(s.slice(1).trim());else if(s.startsWith("[")){let i=s.slice(1,-1).trim();i.startsWith("'")?t.push(i.slice(1,-1).replace(new RegExp("(?<!\\\\)\\\\'","g"),"'")):i.startsWith('"')?t.push(i.slice(1,-1).replace(new RegExp('(?<!\\\\)\\\\"',"g"),'"')):t.push(i)}else t.push(s)}if(n===e.length)return t}function WG(e){return t=>{let n=t;for(let o of e)n=n[o];return n}}var uC=class{constructor(e,t="standalone"){this.opts=e,this.mode=t,this.debug=me.create(!0,"data-model"),this.scopeCache=new Map,this.keys=[],this.values=[],this.aggregates=[],this.groupProcessors=[],this.propertyProcessors=[],this.reducers=[],this.processors=[];let n=!0;for(let a of e.props){if(a.type==="key"&&!n)throw new Error("AG Charts - internal config error: keys must come before values.");a.type==="value"&&n&&(n=!1)}let o=({matchGroupIds:a=[]})=>{for(let s of a)if(this.values.every(i=>i.groupId!==s))throw new Error(`AG Charts - internal config error: matchGroupIds properties must match defined groups (${s}).`)};for(let a of e.props)switch(a.type){case"key":this.keys.push(V(S({},a),{index:this.keys.length,missing:new Map}));break;case"value":if(a.property==null)throw new Error(`AG Charts - internal config error: no properties specified for value definitions: ${JSON.stringify(a)}`);this.values.push(V(S({},a),{index:this.values.length,missing:new Map}));break;case"aggregate":o(a),this.aggregates.push(V(S({},a),{index:this.aggregates.length}));break;case"group-value-processor":o(a),this.groupProcessors.push(V(S({},a),{index:this.groupProcessors.length}));break;case"property-value-processor":this.propertyProcessors.push(V(S({},a),{index:this.propertyProcessors.length}));break;case"reducer":this.reducers.push(V(S({},a),{index:this.reducers.length}));break;case"processor":this.processors.push(V(S({},a),{index:this.processors.length}));break}}resolveProcessedDataDefById(e,t){let n=this.scopeCache.get(e.id)?.get(t);if(!n)throw new Error(`AG Charts - didn't find property definition for [${t}, ${e.id}]`);return{index:n.index,def:n}}resolveProcessedDataIndexById(e,t){return this.resolveProcessedDataDefById(e,t).index}resolveProcessedDataDefsByIds(e,t){return t.map(n=>[n,this.resolveProcessedDataDefById(e,n)])}resolveProcessedDataDefsValues(e,{keys:t,values:n}){let o={};for(let[a,{index:s,def:i}]of e){let r=i.type==="key"?t:n;o[a]=r[s]}return o}getDomain(e,t,n="value",o){return this.getDomainsByType(n,o)?.[this.resolveProcessedDataIndexById(e,t)]??[]}getDomainsByType(e,t){switch(e){case"key":return t.domain.keys;case"value":return t.domain.values;case"aggregate":return t.domain.aggValues;case"group-value-processor":return t.domain.groups;default:return null}}processData(e,t){let{opts:{groupByKeys:n,groupByFn:o},aggregates:a,groupProcessors:s,reducers:i,processors:r,propertyProcessors:l}=this,h=performance.now();if(n&&this.keys.length===0)return;let c=this.extractData(e,t);if(n?c=this.groupData(c):o&&(c=this.groupData(c,o(c))),s.length>0&&this.postProcessGroups(c),a.length>0&&this.aggregateData(c),l.length>0&&this.postProcessProperties(c),i.length>0&&this.reduceData(c),r.length>0&&this.postProcessData(c),e.length>0){for(let p of hp(this.keys,this.values))for(let[v,g]of p.missing)if(g>=e.length){let u=v==null?"":` for ${v}`;q.warnOnce(`the key '${p.property}' was not found in any data element${u}.`)}}let d=performance.now();c.time=d-h,this.debug.check()&&$G(c),this.scopeCache.clear();for(let p of hp(this.keys,this.values,this.aggregates))if(p.idsMap)for(let[v,g]of p.idsMap)for(let u of g)if(!this.scopeCache.has(v))this.scopeCache.set(v,new Map([[u,p]]));else{if(this.scopeCache.get(v)?.has(u))throw new Error("duplicate definition ids on the same scope are not allowed.");this.scopeCache.get(v).set(u,p)}return c}valueGroupIdxLookup({matchGroupIds:e}){let t=[];for(let[n,o]of this.values.entries())(!e||o.groupId&&e.includes(o.groupId))&&t.push(n);return t}valueIdxLookup(e,t){let n=e==null||e.length===0,o=typeof t=="string"?t:t.id,a=i=>{if(i.idsMap){for(let[r,l]of i.idsMap)if(e?.includes(r)&&l.has(o))return!0}return!1},s=this.values.findIndex(i=>(i.scopes==null||n&&!i.scopes.length||i.scopes.some(l=>e?.includes(l)))&&(i.property===o||i.id===o||a(i)));if(s===-1)throw new Error(`AG Charts - configuration error, unknown property ${JSON.stringify(t)} in scope(s) ${JSON.stringify(e)}`);return s}extractData(e,t){let{dataDomain:n,processValue:o,scopes:a,allScopesHaveSameDefs:s}=this.initDataDomainProcessor(),i=new Map(t?.map(v=>[v.id,v])),{keys:r,values:l}=this,h=new Array(e.length),c=0,d=0;for(let[v,g]of e.entries()){let u={},f=a.size>0?new Set(a):void 0,M=new Array(r.length),m=0,k;for(let y of r){if(k=o(y,g,k),k===w2)break;M&&(M[m++]=k)}if(k===w2)continue;let B=l.length>0?new Array(l.length):void 0,z;for(let[y,b]of l.entries()){for(let C of b.scopes??a){let E=i.get(C),_=E?.data[v]??g;if(z=o(b,_,z,C),!(z===w2||!B)){if(E!=null&&b.includeProperty!==!1){let F=b.includeProperty&&b.id!=null?b.id:b.property;u[C]??(u[C]={}),u[C][F]=z}B[y]=z}}if(z===w2){if(s)break;for(let C of b.scopes??a)f?.delete(C);if(f?.size===0)break}}if(z===w2&&s||f?.size===0)continue;let I={datum:S(S({},g),u),keys:M,values:B};!s&&f&&f.size<a.size&&(d++,I.validScopes=new Set(f)),h[c++]=I}h.length=c;let p=v=>{let g=n.get(v),u=g.getDomain();return Yi.is(g)&&u[0]>u[1]?[]:u};return{type:"ungrouped",input:{count:e.length},data:h,domain:{keys:r.map(p),values:l.map(p)},defs:{allScopesHaveSameDefs:s,keys:r,values:l},partialValidDataCount:d,time:0}}groupData(e,t){let n=new Map;for(let i of e.data){let{keys:r,values:l,datum:h,validScopes:c}=i,d=t?.(i)??r,p=jG(d);if(n.has(p)){let v=n.get(p);if(v.values.push(l),v.datum.push(h),c!=null&&v.validScopes!=null)for(let g of v.validScopes)c.has(g)||v.validScopes.delete(g)}else n.set(p,{keys:d,values:[l],datum:[h],validScopes:c})}let o=new Array(n.size),a=new Array(n.size),s=0;for(let{keys:i,values:r,datum:l,validScopes:h}of n.values())h?.size!==0&&(a[s]=i,o[s++]={keys:i,values:r,datum:l,validScopes:h});return V(S({},e),{type:"grouped",data:o,domain:V(S({},e.domain),{groups:a})})}aggregateData(e){let t=e.type==="ungrouped";e.domain.aggValues=[];for(let[n,o]of this.aggregates.entries()){let a=this.valueGroupIdxLookup(o),s=[1/0,-1/0];for(let i of e.data){if(i.aggValues??(i.aggValues=new Array(this.aggregates.length)),i.validScopes)continue;let r=t?[i.values]:i.values,l=o.groupAggregateFunction?.()??[1/0,-1/0];for(let c of r){let d=a.map(v=>c[v]),p=o.aggregateFunction(d,i.keys);p&&(l=o.groupAggregateFunction?.(p,l)??Yi.extendDomain(p,l))}let h=(o.finalFunction?.(l)??l).map(c=>UG(c));i.aggValues[n]=h,Yi.extendDomain(h,s)}e.domain.aggValues.push(s)}}postProcessGroups(e){let{groupProcessors:t}=this,n=new Set,o=new Map,a=new Map,s=new Map;for(let r of t){let l=this.valueGroupIdxLookup(r);a.set(r,l),s.set(r,r.adjust());for(let h of l){let d=this.values[h].valueType==="category";n.add(h),o.set(h,d?new Dk:new Yi)}}let i=r=>{for(let l of n)o.get(l)?.extend(r[l])};for(let r of e.data){for(let l of t){if(r.validScopes)continue;let h=a.get(l)??[],c=s.get(l)?.();if(c)if(e.type==="grouped")for(let d of r.values)d&&c(d,h);else r.values&&c(r.values,h)}if(e.type==="grouped")for(let l of r.values)i(l);else i(r.values)}for(let[r,l]of o)e.domain.values[r]=l.getDomain()}postProcessProperties(e){for(let{adjust:t,property:n,scopes:o}of this.propertyProcessors)t()(e,this.valueIdxLookup(o,n))}reduceData(e){e.reduced??(e.reduced={});for(let t of this.reducers){let n=t.reducer(),o=t.initialValue;for(let a of e.data)(!a.validScopes||t.scopes?.some(s=>a.validScopes?.has(s)))&&(o=n(o,a));e.reduced[t.property]=o}}postProcessData(e){e.reduced??(e.reduced={});for(let t of this.processors)e.reduced[t.property]=t.calculate(e)}initDataDomainProcessor(){let{keys:e,values:t}=this,n=new Set;for(let h of t)if(h.scopes)for(let c of h.scopes)n.add(c);let o=new Map,a=new Map,s=!0,i=()=>{for(let h of hp(e,t))h.valueType==="category"?o.set(h,new Dk):(o.set(h,new Yi),s&&(s=(h.scopes??[]).length===n.size))};i();let r=this.buildAccessors(hp(e,t));return{dataDomain:o,processValue:(h,c,d,p)=>{let v,g;if(r.has(h.property)){try{g=r.get(h.property)(c)}catch{}v=g!=null}else v=h.property in c,g=v?c[h.property]:h.missingValue;h.forceValue!=null&&(g=v&&gr(g)?-1*h.forceValue:h.forceValue,v=!0);let u="missingValue"in h;if(!v&&!u){let f=h.missing.get(p)??0;h.missing.set(p,f+1)}if(o.has(h)||i(),v&&!(h.validation?.(g,c)??!0))if("invalidValue"in h)g=h.invalidValue;else return this.mode!=="integrated"&&q.warnOnce(`invalid value of type [${typeof g}] for [${h.scopes} / ${h.id}] ignored:`,`[${g}]`),w2;return h.processor&&(a.has(h)||a.set(h,h.processor()),g=a.get(h)?.(g,d===w2?void 0:d)),o.get(h)?.extend(g),g},initDataDomain:i,scopes:n,allScopesHaveSameDefs:s}}buildAccessors(e){let t=new Map;if(this.mode==="integrated")return t;for(let n of e){if(!(n.property.includes(".")||n.property.includes("[")))continue;let a=gC(n.property);if(a==null){q.warnOnce("Invalid property path [%s]",n.property);continue}let s=WG(a);t.set(n.property,s)}return t}};function $G(e){let t=(n,o)=>{o.length>0&&(q.log(`DataModel.processData() - ${n}`),q.table(o))};if(q.log("DataModel.processData() - processedData",e),t("Key Domains",e.domain.keys),t("Group Domains",e.domain.groups??[]),t("Value Domains",e.domain.values),t("Aggregate Domains",e.domain.aggValues??[]),e.type==="grouped"){let n=e.data.reduce((o,a)=>{let s=a.keys??[],i=a.aggValues??[],r=a.keys.map(()=>{}),l=i?.map(()=>{});return o.push(...a.values.map((h,c)=>[...c===0?s:r,...h??[],...c==0?i:l])),o},[]);t("Values",n)}else{let n=e.data.reduce((o,a)=>{let s=a.aggValues??[];return o.push([...a.keys,...a.values,...s]),o},[]);t("Values",n)}}var wC=class va{constructor(t){this.mode=t,this.debug=me.create(!0,"data-model"),this.requested=[],this.status="setup"}request(t,n,o){return R(this,null,function*(){if(this.status!=="setup")throw new Error("AG Charts - data request after data setup phase.");return new Promise((a,s)=>{this.requested.push({id:t,opts:o,data:n,resolve:a,reject:s})})})}execute(){if(this.status!=="setup")throw new Error("AG Charts - data request after data setup phase.");this.status="executed",this.debug("DataController.execute() - requested",this.requested);let t=this.validateRequests(this.requested);this.debug("DataController.execute() - validated",t);let n=this.mergeRequested(t);this.debug("DataController.execute() - merged",n),this.debug.check()&&(Ro().processedData=[]);let o=this.requested.map(({id:s})=>s),a=this.hasMultipleDataSources(t);for(let{opts:s,data:i,resolves:r,rejects:l,ids:h}of n)try{let c=new uC(s,this.mode),d=c.processData(i,t);this.debug.check()&&Ro("processedData").push(d),d?.partialValidDataCount===0?r.forEach((p,v)=>p({dataModel:c,processedData:this.processScopedData(h[v],d,o,a)})):d?this.splitResult(c,d,h,r):l.forEach(p=>p(new Error("AG Charts - no processed data generated")))}catch(c){l.forEach(d=>d(c))}}hasMultipleDataSources(t){if(t.length){let[{data:n},...o]=t;return o.some(a=>n!==a.data)}return!1}processScopedData(t,n,o,a){let s=r=>{if(Array.isArray(r))return r.map(s);let l=a?S(S({},r),r[t]):r;for(let h of o)delete l[h];return l},i=r=>Array.isArray(r)?r.map(i):r?.[t]??r;return V(S({},n),{data:n.data.map(r=>V(S({},r),{datum:s(r.datum),values:a?r.values?.map(i):r.values}))})}validateRequests(t){let n=[];for(let[o,a]of t.entries())o>0&&a.data.length!==t[0].data.length&&a.opts.groupByData===!1?a.reject(new Error("all series[].data arrays must be of the same length and have matching keys.")):n.push(a);return n}mergeRequested(t){let n=[];for(let o of t){let a=n.find(va.groupMatch(o));a?a.push(o):n.push([o])}return n.map(va.mergeRequests)}splitResult(t,n,o,a){for(let s=0;s<o.length;s++){let i=o[s],r=a[s];r({dataModel:t,processedData:V(S({},n),{data:n.data.filter(({validScopes:l})=>l?.has(i)??!0)})})}}static groupMatch({data:t,opts:n}){function o(a){return a.filter(s=>s.type==="key").map(s=>s.property).join(";")}return([a])=>(n.groupByData===!1||a.data===t)&&a.opts.groupByKeys===n.groupByKeys&&a.opts.groupByFn===n.groupByFn&&o(a.opts.props)===o(n.props)}static mergeRequests(t){return t.reduce((n,h)=>{var{id:o,data:a,resolve:s,reject:i,opts:c}=h,d=c,{props:r}=d,l=ue(d,["props"]);n.ids.push(o),n.rejects.push(i),n.resolves.push(s),n.data??(n.data=a),n.opts??(n.opts=V(S({},l),{props:[]}));for(let p of r){let v=V(S({},p),{scopes:[o]});va.createIdsMap(o,v);let g=n.opts.props.find(u=>u.type===v.type&&va.deepEqual(u,v));if(!g){n.opts.props.push(v);continue}g.scopes??(g.scopes=[]),g.scopes.push(...v.scopes??[]),(g.type==="key"||g.type==="value")&&v.idsMap?.size&&va.mergeIdsMap(v.idsMap,g.idsMap)}return n},{ids:[],rejects:[],resolves:[],data:null,opts:null})}static mergeIdsMap(t,n){for(let[o,a]of t)if(n.has(o))for(let s of a)n.get(o).add(s);else n.set(o,new Set(a))}static createIdsMap(t,n){n.id!=null&&(n.idsMap??(n.idsMap=new Map),n.idsMap.has(t)?n.idsMap.get(t).add(n.id):n.idsMap.set(t,new Set([n.id])))}static deepEqual(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;let o,a;if(Array.isArray(t)){if(a=t.length,a!==n.length)return!1;for(o=a-1;o>=0;o--)if(!va.deepEqual(t[o],n[o]))return!1;return!0}let s=Object.keys(t);if(a=s.length,a!==Object.keys(n).length)return!1;for(o=a-1;o>=0;o--){let i=s[o];if(!va.skipKeys.has(i)&&(!Object.hasOwn(n,i)||!va.deepEqual(t[i],n[i])))return!1}return!0}return!1}};wC.skipKeys=new Set(["id","idsMap","type","scopes"]);var fC=wC,qG=class{constructor(){this.axesMap=new Map,this.hidden=new Set,this.themeTemplates=new Map}register(e,t){this.axesMap.set(e,t.instanceConstructor),t.themeTemplate&&this.setThemeTemplate(e,t.themeTemplate),t.hidden&&this.hidden.add(e)}create(e,t){let n=this.axesMap.get(e);if(n)return new n(t);throw new Error(`AG Charts - unknown axis type: ${e}`)}has(e){return this.axesMap.has(e)}keys(){return this.axesMap.keys()}publicKeys(){return[...this.keys()].filter(e=>!this.hidden.has(e))}setThemeTemplate(e,t){return this.themeTemplates.set(e,t),this}getThemeTemplate(e){return this.themeTemplates.get(e)}},zs=new qG,br=[{type:"root",optionsKey:"animation",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion"]},{type:"root",optionsKey:"annotations",chartTypes:["cartesian"]},{type:"root",optionsKey:"background",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion"],optionsInnerKey:"image"},{type:"root",optionsKey:"contextMenu",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion"]},{type:"root",optionsKey:"statusBar",chartTypes:["cartesian"],identifier:"status-bar"},{type:"root",optionsKey:"dataSource",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion"]},{type:"root",optionsKey:"sync",chartTypes:["cartesian"]},{type:"root",optionsKey:"zoom",chartTypes:["cartesian","topology"]},{type:"legend",optionsKey:"gradientLegend",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion"],identifier:"gradient"},{type:"root",optionsKey:"navigator",chartTypes:["cartesian"],optionsInnerKey:"miniChart"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"angle-category"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"angle-number"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"radius-category"},{type:"axis",optionsKey:"axes[]",chartTypes:["polar"],identifier:"radius-number"},{type:"axis",optionsKey:"axes[]",chartTypes:["cartesian"],identifier:"ordinal-time"},{type:"axis-option",optionsKey:"crosshair",chartTypes:["cartesian"]},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"box-plot"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"candlestick"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"ohlc"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"bullet"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"heatmap"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"range-area"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"range-bar"},{type:"series",optionsKey:"series[]",chartTypes:["cartesian"],identifier:"waterfall"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"nightingale"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radar-area"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radar-line"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radial-bar"},{type:"series",optionsKey:"series[]",chartTypes:["polar"],identifier:"radial-column"},{type:"series",optionsKey:"series[]",chartTypes:["hierarchy"],identifier:"sunburst"},{type:"series",optionsKey:"series[]",chartTypes:["hierarchy"],identifier:"treemap"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-shape"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-line"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-marker"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-shape-background"},{type:"series",optionsKey:"series[]",chartTypes:["topology"],identifier:"map-line-background"},{type:"series",optionsKey:"series[]",chartTypes:["flow-proportion"],identifier:"chord"},{type:"series",optionsKey:"series[]",chartTypes:["flow-proportion"],identifier:"sankey"},{type:"series-option",optionsKey:"errorBar",chartTypes:["cartesian"],identifier:"error-bars"}];function YG(e){return br.some(t=>t.type==="series"&&t.identifier===e)}function a4(e){return br.find(t=>t.type==="series"&&t.identifier===e)?.chartTypes}function KG(e){return a4(e)?.find(n=>n==="cartesian")==="cartesian"}function ZG(e){return a4(e)?.find(n=>n==="polar")==="polar"}function XG(e){return a4(e)?.find(n=>n==="hierarchy")==="hierarchy"}function QG(e){return a4(e)?.find(n=>n==="topology")==="topology"}function JG(e){return a4(e)?.find(n=>n==="flow-proportion")==="flow-proportion"}function tW(e){return e.packageType==="enterprise"}function eW(e){if(!tW(e))throw new Error("AG Charts - internal configuration error, only enterprise modules need verification.");let t=br.find(n=>n.type===e.type&&n.optionsKey===e.optionsKey&&n.identifier===e.identifier&&e.chartTypes.every(o=>n.chartTypes.includes(o)));return t&&(t.useCount??(t.useCount=0),t.useCount++),t!=null}function nW(){return br.filter(({useCount:e})=>e==null||e===0)}var oW=class{constructor(){this.legendMap=new Map,this.themeTemplates=new Map}register(e,{optionsKey:t,instanceConstructor:n,themeTemplate:o}){this.legendMap.set(e,{optionsKey:t,instanceConstructor:n}),this.themeTemplates.set(t,o)}create(e,t){let n=this.legendMap.get(e)?.instanceConstructor;if(n)return new n(t);throw new Error(`AG Charts - unknown legend type: ${e}`)}getThemeTemplates(){return Object.fromEntries(this.themeTemplates)}getKeys(){return Array.from(this.legendMap.entries()).reduce((e,[t,n])=>(e[t]=n.optionsKey,e),{})}},of=new oW,or={isEnterprise:!1},MC=class extends Map{get(e){return super.get(e)??"unknown"}isCartesian(e){return this.get(e)==="cartesian"}isPolar(e){return this.get(e)==="polar"}isHierarchy(e){return this.get(e)==="hierarchy"}isTopology(e){return this.get(e)==="topology"}isFlowProportion(e){return this.get(e)==="flow-proportion"}get seriesTypes(){return Array.from(this.keys())}get cartesianTypes(){return this.seriesTypes.filter(e=>this.isCartesian(e))}get polarTypes(){return this.seriesTypes.filter(e=>this.isPolar(e))}get hierarchyTypes(){return this.seriesTypes.filter(e=>this.isHierarchy(e))}get topologyTypes(){return this.seriesTypes.filter(e=>this.isTopology(e))}get flowProportionTypes(){return this.seriesTypes.filter(e=>this.isFlowProportion(e))}},aW=class extends Map{set(e,t){return super.set(e,Wt(t,this.get(e)))}},h0=new MC,mC=new MC,c6=new aW,sW=class{constructor(){this.seriesMap=new Map,this.themeTemplates=new Map}register(e,{chartTypes:[t],instanceConstructor:n,tooltipDefaults:o,defaultAxes:a,themeTemplate:s,enterpriseThemeTemplate:i,paletteFactory:r,solo:l,stackable:h,groupable:c,stackedByDefault:d,swapDefaultAxesCondition:p,hidden:v}){this.setThemeTemplate(e,s,i),this.seriesMap.set(e,{instanceConstructor:n,tooltipDefaults:o,defaultAxes:a,paletteFactory:r,solo:l,stackable:h,groupable:c,stackedByDefault:d,swapDefaultAxesCondition:p}),h0.set(e,t),v||mC.set(e,t)}create(e,t){let n=this.seriesMap.get(e)?.instanceConstructor;if(n)return new n(t);throw new Error(`AG Charts - unknown series type: ${e}`)}cloneDefaultAxes(e){let t=this.seriesMap.get(e)?.defaultAxes;return t?{axes:E0(t)}:null}setThemeTemplate(e,t,n={}){let o=this.themeTemplates.get(e);this.themeTemplates.set(e,{community:Wt(t,o?.community),enterprise:Wt(n,t,o?.community)})}getThemeTemplate(e){let t=this.themeTemplates.get(e);return or.isEnterprise?t?.enterprise:t?.community}getPaletteFactory(e){return this.seriesMap.get(e)?.paletteFactory}getTooltipDefauls(e){return this.seriesMap.get(e)?.tooltipDefaults}isSolo(e){return this.seriesMap.get(e)?.solo??!1}isGroupable(e){return this.seriesMap.get(e)?.groupable??!1}isStackable(e){return this.seriesMap.get(e)?.stackable??!1}isStackedByDefault(e){return this.seriesMap.get(e)?.stackedByDefault??!1}isDefaultAxisSwapNeeded(e){let t;for(let n of e.series??[]){let{type:o="line"}=n,a=this.seriesMap.get(o)?.swapDefaultAxesCondition?.(n);if(a!=null){if(t!=null&&t!=a)throw new Error("AG Charts - The provided series have incompatible directions");t=a}}return t}},Mn=new sW,af=class m2 extends W1{constructor(t){super(),this.chart=t}subscribe(t=m2.DEFAULT_GROUP){let n=this.get(t);return n||(n=new Set,m2.chartsGroups.set(t,n)),n.add(this.chart),this}unsubscribe(t=m2.DEFAULT_GROUP){return this.get(t)?.delete(this.chart),this}getChart(){return this.chart}getGroup(t=m2.DEFAULT_GROUP){let n=this.get(t);return n?Array.from(n):[]}getGroupSiblings(t=m2.DEFAULT_GROUP){return this.getGroup(t).filter(n=>n!==this.chart)}get(t){return m2.chartsGroups.get(t)}};af.chartsGroups=new Map;af.DEFAULT_GROUP=Symbol("sync-group-default");var iW=af,xC=class extends W1{constructor(){super(...arguments),this.axisZoomManagers=new Map,this.state=new dr(void 0,"initial"),this.rejectCallbacks=new Map}updateAxes(e){let t=new Map(e.map(n=>[n.id,this.axisZoomManagers.get(n.id)]));this.axisZoomManagers.clear();for(let n of e)this.axisZoomManagers.set(n.id,t.get(n.id)??new rW(n));this.state.size>0&&e.length>0&&this.updateZoom(this.state.stateId(),this.state.stateValue())}updateZoom(e,t,n=!0,o){if(o&&this.rejectCallbacks.set(e,o),this.axisZoomManagers.size===0){let a=this.state.stateId();a==="initial"||a===e||n?(this.state.set(e,t),a!==e&&this.rejectCallbacks.get(a)?.(e)):o?.(a);return}this.state.set(e,t),this.axisZoomManagers.forEach(a=>{a.updateZoom(e,t?.[a.getDirection()])}),this.applyChanges(e)}updateAxisZoom(e,t,n){this.axisZoomManagers.get(t)?.updateZoom(e,n),this.applyChanges(e)}fireZoomPanStartEvent(e){this.listeners.dispatch("zoom-pan-start",{type:"zoom-pan-start",callerId:e})}getZoom(){let e,t;if(this.axisZoomManagers.forEach(n=>{n.getDirection()==="x"?e??(e=n.getZoom()):n.getDirection()==="y"&&(t??(t=n.getZoom()))}),e||t)return{x:e,y:t}}getAxisZoom(e){return this.axisZoomManagers.get(e)?.getZoom()??{min:0,max:1}}getAxisZooms(){let e={};for(let[t,n]of this.axisZoomManagers.entries())e[t]={direction:n.getDirection(),zoom:n.getZoom()};return e}applyChanges(e){if(!Array.from(this.axisZoomManagers.values(),o=>o.applyChanges()).some(Boolean))return;let n={};for(let[o,a]of this.axisZoomManagers.entries())n[o]=a.getZoom();this.listeners.dispatch("zoom-change",V(S({type:"zoom-change"},this.getZoom()),{axes:n,callerId:e}))}},rW=class{constructor(e){this.axis=e;let[t=0,n=1]=e.visibleRange;this.state=new dr({min:t,max:n}),this.currentZoom=this.state.stateValue()}getDirection(){return this.axis.direction}updateZoom(e,t){this.state.set(e,t)}getZoom(){return E0(this.state.stateValue())}applyChanges(){let e=this.currentZoom;return this.currentZoom=this.state.stateValue(),e.min!==this.currentZoom.min||e.max!==this.currentZoom.max}},sf=class extends Vt{constructor(){super(...arguments),this.enabled=!1}};w([x(It)],sf.prototype,"enabled",2);w([x(xe)],sf.prototype,"tabIndex",2);function lW(e){return e instanceof pt?e.computeCenter():e?.computeTransformedBBox()?.computeCenter()}function yC(e,t){let{bounds:n,showFocusBox:o}=t;o&&e?.updateBounds(n);let{x:a,y:s}=lW(n)??{};if(a!==void 0&&s!==void 0)return{type:"keyboard",offsetX:a,offsetY:s}}var IC=["top","right","bottom","left"];function hW(e){return typeof e=="string"&&IC.includes(e)}function cW(e){let t=[],n=[],o=[...IC];for(let a of e)a instanceof zr&&(hW(a.position)?n.push(a.position):t.push(a));for(let a of t){let s;do s=o.pop();while(s&&n.includes(s));if(s==null)break;a.position=s}}var dW=["direction","xKey","yKey","sizeKey","angleKey","radiusKey","normalizedTo","stacked","grouped","stackGroup"];function pW(e,t,n){let o=(c,d)=>{let p=[c];for(let v of dW)v in d&&d[v]!=null&&p.push(`${v}=${d[v]}`);return p.join(";")},a=new Map,s=0;for(let c of e){let d=o(c.type,c.properties);a.has(d)||a.set(d,[]),a.get(d)?.push([c,s++])}let i=new Map;for(let c of t){let d=o(c.type,c);i.has(d)||i.set(d,[]),i.get(d)?.push(c)}if(![...a.keys()].some(c=>i.has(c)))return{status:"no-overlap",oldKeys:a.keys(),newKeys:i.keys()};let l=[],h=-1;for(let[c,d]of i.entries())for(let p of d){h++;let v=a.get(c);if(v==null||v.length<1){l.push({opts:p,idx:h,status:"add"}),a.delete(c);continue}let[g,u]=v.shift(),f=n?.[u]??{},M=Un(f,p??{}),{groupIndex:m,stackIndex:k}=M?.seriesGrouping??{};m!=null||k!=null?l.push({opts:p,series:g,diff:M,idx:u,status:"series-grouping"}):M?l.push({opts:p,series:g,diff:M,idx:u,status:"update"}):l.push({opts:p,series:g,idx:u,status:"no-op"}),v.length===0&&a.delete(c)}for(let c of a.values())for(let[d,p]of c)l.push({series:d,idx:p,status:"remove"});return{status:"overlap",changes:l}}function A2(e){return e.series?.[0]?.type??"line"}function ar(e){let t=A2(e);return t==null?!0:t==="cartesian"?(q.warnOnce(`type '${t}' is deprecated, use a series type instead`),!0):h0.isCartesian(t)||KG(t)}function k3(e){let t=A2(e);return t==null?!1:t==="polar"?(q.warnOnce(`type '${t}' is deprecated, use a series type instead`),!0):h0.isPolar(t)||ZG(t)}function rf(e){let t=A2(e);return t==null?!1:t==="hierarchy"?(q.warnOnce(`type '${t}' is deprecated, use a series type instead`),!0):h0.isHierarchy(t)||XG(t)}function lf(e){let t=A2(e);return t==null?!1:t==="topology"?(q.warnOnce(`type '${t}' is deprecated, use a series type instead`),!0):h0.isTopology(t)||QG(t)}function hf(e){let t=A2(e);return t==null?!1:t==="flow-proportion"?(q.warnOnce(`type '${t}' is deprecated, use a series type instead`),!0):h0.isFlowProportion(t)||JG(t)}function vW(e){let t=A2(e);return k3(e)&&t!=="pie"&&t!=="donut"}function gW(e){return e==null?!1:h0.has(e)}function uW(e){return e==null?!1:zs.has(e)}var wW=class extends q6{applyOptions(e){for(let t of this.moduleMap.values())t.module.optionsKey in e&&_o(t.moduleInstance)&&t.moduleInstance.set(e[t.module.optionsKey])}*legends(){for(let{module:e,moduleInstance:t}of this.moduleMap.values())e.type==="legend"&&(yield{legendType:e.identifier,legend:t})}},d6="ag-chart-overlay",Hk="ag-chart-dark-overlay",Ih=class extends Vt{constructor(e,t){super(),this.className=e,this.defaultMessageId=t}getText(e){return e.t(this.text??this.defaultMessageId)}getElement(e,t,n){if(this.content?.remove(),this.focusBox=n,this.renderer){let o=this.renderer();this.content=T0("div"),o instanceof HTMLElement?this.content.replaceChildren(o):this.content.innerHTML=o}else{let o=T0("div",{display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",height:"100%",margin:"8px",font:"12px Verdana, sans-serif"});o.innerText=this.getText(t),this.content=o,e?.animate({from:0,to:1,id:"overlay",phase:"add",groupId:"opacity",onUpdate(a){o.style.opacity=String(a)},onStop(){o.style.opacity="1"}})}return this.content}removeElement(e=()=>this.content?.remove(),t){if(this.content){if(t){let{content:n}=this;t.animate({from:1,to:0,phase:"remove",id:"overlay",groupId:"opacity",onUpdate(o){n.style.opacity=String(o)},onStop(){e?.()}})}else e?.();this.content=void 0,this.focusBox=void 0}}};w([x(et,{optional:!0})],Ih.prototype,"text",2);w([x(In,{optional:!0})],Ih.prototype,"renderer",2);var s4=class extends Vt{constructor(){super(...arguments),this.darkTheme=!1,this.loading=new Ih("ag-chart-loading-overlay","overlayLoadingData"),this.noData=new Ih("ag-chart-no-data-overlay","overlayNoData"),this.noVisibleSeries=new Ih("ag-chart-no-visible-series","overlayNoVisibleSeries")}getFocusInfo(e){for(let t of[this.loading,this.noData,this.noVisibleSeries])if(t.focusBox!==void 0)return{text:t.getText(e),rect:t.focusBox}}destroy(){this.loading.removeElement(),this.noData.removeElement(),this.noVisibleSeries.removeElement()}};w([x(It)],s4.prototype,"darkTheme",2);w([x(vt)],s4.prototype,"loading",2);w([x(vt)],s4.prototype,"noData",2);w([x(vt)],s4.prototype,"noVisibleSeries",2);function fW(e,t){let{animationDuration:n}=Th.add,o=n*t,a=T0("div",`${d6}--loading`,{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",height:"100%",boxSizing:"border-box",font:"13px Verdana, sans-serif",userSelect:"none",animation:`ag-charts-loading ${o}ms linear 50ms both`}),s=T0("span",{width:"45px",height:"40px",backgroundImage:["linear-gradient(#0000 calc(1 * 100% / 6), #ccc 0 calc(3 * 100% / 6), #0000 0), ","linear-gradient(#0000 calc(2 * 100% / 6), #ccc 0 calc(4 * 100% / 6), #0000 0), ","linear-gradient(#0000 calc(3 * 100% / 6), #ccc 0 calc(5 * 100% / 6), #0000 0)"].join(""),backgroundSize:"10px 400%",backgroundRepeat:"no-repeat",animation:"ag-charts-loading-matrix 1s infinite linear"}),i=T0("p",{marginTop:"1em"});i.innerText=e;let r=T0("div",`${d6}__loading-background`,{position:"absolute",inset:"0",opacity:"0.5",zIndex:"-1"}),l=T0("style");return l.innerText=["@keyframes ag-charts-loading { from { opacity: 0 } to { opacity: 1 } }","@keyframes ag-charts-loading-matrix {","0% { background-position: 0% 0%, 50% 0%, 100% 0%; }","100% { background-position: 0% 100%, 50% 100%, 100% 100%; }","}"].join(" "),a.replaceChildren(l,s,i,r),a}function z3(e,t=[0,0]){for(let n of e)typeof n=="number"&&(n<0&&(t[0]+=n),n>0&&(t[1]+=n));return t}function MW(e,t){return{id:e,matchGroupIds:[t],type:"aggregate",aggregateFunction:o=>z3(o)}}function kC(e,t){return{id:e,type:"aggregate",matchGroupIds:t?[t]:void 0,aggregateFunction:n=>z3(n),groupAggregateFunction:(n,o=[0,0])=>(o[0]+=n?.[0]??0,o[1]+=n?.[1]??0,o)}}function zC(e,t){return{id:e,matchGroupIds:[t],type:"aggregate",aggregateFunction:o=>Yi.extendDomain(o)}}function p6(e){return{id:e,type:"aggregate",aggregateFunction:()=>[0,1],groupAggregateFunction:(t,n=[0,0])=>(n[0]+=t?.[0]??0,n[1]+=t?.[1]??0,n)}}function bC(e,t){return{id:e,matchGroupIds:t?[t]:void 0,type:"aggregate",aggregateFunction:o=>z3(o),groupAggregateFunction:(o,a=[0,0,-1])=>(a[0]+=o?.[0]??0,a[1]+=o?.[1]??0,a[2]++,a),finalFunction:(o=[0,0,0])=>{let a=o[0]+o[1];return a>=0?[0,a/o[2]]:[a/o[2],0]}}}function v6(e,t,n){let o={id:e,matchGroupIds:n?[n]:void 0,type:"aggregate",aggregateFunction:(a,s=[])=>{let i=s[1]-s[0];return t.aggregateFunction(a).map(r=>r/i)}};return t.groupAggregateFunction&&(o.groupAggregateFunction=t.groupAggregateFunction),o}function CC(e){return()=>{let t=0;return n=>Xt(n)?(t+=e?Math.max(0,n):n,t):n}}function BC(){return()=>{let e=0;return t=>{if(!Xt(t))return t;let n=e;return e+=t,n}}}var SC={type:"reducer",property:"smallestKeyInterval",initialValue:1/0,reducer:()=>{let e=NaN;return(t=1/0,n)=>{let o=n.keys[0],a=Math.abs(o-e);return e=o,!isNaN(a)&&a>0&&a<t?a:t}}},DC={type:"reducer",property:"largestKeyInterval",initialValue:-1/0,reducer:()=>{let e=NaN;return(t=-1/0,n)=>{let o=n.keys[0],a=Math.abs(o-e);return e=o,!isNaN(a)&&a>0&&a>t?a:t}}},HC={type:"processor",property:"sortedGroupDomain",calculate:({domain:{groups:e}})=>e?.slice().sort((t,n)=>{for(let o=0;o<t.length;o++){let a=t[o]-n[o];if(a!==0)return a}return 0})};function mW({normaliseTo:e,mode:t}){let n=(o,a)=>{let s=o*e/a;return s>=0?Math.min(e,s):Math.max(-e,s)};return()=>()=>(o,a)=>{let s=[0,0];for(let r of a){let l=o[r],h=l<0?0:1;t==="sum"?s[h]+=l:h===0?s[h]=Math.min(s[h],l):s[h]=Math.max(s[h],l)}let i=Math.max(Math.abs(s[0]),s[1]);for(let r of a)o[r]=n(o[r],i)}}function Ph(e,t,n="sum"){return{type:"group-value-processor",matchGroupIds:e,adjust:Lh({normaliseTo:t,mode:n},mW)}}function xW({normaliseTo:e,zeroDomain:t,rangeMin:n,rangeMax:o}){let a=e[1]-e[0],s=(i,r,l)=>{let h=e[0]+(i-r)/l*a;return l===0?t:h>=e[1]?e[1]:h<e[0]?e[0]:h};return()=>(i,r)=>{let[l,h]=i.domain.values[r];n!=null&&(l=n),o!=null&&(h=o);let c=h-l;i.domain.values[r]=[e[0],e[1]];for(let d of i.data){let p=d.values;i.type==="ungrouped"&&(p=[p]);for(let v of p)v[r]=s(v[r],l,c)}}}function Fh(e,t,n,o,a){return{type:"property-value-processor",property:e,adjust:Lh({normaliseTo:t,rangeMin:o,rangeMax:a,zeroDomain:n},xW)}}function Cr(e){return{type:"processor",property:"animationValidation",calculate(t){let{keys:n,values:o}=t.defs,{input:a,data:s}=t,i=!0,r=!0,l=[];for(let c=0;c<o.length;c++)e?.includes(o[c].id)&&l.push([c,o[c]]);let h=(c,d,p)=>{if(d.valueType==="category"){let g=t.domain[p][c];i&&(i=g.length===a.count);return}let v=s[0]?.[p][c];for(let g=1;(i||r)&&g<s.length;g++){let u=s[g][p][c];r&&(r=v<=u),i&&(i=v!==u),v=u}};for(let c=0;(i||r)&&c<n.length;c++)h(c,n[c],"keys");for(let c=0;(i||r)&&c<l.length;c++){let[d,p]=l[c];h(d,p,"values")}return{uniqueKeys:i,orderedKeys:r}}}}function yW({mode:e,separateNegative:t}){return()=>()=>(n,o)=>{let a=[0,0];for(let s of o){let i=n[s],r=gr(i)&&t?0:1;Xt(i)&&(e==="normal"&&(a[r]+=i),n[s]=a[r],e==="trailing"&&(a[r]+=i))}}}function IW({mode:e,sum:t}){return()=>{let n=[],o=!0;return()=>(a,s)=>{let i=0;for(let r of s){let l=a[r],h=o&&t==="current"?0:n[r];n[r]=l;let c=t==="current"?l:h;if(!Xt(l)||!Xt(h)){a[r]=i;continue}e==="normal"&&(i+=c),a[r]=i,e==="trailing"&&(i+=c)}o=!1}}}function EC(e,t,n,o=!1){let a;if(t.startsWith("window")){let s=t.endsWith("-trailing")?"trailing":"normal";a=Lh({mode:s,sum:n},IW)}else a=Lh({mode:t,separateNegative:o},yW);return{type:"group-value-processor",matchGroupIds:[e],adjust:a}}function kW({separateNegative:e}){return()=>()=>(t,n)=>{let o=[!0,!0];for(let a of n){let s=t[a],i=gr(s)&&e?0:1;o[i]&&(o[i]=Xt(s)),t[a]=o[i]}}}function TC(e,t=!1){let n=Lh({separateNegative:t},kW);return{type:"group-value-processor",matchGroupIds:[e],adjust:n}}function R2(e,t=!0){return{type:"processor",property:"diff",calculate:n=>{let o=new Map,a=new Map,s=new Map,i=new Map,r=Math.max(e.data.length,n.data.length);for(let h=0;h<r;h++){let c=e.data[h],d=n.data[h],p=c?bs(c.keys):"",v=d?bs(d.keys):"";if(d&&c&&p===v){b2(c.values,d.values)||s.set(v,d);continue}i.has(v)?((t||!b2(i.get(v).values,d.values))&&(s.set(v,d),o.set(v,d)),i.delete(v)):d&&a.set(v,d),a.has(p)?((t||!b2(a.get(p).values,c.values))&&(s.set(p,c),o.set(p,c)),a.delete(p)):c&&(s.delete(p),i.set(p,c))}return{changed:a.size>0||s.size>0||i.size>0,added:a,updated:s,removed:i,moved:o}}}}function bs(e,...t){let n;return Ze(e)?n=e.map(a=>nr(a)).join("___"):n=nr(e),(typeof n=="string"||typeof n=="number"||n instanceof Date)&&t.length>0&&(n+=`___${t.join("___")}`),n}var _C=(e=>(e[e.EXACT_SHAPE_MATCH=0]="EXACT_SHAPE_MATCH",e[e.NEAREST_BY_MAIN_AXIS_FIRST=1]="NEAREST_BY_MAIN_AXIS_FIRST",e[e.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST=2]="NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST",e[e.NEAREST_NODE=3]="NEAREST_NODE",e))(_C||{});function cf(e){return e!=null&&x3(e)}function zW(e){return e!=null}function AC(e){switch(e){case"number":case"log":case"ordinal-time":case"time":case"color":return cf;default:return zW}}function RC(e){switch(e){case"number":case"log":case"time":case"color":return"range";default:return"category"}}function A0(e,t,n={}){return S({property:e,type:"key",valueType:RC(t),validation:AC(t)},n)}function ge(e,t,n={}){return S({property:e,type:"value",valueType:RC(t),validation:AC(t)},n)}function df(e,t={}){let s=t,{min:n=-1/0,max:o=1/0}=s,a=ue(s,["min","max"]);return S({type:"value",property:e,valueType:"range",validation:cf,processor:()=>i=>Xt(i)?Ft(n,i,o):i},a)}function pf(e,t,n={}){let i=n,{onlyPositive:o}=i,a=ue(i,["onlyPositive"]);return V(S({},ge(e,t,a)),{processor:CC(o)})}function bW(e,t,n={}){return V(S({},ge(e,t,n)),{processor:BC()})}function G1(e,t,n="current",o,a){return[ge(e,a,o),EC(o.groupId,t,n,o.separateNegative),...o.rangeId!=null?[zC(o.rangeId,o.groupId)]:[]]}function LC(e,t,n){return[ge(e,n,t),TC(t.groupId,t.separateNegative)]}var i4=class{constructor(e,t,{datum:n},o){this.type=e,this.event=t,this.datum=n,this.seriesId=o.id}},vf=class{constructor(e,t,n){this.series=e,this.seriesGrouping=t,this.oldGrouping=n,this.type="groupingChanged"}},Br=class extends Vb{constructor(e){super(),this.destroyFns=[],this.seriesGrouping=void 0,this.NodeEvent=i4,this.internalId=No(this),this.rootGroup=new mt({name:"seriesRoot",isVirtual:!0}),this.axes={x:void 0,y:void 0},this.directions=["x","y"],this.nodeDataRefresh=!0,this.moduleMap=new q6,this._declarationOrder=-1,this.seriesListeners=new Hs;let{moduleCtx:t,pickModes:n=[1],directionKeys:o={},directionNames:a={},contentGroupVirtual:s=!0,canHaveAxes:i=!1}=e;this.ctx=t,this.directionKeys=o,this.directionNames=a,this.canHaveAxes=i,this.contentGroup=this.rootGroup.appendChild(new mt({name:`${this.internalId}-content`,isVirtual:s,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("data")})),this.highlightGroup=new mt({name:`${this.internalId}-highlight`,isVirtual:s,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("highlight")}),this.highlightNode=this.highlightGroup.appendChild(new mt({name:"highlightNode",zIndex:0})),this.highlightLabel=this.highlightGroup.appendChild(new mt({name:"highlightLabel",zIndex:10})),this.pickModes=n,this.labelGroup=this.rootGroup.appendChild(new mt({name:`${this.internalId}-series-labels`,zIndex:8})),this.annotationGroup=new mt({name:`${this.id}-annotation`,isVirtual:s,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("annotation")})}get id(){return this.properties?.id??this.internalId}get type(){return this.constructor.type??""}get data(){return this._data??this._chartData}set visible(e){this.properties.visible=e,this.visibleMaybeChanged()}get visible(){return this.properties.visible}get hasData(){return this.data!=null&&this.data.length>0}get tooltipEnabled(){return this.properties.tooltip?.enabled??!1}onDataChange(){this.nodeDataRefresh=!0}setOptionsData(e){this._data=e,this.onDataChange()}setChartData(e){this._chartData=e,this.data===e&&this.onDataChange()}onSeriesGroupingChange(e,t){let{internalId:n,type:o,visible:a}=this;e&&this.ctx.seriesStateManager.deregisterSeries({id:n,type:o}),t&&this.ctx.seriesStateManager.registerSeries({id:n,type:o,visible:a,seriesGrouping:t}),this.fireEvent(new vf(this,t,e))}getBandScalePadding(){return{inner:1,outer:0}}getGroupZIndexSubOrder(e,t=0){let n=0;switch(e){case"data":case"paths":break;case"labels":n+=2e4;break;case"marker":n+=1e4;break;case"highlight":t+=15e3;break;case"annotation":n+=15e3;break}return[()=>this._declarationOrder+n,t]}addListener(e,t){return this.seriesListeners.addListener(e,t)}dispatch(e,t){this.seriesListeners.dispatch(e,t)}addChartEventListeners(){}destroy(){this.destroyFns.forEach(e=>e()),this.destroyFns=[],this.ctx.seriesStateManager.deregisterSeries(this)}getDirectionValues(e,t){let n=this.resolveKeyDirection(e),o=t?.[n],a=[];if(!o)return a;let s=(...i)=>{for(let r of i)Array.isArray(r)?s(...r):typeof r=="object"?s(...Object.values(r)):a.push(r)};return s(...o.map(i=>this.properties[i])),a}getKeys(e){return this.getDirectionValues(e,this.directionKeys)}getKeyProperties(e){return this.directionKeys[this.resolveKeyDirection(e)]??[]}getNames(e){return this.getDirectionValues(e,this.directionNames)}resolveKeyDirection(e){return e}getDomain(e){let t=this.getSeriesDomain(e),n=this.moduleMap.mapModules(o=>o.getDomain(e));return t.concat(n.flat())}markNodeDataDirty(){this.nodeDataRefresh=!0,this.visibleMaybeChanged()}visibleMaybeChanged(){this.ctx.seriesStateManager.registerSeries(this)}getOpacity(){let{dimOpacity:t=1,enabled:n=!0}=this.properties.highlightStyle.series;if(!n||t===1)return 1;switch(this.isItemIdHighlighted()){case 0:case 1:return 1;case 2:default:return t}}getStrokeWidth(e){let{strokeWidth:t,enabled:n=!0}=this.properties.highlightStyle.series;if(!n||t===void 0)return e;switch(this.isItemIdHighlighted()){case 1:return t;case 0:case 2:return e}}isItemIdHighlighted(){let e=this.ctx.highlightManager?.getActiveHighlight()?.series;return e==null?0:e!==this?2:1}getModuleTooltipParams(){return this.moduleMap.mapModules(e=>e.getTooltipParams()).reduce((e,t)=>Object.assign(e,t),{})}pickNode(e,t){let{pickModes:n,visible:o,rootGroup:a}=this;if(!(!o||!a.visible))for(let s of n){if(t&&!t.includes(s))continue;let i;switch(s){case 0:i=this.pickNodeExactShape(e);break;case 1:case 2:i=this.pickNodeMainAxisFirst(e,s===2);break;case 3:i=this.pickNodeClosestDatum(e);break}if(i)return{pickMode:s,match:i.datum,distance:i.distance}}}pickNodeExactShape(e){let t=this.contentGroup.pickNode(e.x,e.y);if(t&&t.datum.missing!==!0)return{datum:t.datum,distance:0}}pickNodeClosestDatum(e){throw new Error("AG Charts - Series.pickNodeClosestDatum() not implemented")}pickNodeNearestDistantObject(e,t){let n=o3(e.x,e.y,t);if(n.nearest!==void 0&&n.nearest.datum.missing!==!0)return{datum:n.nearest.datum,distance:Math.sqrt(n.distanceSquared)}}pickNodeMainAxisFirst(e,t){throw new Error("AG Charts - Series.pickNodeMainAxisFirst() not implemented")}fireNodeClickEvent(e,t){this.fireEvent(new this.NodeEvent("nodeClick",e,t,this))}fireNodeDoubleClickEvent(e,t){this.fireEvent(new this.NodeEvent("nodeDoubleClick",e,t,this))}createNodeContextMenuActionEvent(e,t){return new this.NodeEvent("nodeContextMenuAction",e,t,this)}toggleSeriesItem(e,t){this.visible=t,this.nodeDataRefresh=!0,this.dispatch("visibility-changed",{itemId:e,enabled:t})}isEnabled(){return this.visible}getModuleMap(){return this.moduleMap}createModuleContext(){return V(S({},this.ctx),{series:this})}getLabelText(e,t,n=String){return e.formatter?this.ctx.callbackCache.call(e.formatter,S({seriesId:this.id},t))??n(t.value):n(t.value)}getMarkerStyle(e,t,n=e.getStyle()){let o={size:t.datum.point?.size??0},a=Wt(o,n);if(e.itemStyler){let s=this.ctx.callbackCache.call(e.itemStyler,V(S(S({seriesId:this.id},a),t),{datum:t.datum.datum}));return Wt(s,a)}return a}updateMarkerStyle(e,t,n,o=t.getStyle(),{applyTranslation:a=!0}={}){let{point:s}=n.datum,i=this.getMarkerStyle(t,n,o),r=this.visible&&i.size>0&&s&&!isNaN(s.x)&&!isNaN(s.y);a?e.setProperties(V(S({visible:r},i),{translationX:s?.x,translationY:s?.y})):e.setProperties(S({visible:r},i)),typeof t.shape=="function"&&!e.dirtyPath&&(e.path.clear(!0),e.updatePath(),e.checkPathDirty())}getMinRects(e,t){}get nodeDataDependencies(){return this._nodeDataDependencies??{seriesRectWidth:NaN,seriesRectHeight:NaN}}checkResize(e){let{width:t,height:n}=e??{width:NaN,height:NaN},o=e?{seriesRectWidth:t,seriesRectHeight:n}:void 0,a=Un(this.nodeDataDependencies,o)!=null;return a&&(this._nodeDataDependencies=o,this.markNodeDataDirty()),a}pickFocus(e){}};Br.highlightedZIndex=1e12;w([tn({changeValue:function(e,t){this.onSeriesGroupingChange(t,e)}})],Br.prototype,"seriesGrouping",2);var Ek=30,CW=class{constructor(e,t,n){this.seriesRoot=e,this.highlightRoot=t,this.annotationRoot=n,this.groups={},this.series={},this.expectedSeriesCount=1,this.mode="normal"}setSeriesCount(e){this.expectedSeriesCount=e}requestGroup(e){var t,n;let{internalId:o,type:a,rootGroup:s,highlightGroup:i,annotationGroup:r,seriesGrouping:l}=e,{groupIndex:h=o}=l??{};if(this.series[o]!=null)throw new Error(`AG Charts - series already has an allocated layer: ${this.series[o]}`);Object.keys(this.series).length===0&&(this.mode=this.expectedSeriesCount>=Ek?"aggressive-grouping":"normal"),(t=this.groups)[a]??(t[a]={});let c=this.lookupIdx(h),d=this.groups[a][c];return d||(d=(n=this.groups[a])[c]??(n[c]={type:a,id:c,seriesIds:[],group:this.seriesRoot.appendChild(new mt({name:`${a}-content`,layer:!0,zIndex:4,zIndexSubOrder:e.getGroupZIndexSubOrder("data")})),highlight:this.highlightRoot.appendChild(new mt({name:`${a}-highlight`,zIndex:4,zIndexSubOrder:e.getGroupZIndexSubOrder("highlight")})),annotation:this.annotationRoot.appendChild(new mt({name:`${a}-annotation`,zIndex:4,zIndexSubOrder:e.getGroupZIndexSubOrder("annotation")}))})),this.series[o]={layerState:d,seriesConfig:e},d.seriesIds.push(o),d.group.appendChild(s),d.highlight.appendChild(i),d.annotation.appendChild(r),d.group}changeGroup(e){let{internalId:t,seriesGrouping:n,type:o,rootGroup:a,highlightGroup:s,annotationGroup:i,oldGrouping:r}=e,{groupIndex:l=t}=n??{};this.groups[o]?.[l]?.seriesIds.includes(t)||(this.series[t]!=null&&this.releaseGroup({internalId:t,seriesGrouping:r,type:o,rootGroup:a,highlightGroup:s,annotationGroup:i}),this.requestGroup(e))}releaseGroup(e){let{internalId:t,rootGroup:n,highlightGroup:o,annotationGroup:a,type:s}=e;if(this.series[t]==null)throw new Error(`AG Charts - series doesn't have an allocated layer: ${t}`);let i=this.series[t]?.layerState;if(i&&(i.seriesIds=i.seriesIds.filter(r=>r!==t),i.group.removeChild(n),i.highlight.removeChild(o),i.annotation.removeChild(a)),i?.seriesIds.length===0)this.seriesRoot.removeChild(i.group),this.highlightRoot.removeChild(i.highlight),this.annotationRoot.removeChild(i.annotation),delete this.groups[i.type][i.id],delete this.groups[s][t];else if(i?.seriesIds.length>0){let r=this.series[i?.seriesIds?.[0]]?.seriesConfig;i.group.zIndexSubOrder=r?.getGroupZIndexSubOrder("data"),i.highlight.zIndexSubOrder=r?.getGroupZIndexSubOrder("highlight"),i.annotation.zIndexSubOrder=r?.getGroupZIndexSubOrder("annotation")}delete this.series[t]}lookupIdx(e){return this.mode==="normal"?e:typeof e=="string"&&(e=Number(e.split("-").at(-1)),!e)?0:Math.floor(Ft(0,e/this.expectedSeriesCount,1)*Ek)}destroy(){for(let e of Object.values(this.groups))for(let t of Object.values(e))this.seriesRoot.removeChild(t.group),this.highlightRoot.removeChild(t.highlight),this.annotationRoot.removeChild(t.annotation);this.groups={},this.series={}}},BW=class{constructor(e,t){this.chartLike=e,this.layoutService=t,this.destroyFns=[],this.destroyFns.push(this.layoutService.addListener("start-layout",n=>this.positionPadding(n)),this.layoutService.addListener("layout-complete",n=>this.alignCaptions(n)),this.layoutService.addListener("start-layout",n=>this.positionCaptions(n)))}destroy(){this.destroyFns.forEach(e=>e())}positionPadding(e){let{shrinkRect:t}=e,{padding:n}=this.chartLike;return t.shrink(n.left,"left"),t.shrink(n.top,"top"),t.shrink(n.right,"right"),t.shrink(n.bottom,"bottom"),V(S({},e),{shrinkRect:t})}positionCaptions(e){let{shrinkRect:t,positions:n,padding:o}=e,{title:a,subtitle:s,footnote:i,titlePadding:r}=this.chartLike,l=t.clone().shrink(r),h=t.clone(),c=g=>{let u=t.height/10,f=g.lineHeight??g.fontSize*se.defaultLineHeightRatio,M=t.width,m=Math.max(f,u);g.computeTextWrap(M,m)},d=g=>g==="left"?l.x:g==="right"?l.x+l.width:(g!=="center"&&q.error(`invalid textAlign value: ${g}`),l.x+l.width/2),p=(g,u)=>{let f=l.y;g.node.x=d(g.textAlign),g.node.y=f,g.node.textBaseline="top",c(g);let M=g.node.computeBBox(),m=Math.ceil(M.y-f+M.height+u);return g.layoutStyle==="block"&&(h.shrink(m+2*r,"top"),l.shrink(m,"top")),M},v=(g,u)=>{let f=l.y+l.height;g.node.x=d(g.textAlign),g.node.y=f,g.node.textBaseline="bottom",c(g);let M=g.node.computeBBox(),m=Math.ceil(f-M.y+u);return g.layoutStyle==="block"&&(h.shrink(m+2*r,"bottom"),l.shrink(m,"bottom")),M};if(a.node.visible=a.enabled,s.node.visible=s.enabled,i.node.visible=i.enabled,a.enabled){let{spacing:g=s.enabled?ze.SMALL_PADDING:ze.LARGE_PADDING}=a;n.title=p(a,g)}return s.enabled&&(n.subtitle=p(s,s.spacing??0)),i.enabled&&(n.footnote=v(i,i.spacing??0)),o.title=r,V(S({},e),{shrinkRect:h,positions:n})}alignCaptions(e){let{title:t,subtitle:n,footnote:o,titlePadding:a}=this.chartLike,s=(i,r)=>{if(i.layoutStyle==="overlay"){if(i.textAlign==="left")i.node.x=r.x+a;else if(i.textAlign==="right"){let l=i.node.computeBBox();i.node.x=r.x+r.width-l.width-a}}};s(t,e.series.rect),s(n,e.series.rect),s(o,e.series.rect)}},SW=class{constructor(e,t,n,o){this.chart=e,this.dataService=t,this.updateService=n,this.zoomManager=o,this.dirtyZoom=!1,this.dirtyDataSource=!1,this.lastAxisZooms=new Map,this.destroyFns=[],this.destroyFns.push(this.dataService.addListener("data-source-change",()=>this.onDataSourceChange()),this.dataService.addListener("data-load",()=>this.onDataLoad()),this.dataService.addListener("data-error",()=>this.onDataError()),this.updateService.addListener("update-complete",()=>this.onUpdateComplete()),this.zoomManager.addListener("zoom-change",()=>this.onZoomChange()))}destroy(){this.destroyFns.forEach(e=>e())}onDataLoad(){this.updateService.update(1)}onDataError(){this.updateService.update(3)}onDataSourceChange(){this.dirtyDataSource=!0}onUpdateComplete(){!this.dirtyZoom&&!this.dirtyDataSource||this.updateWindow().catch(e=>q.errorOnce(e))}onZoomChange(){this.dirtyZoom=!0}updateWindow(){return R(this,null,function*(){if(!this.dataService.isLazy())return;let e=this.getValidAxis(),t,n=!0;if(e){let o=this.zoomManager.getAxisZoom(e.id);t=this.getAxisWindow(e,o),n=this.shouldRefresh(e,o)}this.dirtyZoom=!1,this.dirtyDataSource=!1,n&&this.dataService.load({windowStart:t?.min,windowEnd:t?.max})})}getValidAxis(){return this.chart.axes.find(e=>e.type==="time")}shouldRefresh(e,t){if(this.dirtyDataSource)return!0;if(!this.dirtyZoom)return!1;let n=this.lastAxisZooms.get(e.id);return n&&t.min===n.min&&t.max===n.max?!1:(this.lastAxisZooms.set(e.id,t),!0)}getAxisWindow(e,t){let n=e.scale.getDomain?.();if(!t||!n||n.length===0||isNaN(Number(n[0])))return;let o=Number(n[1])-Number(n[0]),a=new Date(Number(n[0])+o*t.min),s=new Date(Number(n[0])+o*t.max);return{min:a,max:s}}},DW=".ag-chart-overlay{color:#181d1f;pointer-events:none}.ag-chart-overlay.ag-chart-dark-overlay{color:#ffffff}.ag-chart-overlay--loading{color:rgb(140,140,140)}.ag-chart-overlay__loading-background{background:white;pointer-events:none}.ag-chart-overlay.ag-chart-dark-overlay .ag-chart-overlay__loading-background{background:#192232}",HW=class{constructor(e,t,n,o,a,s,i){this.chartLike=e,this.overlays=t,this.dataService=n,this.layoutService=o,this.localeManager=a,this.animationManager=s,this.domManager=i,this.destroyFns=[],this.overlayElem=this.domManager.addChild("canvas-overlay","overlay"),this.overlayElem.role="status",this.overlayElem.ariaAtomic="false",this.overlayElem.ariaLive="polite",this.overlayElem.classList.toggle(d6),this.domManager.addStyles("overlays",DW),this.destroyFns.push(this.layoutService.addListener("layout-complete",r=>this.onLayoutComplete(r)))}destroy(){this.destroyFns.forEach(e=>e()),this.domManager.removeStyles("overlays"),this.domManager.removeChild("canvas-overlay","overlay")}onLayoutComplete({series:{rect:e}}){let t=this.dataService.isLoading(),n=this.chartLike.series.some(a=>a.hasData),o=this.chartLike.series.some(a=>a.visible);this.overlays.darkTheme?this.overlayElem.classList.add(Hk):this.overlayElem.classList.remove(Hk),this.overlayElem.style.left=`${e.x}px`,this.overlayElem.style.top=`${e.y}px`,this.overlayElem.style.width=`${e.width}px`,this.overlayElem.style.height=`${e.height}px`,this.toggleOverlay(this.overlays.loading,e,t),this.toggleOverlay(this.overlays.noData,e,!t&&!n),this.toggleOverlay(this.overlays.noVisibleSeries,e,n&&!o)}toggleOverlay(e,t,n){if(n){let o=e.getElement(this.animationManager,this.localeManager,t);this.overlayElem.appendChild(o)}else e.removeElement(()=>{this.overlayElem.innerText="\xA0"},this.animationManager)}},F1=me.create(!0,"opts"),gf=class extends Vt{constructor(){super(...arguments),this.padding=new _s(0)}};w([x(It,{optional:!0})],gf.prototype,"clip",2);w([x(vt)],gf.prototype,"padding",2);var c0=class _p extends Vb{constructor(t,n){var o;super(),this.id=No(this),this.seriesRoot=new mt({name:`${this.id}-series-root`}),this.highlightRoot=new mt({name:`${this.id}-highlight-root`,layer:!0,zIndex:5,nonEmptyChildDerivedZIndex:!0}),this.annotationRoot=new mt({name:`${this.id}-annotation-root`,layer:!0,zIndex:10}),this.debug=me.create(),this.extraDebugStats={},this.data=[],this._firstAutoSize=!0,this.padding=new _s(20),this.titlePadding=0,this.seriesArea=new gf,this.title=new ze,this.subtitle=new ze,this.footnote=new ze,this.keyboard=new sf,this.mode="standalone",this.destroyed=!1,this._skipSync=!1,this._destroyFns=[],this.chartAnimationPhase="initial",this.modulesManager=new wW,this.zoomManager=new xC,this.processors=[],this.queuedUserOptions=[],this._pendingFactoryUpdatesCount=0,this._performUpdateNoRenderCount=0,this._performUpdateSkipAnimations=!1,this.performUpdateType=7,this.updateShortcutCount=0,this.seriesToUpdate=new Set,this.updateMutex=new rG,this.updateRequestors={},this.performUpdateTrigger=hG(f=>R(this,[f],function*({count:u}){this.destroyed||this.updateMutex.acquire(()=>R(this,null,function*(){try{yield this.performUpdate(u)}catch(M){q.error("update error",M)}})).catch(M=>q.errorOnce(M))})),this._performUpdateSplits={},this.axes=[],this.series=[],this.focus={hasFocus:!1,series:void 0,seriesIndex:0,datumIndex:0,datum:void 0},this.pointerScheduler=lG(()=>{if(this.lastInteractionEvent){if(this.performUpdateType<=4){this.pointerScheduler.schedule();return}this.handlePointer(this.lastInteractionEvent,!1),this.lastInteractionEvent=void 0}}),this.onSeriesNodeClick=u=>{let f=V(S({},u),{type:"seriesNodeClick"});Object.defineProperty(f,"series",{enumerable:!1,get:()=>u.series}),this.fireEvent(f)},this.onSeriesNodeDoubleClick=u=>{let f=V(S({},u),{type:"seriesNodeDoubleClick"});this.fireEvent(f)},this.seriesGroupingChanged=u=>{if(!(u instanceof vf))return;let{series:f,seriesGrouping:M,oldGrouping:m}=u;f.rootGroup.parent!=null&&this.seriesLayerManager.changeGroup({internalId:f.internalId,type:f.type,rootGroup:f.rootGroup,highlightGroup:f.highlightGroup,annotationGroup:f.annotationGroup,getGroupZIndexSubOrder:k=>f.getGroupZIndexSubOrder(k),seriesGrouping:M,oldGrouping:m})},this.dataProcessListeners=new Set,this.chartOptions=t;let a=n?.scene,s=n?.container,i=new mt({name:"root"}),r=new mt({name:"titles",layer:!0,zIndex:8});i.visible=!1,i.append(r),i.append(this.seriesRoot),i.append(this.highlightRoot),i.append(this.annotationRoot),r.append(this.title.node),r.append(this.subtitle.node),r.append(this.footnote.node);let{overrideDevicePixelRatio:l}=t.specialOverrides;this.tooltip=new I1,this.seriesLayerManager=new CW(this.seriesRoot,this.highlightRoot,this.annotationRoot);let h=this.ctx=new VG(this,{scene:a,root:i,syncManager:new iW(this),container:s,updateCallback:(u=0,f)=>this.update(u,f),updateMutex:this.updateMutex,overrideDevicePixelRatio:l});this._destroyFns.push(h.domManager.addListener("resize",()=>this.parentResize(h.domManager.containerSize))),this.overlays=new s4,(o=this.overlays.loading).renderer??(o.renderer=()=>fW(this.overlays.loading.getText(h.localeManager),h.animationManager.defaultDuration)),this.processors=[new BW(this,h.layoutService),new SW(this,h.dataService,h.updateService,h.zoomManager),new HW(this,this.overlays,h.dataService,h.layoutService,h.localeManager,h.animationManager,h.domManager)],this.highlight=new dC,this.container=s;let{All:c}=cr,d=this.getModuleContext(),p=h.regionManager.addRegion("series",this.seriesRoot,this.ctx.axisManager.axisGridGroup),v=this.ctx.regionManager.addRegion("horizontal-axes"),g=this.ctx.regionManager.addRegion("vertical-axes");h.regionManager.addRegion("root",i),this._destroyFns.push(h.dataService.addListener("data-load",u=>{this.data=u.data}),this.title.registerInteraction(d),this.subtitle.registerInteraction(d),this.footnote.registerInteraction(d),h.regionManager.listenAll("click",u=>this.onClick(u)),h.regionManager.listenAll("dblclick",u=>this.onDoubleClick(u)),p.addListener("hover",u=>this.onMouseMove(u),20),p.addListener("drag",u=>this.onMouseMove(u),20),v.addListener("hover",u=>this.onMouseMove(u)),g.addListener("hover",u=>this.onMouseMove(u)),p.addListener("leave",u=>this.onLeave(u)),v.addListener("leave",u=>this.onLeave(u)),g.addListener("leave",u=>this.onLeave(u)),p.addListener("blur",()=>this.onBlur()),p.addListener("tab",u=>this.onTab(u)),p.addListener("nav-vert",u=>this.onNavVert(u)),p.addListener("nav-hori",u=>this.onNavHori(u)),p.addListener("submit",u=>this.onSubmit(u)),p.addListener("contextmenu",u=>this.onContextMenu(u),c),h.keyNavManager.addListener("browserfocus",u=>this.onBrowserFocus(u)),h.interactionManager.addListener("page-left",()=>this.destroy()),h.animationManager.addListener("animation-start",()=>this.onAnimationStart()),h.animationManager.addListener("animation-frame",()=>{this.update(6)}),h.highlightManager.addListener("highlight-change",u=>this.changeHighlightDatum(u)),h.zoomManager.addListener("zoom-pan-start",()=>this.resetPointer()),h.zoomManager.addListener("zoom-change",()=>{this.resetPointer(),this.ctx.focusIndicator.updateBounds(void 0),this.series.map(f=>f.animationState?.transition("updateData"));let u=this.chartAnimationPhase!=="initial";this.update(3,{forceNodeDataRefresh:!0,skipAnimations:u})})),this.parentResize(h.domManager.containerSize)}static getInstance(t){return _p.chartsInstances.get(t)}get canvasElement(){return this.ctx.scene.canvas.element}download(t,n){this.ctx.scene.download(t,n)}getCanvasDataURL(t){return this.ctx.scene.getDataURL(t)}getOptions(){return this.queuedUserOptions.at(-1)??this.chartOptions.userOptions}getModuleContext(){return this.ctx}getCaptionText(){return[this.title,this.subtitle,this.footnote].filter(t=>t.enabled&&t.text).map(t=>t.text).join(". ")}getAriaLabel(){return this.ctx.localeManager.t("ariaAnnounceChart",{seriesCount:this.series.length,caption:this.getCaptionText()})}getDatumAriaText(t,n){let o=n.ariaLabel;return t.series.getDatumAriaText?.(t,o)??o}resetAnimations(){this.chartAnimationPhase="initial";for(let t of this.series)t.resetAnimation(this.chartAnimationPhase);for(let t of this.axes)t.resetAnimation(this.chartAnimationPhase);this.animationRect=void 0,this.ctx.animationManager.reset()}skipAnimations(){this.ctx.animationManager.skipCurrentBatch(),this._performUpdateSkipAnimations=!0}destroy(t){if(this.destroyed)return;let n=t?.keepTransferableResources,o;return this.performUpdateType=7,this._destroyFns.forEach(a=>a()),this.processors.forEach(a=>a.destroy()),this.tooltip.destroy(this.ctx.domManager),this.overlays.destroy(),this.modulesManager.destroy(),n?(this.ctx.scene.strip(),o={container:this.container,scene:this.ctx.scene}):(this.ctx.scene.destroy(),this.container=void 0),this.destroySeries(this.series),this.seriesLayerManager.destroy(),this.axes.forEach(a=>a.destroy()),this.axes=[],this.animationRect=void 0,this.ctx.destroy(),this.zoomManager.destroy(),this.destroyed=!0,Object.freeze(this),o}resetPointer(t=!1){t||this.ctx.tooltipManager.removeTooltip(this.id),this.ctx.highlightManager.updateHighlight(this.id),this.lastInteractionEvent=void 0}requestFactoryUpdate(t){this.destroyed||(this._pendingFactoryUpdatesCount++,this.updateMutex.acquire(()=>R(this,null,function*(){this.destroyed||(yield t(this),!this.destroyed&&this._pendingFactoryUpdatesCount--)})).catch(n=>q.errorOnce(n)))}update(t=0,n){let{forceNodeDataRefresh:o=!1,skipAnimations:a,seriesToUpdate:s=this.series,newAnimationBatch:i}=n??{};o&&this.series.forEach(r=>r.markNodeDataDirty());for(let r of s)this.seriesToUpdate.add(r);if(a&&(this.ctx.animationManager.skipCurrentBatch(),this._performUpdateSkipAnimations=!0),i&&this.ctx.animationManager.isActive()&&(this._performUpdateSkipAnimations=!0),this._skipSync=n?.skipSync??!1,this.debug.check()){let r=new Error().stack??"<unknown>";r=r.replace(/\([^)]*/g,""),this.updateRequestors[r]=t}t<this.performUpdateType&&(this.performUpdateType=t,this.performUpdateTrigger.schedule(n?.backOffMs))}performUpdate(t){return R(this,null,function*(){let{performUpdateType:n,extraDebugStats:o,_performUpdateSplits:a,ctx:s}=this,i=[...this.seriesToUpdate];this.performUpdateType=7,this.seriesToUpdate.clear(),this.updateShortcutCount===0&&n<6&&(s.animationManager.startBatch(this._performUpdateSkipAnimations),s.animationManager.onBatchStop(()=>this.chartAnimationPhase="ready")),this.debug("Chart.performUpdate() - start",yh[n]);let r=performance.now();a.start??(a.start=r);let l=d=>{a[d]??(a[d]=0),a[d]+=performance.now()-r,r=performance.now()},h=!1;switch(n){case 0:this.updateDOM();case 1:yield this.updateData(),l("\u2B07\uFE0F");case 2:yield this.processData(),this.resetPointer(!0),l("\u{1F3ED}");case 3:if(this.checkUpdateShortcut(3))break;if(!this.checkFirstAutoSize(i)){h=!0;break}yield this.processLayout(),l("\u2316");case 4:if(this.checkUpdateShortcut(4))break;let{seriesRect:d}=this;yield Promise.all(i.map(v=>v.update({seriesRect:d}))),l("\u{1F914}");case 5:if(this.checkUpdateShortcut(5))break;let p=s.tooltipManager.getTooltipMeta(this.id);n<=4&&p?.lastPointerEvent!=null&&this.handlePointer(p.lastPointerEvent,!0),l("\u2196");case 6:if(this.checkUpdateShortcut(6))break;s.animationManager.endBatch(),o.updateShortcutCount=this.updateShortcutCount,yield s.scene.render({debugSplitTimes:a,extraDebugStats:o}),this.extraDebugStats={};for(let v in a)delete a[v];this.ctx.domManager.incrementDataCounter("sceneRenders");case 7:this.updateShortcutCount=0,this.updateRequestors={},this._performUpdateSkipAnimations=!1,s.animationManager.endBatch()}h||s.updateService.dispatchUpdateComplete(this.getMinRects());let c=performance.now();this.debug("Chart.performUpdate() - end",{chart:this,durationMs:Math.round((c-a.start)*100)/100,count:t,performUpdateType:yh[n]})})}updateThemeClassName(){let{theme:t}=this.chartOptions.processedOptions,n="ag-charts-theme-",o=[`${n}default`,`${n}default-dark`],a=o[0],s=!1;typeof t=="string"?(a=t.replace("ag-",n),s=t.includes("-dark")):typeof t?.baseTheme=="string"&&(a=t.baseTheme.replace("ag-",n),s=t.baseTheme.includes("-dark")),o.includes(a)||(a=s?o[1]:o[0]),this.ctx.domManager.setThemeClass(a)}updateDOM(){this.updateThemeClassName();let{enabled:t,tabIndex:n}=this.keyboard;this.ctx.domManager.setTabIndex(t?n??0:-1),H2(this.ctx.scene.canvas.element,"role","figure"),H2(this.ctx.scene.canvas.element,"aria-label",this.getAriaLabel())}checkUpdateShortcut(t){return this.updateShortcutCount>3?(q.warn("exceeded the maximum number of simultaneous updates (4), discarding changes and rendering",this.updateRequestors),!1):this.performUpdateType<=t?(this.updateShortcutCount++,!0):!1}checkFirstAutoSize(t){if(!(this.width!=null&&this.height!=null)){if(!this._lastAutoSize){let n=this._performUpdateNoRenderCount++,o=(n+1)**2*40;if(n<8)return this.update(3,{seriesToUpdate:t,backOffMs:o}),this.debug("Chart.checkFirstAutoSize() - backing off until first size update",o),!1;this.debug("Chart.checkFirstAutoSize() - timeout for first size update.")}}return this._performUpdateNoRenderCount=0,!0}onAxisChange(t,n){n==null&&t.length===0||this.ctx.axisManager.updateAxes(n??[],t)}onSeriesChange(t,n){let o=n?.filter(a=>!t.includes(a))??[];this.destroySeries(o),this.seriesLayerManager?.setSeriesCount(t.length);for(let a of t){if(n?.includes(a))continue;a.rootGroup.parent==null&&this.seriesLayerManager.requestGroup(a);let s=this;a.chart={get mode(){return s.mode},get isMiniChart(){return!1},get seriesRect(){return s.seriesRect},placeLabels(){return s.placeLabels()}},a.resetAnimation(this.chartAnimationPhase),this.addSeriesListeners(a),a.addChartEventListeners()}}destroySeries(t){t?.forEach(n=>{n.removeEventListener("nodeClick",this.onSeriesNodeClick),n.removeEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick),n.removeEventListener("groupingChanged",this.seriesGroupingChanged),n.destroy(),this.seriesLayerManager.releaseGroup(n),n.chart=void 0})}addSeriesListeners(t){this.hasEventListener("seriesNodeClick")&&t.addEventListener("nodeClick",this.onSeriesNodeClick),this.hasEventListener("seriesNodeDoubleClick")&&t.addEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick),t.addEventListener("groupingChanged",this.seriesGroupingChanged)}updateAllSeriesListeners(){this.series.forEach(t=>{t.removeEventListener("nodeClick",this.onSeriesNodeClick),t.removeEventListener("nodeDoubleClick",this.onSeriesNodeDoubleClick),this.addSeriesListeners(t)})}assignSeriesToAxes(){this.axes.forEach(t=>{t.boundSeries=this.series.filter(n=>n.axes[t.direction]===t)})}assignAxesToSeries(){let t=G6(this.axes,n=>n.direction);this.series.forEach(n=>{n.directions.forEach(o=>{let a=t[o];if(!a){q.warnOnce(`no available axis for direction [${o}]; check series and axes configuration.`);return}let s=n.getKeys(o),i=a.find(r=>!r.keys.length||s.some(l=>r.keys.includes(l)));if(!i){q.warnOnce(`no matching axis for direction [${o}] and keys [${s}]; check series and axes configuration.`);return}n.axes[o]=i})})}parentResize(t){if(t==null||this.width!=null&&this.height!=null)return;let{width:n,height:o}=t;if(n=Math.floor(n),o=Math.floor(o),n===0&&o===0)return;let[a=0,s=0]=this._lastAutoSize??[];a===n&&s===o||(this._lastAutoSize=[n,o],this.resize("SizeMonitor",{}))}resize(t,n){let{scene:o,animationManager:a}=this.ctx,{inWidth:s,inHeight:i,inMinWidth:r,inMinHeight:l}=n;this.ctx.domManager.setSizeOptions(r??this.minWidth,l??this.minHeight,s??this.width,i??this.height);let h=s??this.width??this._lastAutoSize?.[0],c=i??this.height??this._lastAutoSize?.[1];if(this.debug(`Chart.resize() from ${t}`,{width:h,height:c,stack:new Error().stack}),!(h==null||c==null||!Xt(h)||!Xt(c))&&o.resize(h,c)){this.resetPointer(),a.reset();let d=!0;(this.width==null||this.height==null)&&this._firstAutoSize&&(d=!1,this._firstAutoSize=!1),this.update(3,{forceNodeDataRefresh:!0,skipAnimations:d})}}updateData(){return R(this,null,function*(){this.series.forEach(n=>n.setChartData(this.data));let t=this.modulesManager.mapModules(n=>n.updateData?.({data:this.data}));yield Promise.all(t)})}processData(){return R(this,null,function*(){if(this.series.some(a=>a.canHaveAxes)){this.assignAxesToSeries();let a=this.modulesManager.getModule("sync");a?.enabled?a.syncAxes(this._skipSync):this.assignSeriesToAxes()}let t=new fC(this.mode),n=this.series.map(a=>a.processData(t)),o=this.modulesManager.mapModules(a=>a.processData?.({dataController:t}));t.execute(),yield Promise.all([...n,...o]);for(let{legendType:a,legend:s}of this.modulesManager.legends())s.data=this.getLegendData(a,this.mode!=="integrated");this.dataProcessListeners.forEach(a=>a()),this.dataProcessListeners.clear()})}placeLabels(){let t=[],n=[];for(let h of this.series){if(!h.visible)continue;let c=h.getLabelData();FU(c?.[0])&&(n.push(c),t.push(h))}let{seriesRect:o}=this,{top:a,right:s,bottom:i,left:r}=this.seriesArea.padding,l=o&&n.length>0?jU(n,{x:-r,y:-a,width:o.width+r+s,height:o.height+a+i}):[];return new Map(l.map((h,c)=>[t[c],h]))}getLegendData(t,n){var o;let a=this.series.filter(i=>i.properties.showInLegend).flatMap(i=>i.getLegendData(t));if(n&&(i=>i.every(r=>r.legendType==="category"))(a)){let i={},r=new Map(this.series.map(l=>[l.id,l.type]));for(let{seriesId:l,symbols:[{marker:h}],label:c}of a){if(h.fill==null)continue;let d=r.get(l),p=i[d]??(i[d]={});p[o=c.text]??(p[o]=h.fill),p[c.text]!==h.fill&&q.warnOnce(`legend item '${c.text}' has multiple fill colors, this may cause unexpected behaviour.`)}}return a}processLayout(){return R(this,null,function*(){let t=this.animationRect;yield this.performLayout(),t&&!this.animationRect?.equals(t)&&this.ctx.animationManager.skipCurrentBatch(),this.debug("Chart.performUpdate() - seriesRect",this.seriesRect)})}performLayout(){return R(this,null,function*(){let{width:t,height:n}=this.ctx.scene,o={shrinkRect:new pt(0,0,t,n),positions:{},padding:{}};o=this.ctx.layoutService.dispatchPerformLayout("start-layout",o),o=this.ctx.layoutService.dispatchPerformLayout("before-series",o);for(let a of this.modulesManager.modules())a.performLayout!=null&&(o=yield a.performLayout(o));return o.shrinkRect})}pickNode(t,n){let o=performance.now(),a=[...n].reverse(),s;for(let{series:i,pickModes:r,maxDistance:l}of a){if(!i.visible||!i.rootGroup.visible)continue;let{match:h,distance:c}=i.pickNode(t,r)??{};if(!(!h||c==null)&&((!s||s.distance>c)&&c<=(l??1/0)&&(s={series:i,distance:c,datum:h}),c===0))break}return this.extraDebugStats.pickSeriesNode=Math.round((this.extraDebugStats.pickSeriesNode??0)+(performance.now()-o)),s}pickSeriesNode(t,n,o){let a=n?[0]:void 0;return this.pickNode(t,this.series.map(s=>({series:s,pickModes:a,maxDistance:o})))}pickTooltip(t){return this.pickNode(t,this.series.map(n=>{let o=n.properties.tooltip.range,a;return o==="exact"?a=[0]:a=void 0,{series:n,pickModes:a,maxDistance:typeof o=="number"?o:void 0}}))}onMouseMove(t){this.lastInteractionEvent=t,this.pointerScheduler.schedule(),this.extraDebugStats.mouseX=t.offsetX,this.extraDebugStats.mouseY=t.offsetY,this.update(6)}onLeave(t){let n=t.relatedElement;n&&this.ctx.domManager.isManagedDOMElement(n)||(this.resetPointer(),this.update(6),this.ctx.cursorManager.updateCursor("chart"))}onBrowserFocus(t){t.delta>0?(this.focus.datum=void 0,this.focus.series=void 0,this.focus.datumIndex=0,this.focus.seriesIndex=0):t.delta<0&&(this.focus.datum=void 0,this.focus.series=void 0,this.focus.datumIndex=1/0,this.focus.seriesIndex=1/0)}onAnimationStart(){this.focus.hasFocus&&this.onBlur()}onBlur(){this.ctx.focusIndicator.updateBounds(void 0),this.resetPointer(),this.focus.hasFocus=!1}onTab(t){this.handleFocus(0,0),t.preventDefault(),this.focus.hasFocus=!0}onNavVert(t){this.focus.seriesIndex+=t.delta,this.handleFocus(t.delta,0),t.preventDefault()}onNavHori(t){this.focus.datumIndex+=t.delta,this.handleFocus(0,t.delta),t.preventDefault()}onSubmit(t){let{series:n,datum:o}=this.focus,a=t.sourceEvent.sourceEvent;n!==void 0&&o!==void 0?n.fireNodeClickEvent(a,o):this.fireEvent({type:"click",event:a}),t.preventDefault()}onContextMenu(t){this.ctx.tooltipManager.removeTooltip(this.id);let{Default:n,ContextMenu:o}=cr,a;this.ctx.interactionManager.getState()&(n|o)&&this.checkSeriesNodeRange(t,(s,i)=>{this.ctx.highlightManager.updateHighlight(this.id),a=i}),this.ctx.contextMenuRegistry.dispatchContext("series",t,{pickedNode:a})}handleFocus(t,n){this.focus.hasFocus=!0;let o=this.overlays.getFocusInfo(this.ctx.localeManager);o==null?this.handleSeriesFocus(t,n):(this.ctx.focusIndicator.updateBounds(o.rect),this.ctx.ariaAnnouncementService.announceValue(o.text))}handleSeriesFocus(t,n){let{series:o,seriesRect:a,focus:s}=this,i=o.filter(c=>c.visible);if(i.length===0)return;s.seriesIndex=Ft(0,s.seriesIndex,i.length-1),s.series=i[s.seriesIndex];let{datumIndex:r,seriesIndex:l}=s,h=s.series.pickFocus({datumIndex:r,datumIndexDelta:n,otherIndex:l,otherIndexDelta:t,seriesRect:a});this.updatePickedFocus(h)}updatePickedFocus(t){let{focus:n}=this;if(t===void 0||n.series===void 0)return;let{datum:o,datumIndex:a}=t;n.datumIndex=a,n.datum=o;let s=yC(this.ctx.focusIndicator,t);if(s!==void 0){this.lastInteractionEvent=s;let i=n.series.getTooltipHtml(o),r=Wp.makeTooltipMeta(this.lastInteractionEvent,o),l=this.getDatumAriaText(o,i);this.ctx.highlightManager.updateHighlight(this.id,o),this.ctx.tooltipManager.updateTooltip(this.id,r,i),this.ctx.ariaAnnouncementService.announceValue("ariaAnnounceHoverDatum",{datum:l})}}static isHoverEvent(t){return t!==void 0&&t.type==="hover"}static isDragEvent(t){return t!==void 0&&t.type==="drag"}handlePointer(t,n){let o=this.ctx.interactionManager.getState();if(o!==16&&o!==4||!_p.isHoverEvent(t)&&!_p.isDragEvent(t))return;let{lastPick:a,hoverRect:s}=this,{offsetX:i,offsetY:r}=t,l=(h=!1)=>{a&&this.resetPointer(h)};if(n?this.ctx.animationManager.isActive():!s?.containsPoint(i,r)){l();return}this.handlePointerTooltip(t,l),this.handlePointerNode(t)}handlePointerTooltip(t,n){let{lastPick:o}=this,{offsetX:a,offsetY:s,targetElement:i}=t;if(i&&this.tooltip.interactive&&this.ctx.domManager.isManagedChildDOMElement(i,"canvas-overlay",So))return;let r=this.pickTooltip({x:a,y:s});if(!r){this.ctx.tooltipManager.removeTooltip(this.id),this.highlight.range==="tooltip"&&n(!0);return}let l=this.highlight.range==="node"||!o||o!==r.datum,h;l&&(h=r.series.getTooltipHtml(r.datum),this.highlight.range==="tooltip"&&this.ctx.highlightManager.updateHighlight(this.id,r.datum));let d=this.tooltip.enabled&&r.series.tooltipEnabled&&(!l||h!==void 0),p=Wp.makeTooltipMeta(t,r.datum);d&&this.ctx.tooltipManager.updateTooltip(this.id,p,h)}handlePointerNode(t){this.checkSeriesNodeRange(t,(o,a)=>{(o.hasEventListener("nodeClick")||o.hasEventListener("nodeDoubleClick"))&&this.ctx.cursorManager.updateCursor("chart","pointer"),this.highlight.range==="node"&&this.ctx.highlightManager.updateHighlight(this.id,a)})||(this.ctx.cursorManager.updateCursor("chart"),this.highlight.range==="node"&&this.ctx.highlightManager.updateHighlight(this.id))}onClick(t){if(this.checkSeriesNodeClick(t)){this.update(4),t.preventDefault();return}this.fireEvent({type:"click",event:t.sourceEvent})}onDoubleClick(t){if(this.checkSeriesNodeDoubleClick(t)){this.update(4),t.preventDefault();return}this.fireEvent({type:"doubleClick",event:t.sourceEvent})}checkSeriesNodeClick(t){return this.checkSeriesNodeRange(t,(n,o)=>n.fireNodeClickEvent(t.sourceEvent,o))}checkSeriesNodeDoubleClick(t){return this.checkSeriesNodeRange(t,(n,o)=>n.fireNodeDoubleClickEvent(t.sourceEvent,o))}checkSeriesNodeRange(t,n){let a=this.pickSeriesNode({x:t.offsetX,y:t.offsetY},!1)?.datum,s=a?.series.properties.nodeClickRange,i;Xt(s)&&(i=s);let r=this.pickSeriesNode({x:t.offsetX,y:t.offsetY},!0);if(r&&(t.preventZoomDblClick=!0),a&&s==="nearest")return n(a.series,a),!0;if(s!=="exact"&&(r=this.pickSeriesNode({x:t.offsetX,y:t.offsetY},!1,i)),!r)return!1;let l=i!=null,h=s==="exact"&&r.distance===0;return(l||h)&&(t.pointerHistory===void 0||t.pointerHistory?.every(d=>{let p={x:d.offsetX,y:d.offsetY};return this.pickSeriesNode(p,!1,i)?.datum===r?.datum}))?(n(r.series,r.datum),!0):!1}changeHighlightDatum(t){let n=new Set,{series:o=void 0,datum:a}=t.currentHighlight??{},{series:s=void 0,datum:i}=t.previousHighlight??{};s&&n.add(s),o&&n.add(o),s?.properties.cursor&&i&&this.ctx.cursorManager.updateCursor(s.id),o?.properties.cursor&&a&&this.ctx.cursorManager.updateCursor(o.id,o.properties.cursor),this.lastPick=t.currentHighlight,o==null||s==null?this.update(4):this.update(4,{seriesToUpdate:n})}waitForUpdate(t=1e4,n=!1){return R(this,null,function*(){let o=performance.now();for(this._pendingFactoryUpdatesCount>0&&(yield this.updateMutex.waitForClearAcquireQueue());this.performUpdateType!==7;){if(performance.now()-o>t){let a=`Chart.waitForUpdate() timeout of ${t} reached - first chart update taking too long.`;if(n)throw new Error(a);q.warnOnce(a)}yield iG(50)}yield this.updateMutex.waitForClearAcquireQueue()})}waitForDataProcess(t){return new Promise(n=>{this.dataProcessListeners.add(n),jn(t)&&setTimeout(()=>{this.dataProcessListeners.has(n)&&(this.dataProcessListeners.delete(n),n())},t)})}getMinRects(){let{width:t,height:n}=this.ctx.scene,o=this.series.map(c=>c.getMinRects(t,n)).filter(Hh);if(o.length===0)return;let a=0,s=0,i=0,r=0;for(let{minRect:c,minVisibleRect:d}of o)a=Math.max(a,c.width),s=Math.max(s,c.height),i=Math.max(i,d.width),r=Math.max(r,d.height);let l=new pt(0,0,a,s),h=l.clone();return i>0&&r>0&&(h=new pt(0,0,i,r)),{minRect:l,minVisibleRect:h}}filterMiniChartSeries(t){return t?.filter(n=>n.showInMiniChart!==!1)}applyOptions(t){let o=t!==this.chartOptions?this.chartOptions.processedOptions:{},a=t.processedOptions,s=t.diffOptions(o);if(s==null)return;F1("Chart.applyOptions() - applying delta",s);let i=this.applyModules(a),r=["type","data","series","listeners","preset","theme","legend.listeners","navigator.miniChart.series","navigator.miniChart.label","axes","topology","nodes","initialState"];s.listeners&&this.registerListeners(this,s.listeners),fa(this,s,{skip:r});let l=!1,h="no-op";s.series?.length&&(h=this.applySeries(this,s.series,o?.series),l=!0),h==="replaced"&&this.resetAnimations(),this.applyAxes(this,a,o,h,[],!0)&&(l=!0),s.data&&(this.data=s.data),s.legend?.listeners&&this.modulesManager.isEnabled("legend")&&Object.assign(this.legend.listeners,s.legend.listeners),s.listeners&&this.updateAllSeriesListeners(),this.chartOptions=t;let c=this.modulesManager.getModule("navigator"),d=this.modulesManager.getModule("zoom");!c?.enabled&&!d?.enabled&&this.ctx.zoomManager.updateZoom("chart");let p=c?.miniChart,v=a.navigator?.miniChart?.series??a.series;p?.enabled===!0&&v!=null?this.applyMiniChartOptions(p,v,a,o):p?.enabled===!1&&(p.series=[],p.axes=[]),this.ctx.annotationManager.setAnnotationStyles(t.annotationThemes),l||(l=this.shouldForceNodeDataRefresh(s,h));let u=l||i?0:3;this.maybeResetAnimations(h),F1("Chart.applyOptions() - update type",yh[u],{seriesStatus:h,forceNodeDataRefresh:l}),this.update(u,{forceNodeDataRefresh:l,newAnimationBatch:!0})}applyInitialState(){let{ctx:{annotationManager:t,stateManager:n}}=this,o=this.getOptions();if(o.initialState?.annotations!=null){let a=o.initialState.annotations.map(s=>{let i=t.getAnnotationTypeStyles(s.type);return Wt(s,i)});n.setState(t,a)}}maybeResetAnimations(t){if(this.mode==="standalone")switch(t){case"series-grouping-change":case"replaced":this.resetAnimations();break;default:}}shouldForceNodeDataRefresh(t,n){let o=!!t.data||n==="data-change"||n==="replaced",a=of.getKeys(),s=Object.values(a).some(r=>t[r]!=null),i=t.title!=null&&t.subtitle!=null;return o||s||i}applyMiniChartOptions(t,n,o,a){let s=a?.navigator?.miniChart?.series??a?.series,i=this.applySeries(t,this.filterMiniChartSeries(n),this.filterMiniChartSeries(s));this.applyAxes(t,o,a,i,["axes[].tick","axes[].thickness","axes[].title","axes[].crosshair","axes[].gridLine","axes[].label"]);let r=t.axes,l=r.find(h=>h.direction==="x");for(let h of r)h.gridLine.enabled=!1,h.label.enabled=h===l,h.tick.enabled=!1,h.interactionEnabled=!1;if(l!=null){let h=o.navigator?.miniChart,c=h?.label,d=h?.label?.interval;l.line.enabled=!1,l.label.set(Kw(c,["interval","rotation","minSpacing","autoRotate","autoRotateAngle"])),l.tick.set(Kw(d,["enabled","width","size","color","interval","step"]));let p=d?.step;p!=null&&(l.interval.step=p)}}applyModules(t){let{type:n}=this.constructor,o=!1;for(let a of fs.byType("root","legend")){let i=t[a.optionsKey]!=null&&a.chartTypes.includes(n);i!==this.modulesManager.isEnabled(a)&&(i?(this.modulesManager.addModule(a,r=>new r.instanceConstructor(this.getModuleContext())),a.type==="legend"&&this.modulesManager.getModule(a)?.attachLegend(this.ctx.scene),this[a.optionsKey]=this.modulesManager.getModule(a)):(this.modulesManager.removeModule(a),delete this[a.optionsKey]),o=!0)}return o}applySeries(t,n,o){if(!n)return"no-change";let a=pW(t.series,n,o);if(a.status==="no-overlap")return F1(`Chart.applySeries() - creating new series instances, status: ${a.status}`,a),t.series=n.map(h=>this.createSeries(h)),"replaced";F1("Chart.applySeries() - matchResult",a);let s=[],i=!1,r=!1,l=!1;for(let h of a.changes)switch(r||(r=h.status==="series-grouping"),i||(i=h.diff?.data!=null),l||(l=h.status!=="no-op"),h.status){case"add":let c=this.createSeries(h.opts);s.push(c),F1("Chart.applySeries() - created new series",c);break;case"remove":F1(`Chart.applySeries() - removing series at previous idx ${h.idx}`,h.series);break;case"no-op":s.push(h.series),F1(`Chart.applySeries() - no change to series at previous idx ${h.idx}`,h.series);break;case"series-grouping":case"update":default:let{series:d,diff:p,idx:v}=h;F1(`Chart.applySeries() - applying series diff previous idx ${v}`,p,d),this.applySeriesValues(d,p),d.markNodeDataDirty(),s.push(d)}for(let h=0;h<s.length;h++)s[h]._declarationOrder=h;return F1("Chart.applySeries() - final series instances",s),t.series=s,r?"series-grouping-change":i?"data-change":l?"updated":"no-op"}applyAxes(t,n,o,a,s=[],i=!1){if(!("axes"in n)||!n.axes)return!1;s=["axes[].type",...s];let{axes:r}=n;if(!(a==="replaced")&&t.axes.length===r.length&&t.axes.every((d,p)=>d.type===r[p].type)&&ar(o))return t.axes.forEach((d,p)=>{let v=o.axes?.[p]??{},g=Un(v,r[p]);F1(`Chart.applyAxes() - applying axis diff idx ${p}`,g);let u=`axes[${p}]`;fa(d,g,V(S({},Zw),{path:u,skip:s}))}),!0;F1(`Chart.applyAxes() - creating new axes instances; seriesStatus: ${a}`),t.axes=this.createAxis(r,s);let c={x:[],y:[]};return t.axes.forEach(d=>c[d.direction].push(d.getAxisGroup())),i&&(this.ctx.regionManager.updateRegion("horizontal-axes",...c.x),this.ctx.regionManager.updateRegion("vertical-axes",...c.y)),!0}createSeries(t){let n=Mn.create(t.type,this.getModuleContext());return this.applySeriesOptionModules(n,t),this.applySeriesValues(n,t),n}applySeriesOptionModules(t,n){let o=t.createModuleContext(),a=t.getModuleMap();for(let s of fs.byType("series-option"))s.optionsKey in n&&s.seriesTypes.includes(t.type)&&a.addModule(s,i=>new i.instanceConstructor(o))}applySeriesValues(t,n){let o=t.getModuleMap(),c=n,{type:a,data:s,listeners:i,seriesGrouping:r,showInMiniChart:l}=c,h=ue(c,["type","data","listeners","seriesGrouping","showInMiniChart"]);for(let d of br)if(d.type==="series-option"&&d.optionsKey in h){let p=o.getModule(d.optionsKey);if(p){let v=h[d.optionsKey];delete h[d.optionsKey],p.properties.set(v)}}t.properties.set(h),"data"in n&&t.setOptionsData(s),i&&this.registerListeners(t,i),"seriesGrouping"in n&&(r==null?t.seriesGrouping=void 0:t.seriesGrouping=S(S({},t.seriesGrouping),r))}createAxis(t,n){let o=[],a=this.getModuleContext();for(let s=0;s<t.length;s++){let i=t[s],r=zs.create(i.type,a);this.applyAxisModules(r,i),fa(r,i,V(S({},Zw),{path:`axes[${s}]`,skip:n})),o.push(r)}return cW(o),o}applyAxisModules(t,n){let o=t.createModuleContext(),a=t.getModuleMap();for(let s of fs.byType("axis-option")){let i=n[s.optionsKey]!=null;i!==a.isEnabled(s)&&(i?(a.addModule(s,r=>new r.instanceConstructor(o)),t[s.optionsKey]=a.getModule(s)):(a.removeModule(s),delete t[s.optionsKey]))}}registerListeners(t,n){t.clearEventListeners();for(let[o,a]of Object.entries(n))T2(a)&&t.addEventListener(o,a)}};c0.chartsInstances=new WeakMap;w([tn({newValue(e){this.destroyed||(this.ctx.domManager.setContainer(e),c0.chartsInstances.set(e,this))},oldValue(e){c0.chartsInstances.delete(e)}})],c0.prototype,"container",2);w([tn({newValue(e){this.resize("width option",{inWidth:e})}})],c0.prototype,"width",2);w([tn({newValue(e){this.resize("height option",{inHeight:e})}})],c0.prototype,"height",2);w([tn({newValue(e){this.resize("minWidth option",{inMinWidth:e})}})],c0.prototype,"minWidth",2);w([tn({newValue(e){this.resize("minHeight option",{inMinHeight:e})}})],c0.prototype,"minHeight",2);w([x(vt)],c0.prototype,"padding",2);w([x(xe)],c0.prototype,"titlePadding",2);w([x(vt)],c0.prototype,"seriesArea",2);w([x(vt)],c0.prototype,"title",2);w([x(vt)],c0.prototype,"subtitle",2);w([x(vt)],c0.prototype,"footnote",2);w([x(vt)],c0.prototype,"keyboard",2);w([x(be(["standalone","integrated"],"a chart mode"))],c0.prototype,"mode",2);w([tn({changeValue(e,t){this.onAxisChange(e,t)}})],c0.prototype,"axes",2);w([tn({changeValue(e,t){this.onSeriesChange(e,t)}})],c0.prototype,"series",2);var Sr=c0,EW=class{constructor(e,t,n){this.root=new AW(e,t,n)}clear(e){this.root.clear(e)}addValue(e,t){let n={hitTester:e,value:t,distanceSquared:(o,a)=>e.distanceSquared(o,a)};this.root.addElem(n)}find(e,t){let n={best:{nearest:void 0,distanceSquared:1/0}};return this.root.find(e,t,n),n.best}},TW=class{constructor(e,t,n,o){this.nw=e,this.ne=t,this.sw=n,this.se=o}addElem(e){this.nw.addElem(e),this.ne.addElem(e),this.sw.addElem(e),this.se.addElem(e)}find(e,t,n){this.nw.find(e,t,n),this.ne.find(e,t,n),this.sw.find(e,t,n),this.se.find(e,t,n)}},_W=class{constructor(e,t,n){this.capacity=e,this.maxdepth=t,this.boundary=n??pt.NaN,this.elems=[],this.subdivisions=void 0}clear(e){this.elems.length=0,this.boundary=e,this.subdivisions=void 0}addElem(e){this.addCondition(e)&&(this.subdivisions===void 0?this.maxdepth===0||this.elems.length<this.capacity?this.elems.push(e):this.subdivide(e):this.subdivisions.addElem(e))}find(e,t,n){this.findCondition(e,t,n)&&(this.subdivisions===void 0?this.findAction(e,t,n):this.subdivisions.find(e,t,n))}subdivide(e){this.subdivisions=this.makeSubdivisions();for(let t of this.elems)this.subdivisions.addElem(t);this.subdivisions.addElem(e),this.elems.length=0}makeSubdivisions(){let{x:e,y:t,width:n,height:o}=this.boundary,{capacity:a}=this,s=this.maxdepth-1,i=n/2,r=o/2,l=new pt(e,t,i,r),h=new pt(e+i,t,i,r),c=new pt(e,t+r,i,r),d=new pt(e+i,t+r,i,r);return new TW(this.child(a,s,l),this.child(a,s,h),this.child(a,s,c),this.child(a,s,d))}},AW=class OC extends _W{addCondition(t){let{x:n,y:o}=t.hitTester.midPoint;return this.boundary.containsPoint(n,o)}findCondition(t,n,o){let{best:a}=o;return a.distanceSquared!==0&&this.boundary.distanceSquared(t,n)<a.distanceSquared}findAction(t,n,o){let a=o3(t,n,this.elems,o.best.distanceSquared);a.nearest!==void 0&&a.distanceSquared<o.best.distanceSquared&&(o.best=a)}child(t,n,o){return new OC(t,n,o)}},G0=class extends nn{constructor(){super(...arguments),this.x=0,this.y=0,this.size=12}computeBBox(){let{x:e,y:t,size:n}=this,{center:o}=this.constructor;return new pt(e-n*o.x,t-n*o.y,n,n)}computeTransformedBBox(){return super.computeTransformedBBox()}applyPath(e,t){let{path:n}=this,{x:o,y:a}=this;this.repeat!=null&&(o=0,a=0),n.clear();for(let{x:s,y:i,t:r}of t)o+=s*e,a+=i*e,r==="move"?n.moveTo(o,a):n.lineTo(o,a);n.closePath()}executeFill(e,t){if(!t)return;if(this.repeat==null)return super.executeFill(e,t);e.save();let n=this.translationX,o=this.translationY;for(let a of this.repeat)e.translate(a.x-n,a.y-o),e.fill(t),n=a.x,o=a.y;e.restore()}executeStroke(e,t){if(!t)return;if(this.repeat==null)return super.executeStroke(e,t);e.save();let n=this.translationX,o=this.translationY;for(let a of this.repeat)e.translate(a.x-n,a.y-o),e.stroke(t),n=a.x,o=a.y;e.restore()}};G0.center={x:.5,y:.5};w([Bt()],G0.prototype,"x",2);w([Bt()],G0.prototype,"y",2);w([Bt({convertor:Math.abs})],G0.prototype,"size",2);w([Bt()],G0.prototype,"repeat",2);var Ms=class extends G0{updatePath(){let{x:e,y:t,path:n,size:o}=this,a=o/2;n.clear(),n.arc(e,t,a,0,Math.PI*2),n.closePath()}};Ms.className="Circle";var uf=class NC extends G0{updatePath(){let t=this.size/4.2;super.applyPath(t,NC.moves)}};uf.className="Cross";uf.moves=[{x:-1,y:0,t:"move"},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1},{x:1,y:1},{x:-1,y:1},{x:-1,y:-1},{x:-1,y:1},{x:-1,y:-1}];var RW=uf,wf=class PC extends G0{updatePath(){let t=this.size/2;super.applyPath(t,PC.moves)}};wf.className="Diamond";wf.moves=[{x:0,y:-1,t:"move"},{x:1,y:1},{x:-1,y:1},{x:-1,y:-1},{x:1,y:-1}];var FC=wf,VC=class extends G0{rad(e){return e/180*Math.PI}updatePath(){let{x:e,path:t,size:n,rad:o}=this,a=n/4,s=this.y+a/2;t.clear(),t.arc(e-a,s-a,a,o(130),o(330)),t.arc(e+a,s-a,a,o(220),o(50)),t.lineTo(e,s+a),t.closePath()}};VC.className="Heart";var ff=class extends G0{updatePath(){let{path:e,x:t,y:n}=this,o=this.size,a=.5,s=1;e.clear(),e.moveTo(t+(.15625-a)*o,n+(.34375-s)*o),e.cubicCurveTo(t+(.15625-a)*o,n+(.151491-s)*o,t+(.307741-a)*o,n+(0-s)*o,t+(.5-a)*o,n+(0-s)*o),e.cubicCurveTo(t+(.692259-a)*o,n+(0-s)*o,t+(.84375-a)*o,n+(.151491-s)*o,t+(.84375-a)*o,n+(.34375-s)*o),e.cubicCurveTo(t+(.84375-a)*o,n+(.493824-s)*o,t+(.784625-a)*o,n+(.600181-s)*o,t+(.716461-a)*o,n+(.695393-s)*o),e.cubicCurveTo(t+(.699009-a)*o,n+(.719769-s)*o,t+(.681271-a)*o,n+(.743104-s)*o,t+(.663785-a)*o,n+(.766105-s)*o),e.cubicCurveTo(t+(.611893-a)*o,n+(.834367-s)*o,t+(.562228-a)*o,n+(.899699-s)*o,t+(.528896-a)*o,n+(.980648-s)*o),e.cubicCurveTo(t+(.524075-a)*o,n+(.992358-s)*o,t+(.512663-a)*o,n+(1-s)*o,t+(.5-a)*o,n+(1-s)*o),e.cubicCurveTo(t+(.487337-a)*o,n+(1-s)*o,t+(.475925-a)*o,n+(.992358-s)*o,t+(.471104-a)*o,n+(.980648-s)*o),e.cubicCurveTo(t+(.487337-a)*o,n+(1-s)*o,t+(.475925-a)*o,n+(.992358-s)*o,t+(.471104-a)*o,n+(.980648-s)*o),e.cubicCurveTo(t+(.437772-a)*o,n+(.899699-s)*o,t+(.388107-a)*o,n+(.834367-s)*o,t+(.336215-a)*o,n+(.766105-s)*o),e.cubicCurveTo(t+(.318729-a)*o,n+(.743104-s)*o,t+(.300991-a)*o,n+(.719769-s)*o,t+(.283539-a)*o,n+(.695393-s)*o),e.cubicCurveTo(t+(.215375-a)*o,n+(.600181-s)*o,t+(.15625-a)*o,n+(.493824-s)*o,t+(.15625-a)*o,n+(.34375-s)*o),e.closePath()}};ff.className="MapPin";ff.center={x:.5,y:1};var Mf=class jC extends G0{updatePath(){let t=this.size/3;super.applyPath(t,jC.moves)}};Mf.className="Plus";Mf.moves=[{x:-.5,y:-.5,t:"move"},{x:0,y:-1},{x:1,y:0},{x:0,y:1},{x:1,y:0},{x:0,y:1},{x:-1,y:0},{x:0,y:1},{x:-1,y:0},{x:0,y:-1},{x:-1,y:0},{x:0,y:-1}];var LW=Mf,Vh=class extends G0{updatePath(){let{path:e,x:t,y:n}=this,o=this.size/2;e.clear(),e.moveTo(this.align(t-o),this.align(n-o)),e.lineTo(this.align(t+o),this.align(n-o)),e.lineTo(this.align(t+o),this.align(n+o)),e.lineTo(this.align(t-o),this.align(n+o)),e.closePath()}};Vh.className="Square";var UC=class extends G0{updatePath(){let{x:e,y:t,path:n,size:o}=this,a=5,s=o/2,i=Math.PI/2;n.clear();for(let r=0;r<a*2;r++){let l=r%2===0?o:s,h=r*Math.PI/a-i,c=e+Math.cos(h)*l,d=t+Math.sin(h)*l;n.lineTo(c,d)}n.closePath()}};UC.className="Star";var mf=class GC extends G0{updatePath(){let t=this.size*1.1;super.applyPath(t,GC.moves)}};mf.className="Triangle";mf.moves=[{x:0,y:-.48,t:"move"},{x:.5,y:.87},{x:-1,y:0}];var sr=mf,WC={circle:Ms,cross:RW,diamond:FC,heart:VC,pin:ff,plus:LW,square:Vh,star:UC,triangle:sr},OW=Object.keys(WC);function $C(e){return typeof e=="string"&&OW.includes(e)}function Lo(e=Vh){return $C(e)?WC[e]:typeof e=="function"?e:Vh}var xf=class extends Br{constructor(){super(...arguments),this.showFocusBox=!0}getScaleInformation({xScale:e,yScale:t}){let n=ve.is(e),o=ve.is(t);return{isContinuousX:n,isContinuousY:o,xScaleType:e?.type,yScaleType:t?.type}}getModulePropertyDefinitions(){let e=this.axes.x?.scale,t=this.axes.y?.scale;return this.moduleMap.mapModules(n=>n.getPropertyDefinitions(this.getScaleInformation({xScale:e,yScale:t}))).flat()}requestDataModel(e,t,n){return R(this,null,function*(){n.props.push(...this.getModulePropertyDefinitions());let{dataModel:o,processedData:a}=yield e.request(this.id,t??[],n);return this.dataModel=o,this.processedData=a,this.dispatch("data-processed",{dataModel:o,processedData:a}),{dataModel:o,processedData:a}})}isProcessedDataAnimatable(){let e=this.processedData?.reduced?.animationValidation;if(!e)return!0;let{orderedKeys:t,uniqueKeys:n}=e;return t&&n}checkProcessedDataAnimatable(){this.isProcessedDataAnimatable()||this.ctx.animationManager.skipCurrentBatch()}pickFocus(e){let t=this.getNodeData();if(t===void 0||t.length===0)return;let n=this.computeFocusDatumIndex(e,t);if(n===void 0)return;let{showFocusBox:o}=this,a=t[n],s=V(S({},e),{datumIndex:n}),i=this.computeFocusBounds(s);if(i!==void 0)return{bounds:i,showFocusBox:o,datum:a,datumIndex:n}}computeFocusDatumIndex(e,t){let n=r=>{let{missing:l=!1,enabled:h=!0}=t[r];return!l&&h},o=r=>{for(;r>=0&&!n(r);)r--;return r===-1?void 0:r},a=r=>{for(;r<t.length&&!n(r);)r++;return r===t.length?void 0:r},s,i=Ft(0,e.datumIndex,t.length-1);return e.datumIndexDelta<0?s=o(i):e.datumIndexDelta>0?s=a(i):(s??(s=a(i)),s??(s=o(i))),s===void 0?e.datumIndexDelta===0?void 0:e.datumIndex-e.datumIndexDelta:s}},Ba=class extends Vt{constructor(){super(...arguments),this.fill="rgba(255,255,255, 0.33)",this.stroke="rgba(0, 0, 0, 0.4)",this.strokeWidth=2}};w([x(ne,{optional:!0})],Ba.prototype,"fill",2);w([x(ie,{optional:!0})],Ba.prototype,"fillOpacity",2);w([x(ne,{optional:!0})],Ba.prototype,"stroke",2);w([x(Z,{optional:!0})],Ba.prototype,"strokeWidth",2);w([x(ie,{optional:!0})],Ba.prototype,"strokeOpacity",2);w([x(za,{optional:!0})],Ba.prototype,"lineDash",2);w([x(Z,{optional:!0})],Ba.prototype,"lineDashOffset",2);var b3=class extends Vt{};w([x(Z,{optional:!0})],b3.prototype,"strokeWidth",2);w([x(ie,{optional:!0})],b3.prototype,"dimOpacity",2);w([x(It,{optional:!0})],b3.prototype,"enabled",2);var qC=class extends Vt{constructor(){super(...arguments),this.color="black"}};w([x(ne,{optional:!0})],qC.prototype,"color",2);var r4=class extends Vt{constructor(){super(...arguments),this.item=new Ba,this.series=new b3,this.text=new qC}};w([x(vt)],r4.prototype,"item",2);w([x(vt)],r4.prototype,"series",2);w([x(vt)],r4.prototype,"text",2);var q1=class extends Vt{constructor(){super(...arguments),this.visible=!0,this.showInLegend=!0,this.cursor="default",this.nodeClickRange="exact",this.highlightStyle=new r4}};w([x(et,{optional:!0})],q1.prototype,"id",2);w([x(It)],q1.prototype,"visible",2);w([x(It)],q1.prototype,"showInLegend",2);w([x(et)],q1.prototype,"cursor",2);w([x(g3)],q1.prototype,"nodeClickRange",2);w([x(vt)],q1.prototype,"highlightStyle",2);var L2={x:["xKey"],y:["yKey"]},O2={x:["xName"],y:["yName"]},yf=class extends i4{constructor(e,t,n,o){super(e,t,n,o),this.xKey=o.properties.xKey,this.yKey=o.properties.yKey}},As=class extends q1{};w([x(et,{optional:!0})],As.prototype,"legendItemName",2);var Rs=class extends xf{constructor(d){var p=d,{pathsPerSeries:e=1,hasMarkers:t=!1,hasHighlightedLabels:n=!1,pathsZIndexSubOrderOffset:o=[],datumSelectionGarbageCollection:a=!0,markerSelectionGarbageCollection:s=!0,animationAlwaysUpdateSelections:i=!1,animationResetFns:r,directionKeys:l,directionNames:h}=p,c=ue(p,["pathsPerSeries","hasMarkers","hasHighlightedLabels","pathsZIndexSubOrderOffset","datumSelectionGarbageCollection","markerSelectionGarbageCollection","animationAlwaysUpdateSelections","animationResetFns","directionKeys","directionNames"]);if(super(S({directionKeys:l,directionNames:h,canHaveAxes:!0},c)),this.NodeEvent=yf,this.dataNodeGroup=this.contentGroup.appendChild(new mt({name:`${this.id}-series-dataNodes`,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("data")})),this.markerGroup=this.contentGroup.appendChild(new mt({name:`${this.id}-series-markers`,zIndex:4,zIndexSubOrder:this.getGroupZIndexSubOrder("marker")})),this.labelGroup=this.contentGroup.appendChild(new mt({name:`${this.id}-series-labels`,zIndex:8,zIndexSubOrder:this.getGroupZIndexSubOrder("labels")})),this.labelSelection=qe.select(this.labelGroup,se),this.highlightSelection=qe.select(this.highlightNode,()=>this.opts.hasMarkers?this.markerFactory():this.nodeFactory()),this.highlightLabelSelection=qe.select(this.highlightLabel,se),this.annotationSelections=new Set,this.minRectsCache={dirtyNodeData:!0},this.debug=me.create(),!l||!h)throw new Error(`Unable to initialise series type ${this.type}`);this.opts={pathsPerSeries:e,hasMarkers:t,hasHighlightedLabels:n,pathsZIndexSubOrderOffset:o,directionKeys:l,directionNames:h,animationResetFns:r,animationAlwaysUpdateSelections:i,datumSelectionGarbageCollection:a,markerSelectionGarbageCollection:s},this.paths=[];for(let v=0;v<e;v++)this.paths[v]=new nn,this.paths[v].zIndex=4,this.paths[v].zIndexSubOrder=this.getGroupZIndexSubOrder("paths",v),this.contentGroup.appendChild(this.paths[v]);this.datumSelection=qe.select(this.dataNodeGroup,()=>this.nodeFactory(),a),this.markerSelection=qe.select(this.markerGroup,()=>this.markerFactory(),s),this.animationState=new e4("empty",{empty:{update:{target:"ready",action:v=>this.animateEmptyUpdateReady(v)},reset:"empty",skip:"ready",disable:"disabled"},ready:{updateData:"waiting",clear:"clearing",highlight:v=>this.animateReadyHighlight(v),highlightMarkers:v=>this.animateReadyHighlightMarkers(v),resize:v=>this.animateReadyResize(v),reset:"empty",skip:"ready",disable:"disabled"},waiting:{update:{target:"ready",action:v=>this.animateWaitingUpdateReady(v)},reset:"empty",skip:"ready",disable:"disabled"},disabled:{update:v=>this.resetAllAnimation(v),reset:"empty"},clearing:{update:{target:"empty",action:v=>this.animateClearingUpdateEmpty(v)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}get contextNodeData(){return this._contextNodeData}getNodeData(){return this.contextNodeData?.nodeData}resetAnimation(e){e==="initial"?this.animationState.transition("reset"):e==="ready"?this.animationState.transition("skip"):e==="disabled"&&this.animationState.transition("disable")}addChartEventListeners(){this.destroyFns.push(this.ctx.chartEventManager.addListener("legend-item-click",e=>this.onLegendItemClick(e)),this.ctx.chartEventManager.addListener("legend-item-double-click",e=>this.onLegendItemDoubleClick(e)))}destroy(){super.destroy(),this._contextNodeData=void 0}update(t){return R(this,arguments,function*({seriesRect:e}){let{visible:n,_contextNodeData:o}=this,s=this.ctx.highlightManager?.getActiveHighlight()?.series===this,i=this.checkResize(e),r=yield this.updateHighlightSelection(s);yield this.updateSelections(n),yield this.updateNodes(r,s,n);let l=this.getAnimationData(e,o);l&&(i&&this.animationState.transition("resize",l),this.animationState.transition("update",l))})}updateSelections(e){return R(this,null,function*(){var t;let n=!this.opts.animationAlwaysUpdateSelections&&this.ctx.animationManager.isSkipped();if(!(!e&&n)&&!(!this.nodeDataRefresh&&!this.isPathOrSelectionDirty())){if(this.nodeDataRefresh){this.nodeDataRefresh=!1,this.debug("CartesianSeries.updateSelections() - calling createNodeData() for",this.id),this.markQuadtreeDirty(),this._contextNodeData=yield this.createNodeData();let o=this.isProcessedDataAnimatable();this._contextNodeData&&((t=this._contextNodeData).animationValid??(t.animationValid=o)),this.minRectsCache.dirtyNodeData=!0;let{dataModel:a,processedData:s}=this;a!==void 0&&s!==void 0&&this.dispatch("data-update",{dataModel:a,processedData:s})}yield this.updateSeriesSelections()}})}updateSeriesSelections(e){return R(this,null,function*(){let{datumSelection:t,labelSelection:n,markerSelection:o,paths:a}=this,s=this._contextNodeData;if(!s)return;let{nodeData:i,labelData:r,itemId:l}=s;yield this.updatePaths({seriesHighlighted:e,itemId:l,contextData:s,paths:a}),this.datumSelection=yield this.updateDatumSelection({nodeData:i,datumSelection:t}),this.labelSelection=yield this.updateLabelSelection({labelData:r,labelSelection:n}),this.opts.hasMarkers&&(this.markerSelection=yield this.updateMarkerSelection({nodeData:i,markerSelection:o}))})}markerFactory(){let e=Lo();return new e}getGroupZIndexSubOrder(e,t=0){let n=super.getGroupZIndexSubOrder(e,t);if(e==="paths"){let[o]=n,a=this.opts.pathsZIndexSubOrderOffset[t]??0;n[0]=T2(o)?()=>Number(o())+a:Number(o)+a}return n}updateNodes(e,t,n){return R(this,null,function*(){let{highlightSelection:o,highlightLabelSelection:a,opts:{hasMarkers:s,hasHighlightedLabels:i}}=this,r=!this.ctx.animationManager.isSkipped(),l=this.visible&&this._contextNodeData!=null&&n;this.rootGroup.visible=r||l,this.contentGroup.visible=r||l,this.highlightGroup.visible=(r||l)&&t;let h=this.getOpacity();s?(yield this.updateMarkerNodes({markerSelection:o,isHighlight:!0}),this.animationState.transition("highlightMarkers",o)):(yield this.updateDatumNodes({datumSelection:o,isHighlight:!0}),this.animationState.transition("highlight",o)),i&&(yield this.updateLabelNodes({labelSelection:a}));let{dataNodeGroup:c,markerGroup:d,datumSelection:p,labelSelection:v,markerSelection:g,paths:u,labelGroup:f}=this,{itemId:M}=this.contextNodeData??{};c.opacity=h,c.visible=r||l,f.visible=l,s&&(d.opacity=h,d.zIndex=c.zIndex>=4?c.zIndex:c.zIndex+1,d.visible=l),f&&(f.opacity=h),yield this.updatePathNodes({seriesHighlighted:t,itemId:M,paths:u,opacity:h,visible:l,animationEnabled:r}),c.visible&&(yield this.updateDatumNodes({datumSelection:p,highlightedItems:e,isHighlight:!1}),yield this.updateLabelNodes({labelSelection:v}),s&&(yield this.updateMarkerNodes({markerSelection:g,isHighlight:!1})))})}getHighlightLabelData(e,t){let n=e.filter(o=>o.datum===t.datum&&o.itemId===t.itemId);return n.length===0?void 0:n}getHighlightData(e,t){return t?[t]:void 0}updateHighlightSelection(e){return R(this,null,function*(){let{highlightSelection:t,highlightLabelSelection:n,_contextNodeData:o}=this;if(!o)return;let a=this.ctx.highlightManager?.getActiveHighlight(),s=e&&a?.datum?a:void 0,i,r;if(s!=null){let l=this.isLabelEnabled(),{labelData:h,nodeData:c}=o;r=this.getHighlightData(c,s),i=l?this.getHighlightLabelData(h,s):void 0}return this.highlightSelection=yield this.updateHighlightSelectionItem({items:r,highlightSelection:t}),this.highlightLabelSelection=yield this.updateHighlightSelectionLabel({items:i,highlightLabelSelection:n}),r})}markQuadtreeDirty(){this.quadtree=void 0}*datumNodesIter(){for(let{node:e}of this.datumSelection)e.datum.missing!==!0&&(yield e)}getQuadTree(){if(this.quadtree===void 0){let{width:e,height:t}=this.ctx.scene.canvas,n=new pt(0,0,e,t);this.quadtree=new EW(100,10,n),this.initQuadTree(this.quadtree)}return this.quadtree}initQuadTree(e){}pickNodeExactShape(e){let t=super.pickNodeExactShape(e);if(t)return t;let{x:n,y:o}=e,{opts:{hasMarkers:a}}=this,s,{dataNodeGroup:i,markerGroup:r}=this;if(s=i.pickNode(n,o),!s&&a&&(s=r?.pickNode(n,o)),s&&s.datum.missing!==!0)return{datum:s.datum,distance:0};for(let l of this.moduleMap.modules()){let{datum:h}=l.pickNodeExact(e)??{};if(h!=null&&h?.missing!==!0)return{datum:h,distance:0}}}pickNodeClosestDatum(e){let{x:t,y:n}=e,{axes:o,rootGroup:a,_contextNodeData:s}=this;if(!s)return;let i=o.x,r=o.y,l=a.transformPoint(t,n),h=1/0,c;for(let d of s.nodeData){let{point:{x:p=NaN,y:v=NaN}={}}=d;if(isNaN(p)||isNaN(v)||!(i?.inRange(p)&&r?.inRange(v)))continue;let u=Math.max((l.x-p)**2+(l.y-v)**2,0);u<h&&(h=u,c=d)}for(let d of this.moduleMap.modules()){let p=d.pickNodeNearest(e);if(p!==void 0&&p.distanceSquared<h){h=p.distanceSquared,c=p.datum;break}}if(c){let d=Math.max(Math.sqrt(h)-(c.point?.size??0),0);return{datum:c,distance:d}}}pickNodeMainAxisFirst(e,t){let{x:n,y:o}=e,{axes:a,rootGroup:s,_contextNodeData:i}=this;if(!i)return;let r=a.x,l=a.y,h=[r,l].filter(u=>u instanceof Ts).map(u=>u.direction);if(t&&h.length===0)return;let[c="x"]=h,d=s.transformPoint(n,o),p=c==="x"?[d.x,d.y]:[d.y,d.x],v=[1/0,1/0],g;for(let u of i.nodeData){let{x:f=NaN,y:M=NaN}=u.point??u.midPoint??{};if(isNaN(f)||isNaN(M)||u.missing===!0||!(r?.inRange(f)&&l?.inRange(M)))continue;let k=c==="x"?[f,M]:[M,f],B=!0;for(let z=0;z<k.length;z++){let I=Math.abs(k[z]-p[z]);if(I>v[z]){B=!1;break}I<v[z]&&(v[z]=I,v.fill(1/0,z+1,v.length))}B&&(g=u)}if(g){let u=Math.max(v[0]**2+v[1]**2-(g.point?.size??0),0);for(let f of this.moduleMap.modules()){let M=f.pickNodeMainAxisFirst(e);if(M!==void 0&&M.distanceSquared<u){g=M.datum,u=M.distanceSquared;break}}return{datum:g,distance:Math.sqrt(u)}}}onLegendItemClick(e){let{legendItemName:t}=this.properties,{enabled:n,itemId:o,series:a}=e,s=t!=null&&t===e.legendItemName;(a.id===this.id||s)&&this.toggleSeriesItem(o,n)}onLegendItemDoubleClick(e){let{enabled:t,itemId:n,series:o,numVisibleItems:a}=e,{legendItemName:s}=this.properties,i=s!=null&&s===e.legendItemName;o.id===this.id||i?this.toggleSeriesItem(n,!0):t&&a===1?this.toggleSeriesItem(n,!0):this.toggleSeriesItem(n,!1)}isPathOrSelectionDirty(){return!1}getLabelData(){return[]}shouldFlipXY(){return!1}getMinRects(e,t){let{dirtyNodeData:n,sizeCache:o,minRect:a,minVisibleRect:s}=this.minRectsCache,i=JSON.stringify({width:e,height:t});if(!(i!==o)&&!n&&a&&s)return{minRect:a,minVisibleRect:s};let l=this.computeMinRects(e,t);return this.minRectsCache={dirtyNodeData:!1,sizeCache:i,minRect:l?.minRect,minVisibleRect:l?.minVisibleRect},l}computeMinRects(e,t){let n=this._contextNodeData;if(!n?.nodeData.length)return;let{nodeData:o}=n,a=Array(o.length),s=Array(o.length);for(let[m,{midPoint:k}]of o.entries())a[m]=k?.x??0,s[m]=k?.y??0;a.sort((m,k)=>m-k),s.sort((m,k)=>m-k);let i,r,l,h,c=0,d=0;for(let m=1;m<o.length;m++)a[m]>=0&&(i??(i=m)),a[m]>e&&(r??(r=m)),s[m]>=0&&(l??(l=m)),s[m]>t&&(h??(h=m)),c=Math.max(c,a[m]-a[m-1]),d=Math.max(d,s[m]-s[m-1]);r??(r=o.length),h??(h=o.length);let p=i!=null&&r!=null?a.slice(i,r):[],v=l!=null&&h!=null?s.slice(l,h):[],g=0,u=0;for(let m=1;m<Math.max(p.length,v.length);m++){let k=p[m],B=p[m-1],z=v[m],I=v[m-1];k!=null&&B!=null&&(g=Math.max(g,k-B)),z!=null&&I!=null&&(u=Math.max(u,z-I))}let f=new pt(0,0,c,d),M=new pt(0,0,g,u);return{minRect:f,minVisibleRect:M}}updateHighlightSelectionItem(e){let{opts:{hasMarkers:t}}=this,{items:n,highlightSelection:o}=e,a=n??[];if(t){let s=o;return this.updateMarkerSelection({nodeData:a,markerSelection:s})}else return this.updateDatumSelection({nodeData:a,datumSelection:o})}updateHighlightSelectionLabel(e){return this.updateLabelSelection({labelData:e.items??[],labelSelection:e.highlightLabelSelection})}updateDatumSelection(e){return R(this,null,function*(){return e.datumSelection})}updateDatumNodes(e){return R(this,null,function*(){})}updateMarkerSelection(e){return R(this,null,function*(){return e.markerSelection})}updateMarkerNodes(e){return R(this,null,function*(){})}updatePaths(e){return R(this,null,function*(){e.paths.forEach(t=>t.visible=!1)})}updatePathNodes(e){return R(this,null,function*(){let{paths:t,opacity:n,visible:o}=e;for(let a of t)a.opacity=n,a.visible=o})}resetAllAnimation(e){let{path:t,datum:n,label:o,marker:a}=this.opts?.animationResetFns??{};this.ctx.animationManager.stopByAnimationGroupId(this.id),t&&e.paths.forEach(s=>{o0([s],t)}),n&&o0([e.datumSelection],n),o&&o0([e.labelSelection],o),a&&this.opts.hasMarkers&&o0([e.markerSelection],a),e.contextData?.animationValid===!1&&this.ctx.animationManager.skipCurrentBatch()}animateEmptyUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animateWaitingUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animateReadyHighlight(e){let{datum:t}=this.opts?.animationResetFns??{};t&&o0([e],t)}animateReadyHighlightMarkers(e){let{marker:t}=this.opts?.animationResetFns??{};t&&o0([e],t)}animateReadyResize(e){this.resetAllAnimation(e)}animateClearingUpdateEmpty(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animationTransitionClear(){let e=this.getAnimationData();e&&this.animationState.transition("clear",e)}getAnimationData(e,t){let{_contextNodeData:n}=this;return n?{datumSelection:this.datumSelection,markerSelection:this.markerSelection,labelSelection:this.labelSelection,annotationSelections:[...this.annotationSelections],contextData:n,previousContextData:t,paths:this.paths,seriesRect:e}:void 0}calculateScaling(){let e={};for(let t of Object.values(U6)){let n=this.axes[t];if(n){if(n.scale instanceof Y6){let{range:o,domain:a}=n.scale;e[t]={type:"log",convert:s=>n.scale.convert(s),domain:[a[0],a[1]],range:[o[0],o[1]]}}else if(n.scale instanceof ve){let{range:o}=n.scale,a=n.scale.getDomain();e[t]={type:"continuous",domain:[a[0],a[1]],range:[o[0],o[1]]}}else if(n.scale){let{domain:o}=n.scale;e[t]={type:"category",domain:o,range:o.map(a=>n.scale.convert(a))}}}}return e}},NW=["top","right","bottom","left"],If=class e extends Sr{constructor(t,n){super(t,n),this.paired=!0,this.firstSeriesTranslation=!0,this._lastCrossLineIds=void 0,this._lastAxisAreaWidths=new Map,this._lastClipSeries=!1,this._lastVisibility={crossLines:!0,series:!0}}onAxisChange(t,n){super.onAxisChange(t,n),this.zoomManager.updateAxes(t)}destroySeries(t){super.destroySeries(t),this.firstSeriesTranslation=!0}performLayout(){return R(this,null,function*(){let t=yield _a(e.prototype,this,"performLayout").call(this),{firstSeriesTranslation:n,seriesRoot:o,annotationRoot:a,highlightRoot:s}=this,{animationRect:i,seriesRect:r,visibility:l,clipSeries:h}=this.updateAxes(t);this.seriesRoot.visible=l.series,this.seriesRect=r,this.animationRect=i;let{x:c,y:d}=r;if(n){for(let u of[o,a,s])u.translationX=Math.floor(c),u.translationY=Math.floor(d);this.firstSeriesTranslation=!1}else{let{translationX:u,translationY:f}=o;Po(this.id,"seriesRect",this.ctx.animationManager,[o,s,a],{translationX:u,translationY:f},{translationX:Math.floor(c),translationY:Math.floor(d)},{phase:"update"})}let p=r.clone().grow(this.seriesArea.padding);this.hoverRect=p;let v=this.seriesArea.clip||h?p:void 0;o.setClipRectInGroupCoordinateSpace(v),s.setClipRectInGroupCoordinateSpace(v),a.setClipRectInGroupCoordinateSpace(v),this.ctx.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.ctx.scene.width,height:this.ctx.scene.height},clipSeries:h,series:{rect:r,paddedRect:p,visible:l.series,shouldFlipXY:this.shouldFlipXY()},axes:this.axes.map(u=>S({id:u.id},u.getLayoutState()))});let g=this.modulesManager.mapModules(u=>u.performCartesianLayout?.({seriesRect:r}));return yield Promise.all(g),t})}updateAxes(t){let n=this.axes.flatMap(M=>M.crossLines??[]).map(M=>M.id),o=this._lastCrossLineIds!=null&&this._lastCrossLineIds.length===n.length&&this._lastCrossLineIds.every((M,m)=>n[m]===M),a,s,i;o?(a=new Map(this._lastAxisAreaWidths.entries()),s=this._lastClipSeries,i=S({},this._lastVisibility)):(a=new Map,s=!1,i={crossLines:!0,series:!0},this._lastCrossLineIds=n);let r=new Set(this.axes.map(M=>M.position));for(let M of a.keys())r.has(M)||a.delete(M);let l=(M,m,k)=>[...M.keys()].some(B=>!a.has(B))||i.crossLines!==k.crossLines||i.series!==k.series||s!==m?!1:[...a.entries()].every(([B,z])=>{let I=M.get(B);return z!=null||I!=null?z===I:!0}),h=M=>{for(let[m,k]of M.entries()){if(k&&Math.abs(k)===1/0){M.set(m,0);continue}M.set(m,k!=null?Math.ceil(k):k)}return M},c=new Map,d={},p=!1,v=this.seriesRect?.clone(),g=0,u={};do{a=new Map(c.entries()),s=p,Object.assign(i,d);let M=this.updateAxesPass(a,t.clone(),v);if(c=h(M.axisAreaWidths),d=M.visibility,p=M.clipSeries,{seriesRect:v,primaryTickCounts:u}=M,g++>10){q.warn("unable to find stable axis layout.");break}}while(!l(c,p,d));this.axes.forEach(M=>{M.update(u[M.direction])});let f=5;return this.axes.forEach(M=>{if(M.setCrossLinesVisible(i.crossLines),!!v)switch(M.clipGrid(v.x,v.y,v.width+f,v.height+f),M.position){case"left":case"right":M.clipTickLines(t.x,v.y,t.width+f,v.height+f);break;case"top":case"bottom":M.clipTickLines(v.x,t.y,v.width+f,t.height+f);break}}),this._lastAxisAreaWidths=a,this._lastVisibility=i,this._lastClipSeries=s,{seriesRect:v,animationRect:t,visibility:i,clipSeries:s}}updateAxesPass(t,n,o){let a=new Map,s=new Map,i={series:!0,crossLines:!0},r=!1,l={},h=this.applySeriesPadding(n),c=o?this.buildCrossLinePadding(t):{},d=this.buildAxisBound(h,t,c,i),p=this.buildSeriesRect(d,t);for(let u of this.axes){let{position:f="left"}=u,{clipSeries:M,axisThickness:m}=this.calculateAxisDimensions({axis:u,seriesRect:p,paddedBounds:h,primaryTickCounts:l,clipSeries:r});a.set(u.id,m),s.has(f)||s.set(f,[]),s.get(f)?.push(u),r=r||M}let v=new Map,g=new Map;for(let[u,f]of s.entries())v.set(u,this.calculateAxisArea(f,a,g));for(let[u,f]of s.entries())this.positionAxes({axes:f,position:u,axisWidths:a,axisOffsets:g,axisAreaWidths:v,axisBound:d,seriesRect:p});return{clipSeries:r,seriesRect:p,axisAreaWidths:v,visibility:i,primaryTickCounts:l}}buildCrossLinePadding(t){let n={};this.axes.forEach(o=>{o.crossLines?.forEach(a=>{a.calculatePadding?.(n)})});for(let[o,a=0]of Object.entries(n))n[o]=Math.max(a-(t.get(o)??0),0);return n}applySeriesPadding(t){let n=t.clone(),o=this.axes.slice().reverse();return NW.forEach(a=>{let s=this.seriesArea.padding[a],i=o.find(r=>r.position===a);i?i.seriesAreaPadding=s:n.shrink(s,a)}),n}buildAxisBound(t,n,o,a){let s=t.clone(),{top:i=0,right:r=0,bottom:l=0,left:h=0}=o,c=h+r,d=i+l,p=(n.get("left")??0)+(n.get("right")??0)+c,v=(n.get("top")??0)+(n.get("bottom")??0)+d;return s.width<=p||s.height<=v?(a.crossLines=!1,a.series=!1,s):(s.x+=h,s.y+=i,s.width-=c,s.height-=d,s)}buildSeriesRect(t,n){let o=t.clone();return o.x+=n.get("left")??0,o.y+=n.get("top")??0,o.width-=(n.get("left")??0)+(n.get("right")??0),o.height-=(n.get("top")??0)+(n.get("bottom")??0),o.width=Math.max(0,o.width),o.height=Math.max(0,o.height),o}clampToOutsideSeriesRect(t,n,o,a){let{x:s,y:i,width:r,height:l}=t,c=[s,i,s+r,i+l][(o==="x"?0:1)+(a===1?0:2)];return(a===1?Math.min:Math.max)(n,c)}calculateAxisDimensions(t){let{axis:n,seriesRect:o,paddedBounds:a,primaryTickCounts:s}=t,{clipSeries:i}=t,{position:r="left",direction:l}=n;this.sizeAxis(n,o,r);let h=n.nice?s[l]:void 0,c=l==="y",d=.3;n.thickness?n.maxThickness=n.thickness:n.maxThickness=(c?a.width:a.height)*d;let p=n.calculateLayout(h);h=p.primaryTickCount,s[l]??(s[l]=h),i||(i=n.dataDomain.clipped||n.visibleRange[0]>0||n.visibleRange[1]<1);let v;return n.thickness!=null&&n.thickness>0?v=n.thickness:v=c?p.bbox.width:p.bbox.height,v=Math.ceil(v),{clipSeries:i,axisThickness:v,primaryTickCount:h}}sizeAxis(t,n,o){let a=t instanceof Ts||t instanceof ks,s=o==="left"||o==="right",{min:i=0,max:r=1}=t.disableZoom?{}:this.ctx.zoomManager.getAxisZoom(t.id),{width:l,height:h}=n,c=0,d=s?h:l,p=c,v=d,{width:g,unit:u,align:f}=t.layoutConstraints;u==="px"?v=p+g:v=v*g/100,f==="end"&&(p=d-(v-p),v=d),a&&s?[i,r]=[1-r,1-i]:s&&([p,v]=[v,p]),t.range=[p,v],t.visibleRange=[i,r],t.gridLength=s?l:h}calculateAxisArea(t,n,o){let a=0,s=0;for(let i of t){o.set(i.id,s);let r=n.get(i.id)??0;a=Math.max(a,s+r),i.layoutConstraints.stacked&&(s+=r+15)}return a}positionAxes(t){let{axes:n,axisBound:o,axisWidths:a,axisOffsets:s,axisAreaWidths:i,seriesRect:r,position:l}=t,h=i.get(l)??0,c="x",d="y",p=1,v=0;(l==="top"||l==="bottom")&&(c="y",d="x",v+=1),v+=o[c],(l==="right"||l==="bottom")&&(p=-1,v+=c==="x"?o.width:o.height);for(let g of n){let u=i.get(d==="x"?"left":"top")??0;g.translation[d]=o[d]+u;let f=a.get(g.id)??0,M=s.get(g.id)??0;g.translation[c]=this.clampToOutsideSeriesRect(r,v+p*(M+f),c,p),g.gridPadding=h-M-f,g.updatePosition()}}shouldFlipXY(){return!this.series.some(t=>!(t instanceof Rs&&t.shouldFlipXY()))}};If.className="CartesianChart";If.type="cartesian";var kh=class YC{constructor(t,n){this.factoryApi=n,this.chart=t}static isInstance(t){return t instanceof YC||t.constructor?.name==="AgChartInstanceProxy"&&t.chart!=null?!0:t.chart!=null&&this.validateImplementation(t)}static validateImplementation(t){let n=["getOptions","destroy"],o=Object.keys(Object.getPrototypeOf(t)??{});return n.every(a=>o.includes(a))}update(t){return R(this,null,function*(){this.factoryApi.createOrUpdate(t,this),yield this.chart.waitForUpdate()})}updateDelta(t){return R(this,null,function*(){this.factoryApi.updateUserDelta(this,t),yield this.chart.waitForUpdate()})}getOptions(){let t=E0(this.chart.getOptions());for(let n in t)n.startsWith("_")&&delete t[n];return t}waitForUpdate(){return this.chart.waitForUpdate()}download(t){return R(this,null,function*(){let n=yield this.prepareResizedChart(this,t);try{n.chart.download(t?.fileName,t?.fileFormat)}finally{n.destroy()}})}getImageDataURL(t){return R(this,null,function*(){let n=yield this.prepareResizedChart(this,t);try{return n.chart.getCanvasDataURL(t?.fileFormat)}finally{n.destroy()}})}getState(){return this.factoryApi.caretaker.save(this.chart.ctx.annotationManager)}setState(t){return R(this,null,function*(){this.factoryApi.caretaker.restore(t,this.chart.ctx.annotationManager),yield this.chart.waitForUpdate()})}resetAnimations(){this.chart.resetAnimations()}skipAnimations(){this.chart.skipAnimations()}destroy(){this.chart.destroy()}prepareResizedChart(o){return R(this,arguments,function*({chart:t},n={}){let a=n.width??t.width??t.ctx.scene.canvas.width,s=n.height??t.height??t.ctx.scene.canvas.height,i=Wt({container:document.createElement("div"),overrideDevicePixelRatio:1,width:a,height:s},fs.hasEnterpriseModules()&&{animation:{enabled:!1}},t.getOptions()),r=yield this.factoryApi.createOrUpdate(i);return r.chart.ctx.zoomManager.updateZoom("agChartV2",t.ctx.zoomManager.getZoom()),t.series.forEach((l,h)=>{l.visible||(r.chart.series[h].visible=!1)}),t.update(0,{forceNodeDataRefresh:!0}),yield r.waitForUpdate(),r})}};kh.chartInstances=new WeakMap;w([tn({oldValue(e){kh.chartInstances.delete(e)},newValue(e){kh.chartInstances.set(e,this)}})],kh.prototype,"chart",2);var Tk=kh,To=class extends ve{constructor(){super([0,1],[0,1]),this.type="number"}toDomain(e){return e}ticks(){let e=this.tickCount??ve.defaultTickCount;if(!this.domain||this.domain.length<2||e<1||!this.domain.every(isFinite))return[];this.refresh();let[t,n]=this.getDomain();if(this.interval){let o=Math.abs(this.interval);if(!Ah((n-t)/o,this.getPixelRange()))return _h(t,n,o)}return w3(t,n,e,this.minTickCount,this.maxTickCount)}update(){!this.domain||this.domain.length<2||this.nice&&this.updateNiceDomain()}getTickStep(e,t){return this.interval??lr(e,t,this.tickCount,this.minTickCount,this.maxTickCount)}updateNiceDomain(){let e=this.tickCount;if(e<1){this.niceDomain=[...this.domain];return}let[t,n]=this.domain;if(e===1)[t,n]=MU(t,n);else{let o=t>n?Math.ceil:Math.floor,a=n<t?Math.floor:Math.ceil,s=4;for(let i=0;i<s;i++){let r=t,l=n,h=this.getTickStep(t,n),[c,d]=this.domain;if(h>=1)t=o(c/h)*h,n=a(d/h)*h;else{let p=1/h;t=o(c*p)/p,n=a(d*p)/p}if(t===r&&n===l)break}}this.niceDomain=[t,n]}tickFormat({ticks:e,specifier:t}){return nb(e??this.ticks(),t)}};function PW(e,t,n){let[o,a]=v1(e);o=FW(Math.floor(o),a,t);let s=jW(o,a,t),i=t-1;a=o+i*s;let r=n?[a,o]:[o,a],l=VW(o,s,t);return{domain:r,ticks:l}}function FW(e,t,n){let o=Math.abs(t-e)/(n-1),a=Math.floor(Math.log10(o)),s=Math.pow(10,a);return Math.floor(e/s)*s}function VW(e,t,n){let o=Math.floor(Math.log10(t)),a=t>0&&t<1?Math.abs(o):0,s=Math.pow(10,a),i=[];for(let r=0;r<n;r++){let l=e+t*r;i[r]=Math.round(l*s)/s}return i}function jW(e,t,n){let o=n-1,a=(t-e)/o;return UW(a)}function UW(e){let t=Math.floor(Math.log10(e)),n=Math.pow(10,t),o=e/n*10;return o>0&&o<=1?n/10:o>1&&o<=2?2*n/10:o>1&&o<=5?5*n/10:o>5&&o<=10?10*n/10:o>10&&o<=20?20*n/10:o>20&&o<=40?40*n/10:o>40&&o<=50?50*n/10:o>50&&o<=100?100*n/10:o}var Cs=class extends zr{constructor(e,t=new To){super(e,t),this.min=NaN,this.max=NaN}normaliseDataDomain(e){let{min:t,max:n}=this,{extent:o,clipped:a}=Jh(e,t,n);return{domain:o,clipped:a}}updateSecondaryAxisTicks(e){if(this.dataDomain==null)throw new Error("AG Charts - dataDomain not calculated, cannot perform tick calculation.");if(this.dataDomain.domain.length===0)return[];let{domain:t,ticks:n}=PW(this.dataDomain.domain,e??0,this.reverse);return this.scale.nice=!1,this.scale.domain=t,this.scale.update(),n}};Cs.className="NumberAxis";Cs.type="number";w([x(m1(fr,mr("max"))),Es(NaN)],Cs.prototype,"min",2);w([x(m1(fr,xr("min"))),Es(NaN)],Cs.prototype,"max",2);var KC=we(e=>jn(e)&&e!==0,"a non-zero number"),N2=class extends Cs{constructor(e){super(e,new Y6),this.min=NaN,this.max=NaN}normaliseDataDomain(e){let{min:t,max:n}=this,{extent:o,clipped:a}=Jh(e,t,n),s=o[0]>o[1],i=o[0]<0&&o[1]>0,r=o[0]===0&&o[1]===0;return(s||i||r)&&(i?q.warn("the data domain crosses zero, the chart data cannot be rendered. See log axis documentation for more information."):r&&q.warn("the data domain has 0 extent, no data is rendered.")),o[0]===0&&(o[0]=1),o[1]===0&&(o[1]=-1),{domain:o,clipped:a}}set base(e){this.scale.base=e}get base(){return this.scale.base}};N2.className="LogAxis";N2.type="log";w([x(m1(fr,KC,mr("max"))),Es(NaN)],N2.prototype,"min",2);w([x(m1(fr,KC,xr("min"))),Es(NaN)],N2.prototype,"max",2);var Dr=class extends zr{constructor(e){super(e,new f3),this.min=void 0,this.max=void 0}normaliseDataDomain(e){let{min:t,max:n}=this,o=!1;return typeof t=="number"&&(t=new Date(t)),typeof n=="number"&&(n=new Date(n)),e.length>2&&(e=(Vo(e)??[0,1e3]).map(a=>new Date(a))),t instanceof Date&&(o||(o=t>e[0]),e=[t,e[1]]),n instanceof Date&&(o||(o=n<e[1]),e=[e[0],n]),e[0]>e[1]&&(e=[]),{domain:e,clipped:o}}onFormatChange(e,t,n,o){o?super.onFormatChange(e,t,n,o):(this.labelFormatter=this.scale.tickFormat({ticks:e,domain:n}),this.datumFormatter=this.scale.tickFormat({ticks:e,domain:n,formatOffset:1}))}calculatePadding(){return[0,0]}};Dr.className="TimeAxis";Dr.type="time";w([x(m1(F6,mr("max")),{optional:!0})],Dr.prototype,"min",2);w([x(m1(F6,xr("min")),{optional:!0})],Dr.prototype,"max",2);var _k=1e-6,vp=(e,t,n,o,a)=>{let s=!1,i=!1,r=o-Math.sqrt(Math.max(a**2-n**2,0)),l=0,h=0,c=n-Math.sqrt(Math.max(a**2-o**2,0));return r>e?(s=!0,r=e,l=n-Math.sqrt(Math.max(a**2-(o-e)**2))):r<_k&&(r=0),c>t?(i=!0,h=o-Math.sqrt(Math.max(a**2-(n-t)**2)),c=t):c<_k&&(c=0),{leading0:r,leading1:l,trailing0:h,trailing1:c,leadingClipped:s,trailingClipped:i}},gp=(e,{x0:t,y0:n,x1:o,y1:a,cx:s,cy:i},r,l)=>{if(l&&e.moveTo(t,n),t!==o||n!==a){let h=Math.atan2(n-i,t-s),c=Math.atan2(a-i,o-s);e.arc(s,i,r,h,c)}else e.lineTo(t,n)},Dw=(e,t,n,o,a,s,i)=>{let{topLeft:r,topRight:l,bottomRight:h,bottomLeft:c}=s,d=Math.max(r+c,l+h),p=Math.max(r+l,c+h);if(d<=0&&p<=0){i==null?e.rect(t,n,o,a):e.rect(i.x,i.y,i.width,i.height);return}else if(i==null&&r===l&&r===h&&r===c){e.roundRect(t,n,o,a,r);return}if(o<0&&(t+=o,o=Math.abs(o)),a<0&&(n+=a,a=Math.abs(a)),o<=0||a<=0)return;if(i==null)i=new pt(t,n,o,a);else{let y=Math.max(t,i.x),b=Math.min(t+o,i.x+i.width),C=Math.max(n,i.y),E=Math.min(n+a,i.y+i.height);i=new pt(y,C,b-y,E-C)}let v=Math.max(d/a,p/o,1);v>1&&(r/=v,l/=v,h/=v,c/=v);let g=!0,u=!0,f=!0,M=!0,m,k,B,z;if(g){let y=vp(i.height,i.width,Math.max(t+r-i.x,0),Math.max(n+r-i.y,0),r);y.leadingClipped&&(M=!1),y.trailingClipped&&(u=!1);let b=Math.max(i.x+y.leading1,i.x),C=Math.max(i.y+y.leading0,i.y),E=Math.max(i.x+y.trailing1,i.x),_=Math.max(i.y+y.trailing0,i.y),F=t+r,tt=n+r;m={x0:b,y0:C,x1:E,y1:_,cx:F,cy:tt}}if(u){let y=vp(i.width,i.height,Math.max(n+l-i.y,0),Math.max(i.x+i.width-(t+o-l),0),l);y.leadingClipped&&(g=!1),y.trailingClipped&&(f=!1);let b=Math.min(i.x+i.width-y.leading0,i.x+i.width),C=Math.max(i.y+y.leading1,i.y),E=Math.min(i.x+i.width-y.trailing0,i.x+i.width),_=Math.max(i.y+y.trailing1,i.y),F=t+o-l,tt=n+l;k={x0:b,y0:C,x1:E,y1:_,cx:F,cy:tt}}if(f){let y=vp(i.height,i.width,Math.max(i.x+i.width-(t+o-h),0),Math.max(i.y+i.height-(n+a-h),0),h);y.leadingClipped&&(u=!1),y.trailingClipped&&(M=!1);let b=Math.min(i.x+i.width-y.leading1,i.x+i.width),C=Math.min(i.y+i.height-y.leading0,i.y+i.height),E=Math.min(i.x+i.width-y.trailing1,i.x+i.width),_=Math.min(i.y+i.height-y.trailing0,i.y+i.height),F=t+o-h,tt=n+a-h;B={x0:b,y0:C,x1:E,y1:_,cx:F,cy:tt}}if(M){let y=vp(i.width,i.height,Math.max(i.y+i.height-(n+a-c),0),Math.max(t+c-i.x,0),c);y.leadingClipped&&(f=!1),y.trailingClipped&&(g=!1);let b=Math.max(i.x+y.leading0,i.x),C=Math.min(i.y+i.height-y.leading1,i.y+i.height),E=Math.max(i.x+y.trailing0,i.x),_=Math.min(i.y+i.height-y.trailing1,i.y+i.height),F=t+c,tt=n+a-c;z={x0:b,y0:C,x1:E,y1:_,cx:F,cy:tt}}let I=!1;g&&m!=null&&(gp(e,m,r,!I),I||(I=!0)),u&&k!=null&&(gp(e,k,l,!I),I||(I=!0)),f&&B!=null&&(gp(e,B,h,!I),I||(I=!0)),M&&z!=null&&(gp(e,z,c,!I),I||(I=!0)),e.closePath()},on=class extends nn{constructor(){super(...arguments),this.borderPath=new Nh,this.x=0,this.y=0,this.width=10,this.height=10,this.topLeftCornerRadius=0,this.topRightCornerRadius=0,this.bottomRightCornerRadius=0,this.bottomLeftCornerRadius=0,this.clipBBox=void 0,this.crisp=!1,this.lastUpdatePathStrokeWidth=M1.defaultStyles.strokeWidth,this.effectiveStrokeWidth=M1.defaultStyles.strokeWidth,this.hittester=super.isPointInPath,this.distanceCalculator=super.distanceSquaredTransformedPoint,this.microPixelEffectOpacity=1}set cornerRadius(e){this.topLeftCornerRadius=e,this.topRightCornerRadius=e,this.bottomRightCornerRadius=e,this.bottomLeftCornerRadius=e}isDirtyPath(){return this.lastUpdatePathStrokeWidth!==this.strokeWidth||!!(this.path.isDirty()||this.borderPath.isDirty())}updatePath(){let{path:e,borderPath:t,crisp:n,topLeftCornerRadius:o,topRightCornerRadius:a,bottomRightCornerRadius:s,bottomLeftCornerRadius:i}=this,{x:r,y:l,width:h,height:c,strokeWidth:d,clipBBox:p}=this,g=1/(this.layerManager?.canvas.pixelRatio??1),u=1;if(e.clear(!0),t.clear(!0),n&&(h<=g&&(u*=h/g),c<=g&&(u*=c/g),h=this.align(r,h),c=this.align(l,c),r=this.align(r),l=this.align(l),p=p!=null?new pt(this.align(p.x),this.align(p.y),this.align(p.x,p.width),this.align(p.y,p.height)):void 0),d)if(h<g){let f=r+g/2;t.moveTo(f,l),t.lineTo(f,l+c),d=g,this.borderClipPath=void 0}else if(c<g){let f=l+g/2;t.moveTo(r,f),t.lineTo(r+h,f),d=g,this.borderClipPath=void 0}else if(d<h&&d<c){let f=d/2;r+=f,l+=f,h-=d,c-=d;let M=p?.clone().shrink(f),m={topLeft:o>0?o-d:0,topRight:a>0?a-d:0,bottomRight:s>0?s-d:0,bottomLeft:i>0?i-d:0};this.borderClipPath=void 0,h>0&&c>0&&(M==null||M?.width>0&&M?.height>0)&&(Dw(e,r,l,h,c,m,M),Dw(t,r,l,h,c,m,M))}else this.borderClipPath=this.borderClipPath??new Nh,this.borderClipPath.clear(!0),this.borderClipPath.rect(r,l,h,c),t.rect(r,l,h,c);else{let f={topLeft:o,topRight:a,bottomRight:s,bottomLeft:i};this.borderClipPath=void 0,Dw(e,r,l,h,c,f,p)}[o,a,s,i].every(f=>f===0)?(this.hittester=(f,M)=>{let m=this.transformPoint(f,M);return this.getCachedBBox().containsPoint(m.x,m.y)},this.distanceSquared=(f,M)=>this.getCachedBBox().distanceSquared(f,M)):(this.hittester=super.isPointInPath,this.distanceCalculator=super.distanceSquaredTransformedPoint),this.effectiveStrokeWidth=d,this.lastUpdatePathStrokeWidth=d,this.microPixelEffectOpacity=u}computeBBox(){let{x:e,y:t,width:n,height:o,clipBBox:a}=this;return a?.clone()??new pt(e,t,n,o)}isPointInPath(e,t){return this.hittester(e,t)}get midPoint(){return{x:this.x+this.width/2,y:this.y+this.height/2}}distanceSquared(e,t){return this.distanceCalculator(e,t)}applyFillAlpha(e){let{fillOpacity:t,microPixelEffectOpacity:n,opacity:o}=this;e.globalAlpha*=o*t*n}renderStroke(e){let{stroke:t,effectiveStrokeWidth:n}=this;if(t&&n){let{globalAlpha:o}=e,{strokeOpacity:a,lineDash:s,lineDashOffset:i,lineCap:r,lineJoin:l,borderPath:h,borderClipPath:c,opacity:d,microPixelEffectOpacity:p}=this;c&&e.clip(c.getPath2D()),e.strokeStyle=t,e.globalAlpha*=d*a*p,e.lineWidth=n,s&&e.setLineDash(s),i&&(e.lineDashOffset=i),r&&(e.lineCap=r),l&&(e.lineJoin=l),e.stroke(h.getPath2D()),e.globalAlpha=o}}};on.className="Rect";w([Bt()],on.prototype,"x",2);w([Bt()],on.prototype,"y",2);w([Bt()],on.prototype,"width",2);w([Bt()],on.prototype,"height",2);w([Bt()],on.prototype,"topLeftCornerRadius",2);w([Bt()],on.prototype,"topRightCornerRadius",2);w([Bt()],on.prototype,"bottomRightCornerRadius",2);w([Bt()],on.prototype,"bottomLeftCornerRadius",2);w([Bt()],on.prototype,"clipBBox",2);w([Bt()],on.prototype,"crisp",2);var l4=class extends o4{constructor(e){super(),this.node=new mt({name:"background",zIndex:0}),this.rectNode=new on,this.visible=!0,this.fill="white",this.node.appendChild(this.rectNode),this.destroyFns.push(e.scene.attachNode(this.node),e.layoutService.addListener("layout-complete",t=>this.onLayoutComplete(t)))}onLayoutComplete(e){let{width:t,height:n}=e.chart;this.rectNode.width=t,this.rectNode.height=n}};w([x(It),U0("node","visible")],l4.prototype,"visible",2);w([x(ne,{optional:!0}),U0("rectNode","fill")],l4.prototype,"fill",2);w([x(vt,{optional:!0})],l4.prototype,"image",2);var ZC={type:"root",optionsKey:"background",packageType:"community",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion"],instanceConstructor:l4};function B2(e,t,n,o){t.addEventListener(n,o),e.push(()=>t.removeEventListener(n,o))}function g6(e,t,n){B2(e,t,"keydown",o=>{o.key==="Escape"&&n(o)})}function XC(e,t,...n){return!(e.shiftKey||e.altKey||e.ctrlKey||e.metaKey)&&(e.key===t||n.some(o=>e.key===o))}function Ak(e,t,n,o){n&&B2(e,t,"keydown",a=>{XC(a,o)&&n.focus()})}function QC(e,t,n,o,a,s){Ak(e,t,a,s),Ak(e,t,n,o),B2(e,t,"keydown",i=>{XC(i,o,s)&&i.preventDefault()})}var JC={horizontal:{nextKey:"ArrowRight",prevKey:"ArrowLeft"},vertical:{nextKey:"ArrowDown",prevKey:"ArrowUp"}};function C3(e){let{orientation:t,toolbar:n,buttons:o,onEscape:a,onFocus:s,onBlur:i}=e,{nextKey:r,prevKey:l}=JC[t],h=o.length===0;n.role="toolbar",n.ariaOrientation=t,n.ariaHidden=h.toString();let c=p=>{p.target&&"tabIndex"in p.target&&(o.forEach(v=>v.tabIndex=-1),p.target.tabIndex=0)},d=[];for(let p=0;p<o.length;p++){let v=o[p-1],g=o[p],u=o[p+1];B2(d,g,"focus",c),s&&B2(d,g,"focus",s),i&&B2(d,g,"blur",i),a&&g6(d,g,a),QC(d,g,v,l,u,r),g.tabIndex=p===0?0:-1}return d}function GW(e){let{orientation:t,menu:n,buttons:o,onEscape:a}=e,{nextKey:s,prevKey:i}=JC[t];n.role="menu",n.ariaOrientation=t;let r=[];for(let l=0;l<o.length;l++){let h=o[(o.length+l-1)%o.length],c=o[l],d=o[(o.length+l+1)%o.length];a&&g6(r,c,a),QC(r,c,h,i,d,s),c.tabIndex=-1}return n.tabIndex=-1,a&&g6(r,n,a),B2(r,n,"keydown",l=>{l.target===n&&(l.key===s||l.key===i)&&(l.preventDefault(),o[0]?.focus())}),r}function tB(e,t){return n=>{if(e.ariaDisabled==="true")return n.preventDefault();t(n)}}function WW({orientation:e,bboxes:t,maxHeight:n,maxWidth:o,itemPaddingY:a=0,itemPaddingX:s=0,forceResult:i=!1}){let r=e==="horizontal",l={max:r?o:n,fn:r?p=>p.width:p=>p.height,padding:r?s:a},h={max:r?n:o,fn:r?p=>p.height:p=>p.width,padding:r?a:s},c=0,d=[];for(;c<t.length;){let p=t.slice(c),v=$W(p,c,l,h,i);if(!v)return;c+=v.processedBBoxCount,d.push(v.pageIndices)}return YW(d,e,t,a,s)}function $W(e,t,n,o,a){let i=ZW(e,n);if(i<1){if(!a)return;i=1}let r=i;for(;r>=1;){let l=qW(e,t,r,n,o,a);if(l==null&&r<=1)return;if(l==null){r--;continue}if(typeof l=="number"){if(l<=1)return;r=l<r&&l>1?l:r,r--;continue}return{processedBBoxCount:l.length*l[0].length,pageIndices:l}}}function qW(e,t,n,o,a,s){let i=[],r=0,l=0,h=[],c=[];for(let d=0;d<e.length;d++){let p=(d+n)%n;p===0&&(r+=l,l=0,h.length>0&&i.push(h),h=[]);let v=o.fn(e[d])+o.padding;c[p]=Math.max(c[p]??0,v),l=Math.max(l,a.fn(e[d])+a.padding);let g=r+l,u=!s||i.length>0;if(g>a.max&&u){h=[];break}if(c.reduce((M,m)=>M+m,0)>o.max&&!s)return c.length<n?c.length:void 0;h.push(d+t)}return h.length>0&&i.push(h),i.length>0?i:void 0}function YW(e,t,n,o,a){let s=0,i=0;return{pages:e.map(l=>{t==="horizontal"&&(l=KW(l));let h=0,c=l.map(v=>{let g=v.map(M=>(h=Math.max(M,h),n[M])),u=0,f=0;return g.forEach(M=>{u+=M.height+o,f=Math.max(f,M.width+a)}),{indices:v,bboxes:g,columnHeight:Math.ceil(u),columnWidth:Math.ceil(f)}}),d=0,p=0;return c.forEach(v=>{d+=v.columnWidth,p=Math.max(p,v.columnHeight)}),s=Math.max(d,s),i=Math.max(p,i),{columns:c,startIndex:l[0][0],endIndex:h,pageWidth:d,pageHeight:p}}),maxPageWidth:s,maxPageHeight:i}}function KW(e){let t=[];for(let n of e[0])t.push([]);return e.forEach((n,o)=>{n.forEach((a,s)=>{t[s][o]=a})}),t}function ZW(e,t){let n=e.length,o=0;for(let a=0;a<n;a++)if(o+=t.fn(e[a])+t.padding,o>t.max)return n/a<2?Math.ceil(n/2):a;return n}var Ia=class extends mt{constructor(){super({name:"markerLabelGroup"}),this.label=new se,this.symbolsGroup=new mt({name:"legend-markerLabel-symbols"}),this.pageIndex=NaN,this._markers=[],this._lines=[];let{markers:e,label:t,lines:n}=this;t.textBaseline="middle",t.fontSize=12,t.fontFamily="Verdana, sans-serif",t.fill="black",t.y=1,this.symbolsGroup.append([...n,...e]),this.append([this.symbolsGroup,t])}destroy(){super.destroy(),this.proxyButton?.remove()}set markers(e){b2(this._markers,e)||(this._markers.forEach(t=>{this.removeChild(t)}),this._markers=e,this._markers.forEach(t=>{this.symbolsGroup.appendChild(t)}))}get markers(){return this._markers}set lines(e){b2(this._lines,e)||(this._lines.forEach(t=>{this.removeChild(t)}),this._lines=e,this._lines.forEach(t=>{this.symbolsGroup.appendChild(t)}))}get lines(){return this._lines}update(e){let{markers:t,lines:n}=this,o=0;for(let p=0;p<Math.max(t.length,n.length);p++){let{length:v,spacing:g}=e[p]??0,u=t[p],f=n[p],M=u?.size??0;if(u){let m=u.constructor.center;u.x=(m.x-.5)*M+v/2+o,u.y=(m.y-.5)*M}f&&(f.x1=o,f.x2=o+v,f.y1=0,f.y2=0,f.markDirtyTransform()),o+=g+Math.max(v,M)}let a=e.at(-1),s=this.lines.at(-1),i=this.markers.at(-1),r=s?.visible?s.x2:-1/0,l=(i?.x??0)+(i?.size??0)/2;if(this.label.x=Math.max(r,l)+(a?.spacing??0),e.length<2)return;let h=this.symbolsGroup.computeBBox(),c=Math.max(i?.size??0,a?.length??0),d=new pt(h.x+c/2,h.y,c,h.height);this.symbolsGroup.setClipRectInGroupCoordinateSpace(d)}render(e){this.markers.forEach(t=>{t.opacity=this.opacity}),this.lines.forEach(t=>{t.opacity=this.opacity}),this.label.opacity=this.opacity,super.render(e)}};Ia.className="MarkerLabel";w([U0("label")],Ia.prototype,"text",2);w([U0("label")],Ia.prototype,"fontStyle",2);w([U0("label")],Ia.prototype,"fontWeight",2);w([U0("label")],Ia.prototype,"fontSize",2);w([U0("label")],Ia.prototype,"fontFamily",2);w([U0("label","fill")],Ia.prototype,"color",2);var Hr=class extends Vt{constructor(){super(...arguments),this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}};w([x(ne)],Hr.prototype,"color",2);w([x(Ss,{optional:!0})],Hr.prototype,"fontStyle",2);w([x(Ds,{optional:!0})],Hr.prototype,"fontWeight",2);w([x(Z)],Hr.prototype,"fontSize",2);w([x(et)],Hr.prototype,"fontFamily",2);var xa=class extends Vt{constructor(){super(...arguments),this.size=15,this.fill=void 0,this.fillOpacity=void 0,this.stroke=void 0,this.strokeWidth=1,this.strokeOpacity=1}};w([x(Z)],xa.prototype,"size",2);w([x(ne,{optional:!0})],xa.prototype,"fill",2);w([x(ie,{optional:!0})],xa.prototype,"fillOpacity",2);w([x(ne,{optional:!0})],xa.prototype,"stroke",2);w([x(Z)],xa.prototype,"strokeWidth",2);w([x(ie)],xa.prototype,"strokeOpacity",2);var B3=class extends Vt{constructor(e){super(),this.parent=e,this.shape=sr,this.size=15,this.padding=8}};w([tn({changeValue(){this.parent.marker===this&&this.parent.onMarkerShapeChange()}})],B3.prototype,"shape",2);w([x(Z)],B3.prototype,"size",2);w([x(Z)],B3.prototype,"padding",2);var P2=class extends Vt{constructor(e,t,n,o){super(),this.chartUpdateCallback=e,this.pageUpdateCallback=t,this.regionManager=n,this.cursorManager=o,this.id=No(this),this.marker=new B3(this),this.activeStyle=new xa,this.inactiveStyle=new xa,this.highlightStyle=new xa,this.label=new Hr,this.group=new mt({name:"pagination"}),this.labelNode=new se,this.destroyFns=[],this.totalPages=0,this.currentPage=0,this.translationX=0,this.translationY=0,this.nextButtonDisabled=!1,this.previousButtonDisabled=!1,this._visible=!0,this._enabled=!0,this._orientation="vertical",this._nextButton=new sr,this._previousButton=new sr,this.labelNode.setProperties({textBaseline:"middle",fontSize:12,fontFamily:"Verdana, sans-serif",fill:"black",y:1}),this.group.append([this.nextButton,this.previousButton,this.labelNode]);let a=this.regionManager.addRegion("pagination",this.group);this.destroyFns.push(a.addListener("click",s=>this.onPaginationClick(s)),a.addListener("hover",s=>this.onPaginationMouseMove(s))),this.update(),this.updateMarkers()}destroy(){this.destroyFns.forEach(e=>e())}set visible(e){this._visible=e,this.updateGroupVisibility()}get visible(){return this._visible}set enabled(e){this._enabled=e,this.updateGroupVisibility()}get enabled(){return this._enabled}updateGroupVisibility(){this.group.visible=this.enabled&&this.visible}set orientation(e){switch(this._orientation=e,e){case"horizontal":{this.previousButton.rotation=-Math.PI/2,this.nextButton.rotation=Math.PI/2;break}case"vertical":default:this.previousButton.rotation=0,this.nextButton.rotation=Math.PI}}get orientation(){return this._orientation}set nextButton(e){this._nextButton!==e&&(this.group.removeChild(this._nextButton),this._nextButton=e,this.group.appendChild(e))}get nextButton(){return this._nextButton}set previousButton(e){this._previousButton!==e&&(this.group.removeChild(this._previousButton),this._previousButton=e,this.group.appendChild(e))}get previousButton(){return this._previousButton}update(){this.updateLabel(),this.updatePositions(),this.enableOrDisableButtons()}updatePositions(){this.group.translationX=this.translationX,this.group.translationY=this.translationY,this.updateLabelPosition(),this.updateNextButtonPosition()}updateLabelPosition(){let{size:e,padding:t}=this.marker;this.nextButton.size=e,this.previousButton.size=e,this.labelNode.x=e/2+t}updateNextButtonPosition(){let e=this.labelNode.computeBBox();this.nextButton.translationX=e.x+e.width+this.marker.size/2+this.marker.padding}updateLabel(){let{currentPage:e,totalPages:t,labelNode:n,label:{color:o,fontStyle:a,fontWeight:s,fontSize:i,fontFamily:r}}=this;n.text=`${e+1} / ${t}`,n.fill=o,n.fontStyle=a,n.fontWeight=s,n.fontSize=i,n.fontFamily=r}updateMarkers(){let{nextButton:e,previousButton:t,nextButtonDisabled:n,previousButtonDisabled:o,activeStyle:a,inactiveStyle:s,highlightStyle:i,highlightActive:r}=this,l=(h,c)=>c?s:h===r?i:a;this.updateMarker(e,l("next",n)),this.updateMarker(t,l("previous",o))}updateMarker(e,t){let{size:n}=this.marker;e.size=n,e.fill=t.fill,e.fillOpacity=t.fillOpacity??1,e.stroke=t.stroke,e.strokeWidth=t.strokeWidth,e.strokeOpacity=t.strokeOpacity}enableOrDisableButtons(){let{currentPage:e,totalPages:t}=this,n=t===0,o=e===t-1,a=e===0;this.nextButtonDisabled=o||n,this.previousButtonDisabled=a||n}nextButtonContainsPoint(e,t){return!this.nextButtonDisabled&&this.nextButton.containsPoint(e,t)}previousButtonContainsPoint(e,t){return!this.previousButtonDisabled&&this.previousButton.containsPoint(e,t)}clickNext(){this.incrementPage(),this.onPaginationChanged()}clickPrevious(){this.decrementPage(),this.onPaginationChanged()}setPage(e){e=Ft(0,e,this.totalPages-1),this.currentPage!==e&&(this.currentPage=e,this.onPaginationChanged())}onPaginationClick(e){let{offsetX:t,offsetY:n}=e;e.preventDefault(),this.nextButtonContainsPoint(t,n)?this.clickNext():this.previousButtonContainsPoint(t,n)&&this.clickPrevious()}onPaginationMouseMove(e){let{offsetX:t,offsetY:n}=e;this.nextButtonContainsPoint(t,n)?(this.cursorManager.updateCursor(this.id,"pointer"),this.highlightActive="next"):this.previousButtonContainsPoint(t,n)?(this.cursorManager.updateCursor(this.id,"pointer"),this.highlightActive="previous"):(this.cursorManager.updateCursor(this.id),this.highlightActive=void 0),this.updateMarkers(),this.chartUpdateCallback(6)}onPaginationChanged(){this.pageUpdateCallback(this.currentPage)}incrementPage(){this.currentPage=Math.min(this.currentPage+1,this.totalPages-1)}decrementPage(){this.currentPage=Math.max(this.currentPage-1,0)}onMarkerShapeChange(){let e=Lo(this.marker.shape||sr);this.previousButton=new e,this.nextButton=new e,this.updatePositions(),this.updateMarkers(),this.chartUpdateCallback(6)}attachPagination(e){e.append(this.group)}computeBBox(){return this.group.computeBBox()}computeCSSBounds(){let e=this.group.computeTransformedBBox(),t=this._previousButton.computeTransformedBBox(),n=this._nextButton.computeTransformedBBox();return t.x-=e.x,t.y-=e.y,n.x-=e.x,n.y-=e.y,{group:e,prev:t,next:n}}};P2.className="Pagination";w([x(vt)],P2.prototype,"marker",2);w([x(vt)],P2.prototype,"activeStyle",2);w([x(vt)],P2.prototype,"inactiveStyle",2);w([x(vt)],P2.prototype,"highlightStyle",2);w([x(vt)],P2.prototype,"label",2);var Ls=class extends Vt{constructor(){super(...arguments),this.maxLength=void 0,this.color="black",this.fontStyle=void 0,this.fontWeight=void 0,this.fontSize=12,this.fontFamily="Verdana, sans-serif"}};w([x(Z,{optional:!0})],Ls.prototype,"maxLength",2);w([x(ne)],Ls.prototype,"color",2);w([x(Ss,{optional:!0})],Ls.prototype,"fontStyle",2);w([x(Ds,{optional:!0})],Ls.prototype,"fontWeight",2);w([x(Z)],Ls.prototype,"fontSize",2);w([x(et)],Ls.prototype,"fontFamily",2);w([x(In,{optional:!0})],Ls.prototype,"formatter",2);var Er=class extends Vt{constructor(){super(...arguments),this.size=15,this.padding=8}};w([en(e=>e.parent?.onMarkerShapeChange())],Er.prototype,"shape",2);w([x(Z)],Er.prototype,"size",2);w([x(Z)],Er.prototype,"padding",2);w([x(Z,{optional:!0})],Er.prototype,"strokeWidth",2);w([x(It)],Er.prototype,"enabled",2);var kf=class extends Vt{};w([x(Z,{optional:!0})],kf.prototype,"strokeWidth",2);w([x(Z,{optional:!0})],kf.prototype,"length",2);var Os=class extends Vt{constructor(){super(...arguments),this.paddingX=16,this.paddingY=8,this.showSeriesStroke=!1,this.marker=new Er,this.label=new Ls,this.line=new kf}};w([x(Z,{optional:!0})],Os.prototype,"maxWidth",2);w([x(Z)],Os.prototype,"paddingX",2);w([x(Z)],Os.prototype,"paddingY",2);w([x(It)],Os.prototype,"showSeriesStroke",2);w([x(vt)],Os.prototype,"marker",2);w([x(vt)],Os.prototype,"label",2);w([x(vt)],Os.prototype,"line",2);var zf=class extends Vt{};w([x(In,{optional:!0})],zf.prototype,"legendItemClick",2);w([x(In,{optional:!0})],zf.prototype,"legendItemDoubleClick",2);var up="legend-visibility",Rk="legend-other-series",zn=class extends Vt{constructor(e){super(),this.ctx=e,this.id=No(this),this.group=new mt({name:"legend",layer:!0,zIndex:11}),this.itemSelection=qe.select(this.group,Ia),this.oldSize=[0,0],this.pages=[],this.maxPageSize=[0,0],this.paginationTrackingIndex=0,this.truncatedItems=new Set,this._data=[],this.toggleSeries=!0,this.item=new Os,this.listeners=new zf,this.enabled=!0,this.position="bottom",this.spacing=20,this.characterWidths=new Map,this.destroyFns=[],this.size=[0,0],this._visible=!0,this.item.marker.parent=this,this.pagination=new P2(r=>e.updateService.update(r),r=>this.updatePageNumber(r),e.regionManager,e.cursorManager),this.pagination.attachPagination(this.group),e.contextMenuRegistry.registerDefaultAction({id:up,type:"legend",label:"contextMenuToggleSeriesVisibility",action:r=>this.contextToggleVisibility(r)}),e.contextMenuRegistry.registerDefaultAction({id:Rk,type:"legend",label:"contextMenuToggleOtherSeries",action:r=>this.contextToggleOtherSeries(r)});let{Default:t,Animation:n,ContextMenu:o}=cr,a=t|n,s=t|n|o,i=e.regionManager.addRegion("legend",this.group);this.destroyFns.push(i.addListener("contextmenu",r=>this.checkContextClick(r),s),i.addListener("click",r=>this.checkLegendClick(r),a),i.addListener("dblclick",r=>this.checkLegendDoubleClick(r),a),i.addListener("hover",r=>this.handleLegendMouseMove(r)),i.addListener("leave",r=>this.handleLegendMouseExit(r),a),i.addListener("enter",r=>this.handleLegendMouseEnter(r),a),e.layoutService.addListener("start-layout",r=>this.positionLegend(r)),()=>this.detachLegend(),e.localeManager.addListener("locale-changed",()=>this.onLocaleChanged())),this.proxyLegendToolbar=this.ctx.proxyInteractionService.createProxyContainer({type:"toolbar",id:`${this.id}-toolbar`,classList:["ag-charts-proxy-legend-toolbar"],ariaLabel:{id:"ariaLabelLegend"},ariaOrientation:"horizontal"}),this.proxyLegendPagination=this.ctx.proxyInteractionService.createProxyContainer({type:"group",id:`${this.id}-pagination`,classList:["ag-charts-proxy-legend-pagination"],ariaLabel:{id:"ariaLabelLegendPagination"},ariaOrientation:"horizontal"})}set data(e){this._data=e,this.updateGroupVisibility()}get data(){return this._data}destroy(){this.ctx.domManager.removeChild("canvas-overlay",`${this.id}-toolbar`),this.ctx.domManager.removeChild("canvas-overlay",`${this.id}-pagination`),this.destroyFns.forEach(e=>e()),this.pagination.destroy(),this.itemSelection.clear()}initLegendItemToolbar(){this.itemSelection.each((t,n,o)=>{t.proxyButton??(t.proxyButton=this.ctx.proxyInteractionService.createProxyElement({type:"button",id:`ag-charts-legend-item-${o}`,textContent:this.getItemAriaText(o),parent:this.proxyLegendToolbar,focusable:t,onclick:()=>{this.doClick(t.datum),t.proxyButton.textContent=this.getItemAriaText(o,!t.datum.enabled)},onblur:()=>this.doMouseExit(),onfocus:()=>{let a=t?.computeTransformedBBox(),s=yC(this.ctx.focusIndicator,{bounds:a,showFocusBox:!0});this.doHover(s,t.datum),this.pagination.setPage(t.pageIndex)}}))});let e=this.itemSelection.nodes().map(t=>t.proxyButton).filter(t=>!!t);C3({orientation:this.getOrientation(),buttons:e,toolbar:this.proxyLegendToolbar})}onMarkerShapeChange(){this.itemSelection.clear(),this.group.markDirty(this.group,2)}getOrientation(){if(this.orientation!==void 0)return this.orientation;switch(this.position){case"right":case"left":return"vertical";case"bottom":case"top":return"horizontal"}}getCharacterWidths(e){let{characterWidths:t}=this;if(t.has(e))return t.get(e);let n={"...":se.getTextSize("...",e).width};return t.set(e,n),n}set visible(e){this._visible=e,this.updateGroupVisibility()}get visible(){return this._visible}updateGroupVisibility(){this.group.visible=this.enabled&&this.visible&&this.data.length>0}attachLegend(e){e.appendChild(this.group)}detachLegend(){this.group.parent?.removeChild(this.group)}getItemLabel(e){let{ctx:{callbackCache:t}}=this,{formatter:n}=this.item.label;return n?t.call(n,{itemId:e.itemId,value:e.label.text,seriesId:e.seriesId}):e.label.text}calcLayout(e,t){let{paddingX:n,paddingY:o,label:a,maxWidth:s,label:{maxLength:i=1/0,fontStyle:r,fontWeight:l,fontSize:h,fontFamily:c}}=this.item,d=[...this.data];this.reverseOrder&&d.reverse();let p=this.itemSelection.nodes().length===0;this.itemSelection.update(d),p&&this.initLegendItemToolbar();let v=[],g=C2(a),f=s??e*.8;if(this.itemSelection.each((C,E)=>{C.fontStyle=r,C.fontWeight=l,C.fontSize=h,C.fontFamily=c;let _=this.updateMarkerLabel(C,E,this.calcMarkerWidth()),F=E.itemId??E.id,at=(this.getItemLabel(E)??"<unknown>").replace(/\r?\n/g," ");C.text=this.truncate(at,i,f,_,g,F),v.push(C.computeBBox())}),e=Math.max(1,e),t=Math.max(1,t),!isFinite(e))return{};let M=this.size,m=this.oldSize;M[0]=e,M[1]=t,(M[0]!==m[0]||M[1]!==m[1])&&(m[0]=M[0],m[1]=M[1]);let{pages:k,maxPageHeight:B,maxPageWidth:z}=this.updatePagination(v,e,t),I=this.pages;this.pages=k,this.maxPageSize=[z-n,B-o];let y=this.pagination.currentPage,b=this.pages[y];return this.pages.length<1||!b?(this.visible=!1,{oldPages:I}):(this.visible=!0,this.updatePositions(y),this.update(),{oldPages:I})}calcSymbolsLengths(e){let{showSeriesStroke:t,marker:n,line:o}=this.item,a=n.enabled??(t&&(e.marker.enabled??!0)),s=a?n.size:0,i=!!(e.line&&t),r=i?o.length??25:0;return{markerEnabled:a,markerLength:s,lineEnabled:i,lineLength:r}}calcMarkerWidth(){let e=0;return this.itemSelection.each((t,n)=>{n.symbols.forEach(o=>{let{lineLength:a,markerLength:s}=this.calcSymbolsLengths(o);e=Math.max(e,a,s)})}),e}updateMarkerLabel(e,t,n){let{marker:o,paddingX:a}=this.item,s=[],i=a;if(e.markers.length!==t.symbols.length&&e.lines.length!==t.symbols.length){let r=[],l=[];t.symbols.forEach(h=>{let{shape:c=h.marker.shape}=o,d=Lo(c);l.push(new k0),r.push(new d)}),e.markers=r,e.lines=l}return t.symbols.forEach((r,l)=>{let h=r.marker.padding??o.padding,{markerEnabled:c,lineEnabled:d}=this.calcSymbolsLengths(r);e.markers[l].size=c||!d?o.size:0,s.push({length:n,spacing:h}),(c||d)&&(i+=h+n)}),e.update(s),i}truncate(e,t,n,o,a,s){let i="...",r=e.split(""),l=!1;if(e.length>t&&(e=`${e.substring(0,t)}`,l=!0),Math.floor(o+se.getTextSize(e,a).width)>n){let c="",d=this.getCharacterWidths(a),p=o+d[i];for(let v of r){if(d[v]||(d[v]=se.getTextSize(v,a).width),p+=d[v],p>n)break;c+=v}e=c,l=!0}return l?(e+=i,this.truncatedItems.add(s)):this.truncatedItems.delete(s),e}updatePagination(e,t,n){let o=this.getOrientation(),a=Math.min(this.paginationTrackingIndex,e.length);this.pagination.orientation=o,this.pagination.translationX=0,this.pagination.translationY=0;let{pages:s,maxPageHeight:i,maxPageWidth:r,paginationBBox:l,paginationVertical:h}=this.calculatePagination(e,t,n),c=s.findIndex(k=>k.endIndex>=a);this.pagination.currentPage=Ft(0,c,s.length-1);let{paddingX:d,paddingY:p}=this.item,v=8,g=r-d,u=i-p,f=0,M=-l.y-this.item.marker.size/2;h?M+=u+v:(f+=-l.x+g+v,M+=(u-l.height)/2),this.pagination.translationX=f,this.pagination.translationY=M,this.pagination.update(),this.pagination.updateMarkers();let m=0;return this.itemSelection.each((k,B,z)=>{z>(s[m]?.endIndex??1/0)&&m++,k.pageIndex=m}),{maxPageHeight:i,maxPageWidth:r,pages:s}}updatePaginationProxyButtons(e){this.proxyLegendPagination.style.display=this.pagination.visible?"absolute":"none";let t=(e?.length??this.pages.length)>1,n=this.pages.length>1;if(t!==n)if(n){this.proxyPrevButton=this.ctx.proxyInteractionService.createProxyElement({type:"button",id:`${this.id}-prev-page`,textContent:{id:"ariaLabelLegendPagePrevious"},tabIndex:0,parent:this.proxyLegendPagination,focusable:this.pagination.previousButton,onclick:()=>this.pagination.clickPrevious()}),this.proxyNextButton??(this.proxyNextButton=this.ctx.proxyInteractionService.createProxyElement({type:"button",id:`${this.id}-next-page`,textContent:{id:"ariaLabelLegendPageNext"},tabIndex:0,parent:this.proxyLegendPagination,focusable:this.pagination.nextButton,onclick:()=>this.pagination.clickNext()}));let{group:o,prev:a,next:s}=this.pagination.computeCSSBounds();ga(this.proxyLegendPagination,o),ga(this.proxyPrevButton,a),ga(this.proxyNextButton,s)}else this.proxyNextButton?.remove(),this.proxyPrevButton?.remove(),[this.proxyNextButton,this.proxyPrevButton]=[void 0,void 0]}calculatePagination(e,t,n){let{paddingX:o,paddingY:a}=this.item,s=this.getOrientation(),i=["left","right"].includes(this.position),r=this.pagination.computeBBox(),l=new pt(0,0,0,0),h=[],c=0,d=0,p=0,v=u=>u.width===r.width&&u.height===r.height,g=this.maxWidth!==void 0&&this.maxHeight!==void 0;do{if(p++>10){q.warn("unable to find stable legend layout.");break}r=l;let u=t-(i?0:r.width),f=n-(i?r.height:0),M=WW({orientation:s,bboxes:e,maxHeight:f,maxWidth:u,itemPaddingY:a,itemPaddingX:o,forceResult:g});h=M?.pages??[],c=M?.maxPageWidth??0,d=M?.maxPageHeight??0;let m=h.length;if(this.pagination.visible=m>1,this.pagination.totalPages=m,this.pagination.update(),l=this.pagination.computeBBox(),!this.pagination.visible)break}while(!v(l));return{maxPageWidth:c,maxPageHeight:d,pages:h,paginationBBox:r,paginationVertical:i}}updatePositions(e=0){let{item:{paddingY:t},itemSelection:n,pages:o}=this;if(o.length<1||!o[e])return;let{columns:a,startIndex:s,endIndex:i}=o[e],r=0,l=0,h=a.length,c=a[0].indices.length,d=this.getOrientation()==="horizontal",p=a[0].bboxes[0].height+t,v=[];n.each((g,u,f)=>{if(f<s||f>i){g.visible=!1;return}let M=f-s,m=0,k=0;d?(m=M%h,k=Math.floor(M/h)):(m=Math.floor(M/c),k=M%c),g.visible=!0;let B=a[m];if(!B)return;l=Math.floor(p*k),r=Math.floor(v[k]??0),v[k]=(v[k]??0)+B.columnWidth,g.translationX=r,g.translationY=l;let{width:z,height:I}=g.computeBBox();ga(g.proxyButton,{x:r,y:l,width:z,height:I})})}updatePageNumber(e){let{pages:t}=this,{startIndex:n,endIndex:o}=t[e];n===0?this.paginationTrackingIndex=0:e===t.length-1?this.paginationTrackingIndex=o:this.paginationTrackingIndex=Math.floor((n+o)/2),this.pagination.update(),this.pagination.updateMarkers(),this.updatePositions(e),this.ctx.updateService.update(6)}update(){let{label:{color:e}}=this.item;this.itemSelection.each((t,n)=>{n.symbols.forEach((o,a)=>{let s=t.markers[a],i=t.lines[a];if(s){let{strokeWidth:r,fill:l,stroke:h,fillOpacity:c,strokeOpacity:d}=this.getMarkerStyles(o);s.fill=l,s.stroke=h,s.strokeWidth=r,s.fillOpacity=c,s.strokeOpacity=d}if(i){let r=this.getLineStyles(o);i.stroke=r.stroke,i.strokeOpacity=r.strokeOpacity,i.strokeWidth=r.strokeWidth,i.lineDash=r.lineDash}}),t.opacity=n.enabled?1:.5,t.color=e}),this.updateContextMenu()}updateContextMenu(){let{toggleSeries:e}=this;this.ctx.contextMenuRegistry.setActionVisiblity(up,e),this.ctx.contextMenuRegistry.setActionVisiblity(Rk,e)}getLineStyles(e){let{stroke:t,strokeOpacity:n=1,strokeWidth:o,lineDash:a}=e.line??{},s=Math.min(2,o??1);return{stroke:t,strokeOpacity:n,strokeWidth:this.item.line.strokeWidth??s,lineDash:a}}getMarkerStyles(e){let{fill:t,stroke:n,strokeOpacity:o=1,fillOpacity:a=1,strokeWidth:s}=e.marker,i=Math.min(2,s??1);return{fill:t,stroke:n,strokeOpacity:o,fillOpacity:a,strokeWidth:this.item.marker.strokeWidth??i}}getDatumForPoint(e,t){let n=[],o={dist:1/0,datum:void 0};for(let s of this.group.children){if(!s.visible||!(s instanceof Ia))continue;let i=s.computeBBox();if(i.grow(this.item.paddingX/2,"horizontal"),i.grow(this.item.paddingY/2,"vertical"),i.containsPoint(e,t))return s.datum;let r=e-i.x-this.item.paddingX/2,l=t-i.y-this.item.paddingY/2,h=r**2+l**2;r>=0&&l>=0&&h<o.dist&&(o.dist=h,o.datum=s.datum),n.push(i)}if(pt.merge(n).containsPoint(e,t))return o.datum}computePagedBBox(){let e=this.group.computeBBox();if(this.pages.length<=1)return e;let[t,n]=this.maxPageSize;return e.height=Math.max(n,e.height),e.width=Math.max(t,e.width),e}contextToggleVisibility(e){let t=this.data.find(n=>n.itemId===e.itemId);this.doClick(t)}contextToggleOtherSeries(e){let t=this.data.find(n=>n.itemId===e.itemId);this.doDoubleClick(t)}checkContextClick(e){let t=this.getDatumForPoint(e.offsetX,e.offsetY);this.preventHidingAll&&this.contextMenuDatum?.enabled&&this.getVisibleItemCount()<=1?this.ctx.contextMenuRegistry.disableAction(up):this.ctx.contextMenuRegistry.enableAction(up),this.ctx.contextMenuRegistry.dispatchContext("legend",e,{legendItem:t})}checkLegendClick(e){let t=this.getDatumForPoint(e.offsetX,e.offsetY);this.doClick(t)&&e.preventDefault()}getVisibleItemCount(){return this.ctx.chartService.series.flatMap(e=>e.getLegendData("category")).filter(e=>e.enabled).length}doClick(e){let{listeners:{legendItemClick:t},ctx:{chartService:n,highlightManager:o},preventHidingAll:a,toggleSeries:s}=this;if(!e)return!1;let{id:i,itemId:r,enabled:l}=e,h=n.series.find(d=>d.id===i);if(!h)return!1;let c=l;if(s){c=!l,a&&!c&&this.getVisibleItemCount()<2&&(c=!0);let d=c?"ariaAnnounceVisible":"ariaAnnounceHidden";this.ctx.ariaAnnouncementService.announceValue(d),this.ctx.chartEventManager.legendItemClick(h,r,c,e.legendItemName)}return c?o.updateHighlight(this.id,{series:h,itemId:r,datum:void 0}):o.updateHighlight(this.id),this.ctx.updateService.update(2,{forceNodeDataRefresh:!0}),t?.({type:"click",enabled:c,itemId:r,seriesId:h.id}),!0}checkLegendDoubleClick(e){let t=this.getDatumForPoint(e.offsetX,e.offsetY);this.doDoubleClick(t)&&e.preventDefault()}doDoubleClick(e){let{listeners:{legendItemDoubleClick:t},ctx:{chartService:n},toggleSeries:o}=this;if(n.mode==="integrated"||!e)return!1;let{id:a,itemId:s,seriesId:i}=e,r=n.series.find(l=>l.id===a);if(!r)return!1;if(o){let l=n.series.flatMap(d=>d.getLegendData("category")),h=l.filter(d=>d.enabled).length,c=l.find(d=>d.itemId===s&&d.seriesId===i);this.ctx.chartEventManager.legendItemDoubleClick(r,s,c?.enabled??!1,h,c?.legendItemName)}return this.ctx.updateService.update(2,{forceNodeDataRefresh:!0}),t?.({type:"dblclick",enabled:!0,itemId:s,seriesId:r.id}),!0}handleLegendMouseMove(e){if(!this.enabled)return;let{offsetX:t,offsetY:n}=e;e.preventDefault();let o=this.getDatumForPoint(t,n);this.doHover(e,o)}doHover(e,t){let{toggleSeries:n,listeners:o}=this;if(e===void 0||t===void 0){this.ctx.cursorManager.updateCursor(this.id),this.ctx.highlightManager.updateHighlight(this.id);return}let a=t?this.ctx.chartService.series.find(s=>s.id===t?.id):void 0;if(t&&this.truncatedItems.has(t.itemId??t.id)){let{offsetX:s,offsetY:i}=e;this.ctx.tooltipManager.updateTooltip(this.id,{offsetX:s,offsetY:i,lastPointerEvent:e,showArrow:!1},hr({content:this.getItemLabel(t)}))}else this.ctx.tooltipManager.removeTooltip(this.id);(n||o.legendItemClick!=null||o.legendItemDoubleClick!=null)&&this.ctx.cursorManager.updateCursor(this.id,"pointer"),t?.enabled&&a?this.ctx.highlightManager.updateHighlight(this.id,{series:a,itemId:t?.itemId,datum:void 0}):this.ctx.highlightManager.updateHighlight(this.id)}handleLegendMouseExit(e){this.doMouseExit()}doMouseExit(){this.ctx.cursorManager.updateCursor(this.id),this.ctx.tooltipManager.removeTooltip(this.id),this.ctx.interactionManager.getState()===16&&this.ctx.highlightManager.updateHighlight(this.id)}handleLegendMouseEnter(e){let{enabled:t,toggleSeries:n,listeners:{legendItemClick:o,legendItemDoubleClick:a}}=this,s=this.getDatumForPoint(e.offsetX,e.offsetY);t&&s!==void 0&&(n||o!=null||a!=null)&&this.ctx.cursorManager.updateCursor(this.id,"pointer")}onLocaleChanged(){this.itemSelection.each(({proxyButton:e},t,n)=>{e!=null&&(e.textContent=this.getItemAriaText(n))})}getItemAriaText(e,t){let n=this.data[e],o=n&&this.getItemLabel(n);t??(t=n.enabled);let a=this.ctx.localeManager;if(e>=0&&o){let s=e+1,i=this.data.length,r=a.t("ariaLabelLegendItem",{label:o,index:s,count:i}),l=a.t(t?"ariaAnnounceVisible":"ariaAnnounceHidden");return[r,l].join("")}return a.t("ariaLabelLegendItemUnknown")}positionLegend(e){let{shrinkRect:t}=e,n=t.clone();if(!this.enabled||!this.data.length)return V(S({},e),{shrinkRect:n});let[o,a]=this.calculateLegendDimensions(t);this.group.translationX=0,this.group.translationY=0;let{oldPages:s}=this.calcLayout(o,a),i=this.computePagedBBox(),r=()=>{switch(this.position){case"top":case"left":return 0;case"bottom":return t.height-i.height;case"right":default:return t.width-i.width}};if(this.visible){let l,h;switch(this.position){case"top":case"bottom":l=(t.width-i.width)/2,h=r(),n.shrink(i.height,this.position);break;case"left":case"right":default:l=r(),h=(t.height-i.height)/2,n.shrink(i.width,this.position)}this.group.translationX=Math.floor(-i.x+t.x+l),this.group.translationY=Math.floor(-i.y+t.y+h);let c=this.group.computeTransformedBBox();c&&(ga(this.proxyLegendToolbar,c),this.proxyLegendToolbar.style.removeProperty("display")),this.proxyLegendToolbar.ariaOrientation=this.getOrientation()}else this.proxyLegendToolbar.style.display="none";if(this.updatePaginationProxyButtons(s),this.visible&&this.enabled&&this.data.length){let l=this.spacing;n.shrink(l,this.position);let h=i.clone();h.x+=this.group.translationX,h.y+=this.group.translationY}return V(S({},e),{shrinkRect:n})}calculateLegendDimensions(e){let{width:t,height:n}=e,o=t/n,a=.5,s=.2,i=.25,r,l;switch(this.position){case"top":case"bottom":let h=o<1?Math.min(a,s*(1/o)):s;r=this.maxWidth?Math.min(this.maxWidth,t):t,l=this.maxHeight?Math.min(this.maxHeight,n):Math.round(n*h);break;case"left":case"right":default:let c=o>1?Math.min(a,i*o):i;r=this.maxWidth?Math.min(this.maxWidth,t):Math.round(t*c),l=this.maxHeight?Math.min(this.maxHeight,n):n}return[r,l]}};zn.className="Legend";w([x(It)],zn.prototype,"toggleSeries",2);w([x(vt)],zn.prototype,"pagination",2);w([x(vt)],zn.prototype,"item",2);w([x(vt)],zn.prototype,"listeners",2);w([en(e=>e.updateGroupVisibility()),x(It)],zn.prototype,"enabled",2);w([x(V6)],zn.prototype,"position",2);w([x(Z,{optional:!0})],zn.prototype,"maxWidth",2);w([x(Z,{optional:!0})],zn.prototype,"maxHeight",2);w([x(It,{optional:!0})],zn.prototype,"reverseOrder",2);w([x(be(["horizontal","vertical"],"an orientation"),{optional:!0})],zn.prototype,"orientation",2);w([x(It,{optional:!0})],zn.prototype,"preventHidingAll",2);w([x(Z)],zn.prototype,"spacing",2);var XW={type:"legend",optionsKey:"legend",identifier:"category",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion"],instanceConstructor:zn,packageType:"community"},bf=class extends o4{constructor(e){super(),this.ctx=e,this.localeText=void 0}};w([en(e=>{e.ctx.localeManager.setLocaleText(e.localeText)}),x(Rz,{optional:!0})],bf.prototype,"localeText",2);w([en(e=>{e.ctx.localeManager.setLocaleTextFormatter(e.getLocaleText)}),x(In,{optional:!0})],bf.prototype,"getLocaleText",2);var QW={type:"root",optionsKey:"locale",packageType:"community",chartTypes:["cartesian","polar","hierarchy","topology","flow-proportion"],instanceConstructor:bf},w1=class extends nn{constructor(){super(...arguments),this.zIndex=3,this._fill="#f2f2f2",this._stroke="#999999",this._strokeWidth=1,this._lineCap="square",this._centerX=0,this._centerY=0,this._width=8,this._gripLineGap=2,this._gripLineLength=8,this._height=16}set centerX(e){this._centerX!==e&&(this._centerX=e,this.dirtyPath=!0)}get centerX(){return this._centerX}set centerY(e){this._centerY!==e&&(this._centerY=e,this.dirtyPath=!0)}get centerY(){return this._centerY}set width(e){this._width!==e&&(this._width=e,this.dirtyPath=!0)}get width(){return this._width}set gripLineGap(e){this._gripLineGap!==e&&(this._gripLineGap=e,this.dirtyPath=!0)}get gripLineGap(){return this._gripLineGap}set gripLineLength(e){this._gripLineLength!==e&&(this._gripLineLength=e,this.dirtyPath=!0)}get gripLineLength(){return this._gripLineLength}set height(e){this._height!==e&&(this._height=e,this.dirtyPath=!0)}get height(){return this._height}layout(e,t){this.centerX=e,this.centerY=t}static align(e,t,n,o,a,s,i,r){let l=e.strokeWidth/2,h=e.align(n+a*i)+l,c=h+e.align(n+a*i,a*(r-i))-2*l,d=e.align(o+s/2)+l;e.layout(h,d),t.layout(c,d)}computeBBox(){let{centerX:e,centerY:t,width:n,height:o}=this,a=e-n/2,s=t-o/2;return new pt(a,s,n,o)}computeTransformedBBox(){return super.computeTransformedBBox()}isPointInPath(e,t){let n=this.transformPoint(e,t);return this.computeBBox().containsPoint(n.x,n.y)}updatePath(){let{centerX:e,centerY:t,path:n,strokeWidth:o,gripLineGap:a,gripLineLength:s}=this,i=this.layerManager?.canvas?.pixelRatio??1;n.clear();let r=Math.floor(this.width/2*i)/i,l=Math.floor(this.height/2*i)/i;n.moveTo(e-r,t-l),n.lineTo(e+r,t-l),n.lineTo(e+r,t+l),n.lineTo(e-r,t+l),n.closePath();let h=Math.floor((a+o)/2*i)/i,c=Math.floor(s/2*i)/i;n.moveTo(e-h,t-c),n.lineTo(e-h,t+c),n.moveTo(e+h,t-c),n.lineTo(e+h,t+c)}};w1.className="RangeHandle";w([x(ne)],w1.prototype,"_fill",2);w([x(ne)],w1.prototype,"_stroke",2);w([x(Z)],w1.prototype,"_strokeWidth",2);w([x(Pz)],w1.prototype,"_lineCap",2);w([x(Z)],w1.prototype,"_width",2);w([x(Z)],w1.prototype,"_gripLineGap",2);w([x(Z)],w1.prototype,"_gripLineLength",2);w([x(Z)],w1.prototype,"_height",2);var eB=class extends nn{constructor(){super(...arguments),this.zIndex=2,this.x=0,this.y=0,this.width=200,this.height=30,this.min=0,this.max=1}layout(e,t,n,o){this.x=e,this.y=t,this.width=n,this.height=o,this.dirtyPath=!0}update(e,t){this.min=isNaN(e)?this.min:e,this.max=isNaN(t)?this.max:t,this.dirtyPath=!0}computeBBox(){let{x:e,y:t,width:n,height:o}=this;return new pt(e,t,n,o)}computeVisibleRangeBBox(){let{x:e,y:t,width:n,height:o,min:a,max:s}=this,i=e+n*a,r=e+n*s;return new pt(i,t,r-i,o)}updatePath(){let{path:e,x:t,y:n,width:o,height:a,min:s,max:i,strokeWidth:r}=this,l=r/2;e.clear();let h=this.align(t)+l,c=this.align(n)+l,d=h+this.align(t,o)-2*l,p=c+this.align(n,a)-2*l;e.moveTo(h,c),e.lineTo(d,c),e.lineTo(d,p),e.lineTo(h,p),e.closePath();let v=this.align(t+o*s)+l,g=v+this.align(t+o*s,o*(i-s))-2*l;e.moveTo(v,c),e.lineTo(v,p),e.lineTo(g,p),e.lineTo(g,c),e.closePath()}};eB.className="RangeMask";var JW=class extends mt{constructor(e){super({name:"rangeSelectorGroup",layer:!0,zIndex:12}),this.x=0,this.y=0,this.width=200,this.height=30,this.lOffset=0,this.rOffset=0,this.isContainerNode=!0,this.background=new mt({name:"navigator-background"}),this.background.zIndex=1,this.appendChild(this.background),this.append(e)}layout(e,t,n,o,a,s){this.x=e,this.y=t,this.width=n,this.height=o,this.lOffset=a,this.rOffset=s,this.background.translationX=e,this.background.translationY=t}updateBackground(e,t){e!=null&&this.background.removeChild(e),t!=null&&this.background.appendChild(t)}computeBBox(){let{x:e,y:t,width:n,height:o,lOffset:a,rOffset:s}=this;return new pt(e-a,t,n+(a+s),o)}},Ns=class extends o4{constructor(e){super(),this.ctx=e,this.miniChart=void 0,this.enabled=!1,this.mask=new eB,this.minHandle=new w1,this.maxHandle=new w1,this.maskVisibleRange={computeBBox:()=>this.mask.computeVisibleRangeBBox(),computeTransformedBBox:()=>this.mask.computeVisibleRangeBBox()},this.height=30,this.spacing=10,this.x=0,this.y=0,this.width=0,this.rangeSelector=new JW([this.mask,this.minHandle,this.maxHandle]),this._min=0,this._max=1,this.minRange=.001;let t=e.regionManager.addRegion("navigator",this.rangeSelector),n=25;this.destroyFns.push(e.scene.attachNode(this.rangeSelector),t.addListener("hover",o=>this.onHover(o),n),t.addListener("drag-start",o=>this.onDragStart(o),n),t.addListener("drag",o=>this.onDrag(o),n),t.addListener("drag-end",()=>this.onDragEnd(),n),t.addListener("leave",o=>this.onLeave(o),n),this.ctx.localeManager.addListener("locale-changed",()=>this.updateZoom()),e.zoomManager.addListener("zoom-change",o=>this.onZoomChange(o))),this.proxyNavigatorToolbar=this.ctx.proxyInteractionService.createProxyContainer({type:"toolbar",id:"navigator-toolbar",classList:["ag-charts-proxy-navigator-toolbar"],ariaOrientation:"vertical",ariaLabel:{id:"ariaLabelNavigator"}}),this.updateGroupVisibility(),this.proxyNavigatorElements=[this.ctx.proxyInteractionService.createProxyElement({type:"slider",id:"ag-charts-navigator-min",ariaLabel:{id:"ariaLabelNavigatorMinimum"},ariaOrientation:"horizontal",parent:this.proxyNavigatorToolbar,focusable:this.minHandle,onchange:o=>this.onMinSliderChange(o)}),this.ctx.proxyInteractionService.createProxyElement({type:"slider",id:"ag-charts-navigator-pan",ariaLabel:{id:"ariaLabelNavigatorRange"},ariaOrientation:"horizontal",parent:this.proxyNavigatorToolbar,focusable:this.maskVisibleRange,onchange:o=>this.onPanSliderChange(o)}),this.ctx.proxyInteractionService.createProxyElement({type:"slider",id:"ag-charts-navigator-max",ariaLabel:{id:"ariaLabelNavigatorMaximum"},ariaOrientation:"horizontal",parent:this.proxyNavigatorToolbar,focusable:this.maxHandle,onchange:o=>this.onMaxSliderChange(o)})],C3({orientation:"vertical",toolbar:this.proxyNavigatorToolbar,buttons:this.proxyNavigatorElements}),this.destroyFns.push(()=>{this.proxyNavigatorElements.forEach(o=>o.remove()),this.proxyNavigatorToolbar.remove()})}updateBackground(e,t){this.rangeSelector?.updateBackground(e,t)}updateGroupVisibility(){let{enabled:e}=this;this.rangeSelector==null||e===this.rangeSelector.visible||(this.rangeSelector.visible=e,e?this.updateZoom():this.ctx.zoomManager.updateZoom("navigator"))}performLayout(e){return R(this,null,function*(){let{shrinkRect:t}=e;if(this.enabled){let n=this.height+this.spacing;t.shrink(n,"bottom"),this.y=t.y+t.height+this.spacing}else this.y=0;return V(S({},e),{shrinkRect:t})})}performCartesianLayout(e){return R(this,null,function*(){let{x:t,width:n}=e.seriesRect;if(this.enabled){let{y:o,height:a}=this;this.layoutNodes(t,o,n,a),ga(this.proxyNavigatorToolbar,{x:t,y:o,width:n,height:a}),this.proxyNavigatorToolbar.style.removeProperty("display")}else this.proxyNavigatorToolbar.style.display="none";this.x=t,this.width=n})}onHover(e){if(!this.enabled)return;let{mask:t,minHandle:n,maxHandle:o}=this,{offsetX:a,offsetY:s}=e;n.containsPoint(a,s)||o.containsPoint(a,s)?this.ctx.cursorManager.updateCursor("navigator","ew-resize"):t.computeVisibleRangeBBox().containsPoint(a,s)?this.ctx.cursorManager.updateCursor("navigator","grab"):this.ctx.cursorManager.updateCursor("navigator")}onDragStart(e){if(!this.enabled)return;let{mask:t,minHandle:n,maxHandle:o,x:a,width:s,_min:i}=this,{offsetX:r,offsetY:l}=e;n.zIndex<o.zIndex?o.containsPoint(r,l)?this.dragging="max":n.containsPoint(r,l)&&(this.dragging="min"):n.containsPoint(r,l)?this.dragging="min":o.containsPoint(r,l)&&(this.dragging="max"),this.dragging==null&&t.computeVisibleRangeBBox().containsPoint(r,l)&&(this.dragging="pan",this.panStart=(r-a)/s-i),this.dragging!=null&&this.ctx.zoomManager.fireZoomPanStartEvent("navigator")}onDrag(e){if(!this.enabled||this.dragging==null)return;let{dragging:t,minRange:n,panStart:o,x:a,width:s}=this,{_min:i,_max:r}=this,{offsetX:l}=e,h=(l-a)/s;if(t==="min")i=Ft(0,h,r-n);else if(t==="max")r=Ft(i+n,h,1);else if(t==="pan"&&o!=null){let c=r-i;i=Ft(0,h-o,1-c),r=i+c}this._min=i,this._max=r,this.updateZoom()}onDragEnd(){this.dragging=void 0}onLeave(e){this.ctx.cursorManager.updateCursor("navigator")}onZoomChange(e){let{x:t}=e;t&&(this._min=t.min,this._max=t.max,this.updateNodes(t.min,t.max))}onPanSliderChange(e){let t=this.getSliderRatio(this.proxyNavigatorElements[1]),n=this._max-this._min;this._min=Ft(0,t,1-n),this._max=this._min+n,this.updateZoom()}onMinSliderChange(e){let t=this.proxyNavigatorElements[0];this._min=this.setSliderRatioClamped(t,0,this._max-this.minRange),this.updateZoom()}onMaxSliderChange(e){let t=this.proxyNavigatorElements[2];this._max=this.setSliderRatioClamped(t,this._min+this.minRange,1),this.updateZoom()}setPanSliderValue(e,t){this.proxyNavigatorElements[1].value=`${Math.round(e*100)}`,this.proxyNavigatorElements[1].ariaValueText=this.ctx.localeManager.t("ariaValuePanRange",{min:e,max:t})}setSliderRatioClamped(e,t,n){let o=this.getSliderRatio(e),a=Ft(t,o,n);return a!==o&&this.setSliderRatio(e,a),a}setSliderRatio(e,t){let n=Math.round(t*100);e.value=`${n}`,e.ariaValueText=T6(n)}getSliderRatio(e){return parseFloat(e.value)/100}layoutNodes(e,t,n,o){let{rangeSelector:a,mask:s,minHandle:i,maxHandle:r,_min:l,_max:h}=this;a.layout(e,t,n,o,i.width/2,r.width/2),s.layout(e,t,n,o),w1.align(i,r,e,t,n,o,l,h),l+(h-l)/2<.5?(i.zIndex=3,r.zIndex=4):(i.zIndex=4,r.zIndex=3),[i,this.maskVisibleRange,r].forEach((c,d)=>{let p=c.computeBBox(),v={x:p.x-e,y:p.y-t,height:p.height,width:p.width};ga(this.proxyNavigatorElements[d],v)})}updateNodes(e,t){this.mask.update(e,t)}updateZoom(){if(!this.enabled)return;let{_min:e,_max:t}=this,n=this.ctx.zoomManager.getZoom();if(e==null||t==null)return;let o=a=>{this.min==null&&this.max==null||q.warnOnce(`Could not apply [navigator.min] or [navigator.max] as [${a}] has modified the initial zoom state.`)};return this.setPanSliderValue(e,t),this.setSliderRatio(this.proxyNavigatorElements[0],e),this.setSliderRatio(this.proxyNavigatorElements[2],t),this.ctx.zoomManager.updateZoom("navigator",{x:{min:e,max:t},y:n?.y},!1,o)}};w([x(vt,{optional:!0})],Ns.prototype,"miniChart",2);w([x(It),en(e=>e.updateGroupVisibility())],Ns.prototype,"enabled",2);w([x(Z)],Ns.prototype,"height",2);w([x(Z)],Ns.prototype,"spacing",2);w([tn({newValue(e){this._min=e,this.updateZoom()}}),x(m1(ie,mr("max")),{optional:!0})],Ns.prototype,"min",2);w([tn({newValue(e){this._max=e,this.updateZoom()}}),x(m1(ie,xr("min")),{optional:!0})],Ns.prototype,"max",2);var nB={type:"root",optionsKey:"navigator",packageType:"community",chartTypes:["cartesian"],instanceConstructor:Ns,themeTemplate:{navigator:{enabled:!1,height:30,mask:{fill:"#999999",stroke:"#999999",strokeWidth:1,fillOpacity:.2},minHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:9,height:16,gripLineGap:1,gripLineLength:8},maxHandle:{fill:"#f2f2f2",stroke:"#999999",strokeWidth:1,width:9,height:16,gripLineGap:1,gripLineLength:8}}}};function Tr({takeColors:e}){let{fills:[t],strokes:[n]}=e(1);return{fill:t,stroke:n}}function S3(e){return{marker:Tr(e)}}var oB=(e=>(e[e.SMALL=12]="SMALL",e[e.MEDIUM=13]="MEDIUM",e[e.LARGE=17]="LARGE",e))(oB||{}),aB=(e=>(e.NORMAL="normal",e.BOLD="bold",e.BOLDER="bolder",e.LIGHTER="lighter",e))(aB||{}),sB=(e=>(e.TOP="top",e.RIGHT="right",e.BOTTOM="bottom",e.LEFT="left",e))(sB||{}),iB=(e=>(e.CATEGORY="category",e.ORDINAL_TIME="ordinal-time",e.NUMBER="number",e.TIME="time",e.LOG="log",e))(iB||{}),rB=(e=>(e.ANGLE_CATEGORY="angle-category",e.ANGLE_NUMBER="angle-number",e.RADIUS_CATEGORY="radius-category",e.RADIUS_NUMBER="radius-number",e))(rB||{}),lB=(e=>(e.CIRCLE="circle",e.POLYGON="polygon",e))(lB||{}),zh=Symbol("is-dark-theme"),We=Symbol("default-font"),I0=Symbol("default-label-colour"),hB=Symbol("default-inverted-label-colour"),F2=Symbol("default-inside-series-label-colour"),ms=Symbol("default-muted-label-colour"),pr=Symbol("default-axis-grid-colour"),Ap=Symbol("default-axis-line-colour"),bh=Symbol("default-cross-lines-colour"),$p=Symbol("default-background-colour"),V2=Symbol("default-shadow-colour"),t$=Symbol("default-colours"),cs=Symbol("default-padding"),y2=Symbol("default-caption-layout-style"),I2=Symbol("default-caption-alignment"),qp=Symbol("palette-up-stroke"),Yp=Symbol("palette-down-stroke"),cB=Symbol("palette-up-fill"),dB=Symbol("palette-down-fill"),Kp=Symbol("palette-neutral-stroke"),pB=Symbol("palette-neutral-fill"),Cf=Symbol("default-polar-series-stroke"),Wn=Symbol("default-diverging-series-colour-range"),Bf=Symbol("default-hierarchy-fills"),Sf=Symbol("default-hierarchy-strokes"),$n=Symbol("default-annotation-stroke"),qn=Symbol("default-annotation-background-fill"),Df=Symbol("default-annotation-handle-fill"),h4=Symbol("default-toolbar-position"),ua=Symbol("default-gridline-enabled");function vB(e,t,n,o,a){let{addPhaseFn:s,updatePhaseFn:i,removePhaseFn:r}=a,l=(h,c,d)=>{n.animate({id:`${e}_${t}_${c.id}_${h}`,groupId:e,from:0,to:1,ease:Eh,collapsable:!1,onUpdate(p,v){v&&h!=="removed"||(c.path.clear(!0),d(p,c),c.checkPathDirty())},onStop(){h==="added"&&(c.path.clear(!0),d(1,c),c.checkPathDirty())},phase:X0[h]})};for(let h of o)n.isSkipped()||(l("removed",h,r),l("updated",h,i)),l("added",h,s)}var wp=null;function Ae(e){if(e!=null)return e===""?"":(wp??(wp=T0("div")),wp.textContent=String(e),wp.innerHTML)}function ee({id:e},t,n,...o){Po(e,t,n,o,{opacity:0},{opacity:1},{phase:"trailing"})}function vs({id:e},t,n,...o){Po(e,t,n,o,{opacity:1},{opacity:0},{phase:"remove"})}function Sa(e){return{opacity:1}}var Hf=class extends Vt{constructor(){super(...arguments),this._dirty=3}markDirty(e,t=1){this._dirty<t&&(this._dirty=t)}markClean(e){this._dirty=0}isDirty(){return this._dirty>0}},Y1=class extends Hf{constructor(){super(...arguments),this.enabled=!0,this.color="rgba(0, 0, 0, 0.5)",this.xOffset=0,this.yOffset=0,this.blur=5}};w([x(It),dt({redraw:3})],Y1.prototype,"enabled",2);w([x(ne),dt({redraw:3})],Y1.prototype,"color",2);w([x(xe),dt({redraw:3})],Y1.prototype,"xOffset",2);w([x(xe),dt({redraw:3})],Y1.prototype,"yOffset",2);w([x(Z),dt({redraw:3})],Y1.prototype,"blur",2);var gB=we(e=>$C(e)||typeof e=="function"&&Object.create(e.prototype)instanceof G0,"a marker shape keyword such as 'circle', 'diamond' or 'square' or an object extending the Marker class"),bn=class extends Hf{constructor(){super(...arguments),this.enabled=!0,this.shape=Ms,this.size=6,this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1}getStyle(){let{size:e,shape:t,fill:n,fillOpacity:o,stroke:a,strokeWidth:s,strokeOpacity:i}=this;return{size:e,shape:t,fill:n,fillOpacity:o,stroke:a,strokeWidth:s,strokeOpacity:i}}getDiameter(){return this.size+this.strokeWidth}};w([x(It),dt({redraw:3})],bn.prototype,"enabled",2);w([x(gB),dt({redraw:3})],bn.prototype,"shape",2);w([x(Z),dt({redraw:3})],bn.prototype,"size",2);w([x(ne,{optional:!0}),dt({redraw:3})],bn.prototype,"fill",2);w([x(ie),dt({redraw:3})],bn.prototype,"fillOpacity",2);w([x(ne,{optional:!0}),dt({redraw:3})],bn.prototype,"stroke",2);w([x(Z),dt({redraw:3})],bn.prototype,"strokeWidth",2);w([x(ie),dt({redraw:3})],bn.prototype,"strokeOpacity",2);w([x(In,{optional:!0}),dt({redraw:3})],bn.prototype,"itemStyler",2);var uB=class extends Vt{constructor(){super(...arguments),this.enabled=!1}};w([x(It)],uB.prototype,"enabled",2);var an=class extends Vt{constructor(){super(...arguments),this.enabled=!0,this.interaction=new uB,this.position=new yr,this.range=void 0}toTooltipHtml(e,t){return this.renderer?hr(this.renderer(t),e):hr(e)}};w([x(It)],an.prototype,"enabled",2);w([x(It,{optional:!0})],an.prototype,"showArrow",2);w([x(In,{optional:!0})],an.prototype,"renderer",2);w([x(vt)],an.prototype,"interaction",2);w([x(vt)],an.prototype,"position",2);w([x(g3,{optional:!0})],an.prototype,"range",2);var wB=be(["linear","smooth","step"],"a line style"),fB=be(["start","middle","end"]),_r=class extends Vt{constructor(){super(...arguments),this.type="linear",this.tension=1,this.position="end"}};w([x(wB)],_r.prototype,"type",2);w([x(ie)],_r.prototype,"tension",2);w([x(fB)],_r.prototype,"position",2);var v0=class extends As{constructor(){super(...arguments),this.xName=void 0,this.fill="#c16068",this.fillOpacity=1,this.stroke="#874349",this.strokeWidth=2,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.interpolation=new _r,this.shadow=new Y1,this.marker=new bn,this.label=new d0,this.tooltip=new an,this.connectMissingData=!1}};w([x(et)],v0.prototype,"xKey",2);w([x(et,{optional:!0})],v0.prototype,"xName",2);w([x(et)],v0.prototype,"yKey",2);w([x(et,{optional:!0})],v0.prototype,"yName",2);w([x(Z,{optional:!0})],v0.prototype,"normalizedTo",2);w([x(ne)],v0.prototype,"fill",2);w([x(ie)],v0.prototype,"fillOpacity",2);w([x(ne)],v0.prototype,"stroke",2);w([x(Z)],v0.prototype,"strokeWidth",2);w([x(ie)],v0.prototype,"strokeOpacity",2);w([x(za)],v0.prototype,"lineDash",2);w([x(Z)],v0.prototype,"lineDashOffset",2);w([x(vt)],v0.prototype,"interpolation",2);w([x(vt)],v0.prototype,"shadow",2);w([x(vt)],v0.prototype,"marker",2);w([x(vt)],v0.prototype,"label",2);w([x(vt)],v0.prototype,"tooltip",2);w([x(It)],v0.prototype,"connectMissingData",2);function jh({id:e},t,n,...o){let a={phase:n?X0[n]:"trailing"};Po(e,"markers",t,o,{opacity:0},{opacity:1},a),o.forEach(s=>s.cleanup())}function Ef({id:e},t,...n){Po(e,"markers",t,n,{scalingX:0,scalingY:0},{scalingX:1,scalingY:1},{phase:"initial"}),n.forEach(o=>o.cleanup())}function Tf({id:e,nodeDataDependencies:t},n,...o){let a=t.seriesRectWidth;$e(e,"markers",n,o,{fromFn:(r,l)=>{let h=l.midPoint?.x??a,c=Ft(0,Sz(h/a),1);return isNaN(c)&&(c=0),{scalingX:0,scalingY:0,delay:c,duration:Vp,phase:"initial"}},toFn:()=>({scalingX:1,scalingY:1})})}function c4(e){return{opacity:1,scalingX:1,scalingY:1}}function Uh(e,t){return{translationX:t.point?.x??NaN,translationY:t.point?.y??NaN}}function _f(e,t){let n=(i,r)=>{let l=e[r][i];return Array.isArray(l)?l[0]:l},o=i=>{let{xValue:r}=i;return e.moved[r]?{point:n(r,"moved"),status:"updated"}:e.removed[r]?{point:n(r,"removed"),status:"removed"}:e.added[r]?{point:n(r,"added"),status:"added"}:{status:"unknown"}};return{fromFn:(i,r)=>{let{status:l,point:h}=o(r);if(l==="unknown")return{opacity:0};let c={translationX:h?.from?.x??i.translationX,translationY:h?.from?.y??i.translationY,opacity:i.opacity,phase:X0[l]};return t==="added"?V(S({},c),{opacity:0,translationX:h?.to?.x,translationY:h?.to?.y,phase:X0.added}):(l==="added"&&(c.opacity=0),c)},toFn:(i,r)=>{let{status:l,point:h}=o(r);if(l==="unknown")return{opacity:0};let c={translationX:r.point.x,translationY:r.point.y,opacity:1,phase:X0[l]};return l==="removed"||t==="removed"?V(S({},c),{translationX:h?.to?.x,translationY:h?.to?.y,opacity:0,phase:X0.removed}):c}}}function d4(e,{datumIndex:t}){let n=e.getNodeData();if(n===void 0)return;let o=n[t];if(o===void 0||o.point===void 0)return;let a=e.getFormattedMarkerStyle(o).size,s=a/2,{x:i,y:r}=e.contentGroup.inverseTransformPoint(o.point.x-s,o.point.y-s);return new pt(i,r,a,a)}function e$(e,t,n){let o=n;for(let{x:a,y:s}of t)o?e.lineTo(a,s):(e.moveTo(a,s),o=!0)}var fp=.05;function n$(e,t,n,o){let a=Array.isArray(t)?t:Array.from(t);if(a.length===0||(o?e.lineTo(a[0].x,a[0].y):e.moveTo(a[0].x,a[0].y),a.length<=1))return;let s=a.map((i,r)=>{let l=r===0?i:a[r-1],h=r===a.length-1?i:a[r+1],c=r===0||r===a.length-1;if(Math.sign(l.y-i.y)===Math.sign(h.y-i.y))return 0;if(!c){let d=Math.abs(l.y-h.y),p=Math.abs(i.y-l.y)/d,v=Math.abs(i.y-h.y)/d;if(p<=fp||1-p<=fp||v<=fp||1-v<=fp)return 0}return(h.y-l.y)/(h.x-l.x)});s[1]===0&&(s[0]*=2),s[s.length-2]===0&&(s[s.length-1]*=2);for(let i=1;i<a.length;i+=1){let r=a[i-1],l=s[i-1],h=a[i],c=s[i],d=h.x-r.x,p=h.y-r.y,v=d*n/3,g=d*l*n/3,u=d*n/3,f=d*c*n/3;c===0&&Math.abs(g)>Math.abs(p)&&(v*=Math.abs(p/g),g=Math.sign(g)*Math.abs(p)),l===0&&Math.abs(f)>Math.abs(p)&&(u*=Math.abs(p/f),f=Math.sign(f)*Math.abs(p)),e.cubicCurveTo(r.x+v,r.y+g,h.x-u,h.y-f,h.x,h.y)}}function o$(e,t,n,o){let a;for(let s of t){if(a!=null){let i=a.x<s.x?n:1-n,r=(s.x-a.x)*i+a.x;e.lineTo(r,a?.y??s.y),e.lineTo(r,s.y),e.lineTo(s.x,s.y)}else o?e.lineTo(s.x,s.y):e.moveTo(s.x,s.y);a=s}}function u6(e){return e.reduce(({min:t,max:n},o)=>((t==null||t.point.x>o.point.x)&&(t=o),(n==null||n.point.x<o.point.x)&&(n=o),{min:t,max:n}),{})}function Lk(e,t,n){let o=(t.y-e.y)/(t.x-e.x),a=(n-e.x)*o+e.y;return{x:n,y:a}}function Ok(e,t,n,o){let a=-1,s=0,i=[];for(;s<e.length;){if(e[s].change===t){i.push(e[s]),s++;continue}if(e[s].change===n){s++;continue}i.length>0&&(o(i,a,s),i.length=0),a=s,s++}i.length>0&&o(i,a,s)}function Af(e,t){Ok(e,"out","in",(n,o,a)=>{o===-1&&e[a]?n.forEach(s=>s.to=e[a].from):a===e.length&&e[o]?n.forEach(s=>s.to=e[o].from):t==="intersect"&&e[o]?.from&&e[a]?.from?n.forEach(s=>s.to=Lk(e[o].from,e[a].from,s.from.x)):n.forEach(s=>s.to=s.from)}),Ok(e,"in","out",(n,o,a)=>{o===-1&&e[a]?n.forEach(s=>s.from=e[a].to):a===e.length&&e[o]?n.forEach(s=>s.from=e[o].to):t==="intersect"&&e[o]?.to&&e[a]?.to?n.forEach(s=>s.from=Lk(e[o].to,e[a].to,s.to.x)):n.forEach(s=>s.from=s.to)})}function Nk(e,t,n){let o=isNaN(e.x)?t.x:e.x,a=isNaN(e.y)?t.y:e.y,s=t.x-e.x,i=t.y-e.y,r=isNaN(s)?0:s*n,l=isNaN(i)?0:i*n;return{x:o+r,y:a+l}}var a$={start:0,middle:.5,end:1};function xs(e,t,n,o=!1){let{path:a}=t;n?.type==="smooth"?n$(a,e,n.tension??1,o):n?.type==="step"?o$(a,e,a$[n.position??"end"],o):e$(a,e,o)}function Zp(e,t){let n,o,a=[],s=()=>{o!=null&&(a.push(o),o=void 0)};for(let i of e){let{from:r,to:l}=i,h=t[i.change];if(h==null||r==null||l==null)continue;let c=Nk(r,l,h);if(i.moveTo===!1)o??(o=[]),o.push(c);else if(i.moveTo===!0||!n)s(),o=[c];else if(n){let d=i.moveTo==="in"?h:1-h,{x:p,y:v}=Nk(n,c,d);o??(o=[]),o.push({x:p,y:v}),s(),o=[c]}n=c}return s(),a}function MB(e,t,n,o){Zp(e,t).forEach(a=>{xs(a,n,o)})}function Rf({id:e,visible:t,nodeDataDependencies:n},o,...a){let{seriesRectWidth:s,seriesRectHeight:i}=n;Po(e,"path_properties",o,a,{clipX:0},{clipX:s},{phase:"initial",start:{clipMode:"normal",clipY:i,visible:t},finish:{clipMode:void 0,visible:t}})}function Ch({id:e},t,n,o="add",...a){Po(e,t,n,a,{opacity:0},{opacity:1},{phase:o})}function s$({id:e},t,n,...o){Po(e,t,n,o,{opacity:1},{opacity:0},{phase:"remove"})}function Lf(e){return t=>({opacity:e.getOpacity(),clipScalingX:1,clipMode:void 0})}function Xp({nodeDataDependencies:e},t){let n=o=>isFinite(o)?o:0;t.clipX=n(e.seriesRectWidth),t.clipY=n(e.seriesRectHeight)}function Pk(e){return e.type==="continuous"||e.type==="log"}function Fk(e){return e.type==="category"}function Vk(e,t){return e.domain.length===t.domain.length&&e.range.length===t.range.length&&e.domain.every((n,o)=>n===t.domain[o])&&e.range.every((n,o)=>n===t.range[o])}function jk(e,t){return e===void 0||t===void 0?e!==void 0||t!==void 0:Pk(e)&&Pk(t)?e.type===t.type&&Vk(e,t):Fk(e)&&Fk(t)?Vk(e,t):!1}function*Qp(e){let t=-1,n=0;for(let{point:o}of e){if(o.moveTo){let a=t>=0?{start:t,end:n}:void 0;t=n,n=t,a!==void 0&&(yield a)}n+=1}t!==-1&&(yield{start:t,end:n})}function*Jp(e,{start:t,end:n}){for(let o=t;o<n;o+=1)yield e[o].point}function*mB(e,{start:t,end:n}){for(let o=n-1;o>=t;o-=1)yield e[o].point}function Mp(e,t){if(!t)return NaN;if(e instanceof Date&&(e=e.getTime()),t.type==="continuous"&&typeof e=="number")return(e-t.domain[0])/(t.domain[1]-t.domain[0])*(t.range[1]-t.range[0])+t.range[0];if(t.type==="log"&&typeof e=="number")return t.convert(e);let n=t.domain.findIndex(o=>o===e);return n>=0?t.range[n]:NaN}function i$(e,t){return!jk(e.scales.x,t.scales.x)||!jk(e.scales.y,t.scales.y)}function r$(e,t){let n=Number(e),o=Number(t);return!isNaN(n)&&!isNaN(o)?Math.abs(o-n)<.25:e===t}function xB(e=!1,t=!1){return e===t?!!e:e?"in":"out"}function Gh(e,t,n={}){let{backfillSplitMode:o="intersect"}=n,a=u=>({x:Mp(u.xValue??NaN,e.scales.x),y:Mp(u.yValue??NaN,e.scales.y)}),s=u=>({x:Mp(u.xValue??NaN,t.scales.x),y:Mp(u.yValue??NaN,t.scales.y)}),i=[],r={added:{},moved:{},removed:{}},l=(u,f,M,m="move")=>{u&&(isNaN(u.point.x)||isNaN(u.point.y))&&(u=f);let k={from:u?.point,to:f?.point,moveTo:xB(u?.point.moveTo,f?.point.moveTo),change:m};m==="move"?(r.moved[M]=k,v++,g++):m==="in"?(r.added[M]=k,g++):m==="out"&&(r.removed[M]=k,v++),i.push(k)},{min:h,max:c}=u6(t.nodeData),{min:d,max:p}=u6(e.nodeData),v=0,g=0;for(;v<t.nodeData.length||g<e.nodeData.length;){let u=t.nodeData[v],f=e.nodeData[g],M=u?a(u):void 0,m=f?s(f):void 0,k=void 0;if(M&&r$(M.x,f?.point.x))l(u,f,f.xValue,"move");else if(M&&M.x<(d?.point.x??-1/0))l(u,k,u.xValue,"out");else if(M&&M.x>(p?.point.x??1/0))l(u,k,u.xValue,"out");else if(m&&m.x<(h?.point.x??-1/0))l(k,f,f.xValue,"in");else if(m&&m.x>(c?.point.x??1/0))l(k,f,f.xValue,"in");else if(M&&M.x<f?.point.x)l(u,k,u.xValue,"out");else if(m&&m.x<u?.point.x)l(k,f,f.xValue,"in");else if(u)l(u,k,u.xValue,"out");else if(f)l(k,f,f.xValue,"in");else throw new Error("Unable to process points")}return Af(i,o),{result:i,resultMap:r}}function Wh(e,t,n,o={}){let{backfillSplitMode:a="intersect",multiDatum:s=!1}=o,i=[],r={added:{},moved:{},removed:{}},l={added:{},moved:{},removed:{}},h={in:"added",move:"moved",out:"removed"},c,d,p=(M,m)=>{var k;let B=h[m.change];s?((k=l[B])[M]??(k[M]=[]),l[B][M].push(m)):r[B][M]=m,c=m,d=nr(M)},v=0,g=0,u=!1;for(;v<t.nodeData.length||g<e.nodeData.length;){let M=t.nodeData[v],m=e.nodeData[g],k=nr(M?.xValue),B=nr(m?.xValue),z;if(k===B)z={change:"move",moveTo:xB(M.point.moveTo??!1,m.point.moveTo),from:M.point,to:m.point},p(M?.xValue,z),v++,g++;else if(n?.removed.has(String(k)))z={change:"out",moveTo:M.point.moveTo??!1,from:M.point},p(M?.xValue,z),v++;else if(n?.added.has(String(B)))z={change:"in",moveTo:m.point.moveTo??!1,to:m.point},p(m?.xValue,z),g++;else if(s&&c&&d===k)z=S({},c),p(M?.xValue,z),v++;else if(s&&c&&d===B)z=S({},c),p(m?.xValue,z),g++;else{u=!0;break}i.push(z)}let f=-1/0;return u||(u=i.some(M=>{let{change:m,to:{x:k=-1/0}={}}=M;if(m==="out")return;let B=k<f;return f=k,B})),u?{result:void 0,resultMap:void 0}:(Af(i,a),{result:i,resultMap:s?l:r})}function Of(e,t,n){let o="updated",a=s=>s.visible;if(!a(t)&&a(e))o="added";else if(a(t)&&!a(e))o="removed";else for(let s=0;s<n.length&&!(n[s].change!=="move"||n[s].from?.x!==n[s].to?.x||n[s].from?.y!==n[s].to?.y);s++)if(s===n.length-1)return"no-op";return o}function Nf(e,t){let n=t==="none"?"updated":e,o={fromFn:a=>{let s;return e==="removed"?s={finish:{visible:!1}}:e==="added"?s={start:{visible:!0}}:s={},S({phase:X0[n]},s)},toFn:a=>({phase:X0[n]})};return t==="fade"?{fromFn:a=>{let s=e==="added"?0:a.opacity;return S({opacity:s},o.fromFn(a))},toFn:a=>S({opacity:e==="removed"?0:1},o.toFn(a))}:o}function yB(e,t,n,o,a,s){let i=Of(e,t,n),r=(d,p)=>{s(n,{move:0,out:d},p,a)},l=(d,p)=>{s(n,{move:d},p,a)},h=(d,p)=>{s(n,{move:1,in:d},p,a)},c=Nf(i,o);return{status:i,path:{addPhaseFn:h,updatePhaseFn:l,removePhaseFn:r},pathProperties:c}}function IB(e,t,n,o){let a=e.scales.x?.type==="category",s=t.scales.x?.type==="category";if(a!==s)return;let{result:i,resultMap:r}=a?Wh(e,t,n):Gh(e,t),l="updated";if(t.visible&&!e.visible?l="removed":!t.visible&&e.visible&&(l="added"),i===void 0||r===void 0)return;let h=(n?.changed??!0)||i$(e,t)||l!=="updated",c=yB(e,t,i,"fade",o,MB),d=_f(r,l);return V(S({},c),{marker:d,hasMotion:h})}var kB=(e=>(e[e.Fill=0]="Fill",e[e.Stroke=1]="Stroke",e[e.Marker=2]="Marker",e[e.Label=3]="Label",e))(kB||{});function t3(e){let{points:t,phantomPoints:n}=e.fillData;return{top:t,bottom:n}}function gs(e,t,n){return{scales:t.scales,nodeData:n[e],visible:t.visible}}function l$(e,t,n){let o=t3(t),a=t3(e),s={multiDatum:!0};return{top:Wh(gs("top",e,a),gs("top",t,o),n,s),bottom:Wh(gs("bottom",e,a),gs("bottom",t,o),n,s)}}function h$(e,t){let n=t3(t),o=t3(e);return{top:Gh(gs("top",e,o),gs("top",t,n)),bottom:Gh(gs("bottom",e,o),gs("bottom",t,n))}}function Hw(e,t,n,o,a){let s=Zp(e,n),i=Zp(t,n);if(s.length===i.length)for(let r=0;r<s.length;r+=1){let l=s[r],h=i[r].reverse();xs(l,o,a,!1),xs(h,o,a,!0),o.path.closePath()}}function zB(e,t,n,o,a,s){let i=Of(e,t,n),r=(d,p)=>{Hw(n,o,{move:0,out:d},p,s)},l=(d,p)=>{Hw(n,o,{move:d},p,s)},h=(d,p)=>{Hw(n,o,{move:1,in:d},p,s)},c=Nf(i,a);return{status:i,path:{addPhaseFn:h,updatePhaseFn:l,removePhaseFn:r},pathProperties:c}}function bB(e,t,n,o){let a=e.scales.x?.type==="category",s=t.scales.x?.type==="category";if(a!==s)return;let i="updated";t.visible&&!e.visible?i="removed":!t.visible&&e.visible&&(i="added");let r=()=>a?Wh(e,t,n,{backfillSplitMode:"static",multiDatum:!0}):Gh(e,t,{backfillSplitMode:"static"}),l=()=>a?l$(e,t,n):h$(e,t),{resultMap:h}=r(),{top:c,bottom:d}=l();if(h===void 0||c.result===void 0||d.result===void 0)return;let p=c.result,v=d.result,u=(t.stackVisible?e.stackVisible:!1)?"none":"fade",f=zB(e,t,p,v,u,o),M=_f(h,i);return{status:f.status,fill:f,marker:M}}var Pf=class extends Rs{constructor(e){super({moduleCtx:e,directionKeys:L2,directionNames:O2,pathsPerSeries:2,pathsZIndexSubOrderOffset:[0,1e3],hasMarkers:!0,markerSelectionGarbageCollection:!1,pickModes:[1,0],animationResetFns:{path:Lf({getOpacity:()=>this.getOpacity()}),label:Sa,marker:(t,n)=>S(S({},c4(t)),Uh(t,n))}}),this.properties=new v0}processData(e){return R(this,null,function*(){if(this.data==null||!this.properties.isValid())return;let{data:t,visible:n,seriesGrouping:{groupIndex:o=this.id,stackCount:a=1}={}}=this,{xKey:s,yKey:i,connectMissingData:r,normalizedTo:l}=this.properties,h=!this.ctx.animationManager.isSkipped(),c=this.axes.x?.scale,d=this.axes.y?.scale,{isContinuousX:p,xScaleType:v,yScaleType:g}=this.getScaleInformation({xScale:c,yScale:d}),u={value:`area-stack-${o}-yValue`,values:`area-stack-${o}-yValues`,valuesTrailing:`area-stack-${o}-yValues-trailing`,marker:`area-stack-${o}-yValues-marker`},f={values:`area-stack-${o}-yValues-prev`,valuesTrailing:`area-stack-${o}-yValues-trailing-prev`},M=[];Hh(l)&&(M.push(Ph(Object.values(u),l,"range")),M.push(Ph(Object.values(f),l,"range"))),!p&&h&&this.processedData&&M.push(R2(this.processedData)),h&&M.push(Cr());let m={invalidValue:null};r&&a>1&&(m.invalidValue=0),n||(m.forceValue=0),yield this.requestDataModel(e,t,{props:[A0(s,v,{id:"xValue"}),ge(i,g,S({id:"yValueRaw"},m)),...LC(i,V(S({id:"yValueContinuity"},m),{groupId:`area-stack-${o}-yValues-continuity`})),ge(i,g,V(S({id:"yValue"},m),{groupId:u.value})),...G1(i,"window-trailing","current",V(S({id:"yValueStart"},m),{groupId:u.valuesTrailing}),g),...G1(i,"window","current",V(S({id:"yValueEnd"},m),{groupId:u.values}),g),...G1(i,"normal","current",V(S({id:"yValueCumulative"},m),{groupId:u.marker}),g),...G1(i,"window","last",V(S({id:"yValuePreviousEnd"},m),{groupId:f.values}),g),...G1(i,"window-trailing","last",V(S({id:"yValuePreviousStart"},m),{groupId:f.valuesTrailing}),g),...M],groupByKeys:!0,groupByData:!1}),this.animationState.transition("updateData")})}getSeriesDomain(e){let{processedData:t,dataModel:n,axes:o}=this;if(!t||!n||t.data.length===0)return[];let a=o.x,s=o.y,i=n.resolveProcessedDataDefById(this,"xValue"),r=n.getDomain(this,"xValue","key",t),l=n.getDomain(this,"yValueEnd","value",t);if(e==="x")return i?.def.type==="key"&&i.def.valueType==="category"?r:xn(Vo(r),a);if(s instanceof N2||s instanceof Dr)return xn(l,s);{let h=[l[0]>0?0:l[0],l[1]<0?0:l[1]];return xn(h,s)}}createNodeData(){return R(this,null,function*(){let{axes:e,data:t,processedData:{data:n}={},dataModel:o}=this,a=e.x,s=e.y;if(!a||!s||!t||!o||!this.properties.isValid())return;let{yKey:i,xKey:r,marker:l,label:h,fill:c,stroke:d,connectMissingData:p}=this.properties,{scale:v}=a,{scale:g}=s,{isContinuousY:u}=this.getScaleInformation({xScale:v,yScale:g}),f=(v.bandwidth??0)/2,M=o.resolveProcessedDataDefsByIds(this,["yValueStart","yValueEnd","yValueRaw","yValuePreviousStart","yValuePreviousEnd","yValueCumulative","yValueContinuity","yValue"]),m=(U,P,N)=>{let W;return(Hh(this.properties.normalizedTo)?u&&x3(N):!isNaN(N))&&(W=P),{x:v.convert(U)+f,y:g.convert(W),size:l.size}},k=i,B=[],z=[],{visibleSameStackCount:I}=this.ctx.seriesStateManager.getVisiblePeerGroupIndex(this),y={itemId:k,fillData:{itemId:k,points:[],phantomPoints:[]},strokeData:{itemId:k,points:[]},labelData:B,nodeData:z,scales:this.calculateScaling(),visible:this.visible,stackVisible:I>0},b=y.fillData.points,C=y.fillData.phantomPoints,E=y.strokeData.points,_=-1,F,tt,at=!0;return n?.forEach(U=>{let{keys:P,keys:[N],datum:W,values:ot}=U;ot.forEach((j,Mt)=>{_++;let xt=W[Mt],wt=o.resolveProcessedDataDefsValues(M,{keys:P,values:j}),{yValueRaw:st,yValueCumulative:Ut,yValueContinuity:Y}=wt,{yValueStart:G,yValueEnd:X,yValuePreviousStart:Q,yValuePreviousEnd:ft,yValue:zt}=wt,kt=st!=null,Tt=m(N,+Ut,st);if(kt&&l&&z.push({index:_,series:this,itemId:k,datum:xt,midPoint:{x:Tt.x,y:Tt.y},cumulativeValue:X,yValue:st,xValue:N,yKey:i,xKey:r,point:Tt,fill:l.fill??c,stroke:l.stroke??d,strokeWidth:l.strokeWidth??this.getStrokeWidth(this.properties.strokeWidth)}),kt&&h){let $t=this.getLabelText(h,{value:st,datum:xt,xKey:r,yKey:i,xName:this.properties.xName,yName:this.properties.yName},C0=>Xt(C0)?C0.toFixed(2):String(C0));B.push({index:_,series:this,itemId:i,datum:xt,x:Tt.x,y:Tt.y,label:$t?{text:$t,fontStyle:h.fontStyle,fontWeight:h.fontWeight,fontSize:h.fontSize,fontFamily:h.fontFamily,textAlign:"center",textBaseline:"bottom",fill:h.color}:void 0})}if(kt||!p){kt||(at=!0);let $t=!at&&!p;$t&&tt===!1&&Y===!0?(b.push({point:{x:Tt.x,y:g.convert(X),moveTo:!1},yValue:st,xValue:N}),C.push({point:{x:Tt.x,y:g.convert(G),moveTo:!1},yValue:st,xValue:N}),E.push({point:{x:Tt.x,y:g.convert(X),moveTo:!1},yValue:st,xValue:N}),at=!0):$t&&tt===!0&&Y===!1&&(b.push({point:{x:v.convert(F)+f,y:g.convert(ft),moveTo:!0},yValue:st,xValue:N}),C.push({point:{x:v.convert(F)+f,y:g.convert(Q),moveTo:!0},yValue:st,xValue:N}),E.push({point:{x:v.convert(F)+f,y:g.convert(ft),moveTo:!0},yValue:st,xValue:N}),at=!1),b.push({point:{x:Tt.x,y:g.convert(Ut),moveTo:at},yValue:st,xValue:N}),C.push({point:{x:Tt.x,y:g.convert(Ut-zt),moveTo:at},yValue:st,xValue:N}),E.push({point:{x:Tt.x,y:g.convert(Ut),moveTo:at},yValue:st,xValue:N}),at=!kt}F=N,tt=Y})}),y})}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}markerFactory(){let{shape:e}=this.properties.marker,t=Lo(e);return new t}updatePathNodes(e){return R(this,null,function*(){let{opacity:t,visible:n,animationEnabled:o}=e,[a,s]=e.paths,i=this.getStrokeWidth(this.properties.strokeWidth);s.setProperties({tag:1,fill:void 0,lineJoin:s.lineCap="round",pointerEvents:1,stroke:this.properties.stroke,strokeWidth:i,strokeOpacity:this.properties.strokeOpacity,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset,opacity:t,visible:n}),a.setProperties({tag:0,stroke:void 0,lineJoin:"round",pointerEvents:1,fill:this.properties.fill,fillOpacity:this.properties.fillOpacity,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset,strokeOpacity:this.properties.strokeOpacity,fillShadow:this.properties.shadow,opacity:t,visible:n||o,strokeWidth:i}),Xp(this,s),Xp(this,a)})}updatePaths(e){return R(this,null,function*(){this.updateAreaPaths(e.paths,e.contextData)})}updateAreaPaths(e,t){this.updateFillPath(e,t),this.updateStrokePath(e,t)}updateFillPath(e,t){let{points:n,phantomPoints:o}=t.fillData,[a]=e,{interpolation:s}=this.properties;a.path.clear(!0);for(let i of Qp(n))xs(Jp(n,i),a,s,!1),xs(mB(o,i),a,s,!0),a.path.closePath();a.checkPathDirty()}updateStrokePath(e,t){let{points:n}=t.strokeData,[,o]=e,{path:a}=o,{interpolation:s}=this.properties;a.clear(!0);for(let i of Qp(n))xs(Jp(n,i),o,s);o.checkPathDirty()}updateMarkerSelection(e){return R(this,null,function*(){let{nodeData:t,markerSelection:n}=e;return this.properties.marker.isDirty()&&(n.clear(),n.cleanup()),n.update(this.properties.marker.enabled?t:[])})}updateMarkerNodes(e){return R(this,null,function*(){let{markerSelection:t,isHighlight:n}=e,{xKey:o,yKey:a,marker:s,fill:i,stroke:r,strokeWidth:l,fillOpacity:h,strokeOpacity:c,highlightStyle:d}=this.properties,p=Wt(n&&d.item,s.getStyle(),{fill:i,stroke:r,strokeWidth:l,fillOpacity:h,strokeOpacity:c});t.each((v,g)=>{this.updateMarkerStyle(v,s,{datum:g,highlighted:n,xKey:o,yKey:a},p)}),n||this.properties.marker.markClean()})}updateLabelSelection(e){return R(this,null,function*(){let{labelData:t,labelSelection:n}=e;return n.update(t,o=>{o.tag=3})})}updateLabelNodes(e){return R(this,null,function*(){let{labelSelection:t}=e,{enabled:n,fontStyle:o,fontWeight:a,fontSize:s,fontFamily:i,color:r}=this.properties.label;t.each((l,h)=>{let{x:c,y:d,label:p}=h;p&&n&&this.visible?(l.fontStyle=o,l.fontWeight=a,l.fontSize=s,l.fontFamily=i,l.textAlign=p.textAlign,l.textBaseline=p.textBaseline,l.text=p.text,l.x=c,l.y=d-10,l.fill=r,l.visible=!0):l.visible=!1})})}getTooltipHtml(e){let{id:t,axes:n,dataModel:o}=this,{xKey:a,xName:s,yName:i,tooltip:r,marker:l}=this.properties,{yKey:h,xValue:c,yValue:d,datum:p,itemId:v}=e,g=n.x,u=n.y;if(!this.properties.isValid()||!(g&&u&&Xt(d))||!o)return ba;let f=g.formatDatum(c),M=u.formatDatum(d),m=Ae(i),k=Ae(f+": "+M),B=Wt({fill:this.properties.fill},l.getStyle(),{stroke:this.properties.stroke,strokeWidth:this.properties.strokeWidth}),{fill:z}=this.getMarkerStyle(l,{datum:e,xKey:a,yKey:h,highlighted:!1},B);return r.toTooltipHtml({title:m,content:k,backgroundColor:z},{datum:p,itemId:v,xKey:a,xName:s,yKey:h,yName:i,color:z,title:m,seriesId:t})}getLegendData(e){if(!this.data?.length||!this.properties.isValid()||!this.properties.showInLegend||e!=="category")return[];let{yKey:t,yName:n,fill:o,stroke:a,fillOpacity:s,strokeOpacity:i,strokeWidth:r,lineDash:l,marker:h,visible:c,legendItemName:d}=this.properties,p=!h.enabled||h.fill===void 0;return[{legendType:e,id:this.id,itemId:t,seriesId:this.id,enabled:c,label:{text:d??n??t},symbols:[{marker:{shape:h.shape,fill:p?o:h.fill,fillOpacity:p?s:h.fillOpacity,stroke:h.stroke??a,strokeOpacity:h.strokeOpacity??i,strokeWidth:h.strokeWidth??0,enabled:h.enabled||r<=0},line:{stroke:a,strokeOpacity:i,strokeWidth:r,lineDash:l}}],legendItemName:d}]}animateEmptyUpdateReady(e){let{markerSelection:t,labelSelection:n,contextData:o,paths:a}=e,{animationManager:s}=this.ctx;this.updateAreaPaths(a,o),Rf(this,s,...a),o0([t],Uh),Tf(this,s,t),ee(this,"labels",s,n)}animateReadyResize(e){let{contextData:t,paths:n}=e;this.updateAreaPaths(n,t),super.animateReadyResize(e)}animateWaitingUpdateReady(e){let{animationManager:t}=this.ctx,{markerSelection:n,labelSelection:o,contextData:a,paths:s,previousContextData:i}=e,[r,l]=s;if(r==null&&l==null)return;super.resetAllAnimation(e);let h=()=>{this.updateAreaPaths(s,a),this.updateStrokePath(s,a)},c=()=>{t.skipCurrentBatch(),h()};if(a==null||i==null){h(),jh(this,t,"added",n),Ch(this,"fill_path_properties",t,"add",r),Ch(this,"stroke",t,"trailing",l),ee(this,"labels",t,o);return}let d=bB(a,i,this.processedData?.reduced?.diff,this.properties.interpolation);if(d===void 0){c();return}else if(d.status==="no-op")return;jh(this,t,void 0,n),$e(this.id,"fill_path_properties",t,[r],d.fill.pathProperties),vB(this.id,"fill_path_update",t,[r],d.fill.path),this.updateStrokePath(s,a),Ch(this,"stroke",t,"trailing",l),ee(this,"labels",t,o)}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new mt}getFormattedMarkerStyle(e){let{xKey:t,yKey:n}=e;return this.getMarkerStyle(this.properties.marker,{datum:e,xKey:t,yKey:n,highlighted:!0})}computeFocusBounds(e){return d4(this,e)}};Pf.className="AreaSeries";Pf.type="area";var c$={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"area",instanceConstructor:Pf,stackable:!0,tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"left"},{type:"category",position:"bottom"}],themeTemplate:{series:{nodeClickRange:"nearest",tooltip:{position:{type:"node"}},fillOpacity:.8,strokeOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,shadow:{enabled:!1,color:V2,xOffset:3,yOffset:3,blur:5},interpolation:{type:"linear",tension:1,position:"end"},marker:{enabled:!1,shape:"circle",size:7,strokeWidth:0},label:{enabled:!1,fontSize:12,fontFamily:We,color:I0}}},paletteFactory:e=>{let{marker:t}=S3(e);return{fill:t.fill,stroke:t.stroke,marker:t}}};function*CB(e){for(let t of e.children)yield t}function Ff(e,t){for(let n of t){let o=n.datum;o===void 0?q.error("undefined datum"):e.addValue(n,o)}}function Vf(e,t){let{x:n,y:o}=e.contentGroup.transformPoint(t.x,t.y),{nearest:a,distanceSquared:s}=e.getQuadTree().find(n,o);if(a!==void 0)return{datum:a.value,distance:Math.sqrt(s)}}var jf=class extends As{constructor(){super(...arguments),this.direction="vertical"}};w([x(Vz)],jf.prototype,"direction",2);var BB=class extends Rs{constructor(){super(...arguments),this.groupScale=new Is,this.smallestDataInterval=void 0,this.largestDataInterval=void 0}getBandScalePadding(){return{inner:.3,outer:.15}}shouldFlipXY(){return!this.isVertical()}isVertical(){return this.properties.direction==="vertical"}getBarDirection(){return this.shouldFlipXY()?"x":"y"}getCategoryDirection(){return this.shouldFlipXY()?"y":"x"}getValueAxis(){let e=this.getBarDirection();return this.axes[e]}getCategoryAxis(){let e=this.getCategoryDirection();return this.axes[e]}updateGroupScale(e){let{groupScale:t,smallestDataInterval:n,ctx:{seriesStateManager:o}}=this,a=e.scale,s=ve.is(a)?a.calcBandwidth(n):a.bandwidth,i=[],{index:r,visibleGroupCount:l}=o.getVisiblePeerGroupIndex(this);for(let c=0;c<l;c++)i.push(String(c));return t.domain=i,t.range=[0,s??0],e instanceof Ts?t.paddingInner=e.groupPaddingInner:e instanceof ks?t.padding=.1:t.padding=0,t.round=t.padding!==0,{barWidth:t.bandwidth>=1?t.bandwidth:t.rawBandwidth,groupIndex:r}}resolveKeyDirection(e){return this.getBarDirection()==="x"?e==="x"?"y":"x":e}initQuadTree(e){Ff(e,this.datumNodesIter())}pickNodeClosestDatum(e){return Vf(this,e)}},SB=class extends d0{constructor(){super(...arguments),this.placement="inside"}};w([x(jz)],SB.prototype,"placement",2);var a0=class extends jf{constructor(){super(...arguments),this.fill="#c16068",this.fillOpacity=1,this.stroke="#874349",this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.crisp=void 0,this.shadow=new Y1,this.label=new SB,this.tooltip=new an}};w([x(et)],a0.prototype,"xKey",2);w([x(et,{optional:!0})],a0.prototype,"xName",2);w([x(et)],a0.prototype,"yKey",2);w([x(et,{optional:!0})],a0.prototype,"yName",2);w([x(et,{optional:!0})],a0.prototype,"stackGroup",2);w([x(xe,{optional:!0})],a0.prototype,"normalizedTo",2);w([x(ne)],a0.prototype,"fill",2);w([x(ie)],a0.prototype,"fillOpacity",2);w([x(ne)],a0.prototype,"stroke",2);w([x(Z)],a0.prototype,"strokeWidth",2);w([x(ie)],a0.prototype,"strokeOpacity",2);w([x(za)],a0.prototype,"lineDash",2);w([x(Z)],a0.prototype,"lineDashOffset",2);w([x(Z)],a0.prototype,"cornerRadius",2);w([x(It,{optional:!0})],a0.prototype,"crisp",2);w([x(In,{optional:!0})],a0.prototype,"itemStyler",2);w([x(vt,{optional:!0})],a0.prototype,"shadow",2);w([x(vt)],a0.prototype,"label",2);w([x(vt)],a0.prototype,"tooltip",2);function DB({rect:e,config:t}){let{crisp:n=!0,fill:o,stroke:a,strokeWidth:s,fillOpacity:i,strokeOpacity:r,lineDash:l,lineDashOffset:h,fillShadow:c,cornerRadius:d=0,topLeftCornerRadius:p=!0,topRightCornerRadius:v=!0,bottomRightCornerRadius:g=!0,bottomLeftCornerRadius:u=!0,visible:f=!0}=t;e.crisp=n,e.fill=o,e.stroke=a,e.strokeWidth=s,e.fillOpacity=i,e.strokeOpacity=r,e.lineDash=l,e.lineDashOffset=h,e.fillShadow=c,e.topLeftCornerRadius=p?d:0,e.topRightCornerRadius=v?d:0,e.bottomRightCornerRadius=g?d:0,e.bottomLeftCornerRadius=u?d:0,e.visible=f}function HB(l){var h=l,{datum:e,isHighlighted:t,style:n,highlightStyle:o,itemStyler:a,seriesId:s,ctx:{callbackCache:i}}=h,r=ue(h,["datum","isHighlighted","style","highlightStyle","itemStyler","seriesId","ctx"]);let{fill:c,fillOpacity:d,stroke:p,strokeWidth:v,strokeOpacity:g,lineDash:u,lineDashOffset:f,cornerRadius:M=0}=Wt(t&&o,n),{fillShadow:m,topLeftCornerRadius:k=!0,topRightCornerRadius:B=!0,bottomRightCornerRadius:z=!0,bottomLeftCornerRadius:I=!0}=n,y;return a&&(y=i.call(a,S({datum:e.datum,xKey:e.xKey,fill:c,fillOpacity:d,stroke:p,strokeWidth:v,strokeOpacity:g,lineDash:u,lineDashOffset:f,cornerRadius:M,highlighted:t,seriesId:s},r))),{fill:y?.fill??c,fillOpacity:y?.fillOpacity??d,stroke:y?.stroke??p,strokeWidth:y?.strokeWidth??v,strokeOpacity:y?.strokeOpacity??g,lineDash:y?.lineDash??u,lineDashOffset:y?.lineDashOffset??f,cornerRadius:y?.cornerRadius??M,topLeftCornerRadius:k,topRightCornerRadius:B,bottomRightCornerRadius:z,bottomLeftCornerRadius:I,fillShadow:m}}function EB(e,t,n,o){if(t!=null){let[a,s]=t;if(a!==0||s!==1)return!1}if(ve.is(e)){let a=e.calcBandwidth(o)-e.calcBandwidth(n);if(a>0&&a<1)return!1}return!0}var Ew=e=>gr(e.yValue??0);function $h(e,t,n){let{startingX:o,startingY:a}=p$(e,t);return{isVertical:e,calculate:(i,r)=>{let l=e?i.x:o,h=e?a:i.y,c=e?i.width:0,d=e?0:i.height,{opacity:p}=i;r&&(isNaN(l)||isNaN(h))&&({x:l,y:h}=r,c=e?r.width:0,d=e?0:r.height,e&&!Ew(r)?h+=r.height:!e&&Ew(r)&&(l+=r.width));let v;return i.clipBBox==null?v=void 0:Ew(i)?v=e?new pt(l,h-d,c,d):new pt(l-c,h,c,d):v=new pt(l,h,c,d),{x:l,y:h,width:c,height:d,clipBBox:v,opacity:p}},mode:n}}function d$(e,t){return{isVertical:e,calculate:n=>({x:e?n.x:n.x+n.width/2,y:e?n.y+n.height/2:n.y,width:e?n.width:0,height:e?0:n.height,clipBBox:n.clipBBox,opacity:n.opacity}),mode:t}}function qh(e){let t=a=>a==null||isNaN(a.x)||isNaN(a.y);return{toFn:(a,s,i)=>{let r;return i==="removed"&&a.datum==null&&e.mode==="fade"?r=V(S({},Yh(a,s)),{opacity:0}):i==="removed"||t(s)?r=e.calculate(s,a.previousDatum):r={x:s.x,y:s.y,width:s.width,height:s.height,clipBBox:s.clipBBox,opacity:s.opacity},r},fromFn:(a,s,i)=>{i==="updated"&&t(s)?i="removed":i==="updated"&&t(a.previousDatum)&&(i="added");let r;i==="added"&&a.previousDatum==null&&e.mode==="fade"?r=V(S({},Yh(a,s)),{opacity:0}):i==="unknown"||i==="added"?r=e.calculate(s,a.previousDatum):r={x:a.x,y:a.y,width:a.width,height:a.height,clipBBox:a.clipBBox,opacity:a.opacity};let l=X0[i];return V(S({},r),{phase:l})}}}function p$(e,t){let n=t[e?"y":"x"],o=1/0,a=0;return n?(e?a=n.scale.convert(ve.is(n.scale)?0:Math.max(...n.range)):o=n.scale.convert(ve.is(n.scale)?0:Math.min(...n.range)),{startingX:o,startingY:a}):{startingX:o,startingY:a}}function Yh(e,{x:t,y:n,width:o,height:a,clipBBox:s,opacity:i}){return{x:t,y:n,width:o,height:a,clipBBox:s,opacity:i}}function Uf(e,t,n){if(e===void 0)return;let{x:o,y:a,width:s,height:i}=e;return t.inverseTransformBBox(new pt(o,a,s,i)).clip(n)}function TB(e,t,n){if(t.enabled&&n){let{x:o,y:a,text:s,textAlign:i,textBaseline:r}=n,{color:l,fontStyle:h,fontWeight:c,fontSize:d,fontFamily:p}=t;e.setProperties({visible:!0,x:o,y:a,text:s,fill:l,fontStyle:h,fontWeight:c,fontSize:d,fontFamily:p,textAlign:i,textBaseline:r})}else e.visible=!1}function _B({isPositive:e,isVertical:t,placement:n,padding:o=0,rect:a}){let s=a.x+a.width/2,i=a.y+a.height/2,r="center",l="middle";switch(n){case"start":{t?(i=e?a.y+a.height+o:a.y-o,l=e?"top":"bottom"):(s=e?a.x-o:a.x+a.width+o,r=e?"start":"end");break}case"outside":case"end":{t?(i=e?a.y-o:a.y+a.height+o,l=e?"bottom":"top"):(s=e?a.x+a.width+o:a.x-o,r=e?"start":"end");break}}return{x:s,y:i,textAlign:r,textBaseline:l}}var Gf=class extends BB{constructor(e){super({moduleCtx:e,directionKeys:L2,directionNames:O2,pickModes:[3,0],pathsPerSeries:0,hasHighlightedLabels:!0,datumSelectionGarbageCollection:!1,animationAlwaysUpdateSelections:!0,animationResetFns:{datum:Yh,label:Sa}}),this.properties=new a0}processData(e){return R(this,null,function*(){if(!this.properties.isValid()||!this.data)return;let{seriesGrouping:{groupIndex:t=this.id}={},data:n=[]}=this,{xKey:o,yKey:a,normalizedTo:s}=this.properties,i=!this.ctx.animationManager.isSkipped(),r=this.getCategoryAxis()?.scale,l=this.getValueAxis()?.scale,{isContinuousX:h,xScaleType:c,yScaleType:d}=this.getScaleInformation({xScale:r,yScale:l}),p=`bar-stack-${t}-yValues`,v=`${p}-trailing`,g=[];Xt(s)&&g.push(Ph([p,v],Math.abs(s),"range")),i&&this.processedData&&g.push(R2(this.processedData)),i&&g.push(Cr());let u=this.visible?{}:{forceValue:0},{processedData:f}=yield this.requestDataModel(e,n,{props:[A0(o,c,{id:"xValue"}),ge(a,d,S({id:"yValue-raw",invalidValue:null},u)),...G1(a,"normal","current",S({id:"yValue-end",rangeId:"yValue-range",invalidValue:null,missingValue:0,groupId:p,separateNegative:!0},u),d),...G1(a,"trailing","current",S({id:"yValue-start",invalidValue:null,missingValue:0,groupId:v,separateNegative:!0},u),d),...h?[SC,DC]:[],...g],groupByKeys:!0,groupByData:!1});this.smallestDataInterval=f.reduced?.smallestKeyInterval,this.largestDataInterval=f.reduced?.largestKeyInterval,this.animationState.transition("updateData")})}getSeriesDomain(e){let{processedData:t,dataModel:n,smallestDataInterval:o}=this;if(!t||!n||t.data.length===0)return[];let a=this.getCategoryAxis(),s=this.getValueAxis(),i=n.resolveProcessedDataDefById(this,"xValue"),r=n.getDomain(this,"xValue","key",t),l=n.getDomain(this,"yValue-end","value",t);if(e===this.getCategoryDirection()){if(i?.def.type==="key"&&i.def.valueType==="category")return r;let h=Xt(o)?o*.5:0,c=Vo(r)??[NaN,NaN],d=c[0]+-h,p=c[1]+h;return xn([d,p],a)}else{if(this.getValueAxis()instanceof N2)return xn(l,s);{let h=[Math.min(0,l[0]),Math.max(0,l[1])];return xn(h,s)}}}createNodeData(){return R(this,null,function*(){let{dataModel:e}=this,t=this.getCategoryAxis(),n=this.getValueAxis();if(!e||!t||!n||!this.properties.isValid())return;let o=t.scale,a=n.scale,{xKey:s,yKey:i,xName:r,yName:l,fill:h,stroke:c,strokeWidth:d,cornerRadius:p,legendItemName:v,label:g}=this.properties,u=n.isReversed(),{barWidth:f,groupIndex:M}=this.updateGroupScale(t),m=ve.is(o)?f*-.5:0,k=e.resolveProcessedDataIndexById(this,"xValue"),B=e.resolveProcessedDataIndexById(this,"yValue-raw"),z=e.resolveProcessedDataIndexById(this,"yValue-start"),I=e.resolveProcessedDataIndexById(this,"yValue-end"),y=e.resolveProcessedDataIndexById(this,"yValue-range"),b=!this.ctx.animationManager.isSkipped(),C={itemId:i,nodeData:[],labelData:[],scales:this.calculateScaling(),visible:this.visible||b},{groupScale:E,processedData:_}=this;return _?.data.forEach(({keys:F,datum:tt,values:at,aggValues:U})=>{at.forEach((P,N)=>{let W=F[k],ot=o.convert(W),j=+P[I],Mt=+P[z],xt=P[B],wt=xt>=0&&!Object.is(xt,-0),st=wt!==u,Ut=U?.[y][wt?1:0]??0,Y=ot+E.convert(String(M))+m;if(isNaN(j))return;let G=a.convert(j),X=a.convert(Mt),Q=this.getBarDirection()==="x",ft=a.convert(Ut),zt=a.convert(0),kt={x:Q?Math.min(G,X):Y,y:Q?Y:Math.min(G,X),width:Q?Math.abs(X-G):f,height:Q?f:Math.abs(X-G)},Tt=new pt(kt.x,kt.y,kt.width,kt.height),$t={x:Q?Math.min(zt,ft):Y,y:Q?Y:Math.min(zt,ft),width:Q?Math.abs(zt-ft):f,height:Q?f:Math.abs(zt-ft),clipBBox:Tt},{fontStyle:C0,fontWeight:sn,fontSize:Zn,fontFamily:z1,color:rn,placement:He}=g,Pe=this.getLabelText(this.properties.label,{datum:tt[N],value:xt,xKey:s,yKey:i,xName:r,yName:l,legendItemName:v},Cn=>Xt(Cn)?Cn.toFixed(2):String(Cn)),$o=Pe?S({text:Pe,fill:rn,fontStyle:C0,fontWeight:sn,fontSize:Zn,fontFamily:z1},_B({isPositive:wt,isVertical:!Q,placement:He,rect:kt})):void 0,de=this.shouldFlipXY()?kt.height:kt.width,qo={series:this,itemId:i,datum:tt[N],valueIndex:N,cumulativeValue:j,xValue:W,yValue:xt,yKey:i,xKey:s,capDefaults:{lengthRatioMultiplier:de,lengthMax:de},x:$t.x,y:$t.y,width:$t.width,height:$t.height,midPoint:{x:kt.x+kt.width/2,y:kt.y+kt.height/2},fill:h,stroke:c,opacity:1,strokeWidth:d,cornerRadius:p,topLeftCornerRadius:Q!==st,topRightCornerRadius:st,bottomRightCornerRadius:Q===st,bottomLeftCornerRadius:!st,clipBBox:Tt,label:$o,missing:xt==null};C.nodeData.push(qo),C.labelData.push(qo)})}),C})}nodeFactory(){return new on}updateDatumSelection(e){return R(this,null,function*(){return e.datumSelection.update(e.nodeData,t=>{t.tag=0},t=>bs(t.xValue,t.valueIndex))})}updateDatumNodes(e){return R(this,null,function*(){if(!this.properties.isValid())return;let{yKey:t,stackGroup:n,fill:o,fillOpacity:a,stroke:s,strokeWidth:i,strokeOpacity:r,lineDash:l,lineDashOffset:h,itemStyler:c,shadow:d,highlightStyle:{item:p}}=this.properties,v=this.axes.x,g=this.properties.crisp??EB(v?.scale,v?.visibleRange,this.smallestDataInterval,this.largestDataInterval),u=this.getCategoryDirection()==="x";e.datumSelection.each((f,M)=>{let m={fill:o,stroke:s,fillOpacity:a,strokeOpacity:r,lineDash:l,lineDashOffset:h,fillShadow:d,strokeWidth:this.getStrokeWidth(i),cornerRadius:M.cornerRadius,topLeftCornerRadius:M.topLeftCornerRadius,topRightCornerRadius:M.topRightCornerRadius,bottomRightCornerRadius:M.bottomRightCornerRadius,bottomLeftCornerRadius:M.bottomLeftCornerRadius},k=u?(M.clipBBox?.width??M.width)>0:(M.clipBBox?.height??M.height)>0,B=HB({datum:M,ctx:this.ctx,seriesId:this.id,isHighlighted:e.isHighlight,highlightStyle:p,yKey:t,style:m,itemStyler:c,stackGroup:n});B.crisp=g,B.visible=k,DB({rect:f,config:B})})})}updateLabelSelection(e){return R(this,null,function*(){let t=this.isLabelEnabled()?e.labelData:[];return e.labelSelection.update(t,n=>{n.tag=1,n.pointerEvents=1})})}updateLabelNodes(e){return R(this,null,function*(){e.labelSelection.each((t,n)=>{TB(t,this.properties.label,n.label)})})}getTooltipHtml(e){let{id:t,processedData:n,ctx:{callbackCache:o}}=this,a=this.getCategoryAxis(),s=this.getValueAxis();if(!n||!this.properties.isValid()||!a||!s)return ba;let{xKey:i,yKey:r,xName:l,yName:h,fill:c,stroke:d,strokeWidth:p,tooltip:v,itemStyler:g,stackGroup:u,legendItemName:f}=this.properties,{xValue:M,yValue:m,datum:k,itemId:B}=e,z=a.formatDatum(M),I=s.formatDatum(m),y=Ae(h),b=Ae(z+": "+I),C;g&&(C=o.call(g,{seriesId:t,datum:k,xKey:i,yKey:r,stackGroup:u,fill:c,stroke:d,strokeWidth:this.getStrokeWidth(p),highlighted:!1,cornerRadius:this.properties.cornerRadius,fillOpacity:this.properties.fillOpacity,strokeOpacity:this.properties.strokeOpacity,lineDash:this.properties.lineDash??[],lineDashOffset:this.properties.lineDashOffset}));let E=C?.fill??c;return v.toTooltipHtml({title:y,content:b,backgroundColor:E},S({seriesId:t,itemId:B,datum:k,xKey:i,yKey:r,xName:l,yName:h,stackGroup:u,title:y,color:E,legendItemName:f},this.getModuleTooltipParams()))}getLegendData(e){let{showInLegend:t}=this.properties;if(e!=="category"||!this.data?.length||!this.properties.isValid()||!t)return[];let{yKey:n,yName:o,fill:a,stroke:s,strokeWidth:i,fillOpacity:r,strokeOpacity:l,legendItemName:h,visible:c}=this.properties;return[{legendType:"category",id:this.id,itemId:n,seriesId:this.id,enabled:c,label:{text:h??o??n},symbols:[{marker:{fill:a,fillOpacity:r,stroke:s,strokeWidth:i,strokeOpacity:l}}],legendItemName:h}]}animateEmptyUpdateReady({datumSelection:e,labelSelection:t,annotationSelections:n}){let o=qh($h(this.isVertical(),this.axes,"normal"));$e(this.id,"nodes",this.ctx.animationManager,[e],o),ee(this,"labels",this.ctx.animationManager,t),ee(this,"annotations",this.ctx.animationManager,...n)}animateWaitingUpdateReady(e){let{datumSelection:t,labelSelection:n,annotationSelections:o,previousContextData:a}=e;this.ctx.animationManager.stopByAnimationGroupId(this.id);let s=this.processedData?.reduced?.diff,i=a==null?"fade":"normal",r=qh($h(this.isVertical(),this.axes,i));$e(this.id,"nodes",this.ctx.animationManager,[t],r,(h,c)=>bs(c.xValue,c.valueIndex),s),(s?.changed??!0)&&(ee(this,"labels",this.ctx.animationManager,n),ee(this,"annotations",this.ctx.animationManager,...o))}isLabelEnabled(){return this.properties.label.enabled}computeFocusBounds({datumIndex:e,seriesRect:t}){let n=this.contextNodeData?.nodeData[e].clipBBox;return Uf(n,this.contentGroup,t)}};Gf.className="BarSeries";Gf.type="bar";var v$={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"bar",instanceConstructor:Gf,stackable:!0,groupable:!0,tooltipDefaults:{range:"exact"},defaultAxes:[{type:"number",position:"left"},{type:"category",position:"bottom"}],swapDefaultAxesCondition:e=>e?.direction==="horizontal",themeTemplate:{series:{direction:"vertical",fillOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,label:{enabled:!1,fontWeight:"normal",fontSize:12,fontFamily:We,color:F2,placement:"inside"},shadow:{enabled:!1,color:V2,xOffset:3,yOffset:3,blur:5}}},enterpriseThemeTemplate:{series:{errorBar:{cap:{lengthRatio:.3}}}},paletteFactory:Tr},Uk=e=>{let t=Do.fromString(e),[n,o,a]=Do.RGBtoOKLCH(t.r,t.g,t.b);return{l:n,c:o,h:a,a:t.a}},Tw=1e-6,Gk=e=>e.c<Tw||e.l<Tw||e.l>1-Tw,g$=(e,t,n)=>{n=Ft(0,n,1);let o;if(Gk(e))o=t.h;else if(Gk(t))o=e.h;else{let r=e.h,l=t.h,h=t.h-e.h;h>180?l-=360:h<-180&&(l+=360),o=r*(1-n)+l*n}let a=e.c*(1-n)+t.c*n,s=e.l*(1-n)+t.l*n,i=e.a*(1-n)+t.a*n;return Do.fromOKLCH(s,a,o,i)},j2=class{constructor(){this.type="color",this.invalid=!0,this.domain=[0,1],this.range=["red","blue"],this.parsedRange=this.range.map(Uk)}update(){let{domain:e,range:t}=this;e.length<2&&(q.warnOnce("`colorDomain` should have at least 2 values."),e.length===0?e.push(0,1):e.length===1&&e.push(e[0]+1));for(let n=1;n<e.length;n++){let o=e[n-1],a=e[n];if(o>=a){q.warnOnce("`colorDomain` values should be supplied in ascending order."),e.sort((s,i)=>s-i);break}}if(t.length<e.length)for(let n=t.length;n<e.length;n++)t.push(t.length>0?t[0]:"black");this.parsedRange=this.range.map(Uk)}convert(e){this.refresh();let{domain:t,range:n,parsedRange:o}=this,a=t[0],s=t.at(-1),i=n[0],r=n[n.length-1];if(e<=a)return i;if(e>=s)return r;let l,h;if(t.length===2){let p=(e-a)/(s-a),v=1/(n.length-1);l=n.length<=2?0:Math.min(Math.floor(p*(n.length-1)),n.length-2),h=(p-l*v)/v}else{for(l=0;l<t.length-2&&!(e<t[l+1]);l++);let p=t[l],v=t[l+1];h=(e-p)/(v-p)}let c=o[l],d=o[l+1];return g$(c,d,h).toRgbaString()}refresh(){this.invalid&&(this.invalid=!1,this.update(),this.invalid&&q.warnOnce("Expected update to not invalidate scale"))}};w([z0],j2.prototype,"domain",2);w([z0],j2.prototype,"range",2);var Wf=class extends bn{constructor(){super(...arguments),this.maxSize=30}};w([x(Z),dt({redraw:3})],Wf.prototype,"maxSize",2);w([x(p3,{optional:!0}),dt({redraw:3})],Wf.prototype,"domain",2);var AB=class extends d0{constructor(){super(...arguments),this.placement="top"}};w([x(j6)],AB.prototype,"placement",2);var De=class extends As{constructor(){super(...arguments),this.colorRange=["#ffff00","#00ff00","#0000ff"],this.label=new AB,this.tooltip=new an,this.marker=new Wf}};w([x(et)],De.prototype,"xKey",2);w([x(et)],De.prototype,"yKey",2);w([x(et)],De.prototype,"sizeKey",2);w([x(et,{optional:!0})],De.prototype,"labelKey",2);w([x(et,{optional:!0})],De.prototype,"colorKey",2);w([x(et,{optional:!0})],De.prototype,"xName",2);w([x(et,{optional:!0})],De.prototype,"yName",2);w([x(et,{optional:!0})],De.prototype,"sizeName",2);w([x(et,{optional:!0})],De.prototype,"labelName",2);w([x(et,{optional:!0})],De.prototype,"colorName",2);w([x(p3,{optional:!0})],De.prototype,"colorDomain",2);w([x(x1)],De.prototype,"colorRange",2);w([x(et,{optional:!0})],De.prototype,"title",2);w([p0("marker.shape")],De.prototype,"shape",2);w([p0("marker.size")],De.prototype,"size",2);w([p0("marker.maxSize")],De.prototype,"maxSize",2);w([p0("marker.domain",{optional:!0})],De.prototype,"domain",2);w([p0("marker.fill",{optional:!0})],De.prototype,"fill",2);w([p0("marker.fillOpacity")],De.prototype,"fillOpacity",2);w([p0("marker.stroke",{optional:!0})],De.prototype,"stroke",2);w([p0("marker.strokeWidth")],De.prototype,"strokeWidth",2);w([p0("marker.strokeOpacity")],De.prototype,"strokeOpacity",2);w([p0("marker.itemStyler",{optional:!0})],De.prototype,"itemStyler",2);w([x(vt)],De.prototype,"label",2);w([x(vt)],De.prototype,"tooltip",2);var u$=class extends yf{constructor(e,t,n,o){super(e,t,n,o),this.sizeKey=o.properties.sizeKey}},$f=class extends Rs{constructor(e){super({moduleCtx:e,directionKeys:L2,directionNames:O2,pickModes:[2,3,0],pathsPerSeries:0,hasMarkers:!0,markerSelectionGarbageCollection:!1,animationResetFns:{label:Sa,marker:c4}}),this.NodeEvent=u$,this.properties=new De,this.sizeScale=new To,this.colorScale=new j2}processData(e){return R(this,null,function*(){if(!this.properties.isValid()||this.data==null||!this.visible)return;let t=this.axes.x?.scale,n=this.axes.y?.scale,{xScaleType:o,yScaleType:a}=this.getScaleInformation({xScale:t,yScale:n}),s=this.colorScale.type,i=this.sizeScale.type,{xKey:r,yKey:l,sizeKey:h,labelKey:c,colorDomain:d,colorRange:p,colorKey:v,marker:g}=this.properties,{dataModel:u,processedData:f}=yield this.requestDataModel(e,this.data,{props:[A0(r,o,{id:"xKey-raw"}),A0(l,a,{id:"yKey-raw"}),...c?[A0(c,"band",{id:"labelKey-raw"})]:[],ge(r,o,{id:"xValue"}),ge(l,a,{id:"yValue"}),ge(h,i,{id:"sizeValue"}),...v?[ge(v,s,{id:"colorValue"})]:[],...c?[ge(c,"band",{id:"labelValue"})]:[]]}),M=u.resolveProcessedDataIndexById(this,"sizeValue"),m=f.domain.values[M]??[];if(this.sizeScale.domain=g.domain?g.domain:m,v){let k=u.resolveProcessedDataIndexById(this,"colorValue");this.colorScale.domain=d??f.domain.values[k]??[],this.colorScale.range=p,this.colorScale.update()}this.animationState.transition("updateData")})}getSeriesDomain(e){let{dataModel:t,processedData:n}=this;if(!n||!t)return[];let o=e==="x"?"xValue":"yValue",a=t.resolveProcessedDataDefById(this,o),s=t.getDomain(this,o,"value",n);if(a?.def.type==="value"&&a?.def.valueType==="category")return s;let i=this.axes[e];return xn(Vo(s),i)}createNodeData(){return R(this,null,function*(){let{axes:e,dataModel:t,processedData:n,colorScale:o,sizeScale:a}=this,{xKey:s,yKey:i,sizeKey:r,labelKey:l,xName:h,yName:c,sizeName:d,labelName:p,label:v,colorKey:g,marker:u,visible:f}=this.properties,M=Lo(u.shape),{placement:m}=v,k=e.x,B=e.y;if(!(t&&n&&f&&k&&B))return;let z=t.resolveProcessedDataIndexById(this,"xValue"),I=t.resolveProcessedDataIndexById(this,"yValue"),y=r?t.resolveProcessedDataIndexById(this,"sizeValue"):-1,b=g?t.resolveProcessedDataIndexById(this,"colorValue"):-1,C=l?t.resolveProcessedDataIndexById(this,"labelValue"):-1,E=k.scale,_=B.scale,F=(E.bandwidth??0)/2,tt=(_.bandwidth??0)/2,at=[];a.range=[u.size,u.maxSize];let U=v.getFont();for(let{values:P,datum:N}of n.data??[]){let W=P[z],ot=P[I],j=E.convert(W)+F,Mt=_.convert(ot)+tt,xt=this.getLabelText(v,{value:l?P[C]:ot,datum:N,xKey:s,yKey:i,sizeKey:r,labelKey:l,xName:h,yName:c,sizeName:d,labelName:p}),wt=se.getTextSize(String(xt),U),st=r?a.convert(P[y]):u.size,Ut=g?o.convert(P[b]):void 0;at.push({series:this,itemId:i,yKey:i,xKey:s,datum:N,xValue:W,yValue:ot,sizeValue:P[y],point:{x:j,y:Mt,size:st},midPoint:{x:j,y:Mt},fill:Ut,label:S({text:xt},wt),marker:M,placement:m})}return{itemId:i,nodeData:at,labelData:at,scales:this.calculateScaling(),visible:this.visible}})}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}getLabelData(){return this.contextNodeData?.labelData??[]}markerFactory(){let{shape:e}=this.properties.marker,t=Lo(e);return new t}updateMarkerSelection(e){return R(this,null,function*(){let{nodeData:t,markerSelection:n}=e;this.properties.marker.isDirty()&&(n.clear(),n.cleanup());let o=this.properties.marker.enabled?t:[];return n.update(o,void 0,a=>bs([a.xValue,a.yValue,a.label.text]))})}updateMarkerNodes(e){return R(this,null,function*(){let{markerSelection:t,isHighlight:n}=e,{xKey:o,yKey:a,sizeKey:s,labelKey:i,marker:r}=this.properties,{size:l,shape:h,fill:c,fillOpacity:d,stroke:p,strokeWidth:v,strokeOpacity:g}=Wt(n&&this.properties.highlightStyle.item,r.getStyle()),u={size:l,shape:h,fill:c,fillOpacity:d,stroke:p,strokeWidth:v,strokeOpacity:g};this.sizeScale.range=[r.size,r.maxSize],t.each((f,M)=>{this.updateMarkerStyle(f,r,{datum:M,highlighted:n,xKey:o,yKey:a,sizeKey:s,labelKey:i},u)}),n||this.properties.marker.markClean()})}updateLabelSelection(e){return R(this,null,function*(){let t=this.properties.label.enabled?this.chart?.placeLabels().get(this)??[]:[];return e.labelSelection.update(t.map(n=>V(S({},n.datum),{point:{x:n.x,y:n.y,size:n.datum.point.size}})))})}updateLabelNodes(e){return R(this,null,function*(){let{label:t}=this.properties;e.labelSelection.each((n,o)=>{n.text=o.label.text,n.fill=t.color,n.x=o.point?.x??0,n.y=o.point?.y??0,n.fontStyle=t.fontStyle,n.fontWeight=t.fontWeight,n.fontSize=t.fontSize,n.fontFamily=t.fontFamily,n.textAlign="left",n.textBaseline="top"})})}getTooltipHtml(e){let t=this.axes.x,n=this.axes.y;if(!this.properties.isValid()||!t||!n)return ba;let{xKey:o,yKey:a,sizeKey:s,labelKey:i,xName:r,yName:l,sizeName:h,labelName:c,marker:d,tooltip:p}=this.properties,v=this.properties.title??l,g=Wt({fill:e.fill,strokeWidth:this.getStrokeWidth(d.strokeWidth)},d.getStyle()),{fill:u="gray"}=this.getMarkerStyle(d,{datum:e,highlighted:!1,xKey:o,yKey:a,sizeKey:s,labelKey:i},g),{datum:f,xValue:M,yValue:m,sizeValue:k,label:{text:B},itemId:z}=e,I=Ae(t.formatDatum(M)),y=Ae(n.formatDatum(m)),b=`<b>${Ae(r??o)}</b>: ${I}<br><b>${Ae(l??a)}</b>: ${y}`;return s&&(b+=`<br><b>${Ae(h??s)}</b>: ${Ae(String(k))}`),i&&(b=`<b>${Ae(c??i)}</b>: ${Ae(B)}<br>`+b),p.toTooltipHtml({title:v,content:b,backgroundColor:u},{datum:f,itemId:z,xKey:o,xName:r,yKey:a,yName:l,sizeKey:s,sizeName:h,labelKey:i,labelName:c,title:v,color:u,seriesId:this.id})}getLegendData(){if(!this.data?.length||!this.properties.isValid())return[];let{yKey:e,yName:t,title:n,marker:o,visible:a}=this.properties,{shape:s,fill:i,stroke:r,fillOpacity:l,strokeOpacity:h,strokeWidth:c}=o;return[{legendType:"category",id:this.id,itemId:e,seriesId:this.id,enabled:a,label:{text:n??t??e},symbols:[{marker:{shape:s,fill:i??"rgba(0, 0, 0, 0)",stroke:r??"rgba(0, 0, 0, 0)",fillOpacity:l??1,strokeOpacity:h??1,strokeWidth:c??0}}]}]}animateEmptyUpdateReady({markerSelection:e,labelSelection:t}){Ef(this,this.ctx.animationManager,e),ee(this,"labels",this.ctx.animationManager,t)}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new mt}getFormattedMarkerStyle(e){let{xKey:t,yKey:n,sizeKey:o,labelKey:a}=this.properties;return this.getMarkerStyle(this.properties.marker,{datum:e,xKey:t,yKey:n,sizeKey:o,labelKey:a,highlighted:!1})}computeFocusBounds(e){return d4(this,e)}};$f.className="BubbleSeries";$f.type="bubble";var w$={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"bubble",instanceConstructor:$f,tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{shape:"circle",size:7,maxSize:30,fillOpacity:.8,tooltip:{position:{type:"node"}},label:{enabled:!1,fontSize:12,fontFamily:We,color:I0}}},paletteFactory:Tr},s0=class extends As{constructor(){super(...arguments),this.fillOpacity=1,this.strokeWidth=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.areaPlot=!1,this.aggregation="sum",this.shadow=new Y1,this.label=new d0,this.tooltip=new an}};w([x(et)],s0.prototype,"xKey",2);w([x(et,{optional:!0})],s0.prototype,"yKey",2);w([x(et,{optional:!0})],s0.prototype,"xName",2);w([x(et,{optional:!0})],s0.prototype,"yName",2);w([x(ne,{optional:!0})],s0.prototype,"fill",2);w([x(ie)],s0.prototype,"fillOpacity",2);w([x(ne,{optional:!0})],s0.prototype,"stroke",2);w([x(Z)],s0.prototype,"strokeWidth",2);w([x(ie)],s0.prototype,"strokeOpacity",2);w([x(za)],s0.prototype,"lineDash",2);w([x(Z)],s0.prototype,"lineDashOffset",2);w([x(Z)],s0.prototype,"cornerRadius",2);w([x(It)],s0.prototype,"areaPlot",2);w([x(Mr,{optional:!0})],s0.prototype,"bins",2);w([x(be(["count","sum","mean"],"a histogram aggregation"))],s0.prototype,"aggregation",2);w([x(Z,{optional:!0})],s0.prototype,"binCount",2);w([x(vt)],s0.prototype,"shadow",2);w([x(vt)],s0.prototype,"label",2);w([x(vt)],s0.prototype,"tooltip",2);var Wk=10,qf=class extends Rs{constructor(e){super({moduleCtx:e,directionKeys:L2,directionNames:O2,pickModes:[3,0],datumSelectionGarbageCollection:!1,animationResetFns:{datum:Yh,label:Sa}}),this.properties=new s0,this.calculatedBins=[]}deriveBins(e){let t=w3(e[0],e[1],Wk),n=lr(e[0],e[1],Wk),[o]=t,a=s=>[s,s+n];return[[o-n,o],...t.map(a)]}calculateNiceBins(e,t){let n=Math.floor(e[0]),o=e[1],a=t||1,{start:s,binSize:i}=this.calculateNiceStart(n,o,a);return this.getBins(s,o,i,a)}getBins(e,t,n,o){let a=[],s=this.calculatePrecision(n);for(let i=0;i<o;i++){let r=Math.round((e+i*n)*s)/s,l=Math.round((e+(i+1)*n)*s)/s;i===o-1&&(l=Math.max(l,t)),a[i]=[r,l]}return a}calculatePrecision(e){let t=10;if(isFinite(e)&&e>0)for(;e<1;)t*=10,e*=10;return t}calculateNiceStart(e,t,n){let o=Math.abs(t-e)/n,a=Math.floor(Math.log10(o)),s=Math.pow(10,a);return{start:Math.floor(e/s)*s,binSize:o}}processData(e){return R(this,null,function*(){this.visible||(this.processedData=void 0,this.animationState.transition("updateData"));let{xKey:t,yKey:n,areaPlot:o,aggregation:a}=this.properties,s=this.axes.x?.scale,i=this.axes.y?.scale,{xScaleType:r,yScaleType:l}=this.getScaleInformation({yScale:i,xScale:s}),h=[A0(t,r),HC];if(n){let d=p6("groupAgg");a==="count"||(a==="sum"?d=kC("groupAgg"):a==="mean"&&(d=bC("groupAgg"))),o&&(d=v6("groupAgg",d)),h.push(ge(n,l,{invalidValue:void 0}),d)}else{let d=p6("groupAgg");o&&(d=v6("groupAgg",d)),h.push(d)}let c=d=>{let p=xn(d.domain.keys[0]);if(p.length===0)return d.domain.groups=[],()=>[];let v=jn(this.properties.binCount)?this.calculateNiceBins(p,this.properties.binCount):this.properties.bins??this.deriveBins(p),g=v.length;return this.calculatedBins=[...v],u=>{let f=u.keys[0];for(let M=0;M<g;M++){let m=v[M];if(f>=m[0]&&f<m[1]||M===g-1&&f<=m[1])return m}return[]}};!this.ctx.animationManager.isSkipped()&&this.processedData&&h.push(R2(this.processedData,!1)),yield this.requestDataModel(e,this.data,{props:h,groupByFn:c}),this.animationState.transition("updateData")})}getSeriesDomain(e){let{processedData:t,dataModel:n}=this;if(!t||!n||!this.calculatedBins.length)return[];let o=n.getDomain(this,"groupAgg","aggregate",t),a=this.calculatedBins?.[0][0],s=this.calculatedBins?.[(this.calculatedBins?.length??0)-1][1];return xn(e==="x"?[a,s]:o)}createNodeData(){return R(this,null,function*(){let{id:e,axes:t,processedData:n,ctx:{callbackCache:o}}=this,a=t.x,s=t.y;if(!a||!s)return;let{scale:i}=a,{scale:r}=s,{xKey:l,yKey:h,xName:c,yName:d,fill:p,stroke:v,strokeWidth:g,cornerRadius:u}=this.properties,{formatter:f=b=>String(b.value),fontStyle:M,fontWeight:m,fontSize:k,fontFamily:B,color:z}=this.properties.label,I=[],y={itemId:this.properties.yKey??this.id,nodeData:I,labelData:I,scales:this.calculateScaling(),animationValid:!0,visible:this.visible};return!this.visible||!n||n.type!=="grouped"||(n.data.forEach(b=>{let{aggValues:[[C,E]]=[[0,0]],datum:_,datum:{length:F},keys:tt,keys:[at,U]}=b,P=i.convert(at),N=i.convert(U),W=C+E,ot=r.convert(0),j=r.convert(W),Mt=Math.abs(N-P),xt=Math.abs(j-ot),wt=Math.min(P,N),st=Math.min(ot,j),Ut;W!==0&&(Ut={text:o.call(f,{value:W,datum:_,seriesId:e,xKey:l,yKey:h,xName:c,yName:d})??String(W),fontStyle:M,fontWeight:m,fontSize:k,fontFamily:B,fill:z,x:wt+Mt/2,y:st+xt/2});let Y={x:wt+Mt/2,y:st+xt/2},G=s.isReversed();I.push({series:this,datum:_,aggregatedValue:W,frequency:F,domain:tt,yKey:h,xKey:l,x:wt,y:st,xValue:P,yValue:j,width:Mt,height:xt,midPoint:Y,fill:p,stroke:v,cornerRadius:u,topLeftCornerRadius:!G,topRightCornerRadius:!G,bottomRightCornerRadius:G,bottomLeftCornerRadius:G,opacity:1,strokeWidth:g,label:Ut})}),I.sort((b,C)=>b.x-C.x)),y})}nodeFactory(){return new on}updateDatumSelection(e){return R(this,null,function*(){let{nodeData:t,datumSelection:n}=e;return n.update(t,o=>{o.tag=0,o.crisp=!0},o=>o.domain.join("_"))})}updateDatumNodes(e){return R(this,null,function*(){let{isHighlight:t}=e,{fillOpacity:n,strokeOpacity:o,lineDash:a,lineDashOffset:s,shadow:i,highlightStyle:{item:{fill:r,fillOpacity:l=n,stroke:h,strokeWidth:c}}}=this.properties;e.datumSelection.each((d,p,v)=>{let{cornerRadius:g,topLeftCornerRadius:u,topRightCornerRadius:f,bottomRightCornerRadius:M,bottomLeftCornerRadius:m}=p,k=t&&c!==void 0?c:p.strokeWidth,B=t?l:n;d.fill=(t?r:void 0)??p.fill,d.stroke=(t?h:void 0)??p.stroke,d.fillOpacity=B,d.strokeOpacity=o,d.strokeWidth=k,d.lineDash=a,d.lineDashOffset=s,d.topLeftCornerRadius=u?g:0,d.topRightCornerRadius=f?g:0,d.bottomRightCornerRadius=M?g:0,d.bottomLeftCornerRadius=m?g:0,d.fillShadow=i,d.zIndex=t?Br.highlightedZIndex:v,d.visible=p.height>0})})}updateLabelSelection(e){return R(this,null,function*(){let{labelData:t,labelSelection:n}=e;return n.update(t,o=>{o.tag=1,o.pointerEvents=1,o.textAlign="center",o.textBaseline="middle"})})}updateLabelNodes(e){return R(this,null,function*(){let t=this.isLabelEnabled();e.labelSelection.each((n,o)=>{let a=o.label;a&&t?(n.text=a.text,n.x=a.x,n.y=a.y,n.fontStyle=a.fontStyle,n.fontWeight=a.fontWeight,n.fontSize=a.fontSize,n.fontFamily=a.fontFamily,n.fill=a.fill,n.visible=!0):n.visible=!1})})}initQuadTree(e){Ff(e,CB(this.contentGroup.children[0]))}pickNodeClosestDatum(e){return Vf(this,e)}getTooltipHtml(e){let t=this.axes.x,n=this.axes.y;if(!this.properties.isValid()||!t||!n)return ba;let{xKey:o,yKey:a,xName:s,yName:i,fill:r,aggregation:l,tooltip:h}=this.properties,{aggregatedValue:c,frequency:d,domain:[p,v],itemId:g}=e,u=`${Ae(s??o)}: ${t.formatDatum(p)} - ${t.formatDatum(v)}`,f=a?`<b>${Ae(i??a)} (${l})</b>: ${n.formatDatum(c)}<br>`:"";f+=`<b>Frequency</b>: ${d}`;let M={title:u,backgroundColor:r,content:f};return h.toTooltipHtml(M,{datum:{data:e.datum,aggregatedValue:e.aggregatedValue,domain:e.domain,frequency:e.frequency},itemId:g,xKey:o,xName:s,yKey:a,yName:i,color:r,title:u,seriesId:this.id})}getLegendData(e){if(!this.data?.length||e!=="category")return[];let{xKey:t,yName:n,fill:o,fillOpacity:a,stroke:s,strokeWidth:i,strokeOpacity:r,visible:l}=this.properties;return[{legendType:"category",id:this.id,itemId:t,seriesId:this.id,enabled:l,label:{text:n??t??"Frequency"},symbols:[{marker:{fill:o??"rgba(0, 0, 0, 0)",stroke:s??"rgba(0, 0, 0, 0)",fillOpacity:a,strokeOpacity:r,strokeWidth:i}}]}]}animateEmptyUpdateReady({datumSelection:e,labelSelection:t}){let n=qh($h(!0,this.axes,"normal"));$e(this.id,"datums",this.ctx.animationManager,[e],n),ee(this,"labels",this.ctx.animationManager,t)}animateWaitingUpdateReady(e){let t=this.processedData?.reduced?.diff,n=qh($h(!0,this.axes,"normal"));$e(this.id,"datums",this.ctx.animationManager,[e.datumSelection],n,(o,a)=>bs(a.domain),t),ee(this,"labels",this.ctx.animationManager,e.labelSelection)}isLabelEnabled(){return this.properties.label.enabled}computeFocusBounds({datumIndex:e,seriesRect:t}){return Uf(this.contextNodeData?.nodeData[e],this.contentGroup,t)}};qf.className="HistogramSeries";qf.type="histogram";var f$={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"histogram",instanceConstructor:qf,tooltipDefaults:{range:"exact"},defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{strokeWidth:1,fillOpacity:1,strokeOpacity:1,lineDash:[0],lineDashOffset:0,label:{enabled:!1,fontSize:12,fontFamily:We,color:F2},shadow:{enabled:!1,color:V2,xOffset:3,yOffset:3,blur:5}}},paletteFactory:({takeColors:e})=>{let{fills:[t],strokes:[n]}=e(1);return{fill:t,stroke:n}}},b0=class extends As{constructor(){super(...arguments),this.stroke="#874349",this.strokeWidth=2,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.interpolation=new _r,this.marker=new bn,this.label=new d0,this.tooltip=new an,this.connectMissingData=!1}};w([x(et)],b0.prototype,"xKey",2);w([x(et)],b0.prototype,"yKey",2);w([x(et,{optional:!0})],b0.prototype,"xName",2);w([x(et,{optional:!0})],b0.prototype,"yName",2);w([x(et,{optional:!0})],b0.prototype,"stackGroup",2);w([x(Z,{optional:!0})],b0.prototype,"normalizedTo",2);w([x(et,{optional:!0})],b0.prototype,"title",2);w([x(ne)],b0.prototype,"stroke",2);w([x(Z)],b0.prototype,"strokeWidth",2);w([x(ie)],b0.prototype,"strokeOpacity",2);w([x(za)],b0.prototype,"lineDash",2);w([x(Z)],b0.prototype,"lineDashOffset",2);w([x(vt)],b0.prototype,"interpolation",2);w([x(vt)],b0.prototype,"marker",2);w([x(vt)],b0.prototype,"label",2);w([x(vt)],b0.prototype,"tooltip",2);w([x(It)],b0.prototype,"connectMissingData",2);var Yf=class extends Rs{constructor(e){super({moduleCtx:e,directionKeys:L2,directionNames:O2,hasMarkers:!0,pickModes:[2,3,0],markerSelectionGarbageCollection:!1,animationResetFns:{path:Lf({getOpacity:()=>this.getOpacity()}),label:Sa,marker:(t,n)=>S(S({},c4(t)),Uh(t,n))}}),this.properties=new b0}processData(e){return R(this,null,function*(){if(this.data==null||!this.properties.isValid())return;let{data:t,visible:n,seriesGrouping:{groupIndex:o=this.id,stackCount:a=1}={}}=this,{xKey:s,yKey:i,connectMissingData:r,normalizedTo:l}=this.properties,h=!this.ctx.animationManager.isSkipped(),c=this.axes.x?.scale,d=this.axes.y?.scale,{isContinuousX:p,xScaleType:v,yScaleType:g}=this.getScaleInformation({xScale:c,yScale:d}),u={invalidValue:null};r&&a>1&&(u.invalidValue=0),n||(u.forceValue=0);let f=[];if(p||f.push(A0(s,v,{id:"xKey"})),f.push(ge(s,v,{id:"xValue"}),ge(i,g,V(S({id:"yValueRaw"},u),{invalidValue:void 0}))),a>1){let M=[`line-stack-${o}-yValues`,`line-stack-${o}-yValues-trailing`,`line-stack-${o}-yValues-marker`];f.push(...G1(i,"window","current",V(S({id:"yValueEnd"},u),{groupId:M[0]}),g),...G1(i,"window-trailing","current",V(S({id:"yValueStart"},u),{groupId:M[1]}),g),...G1(i,"normal","current",V(S({id:"yValueCumulative"},u),{groupId:M[2]}),g)),Hh(l)&&f.push(Ph([M[0],M[1],M[2]],l,"range"))}h&&(f.push(Cr(p?["xValue"]:void 0)),this.processedData&&f.push(R2(this.processedData))),yield this.requestDataModel(e,t,{props:f}),this.animationState.transition("updateData")})}getSeriesDomain(e){let{processedData:t,dataModel:n,axes:o}=this;if(!t||!n||t.data.length===0)return[];let a=o.x,s=o.y,i=n.resolveProcessedDataDefById(this,"xValue");if(e==="x"){let r=n.getDomain(this,"xValue","value",t);return i?.def.type==="value"&&i.def.valueType==="category"?r:xn(Vo(r),a)}else{let l=(this.seriesGrouping?.stackCount??1)>1?n.getDomain(this,"yValueEnd","value",t):n.getDomain(this,"yValueRaw","value",t);return xn(l,s)}}createNodeData(){return R(this,null,function*(){let{processedData:e,dataModel:t,axes:n}=this,o=n.x,a=n.y;if(!e||!t||!o||!a)return;let{xKey:s,yKey:i,xName:r,yName:l,marker:h,label:c,connectMissingData:d,legendItemName:p}=this.properties,v=(this.seriesGrouping?.stackCount??1)>1,g=o.scale,u=a.scale,f=(g.bandwidth??0)/2,M=(u.bandwidth??0)/2,m=[],k=h.enabled?h.size:0,B=t.resolveProcessedDataIndexById(this,"xValue"),z=t.resolveProcessedDataIndexById(this,"yValueRaw"),I=v?t.resolveProcessedDataIndexById(this,"yValueCumulative"):z,y=v?t.resolveProcessedDataIndexById(this,"yValueEnd"):void 0,b=!0;return e.data?.forEach(({datum:C,values:E})=>{let _=E[B],F=E[z],tt=E[I],at=y!=null?E[y]:void 0;if(F==null){b||(b=!d);return}let U=g.convert(_)+f;if(isNaN(U)){b||(b=!d);return}let P=u.convert(tt)+M,N=this.getLabelText(c,{value:F,datum:C,xKey:s,yKey:i,xName:r,yName:l,legendItemName:p},W=>Xt(W)?W.toFixed(2):String(W));m.push({series:this,datum:C,yKey:i,xKey:s,point:{x:U,y:P,moveTo:b,size:k},midPoint:{x:U,y:P},cumulativeValue:at,yValue:F,xValue:_,capDefaults:{lengthRatioMultiplier:this.properties.marker.getDiameter(),lengthMax:1/0},label:N?{text:N,fontStyle:c.fontStyle,fontWeight:c.fontWeight,fontSize:c.fontSize,fontFamily:c.fontFamily,textAlign:"center",textBaseline:"bottom",fill:c.color}:void 0}),b=!1}),{itemId:i,nodeData:m,labelData:m,scales:this.calculateScaling(),visible:this.visible}})}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}markerFactory(){let{shape:e}=this.properties.marker,t=Lo(e);return new t}updatePathNodes(e){return R(this,null,function*(){let{paths:[t],opacity:n,visible:o,animationEnabled:a}=e;t.setProperties({fill:void 0,lineJoin:"round",pointerEvents:1,opacity:n,stroke:this.properties.stroke,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.properties.strokeOpacity,lineDash:this.properties.lineDash,lineDashOffset:this.properties.lineDashOffset}),a||(t.visible=o),Xp(this,t)})}updateMarkerSelection(e){return R(this,null,function*(){let{nodeData:t}=e,{markerSelection:n}=e,{shape:o,enabled:a}=this.properties.marker;return t=o&&a?t:[],this.properties.marker.isDirty()&&(n.clear(),n.cleanup()),n.update(t,void 0,s=>bs(s.xValue))})}updateMarkerNodes(e){return R(this,null,function*(){let{markerSelection:t,isHighlight:n}=e,{xKey:o,yKey:a,stroke:s,strokeWidth:i,strokeOpacity:r,marker:l,highlightStyle:h}=this.properties,c=Wt(n&&h.item,l.getStyle(),{stroke:s,strokeWidth:i,strokeOpacity:r}),d=this.ctx.animationManager.isSkipped();t.each((p,v)=>{this.updateMarkerStyle(p,l,{datum:v,highlighted:n,xKey:o,yKey:a},c,{applyTranslation:d})}),n||l.markClean()})}updateLabelSelection(e){return R(this,null,function*(){return e.labelSelection.update(this.isLabelEnabled()?e.labelData:[])})}updateLabelNodes(e){return R(this,null,function*(){let{enabled:t,fontStyle:n,fontWeight:o,fontSize:a,fontFamily:s,color:i}=this.properties.label;e.labelSelection.each((r,l)=>{let{point:h,label:c}=l;l&&c&&t?(r.fontStyle=n,r.fontWeight=o,r.fontSize=a,r.fontFamily=s,r.textAlign=c.textAlign,r.textBaseline=c.textBaseline,r.text=c.text,r.x=h.x,r.y=h.y-10,r.fill=i,r.visible=!0):r.visible=!1})})}getTooltipHtml(e){let t=this.axes.x,n=this.axes.y;if(!this.properties.isValid()||!t||!n)return ba;let{xKey:o,yKey:a,xName:s,yName:i,strokeWidth:r,marker:l,tooltip:h}=this.properties,{datum:c,xValue:d,yValue:p,itemId:v}=e,g=t.formatDatum(d),u=n.formatDatum(p),f=Ae(this.properties.title??i),M=Ae(g+": "+u),m=Wt({fill:l.stroke},l.getStyle(),{strokeWidth:r}),{fill:k}=this.getMarkerStyle(l,{datum:e,xKey:o,yKey:a,highlighted:!1},m);return h.toTooltipHtml({title:f,content:M,backgroundColor:k},S({datum:c,itemId:v,xKey:o,xName:s,yKey:a,yName:i,title:f,color:k,seriesId:this.id},this.getModuleTooltipParams()))}getLegendData(e){if(!(this.data?.length&&this.properties.isValid()&&e==="category"))return[];let{yKey:t,yName:n,stroke:o,strokeOpacity:a,strokeWidth:s,lineDash:i,title:r,marker:l,visible:h,legendItemName:c}=this.properties,d="rgba(0, 0, 0, 0)";return[{legendType:"category",id:this.id,itemId:t,legendItemName:c,seriesId:this.id,enabled:h,label:{text:c??r??n??t},symbols:[{marker:{shape:l.shape,fill:l.fill??d,stroke:l.stroke??o??d,fillOpacity:l.fillOpacity??1,strokeOpacity:l.strokeOpacity??a??1,strokeWidth:l.strokeWidth??0,enabled:l.enabled},line:{stroke:o??d,strokeOpacity:a,strokeWidth:s,lineDash:i}}]}]}updatePaths(e){return R(this,null,function*(){this.updateLinePaths(e.paths,e.contextData)})}updateLinePaths(e,t){let{interpolation:n}=this.properties,{nodeData:o}=t,[a]=e;a.path.clear(!0);for(let s of Qp(o))xs(Jp(o,s),a,n);a.checkPathDirty()}animateEmptyUpdateReady(e){let{markerSelection:t,labelSelection:n,annotationSelections:o,contextData:a,paths:s}=e,{animationManager:i}=this.ctx;this.updateLinePaths(s,a),Rf(this,i,...s),o0([t],Uh),Tf(this,i,t),ee(this,"labels",i,n),ee(this,"annotations",i,...o)}animateReadyResize(e){let{contextData:t,paths:n}=e;this.updateLinePaths(n,t),super.animateReadyResize(e)}animateWaitingUpdateReady(e){let{animationManager:t}=this.ctx,{markerSelection:n,labelSelection:o,annotationSelections:a,contextData:s,paths:i,previousContextData:r}=e,[l]=i;super.resetAllAnimation(e);let h=()=>{this.updateLinePaths(i,s)},c=()=>{t.skipCurrentBatch(),h()};if(s==null||r==null){h(),jh(this,t,"added",n),Ch(this,"path_properties",t,"add",l),ee(this,"labels",t,o),ee(this,"annotations",t,...a);return}let d=IB(s,r,this.processedData?.reduced?.diff,this.properties.interpolation);if(d===void 0){c();return}else if(d.status==="no-op")return;jh(this,t,void 0,n),$e(this.id,"path_properties",t,[l],d.pathProperties),vB(this.id,"path_update",t,[l],d.path),d.hasMotion&&(ee(this,"labels",t,o),ee(this,"annotations",t,...a))}isLabelEnabled(){return this.properties.label.enabled}getBandScalePadding(){return{inner:1,outer:.1}}nodeFactory(){return new mt}getFormattedMarkerStyle(e){let{xKey:t,yKey:n}=this.properties;return this.getMarkerStyle(this.properties.marker,{datum:e,xKey:t,yKey:n,highlighted:!0})}computeFocusBounds(e){return d4(this,e)}};Yf.className="LineSeries";Yf.type="line";var M$={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"line",instanceConstructor:Yf,stackable:!0,tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"left"},{type:"category",position:"bottom"}],themeTemplate:{series:{tooltip:{position:{type:"node"}},strokeWidth:2,strokeOpacity:1,lineDash:[0],lineDashOffset:0,interpolation:{type:"linear",tension:1,position:"end"},marker:{shape:"circle",size:7,strokeWidth:0},label:{enabled:!1,fontSize:12,fontFamily:We,color:I0}}},enterpriseThemeTemplate:{series:{errorBar:{cap:{lengthRatio:1}}}},paletteFactory:e=>{let{marker:t}=S3(e);return{stroke:t.fill,marker:t}}},RB=class extends d0{constructor(){super(...arguments),this.placement="top"}};w([x(j6)],RB.prototype,"placement",2);var Ye=class extends As{constructor(){super(...arguments),this.colorRange=["#ffff00","#00ff00","#0000ff"],this.label=new RB,this.tooltip=new an,this.marker=new bn}};w([x(et)],Ye.prototype,"xKey",2);w([x(et)],Ye.prototype,"yKey",2);w([x(et,{optional:!0})],Ye.prototype,"labelKey",2);w([x(et,{optional:!0})],Ye.prototype,"colorKey",2);w([x(et,{optional:!0})],Ye.prototype,"xName",2);w([x(et,{optional:!0})],Ye.prototype,"yName",2);w([x(et,{optional:!0})],Ye.prototype,"labelName",2);w([x(et,{optional:!0})],Ye.prototype,"colorName",2);w([x(p3,{optional:!0})],Ye.prototype,"colorDomain",2);w([x(x1)],Ye.prototype,"colorRange",2);w([x(et,{optional:!0})],Ye.prototype,"title",2);w([p0("marker.shape")],Ye.prototype,"shape",2);w([p0("marker.size")],Ye.prototype,"size",2);w([p0("marker.fill")],Ye.prototype,"fill",2);w([p0("marker.fillOpacity")],Ye.prototype,"fillOpacity",2);w([p0("marker.stroke")],Ye.prototype,"stroke",2);w([p0("marker.strokeWidth")],Ye.prototype,"strokeWidth",2);w([p0("marker.strokeOpacity")],Ye.prototype,"strokeOpacity",2);w([p0("marker.itemStyler",{optional:!0})],Ye.prototype,"itemStyler",2);w([x(vt)],Ye.prototype,"label",2);w([x(vt)],Ye.prototype,"tooltip",2);var Kf=class extends Rs{constructor(e){super({moduleCtx:e,directionKeys:L2,directionNames:O2,pickModes:[2,3,0],pathsPerSeries:0,hasMarkers:!0,markerSelectionGarbageCollection:!1,animationResetFns:{marker:c4,label:Sa}}),this.properties=new Ye,this.colorScale=new j2}processData(e){return R(this,null,function*(){if(!this.properties.isValid()||this.data==null||!this.visible)return;let t=this.axes.x?.scale,n=this.axes.y?.scale,{xScaleType:o,yScaleType:a}=this.getScaleInformation({xScale:t,yScale:n}),s=this.colorScale.type,{xKey:i,yKey:r,labelKey:l,colorKey:h,colorDomain:c,colorRange:d}=this.properties,{dataModel:p,processedData:v}=yield this.requestDataModel(e,this.data,{props:[A0(i,o,{id:"xKey-raw"}),A0(r,a,{id:"yKey-raw"}),...l?[A0(l,"band",{id:"labelKey-raw"})]:[],ge(i,o,{id:"xValue"}),ge(r,a,{id:"yValue"}),...h?[ge(h,s,{id:"colorValue"})]:[],...l?[ge(l,"band",{id:"labelValue"})]:[]]});if(h){let g=p.resolveProcessedDataIndexById(this,"colorValue");this.colorScale.domain=c??v.domain.values[g]??[],this.colorScale.range=d,this.colorScale.update()}this.animationState.transition("updateData")})}getSeriesDomain(e){let{dataModel:t,processedData:n}=this;if(!n||!t)return[];let o=e==="x"?"xValue":"yValue",a=t.resolveProcessedDataDefById(this,o),s=t.getDomain(this,o,"value",n);if(a?.def.type==="value"&&a?.def.valueType==="category")return s;let i=this.axes[e];return xn(Vo(s),i)}createNodeData(){return R(this,null,function*(){let{axes:e,dataModel:t,processedData:n,colorScale:o}=this,{xKey:a,yKey:s,labelKey:i,colorKey:r,xName:l,yName:h,labelName:c,marker:d,label:p,visible:v}=this.properties,{placement:g}=p,u=Lo(d.shape),f=e.x,M=e.y;if(!(t&&n&&v&&f&&M))return;let m=t.resolveProcessedDataIndexById(this,"xValue"),k=t.resolveProcessedDataIndexById(this,"yValue"),B=r?t.resolveProcessedDataIndexById(this,"colorValue"):-1,z=i?t.resolveProcessedDataIndexById(this,"labelValue"):-1,I=f.scale,y=M.scale,b=(I.bandwidth??0)/2,C=(y.bandwidth??0)/2,E=[],_=p.getFont();for(let{values:F,datum:tt}of n.data??[]){let at=F[m],U=F[k],P=I.convert(at)+b,N=y.convert(U)+C,W=this.getLabelText(p,{value:i?F[z]:U,datum:tt,xKey:a,yKey:s,labelKey:i,xName:l,yName:h,labelName:c}),ot=se.getTextSize(W,_),j=r?o.convert(F[B]):void 0;E.push({series:this,itemId:s,yKey:s,xKey:a,datum:tt,xValue:at,yValue:U,capDefaults:{lengthRatioMultiplier:d.getDiameter(),lengthMax:1/0},point:{x:P,y:N,size:d.size},midPoint:{x:P,y:N},fill:j,label:S({text:W},ot),marker:u,placement:g})}return{itemId:s,nodeData:E,labelData:E,scales:this.calculateScaling(),visible:this.visible}})}isPathOrSelectionDirty(){return this.properties.marker.isDirty()}getLabelData(){return this.contextNodeData?.labelData??[]}markerFactory(){let{shape:e}=this.properties.marker,t=Lo(e);return new t}updateMarkerSelection(e){return R(this,null,function*(){let{nodeData:t,markerSelection:n}=e;return this.properties.marker.isDirty()&&(n.clear(),n.cleanup()),n.update(this.properties.marker.enabled?t:[])})}updateMarkerNodes(e){return R(this,null,function*(){let{markerSelection:t,isHighlight:n}=e,{xKey:o,yKey:a,labelKey:s,marker:i,highlightStyle:r}=this.properties,l=Wt(n&&r.item,i.getStyle());t.each((h,c)=>{this.updateMarkerStyle(h,i,{datum:c,highlighted:n,xKey:o,yKey:a,labelKey:s},l)}),n||i.markClean()})}updateLabelSelection(e){return R(this,null,function*(){let t=this.isLabelEnabled()?this.chart?.placeLabels().get(this)??[]:[];return e.labelSelection.update(t.map(({datum:n,x:o,y:a})=>V(S({},n),{point:{x:o,y:a,size:n.point.size},placement:"top"})),n=>{n.pointerEvents=1})})}updateLabelNodes(e){return R(this,null,function*(){let{label:t}=this.properties;e.labelSelection.each((n,o)=>{n.text=o.label.text,n.fill=t.color,n.x=o.point?.x??0,n.y=o.point?.y??0,n.fontStyle=t.fontStyle,n.fontWeight=t.fontWeight,n.fontSize=t.fontSize,n.fontFamily=t.fontFamily,n.textAlign="left",n.textBaseline="top"})})}getTooltipHtml(e){let t=this.axes.x,n=this.axes.y;if(!this.properties.isValid()||!t||!n)return ba;let{xKey:o,yKey:a,labelKey:s,xName:i,yName:r,labelName:l,title:h=r,marker:c,tooltip:d}=this.properties,{datum:p,xValue:v,yValue:g,label:u,itemId:f}=e,M=Wt({fill:e.fill,strokeWidth:this.getStrokeWidth(c.strokeWidth)},c.getStyle()),{fill:m="gray"}=this.getMarkerStyle(c,{datum:e,highlighted:!1,xKey:o,yKey:a,labelKey:s},M),k=Ae(t.formatDatum(v)),B=Ae(n.formatDatum(g)),z=`<b>${Ae(i??o)}</b>: ${k}<br><b>${Ae(r??a)}</b>: ${B}`;return s&&(z=`<b>${Ae(l??s)}</b>: ${Ae(u.text)}<br>`+z),d.toTooltipHtml({title:h,content:z,backgroundColor:m},S({datum:p,itemId:f,xKey:o,xName:i,yKey:a,yName:r,labelKey:s,labelName:l,title:h,color:m,seriesId:this.id},this.getModuleTooltipParams()))}getLegendData(e){let{yKey:t,yName:n,title:o,marker:a,visible:s}=this.properties,{fill:i,stroke:r,fillOpacity:l,strokeOpacity:h,strokeWidth:c}=a;return!this.data?.length||!this.properties.isValid()||e!=="category"?[]:[{legendType:"category",id:this.id,itemId:t,seriesId:this.id,enabled:s,label:{text:o??n??t},symbols:[{marker:{shape:a.shape,fill:a.fill??i??"rgba(0, 0, 0, 0)",stroke:a.stroke??r??"rgba(0, 0, 0, 0)",fillOpacity:l??1,strokeOpacity:h??1,strokeWidth:c??0}}]}]}animateEmptyUpdateReady(e){let{markerSelection:t,labelSelection:n,annotationSelections:o}=e;Ef(this,this.ctx.animationManager,t),ee(this,"labels",this.ctx.animationManager,n),ee(this,"annotations",this.ctx.animationManager,...o)}isLabelEnabled(){return this.properties.label.enabled}nodeFactory(){return new mt}getFormattedMarkerStyle(e){let{xKey:t,yKey:n,labelKey:o}=this.properties;return this.getMarkerStyle(this.properties.marker,{datum:e,xKey:t,yKey:n,labelKey:o,highlighted:!0})}computeFocusBounds(e){return d4(this,e)}};Kf.className="ScatterSeries";Kf.type="scatter";var m$={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["cartesian"],identifier:"scatter",instanceConstructor:Kf,tooltipDefaults:{range:"nearest"},defaultAxes:[{type:"number",position:"bottom"},{type:"number",position:"left"}],themeTemplate:{series:{shape:"circle",size:7,fillOpacity:.8,tooltip:{position:{type:"node"}},label:{enabled:!1,fontSize:12,fontFamily:We,color:I0}}},enterpriseThemeTemplate:{series:{errorBar:{cap:{lengthRatio:1}}}},paletteFactory:Tr},LB=class w6{constructor(t,n,o,a){this.startAngle=t,this.endAngle=n,this.innerRadius=o,this.outerRadius=a}clone(){let{startAngle:t,endAngle:n,innerRadius:o,outerRadius:a}=this;return new w6(t,n,o,a)}[n3](t,n){return new w6(this.startAngle*(1-n)+t.startAngle*n,this.endAngle*(1-n)+t.endAngle*n,this.innerRadius*(1-n)+t.innerRadius*n,this.outerRadius*(1-n)+t.outerRadius*n)}};function Zf({startAngle:e,endAngle:t,innerRadius:n,outerRadius:o}){let a=1/0,s=1/0,i=-1/0,r=-1/0,l=(h,c)=>{a=Math.min(h,a),s=Math.min(c,s),i=Math.max(h,i),r=Math.max(c,r)};return l(n*Math.cos(e),n*Math.sin(e)),l(n*Math.cos(t),n*Math.sin(t)),l(o*Math.cos(e),o*Math.sin(e)),l(o*Math.cos(t),o*Math.sin(t)),ps(0,e,t)&&l(o,0),ps(Math.PI*.5,e,t)&&l(0,o),ps(Math.PI,e,t)&&l(-o,0),ps(Math.PI*1.5,e,t)&&l(0,-o),new pt(a,s,i-a,r-s)}function e3(e,t,n){let o=Math.sqrt(Math.pow(e,2)+Math.pow(t,2)),{innerRadius:a,outerRadius:s}=n;if(n.startAngle===n.endAngle||o<Math.min(a,s)||o>Math.max(a,s))return!1;let i=Rh(n.startAngle),r=Rh(n.endAngle),l=Math.atan2(t,e);return i<r?l<=r&&l>=i:l<=r&&l>=-Math.PI||l>=i&&l<=Math.PI}function $k(e,t){let{startAngle:n,endAngle:o,innerRadius:a,outerRadius:s}=t,i={x:s*Math.cos(n),y:s*Math.sin(n)},r={x:s*Math.cos(o),y:s*Math.sin(o)},l=a===0?{x:0,y:0}:{x:a*Math.cos(n),y:a*Math.sin(n)},h=a===0?{x:0,y:0}:{x:a*Math.cos(o),y:a*Math.sin(o)};return Qi(e.start.x,e.start.y,e.end.x,e.end.y,i.x,i.y,l.x,l.y)||Qi(e.start.x,e.start.y,e.end.x,e.end.y,r.x,r.y,h.x,h.y)||Kb(0,0,s,n,o,!0,e.start.x,e.start.y,e.end.x,e.end.y)}function OB(e,t){let n={x:e.x,y:e.y},o={x:e.x+e.width,y:e.y},a={x:e.x,y:e.y+e.height},s={x:e.x+e.width,y:e.y+e.height};return $k({start:n,end:o},t)||$k({start:a,end:s},t)}function qk(e,t,n,o){if(n===0&&o===0)return 0;if(Math.asin(Math.abs(1*n)/(e+1*n))+Math.asin(Math.abs(1*o)/(e+1*o))-t<0)return 1;let s=0,i=1;for(let r=0;r<8;r+=1){let l=(s+i)/2;Math.asin(Math.abs(l*n)/(e+l*n))+Math.asin(Math.abs(l*o)/(e+l*o))-t<0?s=l:i=l}return s}var x$=1e-6;function ys(e,t){return M3(e,t)<x$?t:Re(e-t)+t}function mp(e,t,n=0){let a=Math.abs(t-e)>=2*Math.PI?2*Math.PI:Re(t-e);return e=ys(e,n),t=e+a,{startAngle:e,endAngle:t}}function xp(e,t,n,o,a,s){let i=Math.sin(s),r=Math.cos(s),l=e**2+t**2-n**2,h=NaN,c=NaN,d=NaN,p=NaN;if(r>.5){let k=i/r,B=1+k**2,z=-2*(e+t*k),I=z**2-4*B*l;if(I<0)return;let y=(-z+Math.sqrt(I))/(2*B),b=(-z-Math.sqrt(I))/(2*B);h=y,c=y*k,d=b,p=b*k}else{let k=r/i,B=1+k**2,z=-2*(t+e*k),I=z**2-4*B*l;if(I<0)return;let y=(-z+Math.sqrt(I))/(2*B),b=(-z-Math.sqrt(I))/(2*B);h=y*k,c=y,d=b*k,p=b}let v=r,g=i,u=h*v+c*g,f=d*v+p*g,M=u>0?ys(Math.atan2(c-t,h-e),o):NaN,m=f>0?ys(Math.atan2(p-t,d-e),o):NaN;if(M>=o&&M<=a)return M;if(m>=o&&m<=a)return m}function yp(e,t,n,o,a,s){let i=Math.hypot(e,t),r=(i**2-n**2+s**2)/(2*i),l=i-r,h=Math.atan2(t,e),c=Math.acos(-l/n),d=ys(h+c,o),p=ys(h-c,o);if(d>=o&&d<=a)return d;if(p>=o&&p<=a)return p}var _w=class{constructor(e,t,n,o,a){this.cx=e,this.cy=t,this.r=n,this.a0=o,this.a1=a,this.a0>=this.a1&&(this.a0=NaN,this.a1=NaN)}isValid(){return Number.isFinite(this.a0)&&Number.isFinite(this.a1)}pointAt(e){return{x:this.cx+this.r*Math.cos(e),y:this.cy+this.r*Math.sin(e)}}clipStart(e){e==null||!this.isValid()||e<this.a0||(this.a0=e,(Number.isNaN(e)||this.a0>=this.a1)&&(this.a0=NaN,this.a1=NaN))}clipEnd(e){e==null||!this.isValid()||e>this.a1||(this.a1=e,(Number.isNaN(e)||this.a0>=this.a1)&&(this.a0=NaN,this.a1=NaN))}},L0=class extends nn{constructor(){super(...arguments),this.centerX=0,this.centerY=0,this.innerRadius=10,this.outerRadius=20,this.startAngle=0,this.endAngle=Math.PI*2,this.clipSector=void 0,this.concentricEdgeInset=0,this.radialEdgeInset=0,this.startOuterCornerRadius=0,this.endOuterCornerRadius=0,this.startInnerCornerRadius=0,this.endInnerCornerRadius=0}set inset(e){this.concentricEdgeInset=e,this.radialEdgeInset=e}set cornerRadius(e){this.startOuterCornerRadius=e,this.endOuterCornerRadius=e,this.startInnerCornerRadius=e,this.endInnerCornerRadius=e}computeBBox(){return Zf(this).translate(this.centerX,this.centerY)}normalizedRadii(){let{concentricEdgeInset:e}=this;return{innerRadius:Math.max(Math.min(this.innerRadius,this.outerRadius)+e,0),outerRadius:Math.max(Math.max(this.innerRadius,this.outerRadius)-e,0)}}normalizedClipSector(){let{clipSector:e}=this;if(e==null)return;let{startAngle:t,endAngle:n}=mp(this.startAngle,this.endAngle),{innerRadius:o,outerRadius:a}=this.normalizedRadii(),s=mp(e.startAngle,e.endAngle,t);return new LB(Math.max(t,s.startAngle),Math.min(n,s.endAngle),Math.max(o,e.innerRadius),Math.min(a,e.outerRadius))}getAngleOffset(e){return e>0?this.radialEdgeInset/e:0}arc(e,t,n,o,a,s,i,r){if(e<=0)return;let{startAngle:l,endAngle:h}=mp(this.startAngle,this.endAngle),{innerRadius:c,outerRadius:d}=this.normalizedRadii(),p=this.normalizedClipSector();if(r&&c<=0)return;let v=this.getAngleOffset(c),g=this.getAngleOffset(d),u=r?this.getAngleOffset(c+e):this.getAngleOffset(d-e),f=i?l+u+t:h-u-t,M=r?c+e:d-e,m=M*Math.cos(f),k=M*Math.sin(f);if(p!=null&&(!i&&!(f>=l-1e-6&&f<=p.endAngle-1e-6)||i&&!(f>=p.startAngle+1e-6&&f<=h-1e-6)||r&&!(M>=p.innerRadius-1e-6)||!r&&!(M<=p.outerRadius+1e-6)))return;let B=new _w(m,k,e,n,o);if(p!=null){r?(B.clipStart(xp(m,k,e,n,o,p.endAngle-v)),B.clipEnd(xp(m,k,e,n,o,p.startAngle+v))):(B.clipStart(xp(m,k,e,n,o,p.startAngle+g)),B.clipEnd(xp(m,k,e,n,o,p.endAngle-g)));let C,E;if(i?(C=yp(m,k,e,n,o,p.innerRadius),E=yp(m,k,e,n,o,p.outerRadius)):(C=yp(m,k,e,n,o,p.outerRadius),E=yp(m,k,e,n,o,p.innerRadius)),B.clipStart(C),B.clipEnd(E),C!=null){let{x:_,y:F}=B.pointAt(C),tt=ys(Math.atan2(F,_),l);i?s?.clipStart(tt):a.clipEnd(tt)}if(E!=null){let{x:_,y:F}=B.pointAt(E),tt=ys(Math.atan2(F,_),l);i?a.clipStart(tt):s?.clipEnd(tt)}}if(p!=null){let{x:C,y:E}=B.pointAt((B.a0+B.a1)/2);if(!e3(C,E,p))return}let{x:z,y:I}=B.pointAt(i===r?B.a0:B.a1),y=ys(Math.atan2(I,z),l),b=r?s:a;return i?b?.clipStart(y):b?.clipEnd(y),B}updatePath(){let{path:t,centerX:n,centerY:o,concentricEdgeInset:a,radialEdgeInset:s}=this,{startOuterCornerRadius:i,endOuterCornerRadius:r,startInnerCornerRadius:l,endInnerCornerRadius:h}=this,{startAngle:c,endAngle:d}=mp(this.startAngle,this.endAngle),{innerRadius:p,outerRadius:v}=this.normalizedRadii(),g=this.normalizedClipSector(),u=d-c,f=u>=2*Math.PI-1e-6;if(t.clear(),(g?.startAngle??c)===(g?.endAngle??d))return;if(f&&this.clipSector==null&&i===0&&r===0&&l===0&&h===0){t.moveTo(n+v*Math.cos(c),o+v*Math.sin(c)),t.arc(n,o,v,c,d),p>a&&(t.moveTo(n+p*Math.cos(d),o+p*Math.sin(d)),t.arc(n,o,p,d,c,!0)),t.closePath();return}let M=this.getAngleOffset(p),m=this.getAngleOffset(v);if(u<2*m)return;let B=(g?.innerRadius??p)>a,z=p<a||u<2*M,I=v-p,y=Math.max(i,l,r,h),b=y>0?Math.min(I/y,1):1;i*=b,r*=b,l*=b,h*=b;let C=qk(v,u-2*m,-i,-r);if(i*=C,r*=C,!z&&B){let X=qk(p,u-2*M,l,h);l*=X,h*=X}else l=0,h=0;let E=Math.max(i+l,r+h),_=E>0?Math.min(I/E,1):1;i*=_,r*=_,l*=_,h*=_;let F=0,tt=0,at=i/(v-i),U=r/(v-r);if(at>=0&&at<1-1e-6)F=Math.asin(at);else{F=u/2;let X=v/(1/Math.sin(F)+1);i=Math.min(X,i)}if(U>=0&&U<1-1e-6)tt=Math.asin(U);else{tt=u/2;let X=v/(1/Math.sin(tt)+1);r=Math.min(X,r)}let P=Math.asin(l/(p+l)),N=Math.asin(h/(p+h)),W=g?.outerRadius??v,ot=this.getAngleOffset(W),j=new _w(0,0,W,c+ot,d-ot),Mt=g?.innerRadius??p,xt=this.getAngleOffset(Mt),wt=B?new _w(0,0,Mt,c+xt,d-xt):void 0;g!=null&&(j.clipStart(g.startAngle),j.clipEnd(g.endAngle),wt?.clipStart(g.startAngle),wt?.clipEnd(g.endAngle));let st=this.arc(i,F,c-Math.PI*.5,c+F,j,wt,!0,!1),Ut=this.arc(r,tt,d-tt,d+Math.PI*.5,j,wt,!1,!1),Y=this.arc(h,N,d+Math.PI*.5,d+Math.PI-N,j,wt,!1,!0),G=this.arc(l,P,c+Math.PI+P,c+Math.PI*1.5,j,wt,!0,!0);if(z){let X=u<Math.PI*.5?s*(1+Math.cos(u))/Math.sin(u):NaN,Q;X>0&&X<v?Q=Math.max(Math.hypot(s,X),p):Q=p;let ft=c+u*.5;t.moveTo(n+Q*Math.cos(ft),o+Q*Math.sin(ft))}else if(!(G?.isValid()===!0||wt?.isValid()===!0)){let X=c+u/2,Q=p*Math.cos(X),ft=p*Math.sin(X);t.moveTo(n+Q,o+ft)}if(st?.isValid()===!0){let{cx:X,cy:Q,r:ft,a0:zt,a1:kt}=st;t.arc(n+X,o+Q,ft,zt,kt)}if(j.isValid()){let{r:X,a0:Q,a1:ft}=j;t.arc(n,o,X,Q,ft)}if(Ut?.isValid()===!0){let{cx:X,cy:Q,r:ft,a0:zt,a1:kt}=Ut;t.arc(n+X,o+Q,ft,zt,kt)}if(!z){if(Y?.isValid()===!0){let{cx:X,cy:Q,r:ft,a0:zt,a1:kt}=Y;t.arc(n+X,o+Q,ft,zt,kt)}if(wt?.isValid()===!0){let{r:X,a0:Q,a1:ft}=wt;t.arc(n,o,X,ft,Q,!0)}if(G?.isValid()===!0){let{cx:X,cy:Q,r:ft,a0:zt,a1:kt}=G;t.arc(n+X,o+Q,ft,zt,kt)}}t.closePath()}isPointInPath(e,t){let n=this.transformPoint(e,t),{startAngle:o,endAngle:a,innerRadius:s,outerRadius:i}=this.clipSector??this;return e3(n.x-this.centerX,n.y-this.centerY,{startAngle:o,endAngle:a,innerRadius:Math.min(s,i),outerRadius:Math.max(s,i)})}};L0.className="Sector";w([Bt()],L0.prototype,"centerX",2);w([Bt()],L0.prototype,"centerY",2);w([Bt()],L0.prototype,"innerRadius",2);w([Bt()],L0.prototype,"outerRadius",2);w([Bt()],L0.prototype,"startAngle",2);w([Bt()],L0.prototype,"endAngle",2);w([Bt()],L0.prototype,"clipSector",2);w([Bt()],L0.prototype,"concentricEdgeInset",2);w([Bt()],L0.prototype,"radialEdgeInset",2);w([Bt()],L0.prototype,"startOuterCornerRadius",2);w([Bt()],L0.prototype,"endOuterCornerRadius",2);w([Bt()],L0.prototype,"startInnerCornerRadius",2);w([Bt()],L0.prototype,"endInnerCornerRadius",2);var Vn={BLUE:"#5090dc",ORANGE:"#ffa03a",GREEN:"#459d55",CYAN:"#34bfe1",YELLOW:"#e1cc00",VIOLET:"#9669cb",GRAY:"#b5b5b5",MAGENTA:"#bd5aa7",BROWN:"#8a6224",RED:"#ef5452"},us={BLUE:"#2b5c95",ORANGE:"#cc6f10",GREEN:"#1e652e",CYAN:"#18859e",YELLOW:"#a69400",VIOLET:"#603c88",GRAY:"#575757",MAGENTA:"#7d2f6d",BROWN:"#4f3508",RED:"#a82529"},NB=class extends ze{constructor(){super(...arguments),this.showInLegend=!1}};w([x(It)],NB.prototype,"showInLegend",2);var Xf=class extends d0{constructor(){super(...arguments),this.spacing=2}set(e,t){return super.set(e)}};w([x(et)],Xf.prototype,"text",2);w([x(xe)],Xf.prototype,"spacing",2);var Qf=class extends Vt{constructor(){super(...arguments),this.fill="transparent",this.fillOpacity=1}};w([x(ne)],Qf.prototype,"fill",2);w([x(ie)],Qf.prototype,"fillOpacity",2);var Ar=class extends d0{constructor(){super(...arguments),this.offset=3,this.minAngle=0,this.minSpacing=4,this.maxCollisionOffset=50,this.avoidCollisions=!0}};w([x(Z)],Ar.prototype,"offset",2);w([x(Bs)],Ar.prototype,"minAngle",2);w([x(Z)],Ar.prototype,"minSpacing",2);w([x(Z)],Ar.prototype,"maxCollisionOffset",2);w([x(It)],Ar.prototype,"avoidCollisions",2);var Jf=class extends d0{constructor(){super(...arguments),this.positionOffset=0,this.positionRatio=.5}};w([x(xe)],Jf.prototype,"positionOffset",2);w([x(ie)],Jf.prototype,"positionRatio",2);var D3=class extends Vt{constructor(){super(...arguments),this.length=10,this.strokeWidth=1}};w([x(x1,{optional:!0})],D3.prototype,"colors",2);w([x(Z)],D3.prototype,"length",2);w([x(Z)],D3.prototype,"strokeWidth",2);var Kt=class extends q1{constructor(){super(...arguments),this.fills=Object.values(Vn),this.strokes=Object.values(us),this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.rotation=0,this.outerRadiusOffset=0,this.outerRadiusRatio=1,this.strokeWidth=1,this.sectorSpacing=0,this.innerLabels=new l3(Xf),this.title=new NB,this.innerCircle=new Qf,this.shadow=new Y1,this.calloutLabel=new Ar,this.sectorLabel=new Jf,this.calloutLine=new D3,this.tooltip=new an}isValid(){let e=super.isValid();return this.innerRadiusRatio==null&&this.innerRadiusOffset==null?(q.warnOnce("Either an [innerRadiusRatio] or an [innerRadiusOffset] must be set to render a donut series."),!1):e}};w([x(et)],Kt.prototype,"angleKey",2);w([x(et,{optional:!0})],Kt.prototype,"angleName",2);w([x(et,{optional:!0})],Kt.prototype,"radiusKey",2);w([x(et,{optional:!0})],Kt.prototype,"radiusName",2);w([x(Z,{optional:!0})],Kt.prototype,"radiusMin",2);w([x(Z,{optional:!0})],Kt.prototype,"radiusMax",2);w([x(et,{optional:!0})],Kt.prototype,"calloutLabelKey",2);w([x(et,{optional:!0})],Kt.prototype,"calloutLabelName",2);w([x(et,{optional:!0})],Kt.prototype,"sectorLabelKey",2);w([x(et,{optional:!0})],Kt.prototype,"sectorLabelName",2);w([x(et,{optional:!0})],Kt.prototype,"legendItemKey",2);w([x(x1)],Kt.prototype,"fills",2);w([x(x1)],Kt.prototype,"strokes",2);w([x(ie)],Kt.prototype,"fillOpacity",2);w([x(ie)],Kt.prototype,"strokeOpacity",2);w([x(za)],Kt.prototype,"lineDash",2);w([x(Z)],Kt.prototype,"lineDashOffset",2);w([x(Z)],Kt.prototype,"cornerRadius",2);w([x(In,{optional:!0})],Kt.prototype,"itemStyler",2);w([x(Bs)],Kt.prototype,"rotation",2);w([x(xe)],Kt.prototype,"outerRadiusOffset",2);w([x(ie)],Kt.prototype,"outerRadiusRatio",2);w([x(xe,{optional:!0})],Kt.prototype,"innerRadiusOffset",2);w([x(ie,{optional:!0})],Kt.prototype,"innerRadiusRatio",2);w([x(Z)],Kt.prototype,"strokeWidth",2);w([x(xe)],Kt.prototype,"sectorSpacing",2);w([x(Nz)],Kt.prototype,"innerLabels",2);w([x(vt)],Kt.prototype,"title",2);w([x(vt)],Kt.prototype,"innerCircle",2);w([x(vt)],Kt.prototype,"shadow",2);w([x(vt)],Kt.prototype,"calloutLabel",2);w([x(vt)],Kt.prototype,"sectorLabel",2);w([x(vt)],Kt.prototype,"calloutLine",2);w([x(vt)],Kt.prototype,"tooltip",2);function S2(e,t,n,o){let a=[n.convert(0),n.convert(1)],s=[o.convert(0),o.convert(1)],i=Math.PI/-2+Q0(t),r=e?"initial":"update",l=({radius:g})=>({innerRadius:a[0],outerRadius:a[0]+(a[1]-a[0])*g}),h=({radius:g})=>({innerRadius:s[0],outerRadius:s[0]+(s[1]-s[0])*g});return{nodes:{toFn:(g,u,f,{prevLive:M})=>{let{startAngle:m,endAngle:k,innerRadius:B,outerRadius:z}=u,{stroke:I,fill:y}=u.sectorFormat;if(f==="removed"&&M?(m=M.datum?.endAngle,k=M.datum?.endAngle):f==="removed"&&!M&&(m=i,k=i),f==="removed"){let b=l(u);B=b.innerRadius,z=b.outerRadius}return{startAngle:m,endAngle:k,outerRadius:z,innerRadius:B,stroke:I,fill:y}},fromFn:(g,u,f,{prevFromProps:M})=>{let{startAngle:m,endAngle:k,innerRadius:B,outerRadius:z}=g,{fill:I,stroke:y}=u.sectorFormat;if(f==="unknown"||f==="added"&&!M?(m=i,k=i,B=u.innerRadius,z=u.outerRadius):f==="added"&&M&&(m=M.endAngle??i,k=M.endAngle??i,B=M.innerRadius??u.innerRadius,z=M.outerRadius??u.outerRadius),f==="added"&&!e){let b=h(u);B=b.innerRadius,z=b.outerRadius}return f==="updated"&&(I=g.fill??I,y=g.stroke??y),{startAngle:m,endAngle:k,innerRadius:B,outerRadius:z,fill:I,stroke:y,phase:r}}},innerCircle:{fromFn:(g,u)=>({size:g.previousDatum?.radius??g.size??0,phase:r}),toFn:(g,u)=>({size:u.radius??0})}}}function t7(e,t){return{startAngle:t.startAngle,endAngle:t.endAngle,innerRadius:t.innerRadius,outerRadius:t.outerRadius,fill:t.sectorFormat.fill,stroke:t.sectorFormat.stroke}}function e7(e,t){let n=t.y-e.centerY,o=t.x-e.centerX,a=Math.atan2(n,o),s=e.getItemNodes();for(let i of s)if(i.datum.missing!==!0&&ps(a,i.startAngle,i.endAngle)){let r=Math.sqrt(o*o+n*n),l=0;return r<i.innerRadius?l=i.innerRadius-r:r>i.outerRadius&&(l=r-i.outerRadius),{datum:i.datum,distance:l}}}function y$(e,t){let n=e.getNodeData();if(n!==void 0)return PB(n[t.datumIndex],e.centerX,e.centerY)}function PB(e,t,n){return Zf(e).translate(t,n)}var H3=class extends xf{constructor(s){var i=s,{useLabelLayer:e=!1,pickModes:t=[3,0],canHaveAxes:n=!1,animationResetFns:o}=i,a=ue(i,["useLabelLayer","pickModes","canHaveAxes","animationResetFns"]);super(V(S({},a),{useLabelLayer:e,pickModes:t,contentGroupVirtual:!1,directionKeys:{x:["angleKey"],y:["radiusKey"]},directionNames:{x:["angleName"],y:["radiusName"]},canHaveAxes:n})),this.itemGroup=this.contentGroup.appendChild(new mt),this.nodeData=[],this.itemSelection=qe.select(this.itemGroup,()=>this.nodeFactory(),!1),this.labelSelection=qe.select(this.labelGroup,()=>this.labelFactory(),!1),this.highlightSelection=qe.select(this.highlightGroup,()=>this.nodeFactory()),this.highlightLabelSelection=qe.select(this.highlightLabel,()=>this.labelFactory()),this.centerX=0,this.centerY=0,this.radius=0,this.itemGroup.zIndexSubOrder=[()=>this._declarationOrder,1],this.animationResetFns=o,this.animationState=new e4("empty",{empty:{update:{target:"ready",action:r=>this.animateEmptyUpdateReady(r)},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",highlight:r=>this.animateReadyHighlight(r),highlightMarkers:r=>this.animateReadyHighlightMarkers(r),resize:r=>this.animateReadyResize(r),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:r=>this.animateWaitingUpdateReady(r)},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:r=>this.animateClearingUpdateEmpty(r)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}getItemNodes(){return this.itemGroup.children}getNodeData(){return this.nodeData}resetAnimation(e){e==="initial"?this.animationState.transition("reset"):e==="ready"&&this.animationState.transition("skip")}labelFactory(){let e=new se;return e.pointerEvents=1,e}getInnerRadius(){return 0}getLabelData(){return[]}computeLabelsBBox(e,t){return null}resetAllAnimation(){let{item:e,label:t}=this.animationResetFns??{};this.ctx.animationManager.stopByAnimationGroupId(this.id),e&&o0([this.itemSelection,this.highlightSelection],e),t&&o0([this.labelSelection,this.highlightLabelSelection],t),this.itemSelection.cleanup(),this.labelSelection.cleanup(),this.highlightSelection.cleanup(),this.highlightLabelSelection.cleanup()}animateEmptyUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animateWaitingUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animateReadyHighlight(e){let{item:t,label:n}=this.animationResetFns??{};t&&o0([this.highlightSelection],t),n&&o0([this.highlightLabelSelection],n)}animateReadyHighlightMarkers(e){}animateReadyResize(e){this.resetAllAnimation()}animateClearingUpdateEmpty(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation()}animationTransitionClear(){this.animationState.transition("clear",this.getAnimationData())}getAnimationData(e){return{seriesRect:e}}computeFocusBounds(e){let t=this.getNodeData()?.[e.datumIndex];if(t!==void 0)return this.itemSelection.select(n=>n instanceof nn&&n.datum===t)[0]}},I$=class extends i4{constructor(e,t,n,o){super(e,t,n,o),this.angleKey=o.properties.angleKey,this.radiusKey=o.properties.radiusKey,this.calloutLabelKey=o.properties.calloutLabelKey,this.sectorLabelKey=o.properties.sectorLabelKey}},n7=class extends H3{constructor(e){super({moduleCtx:e,pickModes:[3,0],useLabelLayer:!0,animationResetFns:{item:t7,label:Sa}}),this.properties=new Kt,this.previousRadiusScale=new To,this.radiusScale=new To,this.calloutLabelGroup=this.contentGroup.appendChild(new mt({name:"pieCalloutLabels"})),this.calloutLabelSelection=new qe(this.calloutLabelGroup,mt),this.backgroundGroup=this.rootGroup.appendChild(new mt({name:`${this.id}-background`,layer:!0,zIndex:0})),this.zerosumRingsGroup=this.backgroundGroup.appendChild(new mt({name:`${this.id}-zerosumRings`})),this.zerosumOuterRing=this.zerosumRingsGroup.appendChild(new Ms),this.zerosumInnerRing=this.zerosumRingsGroup.appendChild(new Ms),this.innerLabelsGroup=this.contentGroup.appendChild(new mt({name:"innerLabels"})),this.innerCircleGroup=this.backgroundGroup.appendChild(new mt({name:`${this.id}-innerCircle`})),this.innerLabelsSelection=qe.select(this.innerLabelsGroup,se),this.innerCircleSelection=qe.select(this.innerCircleGroup,Ms),this.seriesItemEnabled=[],this.surroundingRadius=void 0,this.NodeEvent=I$,this.angleScale=new To,this.angleScale.domain=[0,1],this.angleScale.range=[-Math.PI,Math.PI].map(t=>t+Math.PI/2)}addChartEventListeners(){this.destroyFns.push(this.ctx.chartEventManager?.addListener("legend-item-click",e=>this.onLegendItemClick(e)))}get visible(){return super.visible&&(this.seriesItemEnabled.length===0||this.seriesItemEnabled.some(e=>e))}nodeFactory(){return new L0}getSeriesDomain(e){return e==="x"?this.angleScale.domain:this.radiusScale.domain}processData(e){return R(this,null,function*(){if(this.data==null||!this.properties.isValid())return;let{data:t}=this,{visible:n,seriesItemEnabled:o}=this,{angleKey:a,radiusKey:s,calloutLabelKey:i,sectorLabelKey:r,legendItemKey:l}=this.properties,h=!this.ctx.animationManager.isSkipped(),c=[],d=[];l?c.push(A0(l,"band",{id:"legendItemKey"})):i?c.push(A0(i,"band",{id:"calloutLabelKey"})):r&&c.push(A0(r,"band",{id:"sectorLabelKey"}));let p=this.radiusScale.type,v=this.radiusScale.type;s&&d.push(df(s,{id:"radiusValue",min:this.properties.radiusMin??0,max:this.properties.radiusMax}),ge(s,p,{id:"radiusRaw"}),Fh({id:"radiusValue"},[0,1],1,this.properties.radiusMin??0,this.properties.radiusMax)),i&&d.push(ge(i,"band",{id:"calloutLabelValue"})),r&&d.push(ge(r,"band",{id:"sectorLabelValue"})),l&&d.push(ge(l,"band",{id:"legendItemValue"})),h&&this.processedData&&c.length>0&&d.push(R2(this.processedData)),d.push(Cr()),t=t.map((g,u)=>n&&o[u]?g:V(S({},g),{[a]:0})),yield this.requestDataModel(e,t,{props:[...c,pf(a,v,{id:"angleValue",onlyPositive:!0}),ge(a,v,{id:"angleRaw"}),Fh({id:"angleValue"},[0,1],0,0),...d]});for(let g of this.processedData?.defs?.values??[]){let{id:u,missing:f,property:M}=g,m=nf(this,f);u!=="angleRaw"&&m>0&&q.warnOnce(`no value was found for the key '${String(M)}' on ${m} data element${m>1?"s":""}`)}this.animationState.transition("updateData")})}maybeRefreshNodeData(){return R(this,null,function*(){if(!this.nodeDataRefresh)return;let{nodeData:e=[]}=(yield this.createNodeData())??{};this.nodeData=e,this.nodeDataRefresh=!1})}getProcessedDataIndexes(e){let t=e.resolveProcessedDataIndexById(this,"angleValue"),n=this.properties.radiusKey?e.resolveProcessedDataIndexById(this,"radiusValue"):-1,o=this.properties.calloutLabelKey?e.resolveProcessedDataIndexById(this,"calloutLabelValue"):-1,a=this.properties.sectorLabelKey?e.resolveProcessedDataIndexById(this,"sectorLabelValue"):-1,s=this.properties.legendItemKey?e.resolveProcessedDataIndexById(this,"legendItemValue"):-1;return{angleIdx:t,radiusIdx:n,calloutLabelIdx:o,sectorLabelIdx:a,legendItemIdx:s}}createNodeData(){return R(this,null,function*(){let{id:e,processedData:t,dataModel:n,angleScale:o}=this,{rotation:a,innerRadiusRatio:s}=this.properties;if(!this.properties.isValid())return this.zerosumOuterRing.visible=!0,this.zerosumInnerRing.visible=!0,{itemId:e,nodeData:[],labelData:[]};if(!t||!n||t.type!=="ungrouped")return;let{angleIdx:i,radiusIdx:r,calloutLabelIdx:l,sectorLabelIdx:h,legendItemIdx:c}=this.getProcessedDataIndexes(n),d=0,p=0,v=t.data.map((g,u)=>{let{datum:f,values:M}=g,m=M[i],k=o.convert(d)+Q0(a);d=m,p+=m;let B=o.convert(d)+Q0(a),z=Math.abs(B-k),I=k+z/2,y=M[i+1],b=r>=0?M[r]??1:1,C=r>=0?M[r+1]:void 0,E=c>=0?M[c]:void 0,_=this.getLabels(f,I,z,!0,M[l],M[h],E),F=this.getSectorFormat(f,u,!1);return S({itemId:u,series:this,datum:f,index:u,angleValue:y,midAngle:I,midCos:Math.cos(I),midSin:Math.sin(I),startAngle:k,endAngle:B,sectorFormat:F,radiusValue:C,radius:b,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(b),0),legendItemValue:E,enabled:this.seriesItemEnabled[u]},_)});return this.zerosumOuterRing.visible=p===0,this.zerosumInnerRing.visible=p===0&&s!=null&&s!==1&&s>0,{itemId:e,nodeData:v,labelData:v}})}getLabels(e,t,n,o,a,s,i){let{calloutLabel:r,sectorLabel:l,legendItemKey:h}=this.properties,c=!o||r.enabled?this.properties.calloutLabelKey:void 0,d=!o||l.enabled?this.properties.sectorLabelKey:void 0;if(!c&&!d&&!h)return{};let p={datum:e,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey},v={};return c&&n>Q0(r.minAngle)&&(v.calloutLabel=V(S({},this.getTextAlignment(t)),{text:this.getLabelText(r,V(S({},p),{value:a})),hidden:!1,collisionTextAlign:void 0,collisionOffsetY:0,box:void 0})),d&&(v.sectorLabel={text:this.getLabelText(l,V(S({},p),{value:s}))}),h!=null&&i!=null&&(v.legendItem={key:h,text:i}),v}getTextAlignment(e){let t=[{textAlign:"center",textBaseline:"bottom"},{textAlign:"left",textBaseline:"middle"},{textAlign:"center",textBaseline:"hanging"},{textAlign:"right",textBaseline:"middle"}],n=Rh(e),o=-.75*Math.PI,a=n-o,s=Math.floor(a/(Math.PI/2)),i=s3(s,t.length);return t[i]}getSectorFormat(e,t,n){let{callbackCache:o,highlightManager:a}=this.ctx,{angleKey:s,radiusKey:i,calloutLabelKey:r,sectorLabelKey:l,legendItemKey:h,fills:c,strokes:d,itemStyler:p}=this.properties,v=a.getActiveHighlight(),g=n&&v?.series===this&&t===v.itemId,u=d[t%d.length],{fill:f,fillOpacity:M,stroke:m,strokeWidth:k,strokeOpacity:B,lineDash:z,lineDashOffset:I,cornerRadius:y}=Wt(g&&this.properties.highlightStyle.item,{fill:c.length>0?c[t%c.length]:void 0,stroke:u,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.getOpacity()},this.properties),b;return p&&(b=o.call(p,{datum:e,angleKey:s,radiusKey:i,calloutLabelKey:r,sectorLabelKey:l,legendItemKey:h,fill:f,fillOpacity:M,stroke:m,strokeWidth:k,strokeOpacity:B,lineDash:z,lineDashOffset:I,cornerRadius:y,highlighted:g,seriesId:this.id})),{fill:b?.fill??f,fillOpacity:b?.fillOpacity??M,stroke:b?.stroke??m,strokeWidth:b?.strokeWidth??k,strokeOpacity:b?.strokeOpacity??B,lineDash:b?.lineDash??z,lineDashOffset:b?.lineDashOffset??I,cornerRadius:b?.cornerRadius??y}}getInnerRadius(){let{radius:e}=this,{innerRadiusRatio:t=1,innerRadiusOffset:n=0}=this.properties,o=e*t+n;return o===e||o<0?0:o}getOuterRadius(){let{outerRadiusRatio:e,outerRadiusOffset:t}=this.properties;return Math.max(this.radius*e+t,0)}updateRadiusScale(e){let t=[this.getInnerRadius(),this.getOuterRadius()];this.radiusScale.range=t,e&&(this.previousRadiusScale.range=t),this.nodeData=this.nodeData.map(a=>{var s=a,{radius:n}=s,o=ue(s,["radius"]);return V(S({},o),{radius:n,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(n),0)})})}getTitleTranslationY(){let e=Math.max(0,this.radiusScale.range[1]);if(e===0)return NaN;let n=2+(this.properties.title?.spacing??0),o=Math.max(0,-e);return-e-n-o}update(t){return R(this,arguments,function*({seriesRect:e}){let{title:n}=this.properties,o={seriesRectWidth:e?.width,seriesRectHeight:e?.height},a=Un(this.nodeDataDependencies,o)!=null;if(a&&(this._nodeDataDependencies=o),yield this.maybeRefreshNodeData(),this.updateTitleNodes(),this.updateRadiusScale(a),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.backgroundGroup.translationX=this.centerX,this.backgroundGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),n){let s=this.getTitleTranslationY(),i=n.node.computeBBox();n.node.visible=n.enabled&&isFinite(s)&&!this.bboxIntersectsSurroundingSeries(i,0,s),n.node.translationY=isFinite(s)?s:0}for(let s of[this.zerosumInnerRing,this.zerosumOuterRing])s.fillOpacity=0,s.stroke=this.properties.calloutLabel.color,s.strokeWidth=1,s.strokeOpacity=1;this.updateNodeMidPoint(),yield this.updateSelections(),yield this.updateNodes(e)})}updateTitleNodes(){let{oldTitle:e}=this,{title:t}=this.properties;e!==t&&(e&&this.labelGroup?.removeChild(e.node),t&&(t.node.textBaseline="bottom",this.labelGroup?.appendChild(t.node)),this.oldTitle=t)}updateNodeMidPoint(){this.nodeData.forEach(e=>{let t=e.innerRadius+(e.outerRadius-e.innerRadius)/2;e.midPoint={x:e.midCos*Math.max(0,t),y:e.midSin*Math.max(0,t)}})}updateSelections(){return R(this,null,function*(){yield this.updateGroupSelection(),this.updateInnerCircleSelection()})}updateGroupSelection(){return R(this,null,function*(){let{itemSelection:e,highlightSelection:t,highlightLabelSelection:n,calloutLabelSelection:o,labelSelection:a,innerLabelsSelection:s}=this,i=this.ctx.highlightManager.getActiveHighlight(),r=i?.series===this?this.nodeData.filter(h=>h.itemId===i?.itemId):[],l=(h,c)=>{let d=this.nodeData;c&&(d=d.map(p=>V(S({},p),{sectorFormat:S({},p.sectorFormat)}))),h.update(d,void 0,p=>this.getDatumId(p)),this.ctx.animationManager.isSkipped()&&h.cleanup()};l(e,!1),l(t,!0),o.update(this.nodeData,h=>{let c=new k0;c.tag=0,c.pointerEvents=1,h.appendChild(c);let d=new se;d.tag=1,d.pointerEvents=1,h.appendChild(d)}),a.update(this.nodeData),n.update(r),s.update(this.properties.innerLabels,h=>{h.pointerEvents=1})})}updateInnerCircleSelection(){let{innerCircle:e}=this.properties,t=0,n=this.getInnerRadius();if(n>0){let a=Math.min(n,this.getOuterRadius());t=Math.ceil(a*2+1)}let o=e?[{radius:t}]:[];this.innerCircleSelection.update(o)}updateNodes(e){return R(this,null,function*(){let t=this.ctx.highlightManager.getActiveHighlight(),n=this.visible&&this.seriesItemEnabled.indexOf(!0)>=0;this.rootGroup.visible=n,this.backgroundGroup.visible=n,this.contentGroup.visible=n,this.highlightGroup.visible=n&&t?.series===this,this.highlightLabel.visible=n&&t?.series===this,this.labelGroup&&(this.labelGroup.visible=n),this.contentGroup.opacity=this.getOpacity(),this.innerCircleSelection.each((a,{radius:s})=>{a.setProperties({fill:this.properties.innerCircle?.fill,opacity:this.properties.innerCircle?.fillOpacity,size:s})});let o=(a,s,i,r)=>{let l=this.getSectorFormat(s.datum,s.itemId,r);s.sectorFormat.fill=l.fill,s.sectorFormat.stroke=l.stroke;let h=this.ctx.animationManager.isSkipped();h&&(a.startAngle=s.startAngle,a.endAngle=s.endAngle,a.innerRadius=s.innerRadius,a.outerRadius=s.outerRadius),(r||h)&&(a.fill=l.fill,a.stroke=l.stroke),a.strokeWidth=l.strokeWidth,a.fillOpacity=l.fillOpacity,a.strokeOpacity=l.strokeOpacity,a.lineDash=l.lineDash,a.lineDashOffset=l.lineDashOffset,a.cornerRadius=l.cornerRadius,a.fillShadow=this.properties.shadow;let c=Math.max((this.properties.sectorSpacing+(l.stroke!=null?l.strokeWidth:0))/2,0);a.inset=c,a.lineJoin=this.properties.sectorSpacing>=0||c>0?"miter":"round"};this.itemSelection.each((a,s,i)=>o(a,s,i,!1)),this.highlightSelection.each((a,s,i)=>{let r=t?.series===this&&a.datum.itemId===t.itemId;o(a,s,i,!0),a.visible=r}),this.updateCalloutLineNodes(),this.updateCalloutLabelNodes(e),this.updateSectorLabelNodes(),this.updateInnerLabelNodes(),this.updateZerosumRings(),this.animationState.transition("update")})}updateCalloutLineNodes(){let{calloutLine:e}=this.properties,t=e.length,n=e.strokeWidth,o=e.colors??this.properties.strokes,{offset:a}=this.properties.calloutLabel;this.calloutLabelSelection.selectByTag(0).forEach((s,i)=>{let r=s.datum,{calloutLabel:l,outerRadius:h}=r;if(l?.text&&!l.hidden&&h!==0){s.visible=!0,s.strokeWidth=n,s.stroke=o[i%o.length],s.fill=void 0;let c=r.midCos*h,d=r.midSin*h,p=r.midCos*(h+t),v=r.midSin*(h+t);if((l.collisionTextAlign??l.collisionOffsetY!==0)&&l.box!=null){let u=l.box,f=p,M=v;p<u.x?f=u.x:p>u.x+u.width&&(f=u.x+u.width),v<u.y?M=u.y:v>u.y+u.height&&(M=u.y+u.height);let m=f-p,k=M-v,B=Math.sqrt(Math.pow(m,2)+Math.pow(k,2)),z=B-a;z>0&&(p=p+m*z/B,v=v+k*z/B)}s.x1=c,s.y1=d,s.x2=p,s.y2=v}else s.visible=!1})}getLabelOverflow(e,t,n){let o=n.x-this.centerX,a=n.x+n.width-this.centerX,s=n.y-this.centerY,i=n.y+n.height-this.centerY,r=1,l=1;t.x+r<o?l=(t.x+t.width-o)/t.width:t.x+t.width-r>a&&(l=(a-t.x)/t.width);let h=t.y+r<s||t.y+t.height-r>i,c=l===1?e.length:Math.floor(e.length*l)-1,d=this.bboxIntersectsSurroundingSeries(t);return{textLength:c,hasVerticalOverflow:h,hasSurroundingSeriesOverflow:d}}bboxIntersectsSurroundingSeries(e,t=0,n=0){let{surroundingRadius:o}=this;if(o==null)return!1;let a=[{x:e.x+t,y:e.y+n},{x:e.x+e.width+t,y:e.y+n},{x:e.x+e.width+t,y:e.y+e.height+n},{x:e.x+t,y:e.y+e.height+n}],s=o**2;return a.some(i=>i.x**2+i.y**2>s)}computeCalloutLabelCollisionOffsets(){let{radiusScale:e}=this,{calloutLabel:t,calloutLine:n}=this.properties,{offset:o,minSpacing:a}=t,s=e.convert(0),i=m=>!m.calloutLabel||m.outerRadius===0,r=this.nodeData,l=this.nodeData.filter(m=>!i(m));if(l.forEach(m=>{let k=m.calloutLabel;k!=null&&(k.hidden=!1,k.collisionTextAlign=void 0,k.collisionOffsetY=0)}),l.length<=1)return;let h=l.filter(m=>m.midCos<0).sort((m,k)=>m.midSin-k.midSin),c=l.filter(m=>m.midCos>=0).sort((m,k)=>m.midSin-k.midSin),d=l.filter(m=>m.midSin<0&&m.calloutLabel?.textAlign==="center").sort((m,k)=>m.midCos-k.midCos),p=l.filter(m=>m.midSin>=0&&m.calloutLabel?.textAlign==="center").sort((m,k)=>m.midCos-k.midCos),v=new se,g=m=>{let k=m.calloutLabel;if(k==null)return new pt(0,0,0,0);let B=m.outerRadius+n.length+o,z=m.midCos*B,I=m.midSin*B+k.collisionOffsetY;return v.text=k.text,v.x=z,v.y=I,v.setFont(this.properties.calloutLabel),v.setAlign({textAlign:k.collisionTextAlign??k.textAlign,textBaseline:k.textBaseline}),v.computeBBox()},u=(m,k,B)=>{let z=g(m).grow(a/2),I=g(k).grow(a/2);if(z.x<I.x+I.width&&z.x+z.width>I.x&&(B==="to-top"?z.y<I.y+I.height:z.y+z.height>I.y)){let b=B==="to-top"?z.y-I.y-I.height:z.y+z.height-I.y;k.calloutLabel.collisionOffsetY=b}},f=m=>{let k=m.slice().sort((z,I)=>Math.abs(z.midSin)-Math.abs(I.midSin))[0],B=m.indexOf(k);for(let z=B-1;z>=0;z--){let I=m[z+1],y=m[z];u(I,y,"to-top")}for(let z=B+1;z<m.length;z++){let I=m[z-1],y=m[z];u(I,y,"to-bottom")}},M=m=>{let k=l.some(C=>C.calloutLabel.collisionOffsetY!==0),B=m.map(C=>g(C)),z=B.map(C=>C.clone().grow(a/2)),I=!1;for(let C=0;C<z.length&&!I;C++){let E=z[C];for(let _=C+1;_<m.length;_++){let F=z[_];if(E.collidesBBox(F)){I=!0;break}}}let y=r.map(C=>{let{startAngle:E,endAngle:_,outerRadius:F}=C;return{startAngle:E,endAngle:_,innerRadius:s,outerRadius:F}}),b=B.some(C=>y.some(E=>OB(C,E)));!I&&!k&&!b||m.filter(C=>C.calloutLabel.textAlign==="center").forEach(C=>{let E=C.calloutLabel;C.midCos<0?E.collisionTextAlign="right":C.midCos>0?E.collisionTextAlign="left":E.collisionTextAlign="center"})};f(h),f(c),M(d),M(p)}updateCalloutLabelNodes(e){let{radiusScale:t}=this,{calloutLabel:n,calloutLine:o}=this.properties,a=o.length,{offset:s,color:i}=n,r=new se;this.calloutLabelSelection.selectByTag(1).forEach(l=>{let{datum:h}=l,c=h.calloutLabel,d=t.convert(h.radius),p=Math.max(0,d);if(!c?.text||p===0||c.hidden){l.visible=!1;return}let v=p+a+s,g=h.midCos*v,u=h.midSin*v+c.collisionOffsetY,f={textAlign:c.collisionTextAlign??c.textAlign,textBaseline:c.textBaseline};r.text=c.text,r.x=g,r.y=u,r.setFont(this.properties.calloutLabel),r.setAlign(f);let M=r.computeBBox(),m=c.text,k=!0;if(n.avoidCollisions){let{textLength:B,hasVerticalOverflow:z}=this.getLabelOverflow(c.text,M,e);m=c.text.length===B?c.text:`${c.text.substring(0,B)}\u2026`,k=!z}l.text=m,l.x=g,l.y=u,l.setFont(this.properties.calloutLabel),l.setAlign(f),l.fill=i,l.visible=k})}computeLabelsBBox(e,t){return R(this,null,function*(){let{calloutLabel:n,calloutLine:o}=this.properties,a=o.length,{offset:s,maxCollisionOffset:i,minSpacing:r}=n;if(!n.avoidCollisions)return null;yield this.maybeRefreshNodeData(),this.updateRadiusScale(!1),this.computeCalloutLabelCollisionOffsets();let l=[],h=new se,c,{title:d}=this.properties;if(d?.text&&d.enabled){let p=this.getTitleTranslationY();isFinite(p)&&(h.text=d.text,h.x=0,h.y=p,h.setFont(d),h.setAlign({textBaseline:"bottom",textAlign:"center"}),c=h.computeBBox(),l.push(c))}return this.nodeData.forEach(p=>{let v=p.calloutLabel;if(!v||p.outerRadius===0)return null;let g=p.outerRadius+a+s,u=p.midCos*g,f=p.midSin*g+v.collisionOffsetY;h.text=v.text,h.x=u,h.y=f,h.setFont(this.properties.calloutLabel),h.setAlign({textAlign:v.collisionTextAlign??v.textAlign,textBaseline:v.textBaseline});let M=h.computeBBox();if(v.box=M,Math.abs(v.collisionOffsetY)>i){v.hidden=!0;return}if(c){let m=t.y-this.centerY,k=new pt(c.x-r,m,c.width+2*r,c.y+c.height+r-m);if(M.collidesBBox(k)){v.hidden=!0;return}}if(e.hideWhenNecessary){let{textLength:m,hasVerticalOverflow:k,hasSurroundingSeriesOverflow:B}=this.getLabelOverflow(v.text,M,t),z=v.text.length>2&&m<2;if(k||z||B){v.hidden=!0;return}}v.hidden=!1,l.push(M)}),l.length===0?null:pt.merge(l)})}updateSectorLabelNodes(){let{radiusScale:e}=this,t=e.convert(0),{fontSize:n,fontStyle:o,fontWeight:a,fontFamily:s,positionOffset:i,positionRatio:r,color:l}=this.properties.sectorLabel,h=(c,d)=>{let{sectorLabel:p,outerRadius:v}=d,g=!1;if(p&&v!==0){let u=t*(1-r)+v*r+i;c.fill=l,c.fontStyle=o,c.fontWeight=a,c.fontSize=n,c.fontFamily=s,c.text=p.text,c.x=d.midCos*u,c.y=d.midSin*u,c.textAlign="center",c.textBaseline="middle";let f=c.computeBBox(),M=[[f.x,f.y],[f.x+f.width,f.y],[f.x+f.width,f.y+f.height],[f.x,f.y+f.height]],{startAngle:m,endAngle:k}=d,B={startAngle:m,endAngle:k,innerRadius:t,outerRadius:v};M.every(([z,I])=>e3(z,I,B))&&(g=!0)}c.visible=g};this.labelSelection.each(h),this.highlightLabelSelection.each(h)}updateInnerLabelNodes(){let e=[],t=[];this.innerLabelsSelection.each((c,d)=>{let{fontStyle:p,fontWeight:v,fontSize:g,fontFamily:u,color:f}=d;c.fontStyle=p,c.fontWeight=v,c.fontSize=g,c.fontFamily=u,c.text=d.text,c.x=0,c.y=0,c.fill=f,c.textAlign="center",c.textBaseline="alphabetic",e.push(c.computeBBox()),t.push(d.spacing)});let n=c=>c===0?0:t[c],o=c=>c===t.length-1?0:t[c],a=e.reduce((c,d,p)=>c+d.height+n(p)+o(p),0),s=Math.max(...e.map(c=>c.width)),i=this.getInnerRadius(),l=Math.sqrt(Math.pow(s/2,2)+Math.pow(a/2,2))<=(i>0?i:this.getOuterRadius()),h=[];for(let c=0,d=-a/2;c<e.length;c++){let v=e[c].height+d+n(c);h.push(v),d=v+o(c)}this.innerLabelsSelection.each((c,d,p)=>{c.y=h[p],c.visible=l})}updateZerosumRings(){this.zerosumOuterRing.size=this.getOuterRadius()*2,this.zerosumInnerRing.size=this.getInnerRadius()*2}getDatumLegendName(e){let{angleKey:t,calloutLabelKey:n,sectorLabelKey:o,legendItemKey:a}=this.properties,{sectorLabel:s,calloutLabel:i,legendItem:r}=e;if(a&&r!==void 0)return r.text;if(n&&n!==t&&i?.text!==void 0)return i.text;if(o&&o!==t&&s?.text!==void 0)return s.text}pickNodeClosestDatum(e){return e7(this,e)}getTooltipHtml(e){if(!this.properties.isValid())return ba;let{datum:t,angleValue:n,sectorFormat:{fill:o},itemId:a}=e,s=Ae(this.properties.title?.text),i=Xt(n)?a3(n):String(n),r=this.getDatumLegendName(e);return this.properties.tooltip.toTooltipHtml({title:s??r,content:s&&r?`${r}: ${i}`:i,backgroundColor:o},{datum:t,itemId:a,title:s,color:o,seriesId:this.id,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey})}getLegendData(e){let{visible:t,processedData:n,dataModel:o}=this;if(!o||!n?.data.length||!this.properties.isValid()||e!=="category")return[];let{angleKey:a,calloutLabelKey:s,sectorLabelKey:i,legendItemKey:r}=this.properties;if(!r&&(!s||s===a)&&(!i||i===a))return[];let{calloutLabelIdx:l,sectorLabelIdx:h,legendItemIdx:c}=this.getProcessedDataIndexes(o),d=this.properties.title?.showInLegend&&this.properties.title.text,p=[];for(let v=0;v<n.data.length;v++){let{datum:g,values:u}=n.data[v],f=[];d&&f.push(d);let M=this.getLabels(g,2*Math.PI,2*Math.PI,!1,u[l],u[h],u[c]);if(r&&M.legendItem!==void 0?f.push(M.legendItem.text):s&&s!==a&&M.calloutLabel?.text!==void 0?f.push(M.calloutLabel?.text):i&&i!==a&&M.sectorLabel?.text!==void 0&&f.push(M.sectorLabel?.text),f.length===0)continue;let m=this.getSectorFormat(g,v,!1);p.push({legendType:"category",id:this.id,itemId:v,seriesId:this.id,enabled:t&&this.seriesItemEnabled[v],label:{text:f.join(" - ")},symbols:[{marker:{fill:m.fill,stroke:m.stroke,fillOpacity:this.properties.fillOpacity,strokeOpacity:this.properties.strokeOpacity,strokeWidth:this.properties.strokeWidth}}],legendItemName:r!=null?g[r]:void 0})}return p}onLegendItemClick(e){let{enabled:t,itemId:n,series:o,legendItemName:a}=e;o.id===this.id?this.toggleSeriesItem(n,t):a!=null&&this.toggleOtherSeriesItems(a,t)}toggleSeriesItem(e,t){this.seriesItemEnabled[e]=t,this.nodeData[e]&&(this.nodeData[e].enabled=t),this.nodeDataRefresh=!0}toggleOtherSeriesItems(e,t){if(!this.properties.legendItemKey||!this.dataModel)return;let n=this.dataModel.resolveProcessedDataIndexById(this,"legendItemValue");this.processedData?.data.forEach(({values:o},a)=>{o[n]===e&&this.toggleSeriesItem(a,t)})}animateEmptyUpdateReady(e){let{animationManager:t}=this.ctx,n=S2(!0,this.properties.rotation,this.radiusScale,this.previousRadiusScale);$e(this.id,"nodes",t,[this.itemSelection,this.highlightSelection],n.nodes),$e(this.id,"innerCircle",t,[this.innerCircleSelection],n.innerCircle),ee(this,"callout",t,this.calloutLabelSelection),ee(this,"sector",t,this.labelSelection),ee(this,"highlight",t,this.highlightLabelSelection),ee(this,"inner",t,this.innerLabelsSelection),this.previousRadiusScale.range=this.radiusScale.range}animateWaitingUpdateReady(){let{itemSelection:e,highlightSelection:t,processedData:n,radiusScale:o,previousRadiusScale:a}=this,{animationManager:s}=this.ctx,i=n?.reduced?.diff;this.ctx.animationManager.stopByAnimationGroupId(this.id);let r=(i?.moved.size??0)===0,l=(n?.defs.keys.length??0)>0,h=n?.reduced?.animationValidation?.uniqueKeys??!0;(!r||!l||!h)&&this.ctx.animationManager.skipCurrentBatch();let c=S2(!1,this.properties.rotation,o,a);$e(this.id,"nodes",s,[e,t],c.nodes,(d,p)=>this.getDatumId(p),i),$e(this.id,"innerCircle",s,[this.innerCircleSelection],c.innerCircle),ee(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),ee(this,"sector",this.ctx.animationManager,this.labelSelection),ee(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),ee(this,"inner",this.ctx.animationManager,this.innerLabelsSelection),this.previousRadiusScale.range=this.radiusScale.range}animateClearingUpdateEmpty(){let{itemSelection:e,highlightSelection:t,radiusScale:n,previousRadiusScale:o}=this,{animationManager:a}=this.ctx,s=S2(!1,this.properties.rotation,n,o);$e(this.id,"nodes",a,[e,t],s.nodes),$e(this.id,"innerCircle",a,[this.innerCircleSelection],s.innerCircle),vs(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),vs(this,"sector",this.ctx.animationManager,this.labelSelection),vs(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),vs(this,"inner",this.ctx.animationManager,this.innerLabelsSelection),this.previousRadiusScale.range=this.radiusScale.range}getDatumIdFromData(e){let{calloutLabelKey:t,sectorLabelKey:n,legendItemKey:o}=this.properties;if(this.processedData?.reduced?.animationValidation?.uniqueKeys){if(o)return e[o];if(t)return e[t];if(n)return e[n]}}getDatumId(e){let{index:t}=e,n=this.getDatumIdFromData(e.datum);return n!=null?String(n):`${t}`}onDataChange(){let{data:e,seriesItemEnabled:t}=this;this.seriesItemEnabled=e?.map((n,o)=>t[o]??!0)??[]}};n7.className="DonutSeries";n7.type="donut";var k$={series:{title:{enabled:!0,fontWeight:"normal",fontSize:14,fontFamily:We,color:ms,spacing:5},calloutLabel:{enabled:!0,fontSize:12,fontFamily:We,color:I0,offset:3,minAngle:0},sectorLabel:{enabled:!0,fontWeight:"normal",fontSize:12,fontFamily:We,color:F2,positionOffset:0,positionRatio:.5},calloutLine:{length:10,strokeWidth:2},fillOpacity:1,strokeOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,rotation:0,sectorSpacing:1,shadow:{enabled:!1,color:V2,xOffset:3,yOffset:3,blur:5},innerLabels:{fontSize:12,fontFamily:We,color:I0,spacing:2}}},z$={series:{title:{enabled:!0,fontWeight:"normal",fontSize:14,fontFamily:We,color:ms,spacing:5},calloutLabel:{enabled:!0,fontSize:12,fontFamily:We,color:I0,offset:3,minAngle:0},sectorLabel:{enabled:!0,fontWeight:"normal",fontSize:12,fontFamily:We,color:F2,positionOffset:0,positionRatio:.5},calloutLine:{length:10,strokeWidth:2},fillOpacity:1,strokeOpacity:1,strokeWidth:0,lineDash:[0],lineDashOffset:0,rotation:0,sectorSpacing:1,shadow:{enabled:!1,color:V2,xOffset:3,yOffset:3,blur:5}}},FB=({takeColors:e,colorsCount:t})=>{let{fills:n,strokes:o}=e(t);return{fills:n,strokes:o,calloutLine:{colors:o}}},b$={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["polar"],identifier:"donut",instanceConstructor:n7,tooltipDefaults:{range:"exact"},themeTemplate:k$,paletteFactory:FB},VB=class extends ze{constructor(){super(...arguments),this.showInLegend=!1}};w([x(It)],VB.prototype,"showInLegend",2);var Rr=class extends d0{constructor(){super(...arguments),this.offset=3,this.minAngle=0,this.minSpacing=4,this.maxCollisionOffset=50,this.avoidCollisions=!0}};w([x(Z)],Rr.prototype,"offset",2);w([x(Bs)],Rr.prototype,"minAngle",2);w([x(Z)],Rr.prototype,"minSpacing",2);w([x(Z)],Rr.prototype,"maxCollisionOffset",2);w([x(It)],Rr.prototype,"avoidCollisions",2);var o7=class extends d0{constructor(){super(...arguments),this.positionOffset=0,this.positionRatio=.5}};w([x(xe)],o7.prototype,"positionOffset",2);w([x(ie)],o7.prototype,"positionRatio",2);var E3=class extends Vt{constructor(){super(...arguments),this.length=10,this.strokeWidth=1}};w([x(x1,{optional:!0})],E3.prototype,"colors",2);w([x(Z)],E3.prototype,"length",2);w([x(Z)],E3.prototype,"strokeWidth",2);var ce=class extends q1{constructor(){super(...arguments),this.fills=Object.values(Vn),this.strokes=Object.values(us),this.fillOpacity=1,this.strokeOpacity=1,this.lineDash=[0],this.lineDashOffset=0,this.cornerRadius=0,this.rotation=0,this.outerRadiusOffset=0,this.outerRadiusRatio=1,this.strokeWidth=1,this.sectorSpacing=0,this.title=new VB,this.shadow=new Y1,this.calloutLabel=new Rr,this.sectorLabel=new o7,this.calloutLine=new E3,this.tooltip=new an}};w([x(et)],ce.prototype,"angleKey",2);w([x(et,{optional:!0})],ce.prototype,"angleName",2);w([x(et,{optional:!0})],ce.prototype,"radiusKey",2);w([x(et,{optional:!0})],ce.prototype,"radiusName",2);w([x(Z,{optional:!0})],ce.prototype,"radiusMin",2);w([x(Z,{optional:!0})],ce.prototype,"radiusMax",2);w([x(et,{optional:!0})],ce.prototype,"calloutLabelKey",2);w([x(et,{optional:!0})],ce.prototype,"calloutLabelName",2);w([x(et,{optional:!0})],ce.prototype,"sectorLabelKey",2);w([x(et,{optional:!0})],ce.prototype,"sectorLabelName",2);w([x(et,{optional:!0})],ce.prototype,"legendItemKey",2);w([x(x1)],ce.prototype,"fills",2);w([x(x1)],ce.prototype,"strokes",2);w([x(ie)],ce.prototype,"fillOpacity",2);w([x(ie)],ce.prototype,"strokeOpacity",2);w([x(za)],ce.prototype,"lineDash",2);w([x(Z)],ce.prototype,"lineDashOffset",2);w([x(Z)],ce.prototype,"cornerRadius",2);w([x(In,{optional:!0})],ce.prototype,"itemStyler",2);w([x(Bs)],ce.prototype,"rotation",2);w([x(xe)],ce.prototype,"outerRadiusOffset",2);w([x(ie)],ce.prototype,"outerRadiusRatio",2);w([x(Z)],ce.prototype,"strokeWidth",2);w([x(xe)],ce.prototype,"sectorSpacing",2);w([x(vt)],ce.prototype,"title",2);w([x(vt)],ce.prototype,"shadow",2);w([x(vt)],ce.prototype,"calloutLabel",2);w([x(vt)],ce.prototype,"sectorLabel",2);w([x(vt)],ce.prototype,"calloutLine",2);w([x(vt)],ce.prototype,"tooltip",2);var C$=class extends i4{constructor(e,t,n,o){super(e,t,n,o),this.angleKey=o.properties.angleKey,this.radiusKey=o.properties.radiusKey,this.calloutLabelKey=o.properties.calloutLabelKey,this.sectorLabelKey=o.properties.sectorLabelKey}},a7=class extends H3{constructor(e){super({moduleCtx:e,pickModes:[3,0],useLabelLayer:!0,animationResetFns:{item:t7,label:Sa}}),this.properties=new ce,this.previousRadiusScale=new To,this.radiusScale=new To,this.calloutLabelGroup=this.contentGroup.appendChild(new mt({name:"pieCalloutLabels"})),this.calloutLabelSelection=new qe(this.calloutLabelGroup,mt),this.backgroundGroup=this.rootGroup.appendChild(new mt({name:`${this.id}-background`,layer:!0,zIndex:0})),this.zerosumRingsGroup=this.backgroundGroup.appendChild(new mt({name:`${this.id}-zerosumRings`})),this.zerosumOuterRing=this.zerosumRingsGroup.appendChild(new Ms),this.seriesItemEnabled=[],this.surroundingRadius=void 0,this.NodeEvent=C$,this.angleScale=new To,this.angleScale.domain=[0,1],this.angleScale.range=[-Math.PI,Math.PI].map(t=>t+Math.PI/2)}addChartEventListeners(){this.destroyFns.push(this.ctx.chartEventManager?.addListener("legend-item-click",e=>this.onLegendItemClick(e)))}get visible(){return super.visible&&(this.seriesItemEnabled.length===0||this.seriesItemEnabled.some(e=>e))}nodeFactory(){let e=new L0;return e.miterLimit=1e9,e}getSeriesDomain(e){return e==="x"?this.angleScale.domain:this.radiusScale.domain}processData(e){return R(this,null,function*(){if(this.data==null||!this.properties.isValid())return;let{data:t}=this,{visible:n,seriesItemEnabled:o}=this,{angleKey:a,radiusKey:s,calloutLabelKey:i,sectorLabelKey:r,legendItemKey:l}=this.properties,h=!this.ctx.animationManager.isSkipped(),c=[],d=[];l?c.push(A0(l,"band",{id:"legendItemKey"})):i?c.push(A0(i,"band",{id:"calloutLabelKey"})):r&&c.push(A0(r,"band",{id:"sectorLabelKey"}));let p=this.radiusScale.type,v=this.radiusScale.type;s&&d.push(df(s,{id:"radiusValue",min:this.properties.radiusMin??0,max:this.properties.radiusMax}),ge(s,p,{id:"radiusRaw"}),Fh({id:"radiusValue"},[0,1],1,this.properties.radiusMin??0,this.properties.radiusMax)),i&&d.push(ge(i,"band",{id:"calloutLabelValue"})),r&&d.push(ge(r,"band",{id:"sectorLabelValue"})),l&&d.push(ge(l,"band",{id:"legendItemValue"})),h&&this.processedData&&c.length>0&&d.push(R2(this.processedData)),d.push(Cr()),t=t.map((g,u)=>n&&o[u]?g:V(S({},g),{[a]:0})),yield this.requestDataModel(e,t,{props:[...c,pf(a,v,{id:"angleValue",onlyPositive:!0}),ge(a,v,{id:"angleRaw"}),Fh({id:"angleValue"},[0,1],0,0),...d]});for(let g of this.processedData?.defs?.values??[]){let{id:u,missing:f,property:M}=g,m=nf(this,f);u!=="angleRaw"&&m>0&&q.warnOnce(`no value was found for the key '${String(M)}' on ${m} data element${m>1?"s":""}`)}this.animationState.transition("updateData")})}maybeRefreshNodeData(){return R(this,null,function*(){if(!this.nodeDataRefresh)return;let{nodeData:e=[]}=(yield this.createNodeData())??{};this.nodeData=e,this.nodeDataRefresh=!1})}getProcessedDataIndexes(e){let t=e.resolveProcessedDataIndexById(this,"angleValue"),n=this.properties.radiusKey?e.resolveProcessedDataIndexById(this,"radiusValue"):-1,o=this.properties.calloutLabelKey?e.resolveProcessedDataIndexById(this,"calloutLabelValue"):-1,a=this.properties.sectorLabelKey?e.resolveProcessedDataIndexById(this,"sectorLabelValue"):-1,s=this.properties.legendItemKey?e.resolveProcessedDataIndexById(this,"legendItemValue"):-1;return{angleIdx:t,radiusIdx:n,calloutLabelIdx:o,sectorLabelIdx:a,legendItemIdx:s}}createNodeData(){return R(this,null,function*(){let{id:e,processedData:t,dataModel:n,angleScale:o}=this,{rotation:a}=this.properties;if(!t||!n||t.type!=="ungrouped")return;let{angleIdx:s,radiusIdx:i,calloutLabelIdx:r,sectorLabelIdx:l,legendItemIdx:h}=this.getProcessedDataIndexes(n),c=0,d=0,p=t.data.map((v,g)=>{let{datum:u,values:f}=v,M=f[s],m=o.convert(c)+Q0(a);c=M,d+=M;let k=o.convert(c)+Q0(a),B=Math.abs(k-m),z=m+B/2,I=f[s+1],y=i>=0?f[i]??1:1,b=i>=0?f[i+1]:void 0,C=h>=0?f[h]:void 0,E=this.getLabels(u,z,B,!0,f[r],f[l],C),_=this.getSectorFormat(u,g,!1);return S({itemId:g,series:this,datum:u,index:g,angleValue:I,midAngle:z,midCos:Math.cos(z),midSin:Math.sin(z),startAngle:m,endAngle:k,sectorFormat:_,radiusValue:b,radius:y,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(y),0),legendItemValue:C,enabled:this.seriesItemEnabled[g]},E)});return this.zerosumOuterRing.visible=d===0,{itemId:e,nodeData:p,labelData:p}})}getLabels(e,t,n,o,a,s,i){let{calloutLabel:r,sectorLabel:l,legendItemKey:h}=this.properties,c=!o||r.enabled?this.properties.calloutLabelKey:void 0,d=!o||l.enabled?this.properties.sectorLabelKey:void 0;if(!c&&!d&&!h)return{};let p={datum:e,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey},v={};return c&&n>Q0(r.minAngle)&&(v.calloutLabel=V(S({},this.getTextAlignment(t)),{text:this.getLabelText(r,V(S({},p),{value:a})),hidden:!1,collisionTextAlign:void 0,collisionOffsetY:0,box:void 0})),d&&(v.sectorLabel={text:this.getLabelText(l,V(S({},p),{value:s}))}),h!=null&&i!=null&&(v.legendItem={key:h,text:i}),v}getTextAlignment(e){let t=[{textAlign:"center",textBaseline:"bottom"},{textAlign:"left",textBaseline:"middle"},{textAlign:"center",textBaseline:"hanging"},{textAlign:"right",textBaseline:"middle"}],n=Rh(e),o=-.75*Math.PI,a=n-o,s=Math.floor(a/(Math.PI/2)),i=s3(s,t.length);return t[i]}getSectorFormat(e,t,n){let{callbackCache:o,highlightManager:a}=this.ctx,{angleKey:s,radiusKey:i,calloutLabelKey:r,sectorLabelKey:l,legendItemKey:h,fills:c,strokes:d,itemStyler:p}=this.properties,v=a.getActiveHighlight(),g=n&&v?.series===this&&t===v.itemId,u=d[t%d.length],{fill:f,fillOpacity:M,stroke:m,strokeWidth:k,strokeOpacity:B,lineDash:z,lineDashOffset:I,cornerRadius:y}=Wt(g&&this.properties.highlightStyle.item,{fill:c.length>0?c[t%c.length]:void 0,stroke:u,strokeWidth:this.getStrokeWidth(this.properties.strokeWidth),strokeOpacity:this.getOpacity()},this.properties),b;return p&&(b=o.call(p,{datum:e,angleKey:s,radiusKey:i,calloutLabelKey:r,sectorLabelKey:l,legendItemKey:h,fill:f,strokeOpacity:B,stroke:m,strokeWidth:k,fillOpacity:M,lineDash:z,lineDashOffset:I,cornerRadius:y,highlighted:g,seriesId:this.id})),{fill:b?.fill??f,fillOpacity:b?.fillOpacity??M,stroke:b?.stroke??m,strokeWidth:b?.strokeWidth??k,strokeOpacity:b?.strokeOpacity??B,lineDash:b?.lineDash??z,lineDashOffset:b?.lineDashOffset??I,cornerRadius:b?.cornerRadius??y}}getOuterRadius(){return Math.max(this.radius*this.properties.outerRadiusRatio+this.properties.outerRadiusOffset,0)}updateRadiusScale(e){let t=[0,this.getOuterRadius()];this.radiusScale.range=t,e&&(this.previousRadiusScale.range=t),this.nodeData=this.nodeData.map(a=>{var s=a,{radius:n}=s,o=ue(s,["radius"]);return V(S({},o),{radius:n,innerRadius:Math.max(this.radiusScale.convert(0),0),outerRadius:Math.max(this.radiusScale.convert(n),0)})})}getTitleTranslationY(){let e=Math.max(0,this.radiusScale.range[1]);if(e===0)return NaN;let n=2+(this.properties.title?.spacing??0),o=Math.max(0,-e);return-e-n-o}update(t){return R(this,arguments,function*({seriesRect:e}){let{title:n}=this.properties,o={seriesRectWidth:e?.width,seriesRectHeight:e?.height},a=Un(this.nodeDataDependencies,o)!=null;if(a&&(this._nodeDataDependencies=o),yield this.maybeRefreshNodeData(),this.updateTitleNodes(),this.updateRadiusScale(a),this.contentGroup.translationX=this.centerX,this.contentGroup.translationY=this.centerY,this.highlightGroup.translationX=this.centerX,this.highlightGroup.translationY=this.centerY,this.backgroundGroup.translationX=this.centerX,this.backgroundGroup.translationY=this.centerY,this.labelGroup&&(this.labelGroup.translationX=this.centerX,this.labelGroup.translationY=this.centerY),n){let s=this.getTitleTranslationY(),i=n.node.computeBBox();n.node.visible=n.enabled&&isFinite(s)&&!this.bboxIntersectsSurroundingSeries(i,0,s),n.node.translationY=isFinite(s)?s:0}this.zerosumOuterRing.fillOpacity=0,this.zerosumOuterRing.stroke=this.properties.calloutLabel.color,this.zerosumOuterRing.strokeWidth=1,this.zerosumOuterRing.strokeOpacity=1,this.updateNodeMidPoint(),yield this.updateSelections(),yield this.updateNodes(e)})}updateTitleNodes(){let{oldTitle:e}=this,{title:t}=this.properties;e!==t&&(e&&this.labelGroup?.removeChild(e.node),t&&(t.node.textBaseline="bottom",this.labelGroup?.appendChild(t.node)),this.oldTitle=t)}updateNodeMidPoint(){this.nodeData.forEach(e=>{let t=e.innerRadius+(e.outerRadius-e.innerRadius)/2;e.midPoint={x:e.midCos*Math.max(0,t),y:e.midSin*Math.max(0,t)}})}updateSelections(){return R(this,null,function*(){yield this.updateGroupSelection()})}updateGroupSelection(){return R(this,null,function*(){let{itemSelection:e,highlightSelection:t,highlightLabelSelection:n,calloutLabelSelection:o,labelSelection:a}=this,s=this.ctx.highlightManager.getActiveHighlight(),i=s?.series===this?this.nodeData.filter(l=>l.itemId===s?.itemId):[],r=(l,h)=>{let c=this.nodeData;h&&(c=c.map(d=>V(S({},d),{sectorFormat:S({},d.sectorFormat)}))),l.update(c,void 0,d=>this.getDatumId(d)),this.ctx.animationManager.isSkipped()&&l.cleanup()};r(e,!1),r(t,!0),o.update(this.nodeData,l=>{let h=new k0;h.tag=0,h.pointerEvents=1,l.appendChild(h);let c=new se;c.tag=1,c.pointerEvents=1,l.appendChild(c)}),a.update(this.nodeData),n.update(i)})}updateNodes(e){return R(this,null,function*(){let t=this.ctx.highlightManager.getActiveHighlight(),n=this.visible&&this.seriesItemEnabled.indexOf(!0)>=0;this.rootGroup.visible=n,this.backgroundGroup.visible=n,this.contentGroup.visible=n,this.highlightGroup.visible=n&&t?.series===this,this.highlightLabel.visible=n&&t?.series===this,this.labelGroup&&(this.labelGroup.visible=n),this.contentGroup.opacity=this.getOpacity();let o=(a,s,i,r)=>{let l=this.getSectorFormat(s.datum,s.itemId,r);s.sectorFormat.fill=l.fill,s.sectorFormat.stroke=l.stroke;let h=this.ctx.animationManager.isSkipped();h&&(a.startAngle=s.startAngle,a.endAngle=s.endAngle,a.innerRadius=s.innerRadius,a.outerRadius=s.outerRadius),(r||h)&&(a.fill=l.fill,a.stroke=l.stroke),a.strokeWidth=l.strokeWidth,a.fillOpacity=l.fillOpacity,a.strokeOpacity=l.strokeOpacity,a.lineDash=l.lineDash,a.lineDashOffset=l.lineDashOffset,a.cornerRadius=l.cornerRadius,a.fillShadow=this.properties.shadow;let c=Math.max((this.properties.sectorSpacing+(l.stroke!=null?l.strokeWidth:0))/2,0);a.inset=c,a.lineJoin=this.properties.sectorSpacing>=0||c>0?"miter":"round"};this.itemSelection.each((a,s,i)=>o(a,s,i,!1)),this.highlightSelection.each((a,s,i)=>o(a,s,i,!0)),this.updateCalloutLineNodes(),this.updateCalloutLabelNodes(e),this.updateSectorLabelNodes(),this.updateZerosumRings(),this.animationState.transition("update")})}updateCalloutLineNodes(){let{calloutLine:e}=this.properties,t=e.length,n=e.strokeWidth,o=e.colors??this.properties.strokes,{offset:a}=this.properties.calloutLabel;this.calloutLabelSelection.selectByTag(0).forEach((s,i)=>{let r=s.datum,{calloutLabel:l,outerRadius:h}=r;if(l?.text&&!l.hidden&&h!==0){s.visible=!0,s.strokeWidth=n,s.stroke=o[i%o.length],s.fill=void 0;let c=r.midCos*h,d=r.midSin*h,p=r.midCos*(h+t),v=r.midSin*(h+t);if((l.collisionTextAlign??l.collisionOffsetY!==0)&&l.box!=null){let u=l.box,f=p,M=v;p<u.x?f=u.x:p>u.x+u.width&&(f=u.x+u.width),v<u.y?M=u.y:v>u.y+u.height&&(M=u.y+u.height);let m=f-p,k=M-v,B=Math.sqrt(Math.pow(m,2)+Math.pow(k,2)),z=B-a;z>0&&(p=p+m*z/B,v=v+k*z/B)}s.x1=c,s.y1=d,s.x2=p,s.y2=v}else s.visible=!1})}getLabelOverflow(e,t,n){let o=n.x-this.centerX,a=n.x+n.width-this.centerX,s=n.y-this.centerY,i=n.y+n.height-this.centerY,r=1,l=1;t.x+r<o?l=(t.x+t.width-o)/t.width:t.x+t.width-r>a&&(l=(a-t.x)/t.width);let h=t.y+r<s||t.y+t.height-r>i,c=l===1?e.length:Math.floor(e.length*l)-1,d=this.bboxIntersectsSurroundingSeries(t);return{textLength:c,hasVerticalOverflow:h,hasSurroundingSeriesOverflow:d}}bboxIntersectsSurroundingSeries(e,t=0,n=0){let{surroundingRadius:o}=this;if(o==null)return!1;let a=[{x:e.x+t,y:e.y+n},{x:e.x+e.width+t,y:e.y+n},{x:e.x+e.width+t,y:e.y+e.height+n},{x:e.x+t,y:e.y+e.height+n}],s=o**2;return a.some(i=>i.x**2+i.y**2>s)}computeCalloutLabelCollisionOffsets(){let{radiusScale:e}=this,{calloutLabel:t,calloutLine:n}=this.properties,{offset:o,minSpacing:a}=t,s=e.convert(0),i=m=>!m.calloutLabel||m.outerRadius===0,r=this.nodeData,l=this.nodeData.filter(m=>!i(m));if(l.forEach(m=>{let k=m.calloutLabel;k!=null&&(k.hidden=!1,k.collisionTextAlign=void 0,k.collisionOffsetY=0)}),l.length<=1)return;let h=l.filter(m=>m.midCos<0).sort((m,k)=>m.midSin-k.midSin),c=l.filter(m=>m.midCos>=0).sort((m,k)=>m.midSin-k.midSin),d=l.filter(m=>m.midSin<0&&m.calloutLabel?.textAlign==="center").sort((m,k)=>m.midCos-k.midCos),p=l.filter(m=>m.midSin>=0&&m.calloutLabel?.textAlign==="center").sort((m,k)=>m.midCos-k.midCos),v=new se,g=m=>{let k=m.calloutLabel;if(k==null)return new pt(0,0,0,0);let B=m.outerRadius+n.length+o,z=m.midCos*B,I=m.midSin*B+k.collisionOffsetY;return v.text=k.text,v.x=z,v.y=I,v.setFont(this.properties.calloutLabel),v.setAlign({textAlign:k.collisionTextAlign??k.textAlign,textBaseline:k.textBaseline}),v.computeBBox()},u=(m,k,B)=>{let z=g(m).grow(a/2),I=g(k).grow(a/2);if(z.x<I.x+I.width&&z.x+z.width>I.x&&(B==="to-top"?z.y<I.y+I.height:z.y+z.height>I.y)){let b=B==="to-top"?z.y-I.y-I.height:z.y+z.height-I.y;k.calloutLabel.collisionOffsetY=b}},f=m=>{let k=m.slice().sort((z,I)=>Math.abs(z.midSin)-Math.abs(I.midSin))[0],B=m.indexOf(k);for(let z=B-1;z>=0;z--){let I=m[z+1],y=m[z];u(I,y,"to-top")}for(let z=B+1;z<m.length;z++){let I=m[z-1],y=m[z];u(I,y,"to-bottom")}},M=m=>{let k=l.some(C=>C.calloutLabel.collisionOffsetY!==0),B=m.map(C=>g(C)),z=B.map(C=>C.clone().grow(a/2)),I=!1;for(let C=0;C<z.length&&!I;C++){let E=z[C];for(let _=C+1;_<m.length;_++){let F=z[_];if(E.collidesBBox(F)){I=!0;break}}}let y=r.map(C=>{let{startAngle:E,endAngle:_,outerRadius:F}=C;return{startAngle:E,endAngle:_,innerRadius:s,outerRadius:F}}),b=B.some(C=>y.some(E=>OB(C,E)));!I&&!k&&!b||m.filter(C=>C.calloutLabel.textAlign==="center").forEach(C=>{let E=C.calloutLabel;C.midCos<0?E.collisionTextAlign="right":C.midCos>0?E.collisionTextAlign="left":E.collisionTextAlign="center"})};f(h),f(c),M(d),M(p)}updateCalloutLabelNodes(e){let{radiusScale:t}=this,{calloutLabel:n,calloutLine:o}=this.properties,a=o.length,{offset:s,color:i}=n,r=new se;this.calloutLabelSelection.selectByTag(1).forEach(l=>{let{datum:h}=l,c=h.calloutLabel,d=t.convert(h.radius),p=Math.max(0,d);if(!c?.text||p===0||c.hidden){l.visible=!1;return}let v=p+a+s,g=h.midCos*v,u=h.midSin*v+c.collisionOffsetY,f={textAlign:c.collisionTextAlign??c.textAlign,textBaseline:c.textBaseline};r.text=c.text,r.x=g,r.y=u,r.setFont(this.properties.calloutLabel),r.setAlign(f);let M=r.computeBBox(),m=c.text,k=!0;if(n.avoidCollisions){let{textLength:B,hasVerticalOverflow:z}=this.getLabelOverflow(c.text,M,e);m=c.text.length===B?c.text:`${c.text.substring(0,B)}\u2026`,k=!z}l.text=m,l.x=g,l.y=u,l.setFont(this.properties.calloutLabel),l.setAlign(f),l.fill=i,l.visible=k})}computeLabelsBBox(e,t){return R(this,null,function*(){let{calloutLabel:n,calloutLine:o}=this.properties,a=o.length,{offset:s,maxCollisionOffset:i,minSpacing:r}=n;if(!n.avoidCollisions)return null;yield this.maybeRefreshNodeData(),this.updateRadiusScale(!1),this.computeCalloutLabelCollisionOffsets();let l=[],h=new se,c,{title:d}=this.properties;if(d?.text&&d.enabled){let p=this.getTitleTranslationY();isFinite(p)&&(h.text=d.text,h.x=0,h.y=p,h.setFont(d),h.setAlign({textBaseline:"bottom",textAlign:"center"}),c=h.computeBBox(),l.push(c))}return this.nodeData.forEach(p=>{let v=p.calloutLabel;if(!v||p.outerRadius===0)return null;let g=p.outerRadius+a+s,u=p.midCos*g,f=p.midSin*g+v.collisionOffsetY;h.text=v.text,h.x=u,h.y=f,h.setFont(this.properties.calloutLabel),h.setAlign({textAlign:v.collisionTextAlign??v.textAlign,textBaseline:v.textBaseline});let M=h.computeBBox();if(v.box=M,Math.abs(v.collisionOffsetY)>i){v.hidden=!0;return}if(c){let m=t.y-this.centerY,k=new pt(c.x-r,m,c.width+2*r,c.y+c.height+r-m);if(M.collidesBBox(k)){v.hidden=!0;return}}if(e.hideWhenNecessary){let{textLength:m,hasVerticalOverflow:k,hasSurroundingSeriesOverflow:B}=this.getLabelOverflow(v.text,M,t),z=v.text.length>2&&m<2;if(k||z||B){v.hidden=!0;return}}v.hidden=!1,l.push(M)}),l.length===0?null:pt.merge(l)})}updateSectorLabelNodes(){let{radiusScale:e}=this,t=e.convert(0),{fontSize:n,fontStyle:o,fontWeight:a,fontFamily:s,positionOffset:i,positionRatio:r,color:l}=this.properties.sectorLabel,h=t>0,c=this.seriesItemEnabled.filter(Boolean).length===1,d=(p,v)=>{let{sectorLabel:g,outerRadius:u}=v,f=!1;if(g&&u!==0){let M=t*(1-r)+u*r+i;p.fill=l,p.fontStyle=o,p.fontWeight=a,p.fontSize=n,p.fontFamily=s,p.text=g.text,!h&&c?(p.x=0,p.y=0):(p.x=v.midCos*M,p.y=v.midSin*M),p.textAlign="center",p.textBaseline="middle";let k=p.computeBBox(),B=[[k.x,k.y],[k.x+k.width,k.y],[k.x+k.width,k.y+k.height],[k.x,k.y+k.height]],{startAngle:z,endAngle:I}=v,y={startAngle:z,endAngle:I,innerRadius:t,outerRadius:u};B.every(([b,C])=>e3(b,C,y))&&(f=!0)}p.visible=f};this.labelSelection.each(d),this.highlightLabelSelection.each(d)}updateZerosumRings(){this.zerosumOuterRing.size=this.getOuterRadius()*2}getDatumLegendName(e){let{angleKey:t,calloutLabelKey:n,sectorLabelKey:o,legendItemKey:a}=this.properties,{sectorLabel:s,calloutLabel:i,legendItem:r}=e;if(a&&r!==void 0)return r.text;if(n&&n!==t&&i?.text!==void 0)return i.text;if(o&&o!==t&&s?.text!==void 0)return s.text}pickNodeClosestDatum(e){return e7(this,e)}getTooltipHtml(e){if(!this.properties.isValid())return ba;let{datum:t,angleValue:n,sectorFormat:{fill:o},itemId:a}=e,s=Ae(this.properties.title?.text),i=Xt(n)?a3(n):String(n),r=this.getDatumLegendName(e);return this.properties.tooltip.toTooltipHtml({title:s??r,content:s&&r?`${r}: ${i}`:i,backgroundColor:o},{datum:t,itemId:a,title:s,color:o,seriesId:this.id,angleKey:this.properties.angleKey,angleName:this.properties.angleName,radiusKey:this.properties.radiusKey,radiusName:this.properties.radiusName,calloutLabelKey:this.properties.calloutLabelKey,calloutLabelName:this.properties.calloutLabelName,sectorLabelKey:this.properties.sectorLabelKey,sectorLabelName:this.properties.sectorLabelName,legendItemKey:this.properties.legendItemKey})}getLegendData(e){let{visible:t,processedData:n,dataModel:o}=this;if(!o||!n?.data.length||e!=="category")return[];let{angleKey:a,calloutLabelKey:s,sectorLabelKey:i,legendItemKey:r}=this.properties;if(!r&&(!s||s===a)&&(!i||i===a))return[];let{calloutLabelIdx:l,sectorLabelIdx:h,legendItemIdx:c}=this.getProcessedDataIndexes(o),d=this.properties.title?.showInLegend&&this.properties.title.text,p=[];for(let v=0;v<n.data.length;v++){let{datum:g,values:u}=n.data[v],f=[];d&&f.push(d);let M=this.getLabels(g,2*Math.PI,2*Math.PI,!1,u[l],u[h],u[c]);if(r&&M.legendItem!==void 0?f.push(M.legendItem.text):s&&s!==a&&M.calloutLabel?.text!==void 0?f.push(M.calloutLabel?.text):i&&i!==a&&M.sectorLabel?.text!==void 0&&f.push(M.sectorLabel?.text),f.length===0)continue;let m=this.getSectorFormat(g,v,!1);p.push({legendType:"category",id:this.id,itemId:v,seriesId:this.id,enabled:t&&this.seriesItemEnabled[v],label:{text:f.join(" - ")},symbols:[{marker:{fill:m.fill,stroke:m.stroke,fillOpacity:this.properties.fillOpacity,strokeOpacity:this.properties.strokeOpacity,strokeWidth:this.properties.strokeWidth}}],legendItemName:r!=null?g[r]:void 0})}return p}onLegendItemClick(e){let{enabled:t,itemId:n,series:o,legendItemName:a}=e;o.id===this.id?this.toggleSeriesItem(n,t):a!=null&&this.toggleOtherSeriesItems(a,t)}toggleSeriesItem(e,t){this.seriesItemEnabled[e]=t,this.nodeData[e]&&(this.nodeData[e].enabled=t),this.nodeDataRefresh=!0}toggleOtherSeriesItems(e,t){if(!this.properties.legendItemKey||!this.dataModel)return;let n=this.dataModel.resolveProcessedDataIndexById(this,"legendItemValue");this.processedData?.data.forEach(({values:o},a)=>{o[n]===e&&this.toggleSeriesItem(a,t)})}animateEmptyUpdateReady(e){let{animationManager:t}=this.ctx,n=S2(!0,this.properties.rotation,this.radiusScale,this.previousRadiusScale);$e(this.id,"nodes",t,[this.itemSelection,this.highlightSelection],n.nodes),ee(this,"callout",t,this.calloutLabelSelection),ee(this,"sector",t,this.labelSelection),ee(this,"highlight",t,this.highlightLabelSelection),this.previousRadiusScale.range=this.radiusScale.range}animateWaitingUpdateReady(){let{itemSelection:e,highlightSelection:t,processedData:n,radiusScale:o,previousRadiusScale:a}=this,{animationManager:s}=this.ctx,i=n?.reduced?.diff;this.ctx.animationManager.stopByAnimationGroupId(this.id);let r=(i?.moved.size??0)===0,l=(n?.defs.keys.length??0)>0,h=n?.reduced?.animationValidation?.uniqueKeys??!0;(!r||!l||!h)&&this.ctx.animationManager.skipCurrentBatch();let c=S2(!1,this.properties.rotation,o,a);$e(this.id,"nodes",s,[e,t],c.nodes,(d,p)=>this.getDatumId(p),i),ee(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),ee(this,"sector",this.ctx.animationManager,this.labelSelection),ee(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),this.previousRadiusScale.range=this.radiusScale.range}animateClearingUpdateEmpty(){let{itemSelection:e,highlightSelection:t,radiusScale:n,previousRadiusScale:o}=this,{animationManager:a}=this.ctx,s=S2(!1,this.properties.rotation,n,o);$e(this.id,"nodes",a,[e,t],s.nodes),vs(this,"callout",this.ctx.animationManager,this.calloutLabelSelection),vs(this,"sector",this.ctx.animationManager,this.labelSelection),vs(this,"highlight",this.ctx.animationManager,this.highlightLabelSelection),this.previousRadiusScale.range=this.radiusScale.range}getDatumIdFromData(e){let{calloutLabelKey:t,sectorLabelKey:n,legendItemKey:o}=this.properties;if(this.processedData?.reduced?.animationValidation?.uniqueKeys){if(o)return e[o];if(t)return e[t];if(n)return e[n]}}getDatumId(e){let{index:t}=e,n=this.getDatumIdFromData(e.datum);return n!=null?String(n):`${t}`}onDataChange(){let{data:e,seriesItemEnabled:t}=this;this.seriesItemEnabled=e?.map((n,o)=>t[o]??!0)??[]}};a7.className="PieSeries";a7.type="pie";var B$={type:"series",optionsKey:"series[]",packageType:"community",chartTypes:["polar"],identifier:"pie",instanceConstructor:a7,tooltipDefaults:{range:"exact"},themeTemplate:z$,paletteFactory:FB},Ma=class extends Vt{constructor(e,t){super(),this.onChange=e,this.onButtonsChange=t,this.align="start",this.position="top",this.size="normal"}};w([en(e=>{e.onChange(e.enabled)}),x(It)],Ma.prototype,"enabled",2);w([en(e=>{e.onChange(e.enabled)}),x(be([...rC]),{optional:!0})],Ma.prototype,"align",2);w([en(e=>{e.onChange(e.enabled)}),x(be(Ji),{optional:!0})],Ma.prototype,"position",2);w([en(e=>{e.onChange(e.enabled)}),x(be(["small","normal"]),{optional:!0})],Ma.prototype,"size",2);w([en(e=>{e.onButtonsChange(e.buttons)}),x(Mr,{optional:!0})],Ma.prototype,"buttons",2);var Aw="ag-charts-toolbar",eh={align:"ag-charts-toolbar__align",section:"ag-charts-toolbar__section",button:"ag-charts-toolbar__button",icon:"ag-charts-toolbar__icon",label:"ag-charts-toolbar__label"},D0={top:"ag-charts-toolbar--top",right:"ag-charts-toolbar--right",bottom:"ag-charts-toolbar--bottom",left:"ag-charts-toolbar--left",floating:"ag-charts-toolbar--floating","floating-top":"ag-charts-toolbar--floating-top","floating-bottom":"ag-charts-toolbar--floating-bottom",small:"ag-charts-toolbar--small",normal:"ag-charts-toolbar--normal",hidden:"ag-charts-toolbar--hidden",preventFlash:"ag-charts-toolbar--prevent-flash",floatingHidden:"ag-charts-toolbar--floating-hidden",align:{start:"ag-charts-toolbar__align--start",center:"ag-charts-toolbar__align--center",end:"ag-charts-toolbar__align--end"},button:{active:"ag-charts-toolbar__button--active",hiddenValue:"ag-charts-toolbar__button--hidden-value",hiddenToggled:"ag-charts-toolbar__button--hidden-toggled"}},S$=`.ag-charts-toolbar{align-items:center;background:none;border:none;display:flex;flex-wrap:nowrap;opacity:1;position:absolute;transform:translateY(0);transition:opacity 0.2s ease-in-out,transform 0.2s ease-in-out}.ag-charts-toolbar--hidden,
.ag-charts-toolbar--prevent-flash{visibility:hidden}.ag-charts-toolbar--floating-hidden{opacity:0;transition:opacity 0.4s ease-in-out}.ag-charts-toolbar--small{--ag-charts-toolbar-size:var(--ag-charts-toolbar-size-small);--ag-charts-toolbar-font-size:var(--ag-charts-toolbar-font-size-small);--ag-charts-toolbar-button-padding:var(--ag-charts-toolbar-button-padding-small)}.ag-charts-toolbar--top,
.ag-charts-toolbar--bottom{flex-direction:row;width:100%}.ag-charts-toolbar--left,
.ag-charts-toolbar--right{flex-direction:column}.ag-charts-toolbar--floating,
.ag-charts-toolbar--floating-top,
.ag-charts-toolbar--floating-bottom{background:none;border:none;flex-direction:row;overflow:hidden;pointer-events:none;width:100%}.ag-charts-toolbar--floating{padding:0;width:auto;z-index:var(--ag-charts-layer-toolbar)}.ag-charts-toolbar--floating-top{height:calc(var(--ag-charts-toolbar-size) + 10px);padding-top:10px}.ag-charts-toolbar--floating-bottom{height:calc(var(--ag-charts-toolbar-size) + 10px);padding-bottom:10px}.ag-charts-toolbar__align{display:flex;flex-direction:inherit;flex-wrap:inherit;gap:var(--ag-charts-toolbar-gap);max-width:100%;width:100%}.ag-charts-toolbar__align--start{justify-content:start}.ag-charts-toolbar__align--center{justify-content:center}.ag-charts-toolbar__align--end{justify-content:end}.ag-charts-toolbar__align--center,
.ag-charts-toolbar__align--end{margin-left:auto}.ag-charts-toolbar--left .ag-charts-toolbar__align--center,
.ag-charts-toolbar--left .ag-charts-toolbar__align--end,
.ag-charts-toolbar--right .ag-charts-toolbar__align--center,
.ag-charts-toolbar--right .ag-charts-toolbar__align--end{margin-left:0;margin-top:auto}.ag-charts-toolbar--floating-top .ag-charts-toolbar__align,
.ag-charts-toolbar--floating-bottom .ag-charts-toolbar__align{transition:transform 0.4s ease-in-out;width:auto}.ag-charts-toolbar__section{display:inherit;flex-direction:inherit;flex-wrap:inherit;justify-content:inherit;max-width:inherit;width:inherit}.ag-charts-toolbar__button{align-items:center;background:var(--ag-charts-toolbar-background-color);border:var(--ag-charts-toolbar-border);color:var(--ag-charts-toolbar-foreground-color);display:flex;font-size:var(--ag-charts-toolbar-font-size);font-weight:500;justify-content:center;margin:0 0 0 -1px;min-height:var(--ag-charts-toolbar-size);min-width:var(--ag-charts-toolbar-size);padding:var(--ag-charts-toolbar-button-padding);pointer-events:all;transition:background-color 0.25s ease-in-out,color 0.25s ease-in-out;white-space:nowrap}.ag-charts-toolbar__button:first-child{border-bottom-left-radius:var(--ag-charts-button-radius);border-top-left-radius:var(--ag-charts-button-radius);margin:0}.ag-charts-toolbar__button:last-child{border-bottom-right-radius:var(--ag-charts-button-radius);border-right:var(--ag-charts-toolbar-border);border-top-right-radius:var(--ag-charts-button-radius)}.ag-charts-toolbar--left .ag-charts-toolbar__button,
.ag-charts-toolbar--right .ag-charts-toolbar__button{border-left:var(--ag-charts-toolbar-border);border-right:var(--ag-charts-toolbar-border);border-radius:0;margin:-1px 0 0 0;max-width:100%;overflow:hidden}.ag-charts-toolbar--left .ag-charts-toolbar__button:first-child,
.ag-charts-toolbar--right .ag-charts-toolbar__button:first-child{border-top-left-radius:var(--ag-charts-button-radius);border-top-right-radius:var(--ag-charts-button-radius);margin:0}.ag-charts-toolbar--left .ag-charts-toolbar__button:last-child,
.ag-charts-toolbar--right .ag-charts-toolbar__button:last-child{border-bottom:var(--ag-charts-toolbar-border);border-bottom-left-radius:var(--ag-charts-button-radius);border-bottom-right-radius:var(--ag-charts-button-radius)}.ag-charts-toolbar__button--hidden-value,
.ag-charts-toolbar__button--hidden-toggled{display:none}.ag-charts-toolbar__button:hover{background:var(--ag-charts-toolbar-hover-color)}.ag-charts-toolbar .ag-charts-toolbar__button:focus-visible{border-left:var(--ag-charts-toolbar-border);border-color:var(--ag-charts-toolbar-focus-color);box-shadow:var(--ag-charts-focus-border-shadow);z-index:1}.ag-charts-toolbar__button.ag-charts-toolbar__button--active{background:var(--ag-charts-toolbar-active-background-color);color:var(--ag-charts-toolbar-active-color)}.ag-charts-toolbar__button[aria-disabled='true']{background:var(--ag-charts-toolbar-disabled-background-color);color:var(--ag-charts-toolbar-disabled-foreground-color)}.ag-charts-toolbar__button:not([aria-disabled='true']){cursor:pointer}.ag-charts-toolbar__icon{height:1.2em;width:1.2em}.ag-charts-toolbar__icon + .ag-charts-toolbar__label{margin-left:var(--ag-charts-toolbar-gap)}.ag-charts-toolbar__icon,
.ag-charts-toolbar__label{pointer-events:none}`,jB=class extends o4{constructor(e){super(),this.ctx=e,this.enabled=!0,this.annotations=new Ma(this.onGroupChanged.bind(this,"annotations"),this.onGroupButtonsChanged.bind(this,"annotations")),this.annotationOptions=new Ma(this.onGroupChanged.bind(this,"annotationOptions"),this.onGroupButtonsChanged.bind(this,"annotationOptions")),this.ranges=new Ma(this.onGroupChanged.bind(this,"ranges"),this.onGroupButtonsChanged.bind(this,"ranges")),this.zoom=new Ma(this.onGroupChanged.bind(this,"zoom"),this.onGroupButtonsChanged.bind(this,"zoom")),this.horizontalSpacing=10,this.verticalSpacing=10,this.floatingDetectionRange=38,this.positions={top:new Set,right:new Set,bottom:new Set,left:new Set,floating:new Set,"floating-top":new Set,"floating-bottom":new Set},this.positionAlignments={top:{},right:{},bottom:{},left:{},floating:{},"floating-top":{},"floating-bottom":{}},this.groupCallers={annotations:new Set,annotationOptions:new Set,ranges:new Set,zoom:new Set},this.groupButtons={annotations:[],annotationOptions:[],ranges:[],zoom:[]},this.groupDestroyFns={annotations:[],annotationOptions:[],ranges:[],zoom:[]},this.pendingButtonToggledEvents=[],this.groupProxied=new Map,this.hasNewLocale=!0,e.domManager.addStyles(Aw,S$),this.elements={};for(let t of Ji)this.elements[t]=e.domManager.addChild("canvas-overlay",`toolbar-${t}`),this.renderToolbar(t);this.toggleVisibilities(),this.destroyFns.push(e.interactionManager.addListener("hover",this.onHover.bind(this),31),e.interactionManager.addListener("leave",this.onLeave.bind(this),31),e.toolbarManager.addListener("button-toggled",this.onButtonToggled.bind(this)),e.toolbarManager.addListener("group-toggled",this.onGroupToggled.bind(this)),e.toolbarManager.addListener("floating-anchor-changed",this.onFloatingAnchorChanged.bind(this)),e.toolbarManager.addListener("proxy-group-options",this.onProxyGroupOptions.bind(this)),e.layoutService.addListener("layout-complete",this.onLayoutComplete.bind(this)),e.localeManager.addListener("locale-changed",()=>{this.hasNewLocale=!0}),()=>this.destroyElements())}destroyElements(){this.ctx.domManager.removeStyles(Aw);for(let e of Object.keys(this.elements))this.ctx.domManager.removeChild("canvas-overlay",`toolbar-${e}`)}onHover(e){let{enabled:t,elements:n,floatingDetectionRange:o,ctx:{scene:a}}=this,{offsetY:s,sourceEvent:{target:i}}=e,{FloatingBottom:r,FloatingTop:l}=xh;if(!t)return;let h=n[r],c=n[l],d=h.offsetTop-o,p=s>d&&s<a.canvas.element.offsetHeight||i===h,v=c.offsetTop+c.offsetHeight+o,g=s>0&&s<v||i===c;this.translateFloatingElements(r,p),this.translateFloatingElements(l,g)}onLeave(e){let{enabled:t,ctx:{scene:n}}=this,{relatedElement:o,targetElement:a}=e,{FloatingBottom:s,FloatingTop:i}=xh;!t||a!==n.canvas.element||Bw.some(l=>this.groupButtons[l].some(h=>h===o))||(this.translateFloatingElements(s,!1),this.translateFloatingElements(i,!1))}onGroupChanged(e){this[e]==null||this.groupProxied.has(e)||(this.createGroup(e),this.toggleVisibilities())}onGroupButtonsChanged(e,t){!this.enabled||this.groupProxied.has(e)||(this.createGroupButtons(e,t),this.toggleVisibilities())}onLayoutComplete(){for(let e of Ji)this.elements[e].classList.remove(D0.preventFlash)}onButtonToggled(e){let{group:t,value:n,active:o,enabled:a,visible:s}=e;if(this.groupButtons[t].length===0){this.pendingButtonToggledEvents.push(e);return}for(let i of this.groupButtons[t])i.dataset.toolbarValue===`${n}`&&(i.ariaDisabled=`${!a}`,i.classList.toggle(D0.button.hiddenToggled,!s),i.classList.toggle(D0.button.active,o))}onGroupToggled(e){let{caller:t,group:n,visible:o}=e;this.toggleGroup(t,n,o),this.toggleVisibilities()}onFloatingAnchorChanged(e){let{elements:t,groupButtons:n,positions:o,horizontalSpacing:a,verticalSpacing:s,ctx:{domManager:i,toolbarManager:r}}=this,{group:l,anchor:h}=e;if(!o.floating.has(l))return;let c=t.floating;if(c.classList.contains(D0.hidden))return;let d=h.y-c.offsetHeight-s,p=h.x-c.offsetWidth/2;h.position==="above"&&(d=h.y-c.offsetHeight/2,p=h.x+a);let v=i.getBoundingClientRect();d=Ft(0,d,v.height-c.offsetHeight),p=Ft(0,p,v.width-c.offsetWidth),c.style.top=`${d}px`,c.style.left=`${p}px`;for(let g of n[l]){if(g.classList.contains(D0.button.hiddenToggled))return;let u=g.offsetParent;r.buttonMoved(l,g.dataset.toolbarValue,new pt(g.offsetLeft-g.offsetWidth+(u?.offsetLeft??0),g.offsetTop+(u?.offsetTop??0),g.offsetWidth,g.offsetWidth))}}onProxyGroupOptions(e){if(!this.enabled)return;let{caller:t,group:n,options:o}=e;this.groupProxied.set(n,o),this[n].set(o),this.toggleGroup(t,n,o.enabled),this.createGroup(n,o.enabled,o.position),o.enabled&&this.createGroupButtons(n,o.buttons)}createGroup(e,t,n){t??(t=this[e].enabled),n??(n=this[e].position);for(let o of Ji)t&&n===o?this.positions[o].add(e):this.positions[o].delete(e)}createGroupButtons(e,t=[]){for(let v of this.groupButtons[e])v.remove();if(this.groupButtons[e]=[],this.groupDestroyFns[e].forEach(v=>v()),this.groupDestroyFns[e]=[],t.length===0)return;let{align:n,position:o}=this[e],a=this.positionAlignments[o][n];if(!a)return;let s=0,i=()=>{let v=a.children.item(s);return v||(v=T0("div"),a.appendChild(v),this.destroyFns.push(()=>v.remove())),v.classList.add(eh.section,D0[this[e].size]),s++,v},r=i(),l=t.at(0)?.section;for(let v of t){l!==v.section&&(r=i()),l=v.section;let g=this.createButtonElement(e,v);r.appendChild(g),this.groupButtons[e].push(g)}let h=()=>{this.ctx.toolbarManager.cancel(e)},c,d;Sk(o)&&(c=()=>this.translateFloatingElements(o,!0),d=()=>this.translateFloatingElements(o,!1));let p=this.computeAriaOrientation(this[e].position);this.groupDestroyFns[e]=C3({orientation:p,toolbar:a,buttons:this.groupButtons[e],onEscape:h,onFocus:c,onBlur:d}),this.updateToolbarAriaLabel(e,a)}computeAriaOrientation(e){return{top:"horizontal",right:"vertical",bottom:"horizontal",left:"vertical",floating:"horizontal","floating-top":"horizontal","floating-bottom":"horizontal"}[e]}toggleGroup(e,t,n){n?this.groupCallers[t].add(e):this.groupCallers[t].delete(e)}processPendingEvents(){let e=(this.pendingButtonToggledEvents??[]).slice();for(let t of e)this.onButtonToggled(t);this.pendingButtonToggledEvents=[]}performLayout(e){return R(this,null,function*(){return this.enabled&&(this.refreshOuterLayout(e.shrinkRect),this.refreshLocale()),e})}performCartesianLayout(e){return R(this,null,function*(){this.enabled&&this.refreshInnerLayout(e.seriesRect)})}refreshOuterLayout(e){let{elements:t,horizontalSpacing:n,verticalSpacing:o}=this;t.top.classList.contains(D0.hidden)||e.shrink(t.top.offsetHeight+o,"top"),t.right.classList.contains(D0.hidden)||e.shrink(t.right.offsetWidth+n,"right"),t.bottom.classList.contains(D0.hidden)||(e.shrink(t.bottom.offsetHeight+o,"bottom"),t.bottom.style.top=`${e.y+e.height+o}px`),t.left.classList.contains(D0.hidden)||e.shrink(t.left.offsetWidth+n,"left")}refreshLocale(){let{groupButtons:e,groupProxied:t,hasNewLocale:n}=this;if(n){for(let o of Bw){let a=t.get(o);e[o].forEach(s=>this.refreshButtonLocale(s,this[o],a)),this.updateToolbarAriaLabel(o)}this.hasNewLocale=!1}}refreshInnerLayout(e){let{elements:t,verticalSpacing:n}=this,{FloatingBottom:o,FloatingTop:a}=xh;t.top.style.top=`${e.y-t.top.offsetHeight-n}px`,t.top.style.left=`${e.x}px`,t.top.style.width=`${e.width}px`,t.bottom.style.left=`${e.x}px`,t.bottom.style.width=`${e.width}px`,t.right.style.top=`${e.y}px`,t.right.style.right="0px",t.right.style.height=`${e.height}px`,t.left.style.top=`${e.y}px`,t.left.style.left="0px",t.left.style.height=`${e.height}px`,t[a].style.top=`${e.y}px`,t[o].style.top=`${e.y+e.height-t[o].offsetHeight}px`}refreshButtonLocale(e,t,n){let{dataset:{toolbarValue:o}}=e,a=n?.buttons?.find(({value:s})=>s===o)??t.buttons?.find(({value:s})=>s===o);a&&this.updateButtonText(e,a)}toggleVisibilities(){if(this.elements==null)return;let e=n=>this[n].enabled&&this.groupCallers[n].size>0,t=n=>o=>typeof o.value!="string"&&typeof o.value!="number"||`${o.value}`===n.dataset.toolbarValue;for(let n of Ji){let o=this.enabled&&Array.from(this.positions[n].values()).some(e);this.elements[n].classList.toggle(D0.hidden,!o)}for(let n of Bw){if(this[n]==null)continue;let o=e(n);for(let a of this.groupButtons[n]){let s=o&&this[n].buttons?.some(t(a));a.classList.toggle(D0.button.hiddenValue,!s)}}}translateFloatingElements(e,t){let{elements:n,verticalSpacing:o,positionAlignments:a}=this,s=n[e],i=Object.values(a[e]);s.classList.toggle(D0.floatingHidden,!t);let r=e==="floating-bottom"?1:-1;for(let l of i)l.style.transform=t&&l.style.transform!==""?"translateY(0)":`translateY(${(s.offsetHeight+o)*r}px)`}renderToolbar(e="top"){let t=this.elements[e];t.classList.add(Aw,D0[e],D0.preventFlash),Sk(e)&&t.classList.add(D0.floatingHidden);for(let n of rC){let o=T0("div");o.classList.add(eh.align,D0.align[n]),t.appendChild(o),this.positionAlignments[e][n]=o}}createButtonElement(e,t){let n=T0("button");return n.classList.add(eh.button),n.dataset.toolbarGroup=e,n.tabIndex=-1,(typeof t.value=="string"||typeof t.value=="number")&&(n.dataset.toolbarValue=`${t.value}`),n.onclick=tB(n,this.onButtonPress.bind(this,e,t.value)),this.updateButtonText(n,t),this.destroyFns.push(()=>n.remove()),n}updateToolbarAriaLabel(e,t){if(!t){let{align:o,position:a}=this[e];if(t=this.positionAlignments[a][o],!t)return}let n={annotations:"ariaLabelAnnotationsToolbar",annotationOptions:"ariaLabelAnnotationOptionsToolbar",ranges:"ariaLabelRangesToolbar",zoom:"ariaLabelZoomToolbar"};t.ariaLabel=this.ctx.localeManager.t(n[e])}updateButtonText(e,t){if(t.tooltip){let a=this.ctx.localeManager.t(t.tooltip);e.title=a}let n="";if(t.icon!=null&&(n=`<span class="ag-charts-icon-${t.icon} ${eh.icon}"></span>`),t.label!=null){let a=this.ctx.localeManager.t(t.label);n=`${n}<span class="${eh.label}">${a}</span>`}e.innerHTML=n;let o=t.ariaLabel?this.ctx.localeManager.t(t.ariaLabel):void 0;H2(e,"aria-label",o)}onButtonPress(e,t){this.ctx.toolbarManager.pressButton(e,t)}};w([en(e=>{e.processPendingEvents(),e.toggleVisibilities()}),x(It)],jB.prototype,"enabled",2);var UB=1e3*60*60*24,Rw=UB*30,D$=UB*365,H$={enabled:!0,position:"left",align:"start",buttons:[{icon:"trend-line",tooltip:"toolbarAnnotationsTrendLine",value:"line",section:"create"},{icon:"parallel-channel",tooltip:"toolbarAnnotationsParallelChannel",value:"parallel-channel",section:"create"},{icon:"disjoint-channel",tooltip:"toolbarAnnotationsDisjointChannel",value:"disjoint-channel",section:"create"},{icon:"horizontal-line",tooltip:"toolbarAnnotationsHorizontalLine",value:"horizontal-line",section:"create"},{icon:"vertical-line",tooltip:"toolbarAnnotationsVerticalLine",value:"vertical-line",section:"create"},{icon:"delete",tooltip:"toolbarAnnotationsClearAll",value:"clear",section:"tools"}]},E$={enabled:!0,position:"floating",align:"start",buttons:[{icon:"line-color",tooltip:"toolbarAnnotationsColor",value:"line-color"},{icon:"lock",tooltip:"toolbarAnnotationsLock",value:"lock"},{icon:"unlock",tooltip:"toolbarAnnotationsUnlock",value:"unlock"},{icon:"delete",tooltip:"toolbarAnnotationsDelete",value:"delete"}]},T$={enabled:!1,position:h4,align:"start",buttons:[{label:"toolbarRange1Month",ariaLabel:"toolbarRange1MonthAria",value:Rw},{label:"toolbarRange3Months",ariaLabel:"toolbarRange3MonthsAria",value:3*Rw},{label:"toolbarRange6Months",ariaLabel:"toolbarRange6MonthsAria",value:6*Rw},{label:"toolbarRangeYearToDate",ariaLabel:"toolbarRangeYearToDateAria",value:(e,t)=>[new Date(`${new Date(t).getFullYear()}-01-01`).getTime(),t]},{label:"toolbarRange1Year",ariaLabel:"toolbarRange1YearAria",value:D$},{label:"toolbarRangeAll",ariaLabel:"toolbarRangeAllAria",value:(e,t)=>[e,t]}]},_$={enabled:!0,position:"top",align:"end",buttons:[{icon:"zoom-out-alt",tooltip:"toolbarZoomZoomOut",value:"zoom-out"},{icon:"zoom-in-alt",tooltip:"toolbarZoomZoomIn",value:"zoom-in"},{icon:"pan-left",tooltip:"toolbarZoomPanLeft",value:"pan-left"},{icon:"pan-right",tooltip:"toolbarZoomPanRight",value:"pan-right"},{icon:"pan-start",tooltip:"toolbarZoomPanStart",value:"pan-start"},{icon:"pan-end",tooltip:"toolbarZoomPanEnd",value:"pan-end"},{icon:"reset",tooltip:"toolbarZoomReset",value:"reset"}]},A$={type:"root",optionsKey:"toolbar",packageType:"community",chartTypes:["cartesian"],instanceConstructor:jB,themeTemplate:{toolbar:{enabled:!0,annotations:H$,annotationOptions:E$,ranges:T$,zoom:_$}}};function R$(){fs.register(ZC,XW,QW,nB,A$,c$,v$,w$,M$,m$,b$,B$,f$);for(let e of[Cs,Ts,Dr,ks,N2])zs.register(e.type,{instanceConstructor:e,hidden:e===ks})}function L$(){for(let e of fs.modules){if(e.packageType==="enterprise"&&!eW(e)&&q.errorOnce("Unexpected enterprise module registered: "+e.identifier),e.type==="root"&&e.themeTemplate)for(let t of e.chartTypes)c6.set(t,e.themeTemplate);if(e.type==="series"){if(e.chartTypes.length>1)throw new Error(`AG Charts - Module definition error: ${e.identifier}`);Mn.register(e.identifier,e)}if(e.type==="series-option"&&e.themeTemplate)for(let t of e.seriesTypes)Mn.setThemeTemplate(t,e.themeTemplate);if(e.type==="axis-option"&&e.themeTemplate)for(let t of e.axisTypes){let n=e.themeTemplate[t],o=S(S({},e.themeTemplate),n);for(let a of e.axisTypes)delete o[a];zs.setThemeTemplate(t,o)}e.type==="axis"&&zs.register(e.identifier,e),e.type==="legend"&&of.register(e.identifier,e)}if(fs.hasEnterpriseModules()){let e=nW();e.length>0&&q.errorOnce("Enterprise modules expected but not registered: ",e)}}function O$(e){return e.type==="sankey"||e.type==="chord"}var s7=class e extends Sr{updateData(){return R(this,null,function*(){yield _a(e.prototype,this,"updateData").call(this);let{nodes:t}=this.getOptions();this.series.forEach(n=>{O$(n)&&n.setChartNodes(t)})})}performLayout(){return R(this,null,function*(){let t=yield _a(e.prototype,this,"performLayout").call(this),{seriesArea:{padding:n},seriesRoot:o,annotationRoot:a,highlightRoot:s}=this,i=t.clone();t.shrink(n.left,"left"),t.shrink(n.top,"top"),t.shrink(n.right,"right"),t.shrink(n.bottom,"bottom"),this.seriesRect=t,this.animationRect=t,this.hoverRect=t;let r=this.series.some(l=>l.visible);o.visible=r;for(let l of[o,a,s])l.translationX=Math.floor(t.x),l.translationY=Math.floor(t.y),l.setClipRectInGroupCoordinateSpace(new pt(i.x,i.y,i.width,i.height));return this.ctx.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.ctx.scene.width,height:this.ctx.scene.height},clipSeries:!1,series:{rect:i,paddedRect:t,visible:r},axes:[]}),t})}};s7.className="FlowProportionChart";s7.type="flow-proportion";var i7=class e extends Sr{constructor(t,n){super(t,n)}performLayout(){return R(this,null,function*(){let t=yield _a(e.prototype,this,"performLayout").call(this),{seriesArea:{padding:n},seriesRoot:o,annotationRoot:a,highlightRoot:s}=this,i=t.clone();t.shrink(n.left,"left"),t.shrink(n.top,"top"),t.shrink(n.right,"right"),t.shrink(n.bottom,"bottom"),this.seriesRect=t,this.animationRect=t,this.hoverRect=t;for(let r of[o,a,s])r.translationX=Math.floor(t.x),r.translationY=Math.floor(t.y);return yield Promise.all(this.series.map(r=>R(this,null,function*(){yield r.update({seriesRect:t})}))),o.visible=this.series[0].visible,o.setClipRectInGroupCoordinateSpace(new pt(t.x,t.y,t.width,t.height)),this.ctx.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.ctx.scene.width,height:this.ctx.scene.height},clipSeries:!1,series:{rect:i,paddedRect:t,visible:!0},axes:[]}),t})}getAriaLabel(){return`hierarchical chart, ${this.getCaptionText()}`}handleSeriesFocus(t,n){this.focus.series=this.series[0];let{focus:{series:o,seriesIndex:a,datumIndex:s},seriesRect:i}=this;if(o===void 0)return;let r=o.pickFocus({datumIndex:s,datumIndexDelta:n,otherIndex:a,otherIndexDelta:t,seriesRect:i});this.updatePickedFocus(r)}};i7.className="HierarchyChart";i7.type="hierarchy";var ir=class extends Z6{constructor(){super(...arguments),this.shape="polygon",this.innerRadiusRatio=0,this.defaultTickMinSpacing=20}computeLabelsBBox(e,t){return null}};w([x(be(["polygon","circle"],"a polar axis shape"))],ir.prototype,"shape",2);w([x(ie)],ir.prototype,"innerRadiusRatio",2);var r7=class e extends Sr{constructor(t,n){super(t,n),this.padding=new _s(40),this.ctx.axisManager.axisGroup.zIndex=6}performLayout(){return R(this,null,function*(){let t=yield _a(e.prototype,this,"performLayout").call(this),n=t.clone();return this.computeSeriesRect(t),yield this.computeCircle(t),this.axes.forEach(o=>o.update()),this.hoverRect=t,this.ctx.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.ctx.scene.width,height:this.ctx.scene.height},clipSeries:!1,series:{rect:n,paddedRect:t,visible:!0},axes:[]}),t})}updateAxes(t,n,o){let a=this.axes.find(h=>h.direction==="x"),s=this.axes.find(h=>h.direction==="y");if(!(a instanceof ir)||!(s instanceof ir))return;let i=a.scale,r=i.ticks?.().map(h=>i.convert(h)),l=s.innerRadiusRatio;a.innerRadiusRatio=l,a.computeRange?.(),a.gridLength=o,s.gridAngles=r,s.gridRange=a.range,s.range=[o,o*l],[a,s].forEach(h=>{h.translation.x=t,h.translation.y=n,h.calculateLayout()})}computeSeriesRect(t){let{seriesArea:{padding:n}}=this;t.shrink(n.left,"left"),t.shrink(n.top,"top"),t.shrink(n.right,"right"),t.shrink(n.bottom,"bottom"),this.seriesRect=t,this.animationRect=t}computeCircle(t){return R(this,null,function*(){let n=this.series.filter(c=>c instanceof H3),o=this.axes.filter(c=>c instanceof ir),a=(c,d,p)=>{this.updateAxes(c,d,p),n.forEach(g=>{g.centerX=c,g.centerY=d,g.radius=p});let v=n.filter(g=>g.type==="donut"||g.type==="pie");if(v.length>1){let g=v.map(u=>{let f=u.getInnerRadius();return{series:u,innerRadius:f}}).sort((u,f)=>u.innerRadius-f.innerRadius);g.at(-1).series.surroundingRadius=void 0;for(let u=0;u<g.length-1;u++)g[u].series.surroundingRadius=g[u+1].innerRadius}},s=t.x+t.width/2,i=t.y+t.height/2,r=Math.max(0,Math.min(t.width,t.height)/2),l=r;a(s,i,l);let h=(...d)=>R(this,[...d],function*({hideWhenNecessary:c=!1}={}){let p=[];for(let u of[...o,...n]){let f=yield u.computeLabelsBBox({hideWhenNecessary:c},t);f&&p.push(f)}if(p.length===0){a(s,i,r);return}let v=pt.merge(p),g=this.refineCircle(v,l,t);a(g.centerX,g.centerY,g.radius),g.radius!==l&&(l=g.radius)});return yield h(),yield h(),yield h(),yield h({hideWhenNecessary:!0}),yield h({hideWhenNecessary:!0}),{radius:l,centerX:s,centerY:i}})}refineCircle(t,n,o){let s=-n,i=-n,r=n,l=n,h=Math.max(0,s-t.x),c=Math.max(0,i-t.y),d=Math.max(0,t.x+t.width-r),p=Math.max(0,t.y+t.height-l);h=d=Math.max(h,d),c=p=Math.max(c,p);let v=o.width-h-d,g=o.height-c-p,u=Math.min(v,g)/2,f=.5*o.width/2,M=.5*o.height/2,m=Math.min(f,M);if(u<m){u=m;let z=h+d,I=c+p;if(2*u+I>o.height){let y=o.height-2*u;Math.min(c,p)*2>y?(c=y/2,p=y/2):c>p?c=y-p:p=y-c}if(2*u+z>o.width){let y=o.width-2*u;Math.min(h,d)*2>y?(h=y/2,d=y/2):h>d?h=y-d:d=y-h}}let k=h+2*u+d,B=c+2*u+p;return{centerX:o.x+(o.width-k)/2+h+u,centerY:o.y+(o.height-B)/2+c+u,radius:u}}};r7.className="PolarChart";r7.type="polar";var T3=Math.PI/180,Lw=e=>e*T3,Ow=e=>-Math.log(Math.tan(Math.PI*.25+e*T3*.5)),Nw=e=>e/T3,Pw=e=>(Math.atan(Math.exp(-e))-Math.PI*.25)/(T3*.5),f6=class M6{constructor(t,n){this.domain=t,this.range=n,this.type="mercator",this.bounds=M6.bounds(t)}static bounds(t){let[[n,o],[a,s]]=t,i=Lw(n),r=Ow(o),l=Lw(a),h=Ow(s);return new pt(Math.min(i,l),Math.min(r,h),Math.abs(l-i),Math.abs(h-r))}static fixedScale(){return new M6([[Nw(0),Pw(0)],[Nw(1),Pw(1)]],[[0,0],[1,1]])}convert([t,n]){let[[o,a],[s,i]]=this.range,r=(s-o)/this.bounds.width,l=(i-a)/this.bounds.height;return[(Lw(t)-this.bounds.x)*r+o,(Ow(n)-this.bounds.y)*l+a]}invert([t,n]){let[[o,a],[s,i]]=this.range,r=(s-o)/this.bounds.width,l=(i-a)/this.bounds.height;return[Nw((t-o)/r+this.bounds.x),Pw((n-a)/l+this.bounds.y)]}};function Yk(e){return e.type==="map-shape"||e.type==="map-line"||e.type==="map-marker"||e.type==="map-shape-background"||e.type==="map-line-background"}var l7=class e extends Sr{constructor(t,n){super(t,n),this.xAxis=new Cs(this.getModuleContext()),this.xAxis.position="bottom",this.yAxis=new Cs(this.getModuleContext()),this.yAxis.position="left",this.ctx.zoomManager.updateAxes([this.xAxis,this.yAxis])}updateData(){return R(this,null,function*(){yield _a(e.prototype,this,"updateData").call(this);let{topology:t}=this.getOptions();this.series.forEach(n=>{Yk(n)&&n.setChartTopology(t)})})}performLayout(){return R(this,null,function*(){let t=yield _a(e.prototype,this,"performLayout").call(this),{seriesArea:{padding:n},seriesRoot:o,annotationRoot:a,highlightRoot:s}=this,i=t.clone();t.shrink(n.left,"left"),t.shrink(n.top,"top"),t.shrink(n.right,"right"),t.shrink(n.bottom,"bottom"),this.seriesRect=t,this.animationRect=t,this.hoverRect=t;let r=this.series.filter(Yk),l=r.reduce((d,p)=>{if(!p.visible)return d;let v=p.topologyBounds;return v==null?d:d==null?v:(d.merge(v),d)},void 0),h;if(l!=null){let{lon0:d,lat0:p,lon1:v,lat1:g}=l,u=[[d,p],[v,g]],f=f6.bounds(u),{width:M,height:m}=t,k=Math.min(M/f.width,m/f.height),B=f.width*k,z=f.height*k,I=(M-B)/2,y=(m-z)/2,b=I,C=y,E=I+B,_=y+z,F=this.ctx.zoomManager.getAxisZoom(this.xAxis.id),tt=this.ctx.zoomManager.getAxisZoom(this.yAxis.id),at=(E-b)/(F.max-F.min),U=b-at*F.min,P=(_-C)/(1-tt.min-(1-tt.max)),N=C-P*(1-tt.max);h=new f6(u,[[U,N],[U+at,N+P]])}r.forEach(d=>{d.scale=h});let c=this.series.some(d=>d.visible);o.visible=c;for(let d of[o,a,s])d.translationX=Math.floor(t.x),d.translationY=Math.floor(t.y),d.setClipRectInGroupCoordinateSpace(new pt(t.x,t.y,t.width,t.height));return this.ctx.layoutService.dispatchLayoutComplete({type:"layout-complete",chart:{width:this.ctx.scene.width,height:this.ctx.scene.height},clipSeries:!1,series:{rect:i,paddedRect:t,visible:c},axes:[]}),t})}};l7.className="TopologyChart";l7.type="topology";function l1(e,t){if(g1(e))return t(e)}function N$(e,t){let E=e,{xKey:n="date",highKey:o="high",openKey:a="open",lowKey:s="low",closeKey:i="close",volumeKey:r="volume",chartType:l="candlestick",navigator:h=!1,volume:c=!0,rangeToolbar:d=!0,statusBar:p=!0,annotations:v=!0,zoom:g=!0,theme:u,data:f}=E,M=ue(E,["xKey","highKey","openKey","lowKey","closeKey","volumeKey","chartType","navigator","volume","rangeToolbar","statusBar","annotations","zoom","theme","data"]),m=F$(u,l,n,o,s,a,i),k=P$(u,t,a,i,c,r),z={navigator:S({enabled:h},c?{miniChart:{enabled:h,series:[{type:"line",xKey:"date",yKey:r,marker:{enabled:!1}}]}}:null)},I=p?{statusBar:{enabled:!0,data:f,highKey:o,openKey:a,lowKey:s,closeKey:i,volumeKey:c?r:void 0}}:null,y={zoom:{enabled:g,enableIndependentAxes:!0}},b=v||d?{toolbar:{annotationOptions:{enabled:v},annotations:{enabled:v},ranges:{enabled:d}}}:null,C=c?[{type:"number",position:"left",keys:[r],label:{enabled:!1},crosshair:{enabled:!1},gridLine:{enabled:!1},nice:!1,layoutConstraints:{stacked:!1,width:20,unit:"percentage",align:"end"},disableZoom:!0}]:[];return S(S(S(S(S({theme:typeof u=="string"?u:S({baseTheme:"ag-financial"},u??{}),animation:{enabled:!1},legend:{enabled:!1},series:[...k,...m],padding:{top:6,right:8},axes:[{type:"number",position:"right",keys:[a,i,o,s],interval:{maxSpacing:l1(u,_=>_.overrides?.common?.axes?.number?.interval?.maxSpacing)??45},label:{format:l1(u,_=>_.overrides?.common?.axes?.number?.label?.format)??".2f"},crosshair:{enabled:!0,snap:!1},layoutConstraints:{stacked:!1,width:100,unit:"percentage",align:"start"}},...C,{type:"ordinal-time",position:"bottom",line:{enabled:!1},label:{enabled:!0},crosshair:{enabled:!0}}],annotations:{enabled:v},tooltip:{enabled:!1},data:f,titlePadding:4},z),I),y),b),M)}function P$(e,t,n,o,a,s){if(!a)return[];let i=l1(e,l=>l.overrides?.bar?.series?.fill),r=i?{fill:i}:{itemStyler({datum:l}){let{up:h,down:c}=t().palette;return{fill:l[n]<l[o]?h?.fill:c?.fill}}};return[S({type:"bar",xKey:"date",yKey:s,tooltip:{enabled:!1},fillOpacity:l1(e,l=>l.overrides?.bar?.series?.fillOpacity)??.5},r)]}var Fw="range-area";function F$(e,t,n,o,a,s,i){let r={xKey:n,openKey:s,closeKey:i,highKey:o,lowKey:a},l={xKey:n,yKey:i};switch(t){case"ohlc":return[S({type:"ohlc"},r)];case"line":return[V(S({type:"line"},l),{stroke:l1(e,p=>p.overrides?.line?.series?.stroke)??Kp,marker:l1(e,p=>p.overrides?.line?.series?.marker)??{enabled:!1}})];case"step-line":return[V(S({type:"line"},l),{stroke:l1(e,p=>p.overrides?.line?.series?.stroke)??Kp,interpolation:l1(e,p=>p.overrides?.line?.series?.interpolation)??{type:"step"},marker:l1(e,p=>p.overrides?.line?.series?.marker)??{enabled:!1}})];case Fw:let h=l1(e,p=>p.overrides?.["range-area"]?.series?.fill),c=l1(e,p=>p.overrides?.["range-area"]?.series?.stroke);return[{type:Fw,xKey:n,yHighKey:o,yLowKey:i,fill:h??qp,stroke:c??qp},{type:Fw,xKey:n,yHighKey:i,yLowKey:a,fill:h??Yp,stroke:c??Yp}];default:case"candlestick":return[S({type:"candlestick"},r)];case"hollow-candlestick":let d=l1(e,p=>p.overrides?.candlestick?.series?.item);return[V(S({type:"candlestick"},r),{item:{up:{fill:d?.up?.fill??"transparent"}}})]}}var V$={"price-volume":N$};function j$(e){let t=[],n=h0.get(A2(e));for(let{type:o,chartTypes:a,optionsKey:s,optionsInnerKey:i,identifier:r}of br)if(!(n!=="unknown"&&!a.includes(n))){if(o==="root"||o==="legend"){let l=e[s];if(l==null)continue;i?l[i]&&(t.push(`${s}.${i}`),delete l[i]):(t.push(s),delete e[s])}else if(o==="axis"){if(!("axes"in e)||!e.axes?.some(l=>l.type===r))continue;t.push(`axis[type=${r}]`),e.axes=e.axes.filter(l=>l.type!==r)}else if(o==="axis-option"){if(!("axes"in e)||!e.axes?.some(l=>l[s]))continue;t.push(`axis.${s}`),e.axes.forEach(l=>{l[s]&&delete l[s]})}else if(o==="series"){if(!e.series?.some(l=>l.type===r))continue;t.push(`series[type=${r}]`),e.series=e.series.filter(l=>l.type!==r)}else if(o==="series-option"){if(!e.series?.some(l=>l[s]))continue;t.push(`series.${s}`),e.series.forEach(l=>{l[s]&&delete l[s]})}}if(t.length){let o="ag-charts-enterprise",a="https://charts.ag-grid.com/javascript/installation/";e.mode==="integrated"&&(o="ag-grid-charts-enterprise' or 'ag-grid-enterprise/charts-enterprise",a="https://www.ag-grid.com/javascript-data-grid/integrated-charts-installation/"),q.warnOnce([`unable to use these enterprise features as '${o}' has not been loaded:`,"",...t,"",`See: ${a}`].join(`
`))}}function m6(e){return e?.up||e?.down||e?.neutral?"user-full":e?.fills||e?.strokes?"user-indexed":"inbuilt"}var Ip="white",U$={fills:Object.values(Vn),strokes:Object.values(us)},x6={get cartesian(){return{seriesTypes:h0.cartesianTypes,commonOptions:["zoom","navigator"]}},get polar(){return{seriesTypes:h0.polarTypes,commonOptions:[]}},get hierarchy(){return{seriesTypes:h0.hierarchyTypes,commonOptions:[]}},get topology(){return{seriesTypes:h0.topologyTypes,commonOptions:[]}},get"flow-proportion"(){return{seriesTypes:h0.flowProportionTypes,commonOptions:[]}}},G$=Object.values(x6).reduce((e,{commonOptions:t})=>e.concat(t),[]),r1=class GB{getPalette(){return U$}static getAxisDefaults(t){return Wt(t,{title:{enabled:!1,text:"Axis Title",spacing:25,fontWeight:"normal",fontSize:13,fontFamily:We,color:I0},label:{fontSize:12,fontFamily:We,padding:5,color:I0,avoidCollisions:!0},line:{enabled:!0,width:1,stroke:Ap},tick:{enabled:!1,width:1,stroke:Ap},gridLine:{enabled:!0,style:[{stroke:pr,lineDash:[]}]},crossLines:{enabled:!1,fill:bh,stroke:bh,fillOpacity:.1,strokeWidth:1,label:{enabled:!1,fontSize:12,fontFamily:We,padding:5,color:I0}}})}getChartDefaults(){return{minHeight:300,minWidth:300,background:{visible:!0,fill:$p},padding:{top:cs,right:cs,bottom:cs,left:cs},keyboard:{enabled:!0},title:{enabled:!1,text:"Title",fontWeight:"normal",fontSize:17,fontFamily:We,color:I0,wrapping:"hyphenate",layoutStyle:y2,textAlign:I2},subtitle:{enabled:!1,text:"Subtitle",spacing:20,fontSize:13,fontFamily:We,color:ms,wrapping:"hyphenate",layoutStyle:y2,textAlign:I2},footnote:{enabled:!1,text:"Footnote",spacing:20,fontSize:13,fontFamily:We,color:"rgb(140, 140, 140)",wrapping:"hyphenate",layoutStyle:y2,textAlign:I2},legend:{position:"bottom",spacing:30,listeners:{},toggleSeries:!0,item:{paddingX:16,paddingY:8,marker:{size:15,padding:8},showSeriesStroke:!0,label:{color:I0,fontSize:12,fontFamily:We}},reverseOrder:!1,pagination:{marker:{size:12},activeStyle:{fill:I0},inactiveStyle:{fill:ms},highlightStyle:{fill:I0},label:{color:I0}}},tooltip:{enabled:!0,darkTheme:zh,range:void 0,delay:0},overlays:{darkTheme:zh},listeners:{}}}constructor(t={}){let{overrides:n,palette:o}=E0(t),a=this.createChartConfigPerChartType(this.getDefaults());n&&this.mergeOverrides(a,n);let l=this.getDefaultColors(),{fills:s,strokes:i}=l,r=ue(l,["fills","strokes"]);this.palette=Wt(o,this.getPalette(),S({},r)),this.paletteType=m6(o),this.config=Object.freeze(this.templateTheme(a))}mergeOverrides(t,n){for(let{seriesTypes:o,commonOptions:a}of Object.values(x6)){let s=S({},n.common);for(let i of G$)a.includes(i)||delete s[i];if(s)for(let i of o){let r=i;t[r]=Wt(s,t[r])}}h0.seriesTypes.forEach(o=>{let a=o;n[a]&&(t[a]=Wt(n[a],t[a]))})}createChartConfigPerChartType(t){for(let[n,{seriesTypes:o}]of Object.entries(x6)){let a=c6.get(n);for(let s of o)t[s]||(t[s]=E0(a))}return t}getDefaults(){let t=(n,o)=>{let a={},s=S(S(S({axes:{}},of.getThemeTemplates()),this.getChartDefaults()),c6.get(n));for(let i of o){a[i]=Wt(Mn.getThemeTemplate(i),a[i]??E0(s));let{axes:r}=a[i];for(let l of zs.keys())r[l]=Wt(r[l],zs.getThemeTemplate(l),GB.cartesianAxisDefault[l])}return a};return Wt(t("cartesian",h0.cartesianTypes),t("polar",h0.polarTypes),t("hierarchy",h0.hierarchyTypes),t("topology",h0.topologyTypes),t("flow-proportion",h0.flowProportionTypes))}templateTheme(t){let n=E0(t),o=this.getTemplateParameters();return Eo(n,a=>{if(Ze(a))for(let s=0;s<a.length;s++){let i=a[s];o.has(i)&&(a[s]=o.get(i))}else for(let[s,i]of Object.entries(a))o.has(i)&&(a[s]=o.get(i))}),E0(n)}getDefaultColors(){return{fills:Vn,strokes:us,up:{fill:Vn.BLUE,stroke:us.BLUE},down:{fill:Vn.ORANGE,stroke:us.ORANGE},neutral:{fill:Vn.GRAY,stroke:us.GRAY}}}getTemplateParameters(){let t=new Map;t.set(zh,!1),t.set(We,"Verdana, sans-serif"),t.set(I0,"rgb(70, 70, 70)"),t.set(hB,"white"),t.set(ms,"rgb(140, 140, 140)"),t.set(pr,"rgb(224,234,241)"),t.set(Ap,"rgb(195, 195, 195)"),t.set(bh,"rgb(70, 70, 70)"),t.set(F2,Ip),t.set($p,Ip),t.set(V2,"rgba(0, 0, 0, 0.5)"),t.set(Wn,[Vn.ORANGE,Vn.YELLOW,Vn.GREEN]),t.set(cs,20),t.set(y2,"block"),t.set(I2,"center"),t.set(Bf,["#ffffff","#e0e5ea","#c1ccd5","#a3b4c1","#859cad"]),t.set(Sf,["#ffffff","#c5cbd1","#a4b1bd","#8498a9","#648096"]),t.set(Cf,Ip),t.set($n,Vn.BLUE),t.set(qn,Vn.BLUE),t.set(Df,Ip),t.set(h4,"top"),t.set(ua,!1);let n=this.getDefaultColors();return t.set(qp,this.palette.up?.stroke??n.up.stroke),t.set(cB,this.palette.up?.fill??n.up.fill),t.set(Yp,this.palette.down?.stroke??n.down.stroke),t.set(dB,this.palette.down?.fill??n.down.fill),t.set(Kp,this.palette.neutral?.stroke??n.neutral.stroke),t.set(pB,this.palette.neutral?.fill??n.neutral.fill),t}};r1.cartesianAxisDefault={number:r1.getAxisDefaults({line:{enabled:!1}}),log:r1.getAxisDefaults({base:10,line:{enabled:!1}}),category:r1.getAxisDefaults({groupPaddingInner:.1,label:{autoRotate:!0},gridLine:{enabled:ua}}),time:r1.getAxisDefaults({gridLine:{enabled:ua}}),"ordinal-time":r1.getAxisDefaults({groupPaddingInner:0,label:{autoRotate:!1},gridLine:{enabled:ua},crosshair:{enabled:!0,snap:!0,stroke:ms,strokeWidth:1,strokeOpacity:1,lineDash:[5,6],lineDashOffset:0,label:{enabled:!0}}}),"angle-category":r1.getAxisDefaults({gridLine:{enabled:ua}}),"angle-number":r1.getAxisDefaults({gridLine:{enabled:ua}}),"radius-category":r1.getAxisDefaults({line:{enabled:!1},tick:{enabled:!1}}),"radius-number":r1.getAxisDefaults({line:{enabled:!1},tick:{enabled:!1}}),"grouped-category":r1.getAxisDefaults()};var Uo=r1,kp="#192232",yo={BLUE:"#5090dc",ORANGE:"#ffa03a",GREEN:"#459d55",CYAN:"#34bfe1",YELLOW:"#e1cc00",VIOLET:"#9669cb",GRAY:"#b5b5b5",MAGENTA:"#bd5aa7",BROWN:"#8a6224",RED:"#ef5452"},ch={BLUE:"#74a8e6",ORANGE:"#ffbe70",GREEN:"#6cb176",CYAN:"#75d4ef",YELLOW:"#f6e559",VIOLET:"#aa86d8",GRAY:"#a1a1a1",MAGENTA:"#ce7ab9",BROWN:"#997b52",RED:"#ff7872"},W$={fills:Object.values(yo),strokes:Object.values(ch)},Lr=class extends Uo{getDefaultColors(){return{fills:yo,strokes:ch,up:{fill:yo.BLUE,stroke:ch.BLUE},down:{fill:yo.ORANGE,stroke:ch.ORANGE},neutral:{fill:yo.GRAY,stroke:ch.GRAY}}}getTemplateParameters(){let e=super.getTemplateParameters();return e.set(zh,!0),e.set(Cf,kp),e.set(I0,"white"),e.set(ms,"#7D91A0"),e.set(pr,"#545A6E"),e.set(bh,"white"),e.set(Wn,[yo.ORANGE,yo.YELLOW,yo.GREEN]),e.set(Bf,["#192834","#253746","#324859","#3f596c","#4d6a80"]),e.set(Sf,["#192834","#3b5164","#496275","#577287","#668399"]),e.set($p,kp),e.set(F2,kp),e.set($n,yo.BLUE),e.set(qn,yo.BLUE),e.set(Df,kp),e}getPalette(){return W$}constructor(e){super(e)}},Io={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc"},dh={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc"},$$={fills:Object.values(Io),strokes:Object.values(dh)},q$=class extends Lr{getDefaultColors(){return{fills:S({},Io),strokes:S({},dh),up:{fill:Io.GREEN,stroke:dh.GREEN},down:{fill:Io.RED,stroke:dh.RED},neutral:{fill:Io.BLUE,stroke:dh.BLUE}}}getTemplateParameters(){let e=super.getTemplateParameters();return e.set(Wn,[Io.GREEN,Io.BLUE,Io.RED]),e.set($n,Io.BLUE),e.set(qn,Io.BLUE),e.set(pr,"#343A4E"),e.set(cs,0),e.set(y2,"overlay"),e.set(I2,"left"),e.set(h4,"bottom"),e.set(ua,!0),e}getPalette(){return $$}},ko={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc"},ph={GREEN:"#089981",RED:"#F23645",BLUE:"#5090dc"},Y$={fills:Object.values(ko),strokes:Object.values(ph)},K$=class extends Uo{getDefaultColors(){return{fills:S({},ko),strokes:S({},ph),up:{fill:ko.GREEN,stroke:ph.GREEN},down:{fill:ko.RED,stroke:ph.RED},neutral:{fill:ko.BLUE,stroke:ph.BLUE}}}getTemplateParameters(){let e=super.getTemplateParameters();return e.set(Wn,[ko.GREEN,ko.BLUE,ko.RED]),e.set($n,ko.BLUE),e.set(qn,ko.BLUE),e.set(pr,"#F2F3F3"),e.set(cs,0),e.set(y2,"overlay"),e.set(I2,"left"),e.set(h4,"bottom"),e.set(ua,!0),e}getPalette(){return Y$}},zo={BLUE:"#2196F3",ORANGE:"#FF9800",GREEN:"#4CAF50",CYAN:"#00BCD4",YELLOW:"#FFEB3B",VIOLET:"#7E57C2",GRAY:"#9E9E9E",MAGENTA:"#F06292",BROWN:"#795548",RED:"#F44336"},vh={BLUE:"#90CAF9",ORANGE:"#FFCC80",GREEN:"#A5D6A7",CYAN:"#80DEEA",YELLOW:"#FFF9C4",VIOLET:"#B39DDB",GRAY:"#E0E0E0",MAGENTA:"#F48FB1",BROWN:"#A1887F",RED:"#EF9A9A"},Z$={fills:Object.values(zo),strokes:Object.values(vh)},X$=class extends Lr{getDefaultColors(){return{fills:zo,strokes:vh,up:{fill:zo.BLUE,stroke:vh.BLUE},down:{fill:zo.RED,stroke:vh.RED},neutral:{fill:zo.GRAY,stroke:vh.GRAY}}}getTemplateParameters(){let e=super.getTemplateParameters();return e.set(Wn,[zo.ORANGE,zo.YELLOW,zo.GREEN]),e.set($n,zo.BLUE),e.set(qn,zo.BLUE),e}getPalette(){return Z$}},bo={BLUE:"#2196F3",ORANGE:"#FF9800",GREEN:"#4CAF50",CYAN:"#00BCD4",YELLOW:"#FFEB3B",VIOLET:"#7E57C2",GRAY:"#9E9E9E",MAGENTA:"#F06292",BROWN:"#795548",RED:"#F44336"},gh={BLUE:"#1565C0",ORANGE:"#E65100",GREEN:"#2E7D32",CYAN:"#00838F",YELLOW:"#F9A825",VIOLET:"#4527A0",GRAY:"#616161",MAGENTA:"#C2185B",BROWN:"#4E342E",RED:"#B71C1C"},Q$={fills:Object.values(bo),strokes:Object.values(gh)},J$=class extends Uo{getDefaultColors(){return{fills:bo,strokes:gh,up:{fill:bo.BLUE,stroke:gh.BLUE},down:{fill:bo.RED,stroke:gh.RED},neutral:{fill:bo.GRAY,stroke:gh.GRAY}}}getTemplateParameters(){let e=super.getTemplateParameters();return e.set(Wn,[bo.ORANGE,bo.YELLOW,bo.GREEN]),e.set($n,bo.BLUE),e.set(qn,bo.BLUE),e}getPalette(){return Q$}},rs={BLUE:"#436ff4",PURPLE:"#9a7bff",MAGENTA:"#d165d2",PINK:"#f0598b",RED:"#f47348",ORANGE:"#f2a602",YELLOW:"#e9e201",GREEN:"#21b448",CYAN:"#00b9a2",MODERATE_BLUE:"#00aee4"},Rp={BLUE:"#6698ff",PURPLE:"#c0a3ff",MAGENTA:"#fc8dfc",PINK:"#ff82b1",RED:"#ff9b70",ORANGE:"#ffcf4e",YELLOW:"#ffff58",GREEN:"#58dd70",CYAN:"#51e2c9",MODERATE_BLUE:"#4fd7ff"},tq="#bbbbbb",eq="#eeeeee",nq={fills:Object.values(rs),strokes:Object.values(Rp)},oq=class extends Lr{getDefaultColors(){return{fills:rs,strokes:Rp,up:{fill:rs.BLUE,stroke:Rp.BLUE},down:{fill:rs.RED,stroke:Rp.RED},neutral:{fill:tq,stroke:eq}}}getTemplateParameters(){let e=super.getTemplateParameters();return e.set(Wn,[rs.BLUE,rs.RED]),e.set($n,rs.BLUE),e.set(qn,rs.BLUE),e}getPalette(){return nq}},ls={BLUE:"#436ff4",PURPLE:"#9a7bff",MAGENTA:"#d165d2",PINK:"#f0598b",RED:"#f47348",ORANGE:"#f2a602",YELLOW:"#e9e201",GREEN:"#21b448",CYAN:"#00b9a2",MODERATE_BLUE:"#00aee4"},Lp={BLUE:"#2346c9",PURPLE:"#7653d4",MAGENTA:"#a73da9",PINK:"#c32d66",RED:"#c84b1c",ORANGE:"#c87f00",YELLOW:"#c1b900",GREEN:"#008c1c",CYAN:"#00927c",MODERATE_BLUE:"#0087bb"},aq="#bbbbbb",sq="#888888",iq={fills:Object.values(ls),strokes:Object.values(Lp)},rq=class extends Uo{getDefaultColors(){return{fills:ls,strokes:Lp,up:{fill:ls.BLUE,stroke:Lp.BLUE},down:{fill:ls.RED,stroke:Lp.RED},neutral:{fill:aq,stroke:sq}}}getTemplateParameters(){let e=super.getTemplateParameters();return e.set(Wn,[ls.BLUE,ls.RED]),e.set($n,ls.BLUE),e.set(qn,ls.BLUE),e}getPalette(){return iq}},V1={BLUE:"#4472C4",ORANGE:"#ED7D31",GRAY:"#A5A5A5",YELLOW:"#FFC000",MODERATE_BLUE:"#5B9BD5",GREEN:"#70AD47",DARK_GRAY:"#7B7B7B",DARK_BLUE:"#264478",VERY_DARK_GRAY:"#636363",DARK_YELLOW:"#997300"},Ki={BLUE:"#6899ee",ORANGE:"#ffa55d",GRAY:"#cdcdcd",YELLOW:"#ffea53",MODERATE_BLUE:"#82c3ff",GREEN:"#96d56f",DARK_GRAY:"#a1a1a1",DARK_BLUE:"#47689f",VERY_DARK_GRAY:"#878787",DARK_YELLOW:"#c0993d"},lq={fills:Object.values(V1),strokes:Object.values(Ki)},hq=class extends Lr{getDefaultColors(){return{fills:V(S({},V1),{RED:V1.ORANGE}),strokes:V(S({},Ki),{RED:Ki.ORANGE}),up:{fill:V1.BLUE,stroke:Ki.BLUE},down:{fill:V1.ORANGE,stroke:Ki.ORANGE},neutral:{fill:V1.GRAY,stroke:Ki.GRAY}}}getTemplateParameters(){let e=super.getTemplateParameters();return e.set(Wn,[V1.ORANGE,V1.YELLOW,V1.GREEN]),e.set($n,V1.BLUE),e.set(qn,V1.BLUE),e}getPalette(){return lq}},j1={BLUE:"#5281d5",ORANGE:"#ff8d44",GRAY:"#b5b5b5",YELLOW:"#ffd02f",MODERATE_BLUE:"#6aabe6",GREEN:"#7fbd57",DARK_GRAY:"#8a8a8a",DARK_BLUE:"#335287",VERY_DARK_GRAY:"#717171",DARK_YELLOW:"#a98220"},Zi={BLUE:"#214d9b",ORANGE:"#c25600",GRAY:"#7f7f7f",YELLOW:"#d59800",MODERATE_BLUE:"#3575ac",GREEN:"#4b861a",DARK_GRAY:"#575757",DARK_BLUE:"#062253",VERY_DARK_GRAY:"#414141",DARK_YELLOW:"#734f00"},cq={fills:Object.values(j1),strokes:Object.values(Zi)},dq=class extends Uo{getDefaultColors(){return{fills:V(S({},j1),{RED:j1.ORANGE}),strokes:V(S({},Zi),{RED:Zi.ORANGE}),up:{fill:Zi.BLUE,stroke:j1.BLUE},down:{fill:Zi.ORANGE,stroke:j1.ORANGE},neutral:{fill:Zi.GRAY,stroke:j1.GRAY}}}getTemplateParameters(){let e=super.getTemplateParameters();return e.set(Wn,[j1.ORANGE,j1.YELLOW,j1.GREEN]),e.set($n,j1.BLUE),e.set(qn,j1.BLUE),e}getPalette(){return cq}},Co={BLUE:"#0083ff",ORANGE:"#ff6600",GREEN:"#00af00",CYAN:"#00ccff",YELLOW:"#f7c700",VIOLET:"#ac26ff",GRAY:"#a7a7b7",MAGENTA:"#e800c5",BROWN:"#b54300",RED:"#ff0000"},uh={BLUE:"#67b7ff",ORANGE:"#ffc24d",GREEN:"#5cc86f",CYAN:"#54ebff",VIOLET:"#fff653",YELLOW:"#c18aff",GRAY:"#aeaeae",MAGENTA:"#f078d4",BROWN:"#ba8438",RED:"#ff726e"},pq={fills:Object.values(Co),strokes:Object.values(uh)},vq=class extends Lr{getDefaultColors(){return{fills:Co,strokes:uh,up:{fill:Co.BLUE,stroke:uh.BLUE},down:{fill:Co.ORANGE,stroke:uh.ORANGE},neutral:{fill:Co.GRAY,stroke:uh.GRAY}}}getTemplateParameters(){let e=super.getTemplateParameters();return e.set(Wn,[Co.ORANGE,Co.YELLOW,Co.GREEN]),e.set($n,Co.BLUE),e.set(qn,Co.BLUE),e}getPalette(){return pq}},Bo={BLUE:"#0083ff",ORANGE:"#ff6600",GREEN:"#00af00",CYAN:"#00ccff",YELLOW:"#f7c700",VIOLET:"#ac26ff",GRAY:"#a7a7b7",MAGENTA:"#e800c5",BROWN:"#b54300",RED:"#ff0000"},wh={BLUE:"#0f68c0",ORANGE:"#d47100",GREEN:"#007922",CYAN:"#009ac2",VIOLET:"#bca400",YELLOW:"#753cac",GRAY:"#646464",MAGENTA:"#9b2685",BROWN:"#6c3b00",RED:"#cb0021"},gq={fills:Object.values(Bo),strokes:Object.values(wh)},uq=class extends Uo{getDefaultColors(){return{fills:Bo,strokes:wh,up:{fill:Bo.BLUE,stroke:wh.BLUE},down:{fill:Bo.ORANGE,stroke:wh.ORANGE},neutral:{fill:Bo.GRAY,stroke:wh.GRAY}}}getTemplateParameters(){let e=super.getTemplateParameters();return e.set(Wn,[Bo.ORANGE,Bo.YELLOW,Bo.GREEN]),e.set($n,Bo.BLUE),e.set(qn,Bo.BLUE),e}getPalette(){return gq}},Bh=()=>new Uo,Vw=()=>new Lr,wq={undefined:Bh,null:Bh,"ag-default":Bh,"ag-sheets":()=>new dq,"ag-polychroma":()=>new rq,"ag-vivid":()=>new uq,"ag-material":()=>new J$,"ag-financial":()=>new K$},fq={undefined:Vw,null:Vw,"ag-default-dark":Vw,"ag-sheets-dark":()=>new hq,"ag-polychroma-dark":()=>new oq,"ag-vivid-dark":()=>new vq,"ag-material-dark":()=>new X$,"ag-financial-dark":()=>new q$},WB=S(S({},fq),wq);function Mq(e){if(e===null)return;let t=!0,{baseTheme:n,palette:o,overrides:a}=e;if(n!==void 0&&typeof n!="string"&&typeof n!="object"&&(q.warn(`invalid theme.baseTheme type ${typeof n}, expected (string | object).`),t=!1),a!==void 0&&typeof a!="object"&&(q.warn(`invalid theme.overrides type ${typeof a}, expected object.`),t=!1),typeof o=="object"){if(o!==null){let{fills:s,strokes:i}=o;s!==void 0&&!Array.isArray(s)&&(q.warn("theme.overrides.fills must be undefined or an array"),t=!1),i!==void 0&&!Array.isArray(i)&&(q.warn("theme.overrides.strokes must be undefined or an array"),t=!1)}}else o!==void 0&&(q.warn(`invalid theme.palette type ${typeof o}, expected object.`),t=!1);if(t)return e}function mq(e){if(e===void 0||typeof e=="string"||e instanceof Uo)return e;if(typeof e=="object")return Mq(e);q.warn(`invalid theme value type ${typeof e}, expected object or string.`)}function h7(e){let t=mq(e);if(t instanceof Uo)return t;if(t==null||typeof t=="string"){let i=WB[t];return i?i():(q.warnOnce(`the theme [${t}] is invalid, using [ag-default] instead.`),Bh())}let n=[],o;for(;typeof t=="object";)n.push(t.overrides),o??(o=t.palette),t=t.baseTheme;let a={baseTheme:t,overrides:Wt(...n),palette:o},s=a.baseTheme?h7(a.baseTheme):Bh();return new s.constructor(a)}var xq=new Set(["map-shape-background","map-line-background"]),$B=class{constructor(e,t){this.debug=me.create(!0,"opts");var n;let o={shallow:["data"]};this.userOptions=E0(e,o);let a=this.optionsType(this.userOptions),s=E0(e,o);if(this.type=t?.type,this.type!=null){let u=V$[this.type]?.(s,()=>this.activeTheme)??s;this.debug(">>> AgCharts.createOrUpdate() - applying preset",s,u),s=u}this.activeTheme=h7(s.theme),this.type&&(s=this.activeTheme.templateTheme(s)),this.sanityCheckAndCleanup(s),this.defaultAxes=this.getDefaultAxes(s),this.specialOverrides=this.specialOverridesDefaults(S({},t));let d=this.getSeriesThemeConfig(a),{axes:i={},annotations:p={}}=d,v=p,{axesButtons:r=void 0}=v,l=ue(v,["axesButtons"]),g=d,{series:h}=g,c=ue(g,["axes","annotations","series"]);this.processedOptions=E0(Wt(s,r!=null?{annotations:{axesButtons:r}}:{},c,this.defaultAxes),o),this.processAxesOptions(this.processedOptions,i),this.processSeriesOptions(this.processedOptions),this.processMiniChartSeriesOptions(this.processedOptions),this.annotationThemes=l,(ar(this.processedOptions)||vW(this.processedOptions))&&this.processedOptions.legend?.enabled==null&&((n=this.processedOptions).legend??(n.legend={}),this.processedOptions.legend.enabled=this.processedOptions.series.length>1),this.enableConfiguredOptions(this.processedOptions),or.isEnterprise||j$(this.processedOptions)}getOptions(){return this.processedOptions??{}}diffOptions(e){return Un(e,this.processedOptions)}getSeriesThemeConfig(e){return E0(this.activeTheme?.config[e]??{})}getDefaultAxes(e){let t=this.optionsType(e),n=Mn.cloneDefaultAxes(t);return Mn.isDefaultAxisSwapNeeded(e)&&this.swapAxesPosition(n),n}optionsType(e){return e.series?.[0]?.type??"line"}sanityCheckAndCleanup(e){this.deprecationWarnings(e),this.axesTypeIntegrity(e),this.seriesTypeIntegrity(e),this.soloSeriesIntegrity(e),this.removeDisabledOptions(e),this.removeLeftoverSymbols(e),e.series?.some(t=>t.type==="bullet")&&e.sync!=null&&e.sync.enabled!==!1&&(q.warnOnce("bullet series cannot be synced, disabling synchronization."),delete e.sync)}swapAxesPosition(e){if(ar(e)){let[t,n]=e.axes??[];e.axes=[V(S({},t),{position:n.position}),V(S({},n),{position:t.position})]}}processAxesOptions(e,t){"axes"in e&&(e.axes=e.axes.map(n=>{let d=Wt(t[n.type]?.[n.position],t[n.type]),{crossLines:o}=d,a=ue(d,["crossLines"]);n.crossLines&&(n.crossLines=Yw(n.crossLines,o));let s=a.gridLine?.style;n.gridLine?.style&&s?.length&&(n.gridLine.style=n.gridLine.style.map((v,g)=>v.stroke!=null||v.lineDash!=null?Wt(v,s.at(g%s.length)):v));let p=Wt(n,a),{top:i,right:r,bottom:l,left:h}=p;return ue(p,["top","right","bottom","left"])}))}processSeriesOptions(e){let t=this.getDefaultSeriesType(e),n=this.getTooltipPositionDefaults(e),o=g1(e.theme)?m6(e.theme?.palette):"inbuilt",a={colourIndex:0,userPalette:o},s=e.series?.map(i=>{i.type??(i.type=t);let v=this.getSeriesThemeConfig(i.type).series??{},{innerLabels:r}=v,l=ue(v,["innerLabels"]),h=xq.has(i.type)?{colourIndex:0,userPalette:o}:a,c=this.getSeriesPalette(i.type,h),d=this.getTooltipRangeDefaults(e,i.type),p=Wt(this.getSeriesGroupingOptions(i),i,n,d,l,c,{visible:!0});return p.innerLabels&&(p.innerLabels=Yw(p.innerLabels,r)),this.activeTheme.templateTheme(p)});e.series=this.setSeriesGroupingOptions(s??[])}processMiniChartSeriesOptions(e){let t=e.navigator?.miniChart?.series;if(t==null)return;let n={colourIndex:0,userPalette:g1(e.theme)?m6(e.theme.palette):"inbuilt"};t=t.map(o=>{o.type??(o.type="line");let r=this.getSeriesThemeConfig(o.type).series??{},{innerLabels:a}=r,s=ue(r,["innerLabels"]),i=Wt(this.getSeriesGroupingOptions(o),o,s,this.getSeriesPalette(o.type,n));return this.activeTheme.templateTheme(i)}),e.navigator.miniChart.series=this.setSeriesGroupingOptions(t)}getSeriesPalette(e,t){let n=Mn.getPaletteFactory(e),{colourIndex:o,userPalette:a}=t,{fills:s=[],strokes:i=[]}=this.activeTheme.palette;return n?.({userPalette:a,colorsCount:Math.max(s.length,i.length),themeTemplateParameters:this.activeTheme.getTemplateParameters(),palette:this.activeTheme.palette,takeColors(r){return t.colourIndex+=r,{fills:Jw(s,r,o),strokes:Jw(i,r,o)}}})}getSeriesGroupingOptions(e){let t=Mn.isGroupable(e.type),n=Mn.isStackable(e.type),o=Mn.isStackedByDefault(e.type);e.grouped&&!t&&q.warnOnce(`unsupported grouping of series type "${e.type}".`),(e.stacked||e.stackGroup)&&!n&&q.warnOnce(`unsupported stacking of series type "${e.type}".`);let{grouped:a,stacked:s}=e;return s??(s=(o||e.stackGroup!=null)&&!(t&&a)),a??(a=!0),{stacked:n&&s,grouped:t&&a&&!(n&&s)}}setSeriesGroupingOptions(e){let t=this.getSeriesGrouping(e);this.debug("setSeriesGroupingOptions() - series grouping: ",t);let n={},o=t.reduce((a,s)=>{var i;return s.groupType==="default"||(a[i=s.seriesType]??(a[i]=0),a[s.seriesType]+=s.groupType==="stack"?1:s.series.length),a},{});return t.flatMap(a=>{var s;switch(n[s=a.seriesType]??(n[s]=0),a.groupType){case"stack":let i=n[a.seriesType]++;return a.series.map((r,l)=>Object.assign(r,{seriesGrouping:{groupIndex:i,groupCount:o[a.seriesType],stackIndex:l,stackCount:a.series.length}}));case"group":return a.series.map(r=>Object.assign(r,{seriesGrouping:{groupIndex:n[a.seriesType]++,groupCount:o[a.seriesType],stackIndex:0,stackCount:0}}))}return a.series}).map(r=>{var l=r,{stacked:a,grouped:s}=l,i=ue(l,["stacked","grouped"]);return i})}getSeriesGroupId(e){return[e.type,e.xKey,e.stacked?e.stackGroup??"stacked":"grouped"].filter(Boolean).join("-")}getSeriesGrouping(e){let t=new Map;return e.reduce((n,o)=>{let a=o.type;if(!o.stacked&&!o.grouped)n.push({groupType:"default",seriesType:a,series:[o]});else{let s=this.getSeriesGroupId(o);if(!t.has(s)){let r={groupType:o.stacked?"stack":"group",seriesType:a,series:[]};t.set(s,r),n.push(r)}t.get(s).series.push(o)}return n},[])}getDefaultSeriesType(e){if(ar(e))return"line";if(k3(e))return"pie";if(rf(e))return"treemap";if(lf(e))return"map-shape";if(hf(e))return"sankey";throw new Error("Invalid chart options type detected.")}getTooltipPositionDefaults(e){let t=e.tooltip?.position;if(!f1(t))return;let{type:n,xOffset:o,yOffset:a}=t,s={};return u1(n)&&zz(Qk,n)&&(s.type=n),Xt(o)&&(s.xOffset=o),Xt(a)&&(s.yOffset=a),{tooltip:{position:s}}}getTooltipRangeDefaults(e,t){return{tooltip:{range:e.tooltip?.range??Mn.getTooltipDefauls(t)?.range}}}deprecationWarnings(e){Object.entries({yKeys:"yKey",yNames:"yName"}).forEach(([n,o])=>{e.series?.some(a=>a[n]!=null)&&q.warnOnce(`Property [series.${n}] is deprecated, please use [series.${o}] and multiple series instead.`)})}axesTypeIntegrity(e){if("axes"in e){let t=e.axes??[];for(let{type:n}of t)if(!uW(n)){delete e.axes;let o=Array.from(zs.publicKeys()).join(", ");q.warnOnce(`unknown axis type: ${n}; expected one of: ${o}`)}}}seriesTypeIntegrity(e){e.series=e.series?.filter(({type:t})=>{if(t==null||gW(t)||YG(t))return!0;q.warnOnce(`unknown series type: ${t}; expected one of: ${mC.seriesTypes.join(", ")}`)})}soloSeriesIntegrity(e){let t=e.series;if(t&&t.length>1&&t.some(n=>Mn.isSolo(n.type))){let n=this.optionsType(e);if(Mn.isSolo(n))q.warn(`series[0] of type '${n}' is incompatible with other series types. Only processing series[0]`),e.series=t.slice(0,1);else{let{solo:o,nonSolo:a}=G6(t,i=>Mn.isSolo(i.type)?"solo":"nonSolo"),s=u3(o.map(i=>i.type)).join(", ");q.warn(`Unable to mix these series types with the lead series type: ${s}`),e.series=a}}}enableConfiguredOptions(e){Eo(this.userOptions,(t,n)=>{n&&"enabled"in n&&!n._enabledFromTheme&&t.enabled==null&&(n.enabled=!0)},{skip:["data","theme"]},e),Eo(e,t=>{t._enabledFromTheme!=null&&delete t._enabledFromTheme},{skip:["data","theme"]})}removeDisabledOptions(e){Eo(e,t=>{"enabled"in t&&t.enabled===!1&&Object.keys(t).forEach(n=>{n!=="enabled"&&delete t[n]})},{skip:["data","theme"]})}removeLeftoverSymbols(e){Eo(e,t=>{if(!(!t||!g1(t)))for(let[n,o]of Object.entries(t))bz(o)&&delete t[n]},{skip:["data"]})}specialOverridesDefaults(e){if(e.window!=null?Mb(e.window):typeof window<"u"?e.window=window:typeof global<"u"&&(e.window=global.window),e.document!=null?fb(e.document):typeof document<"u"?e.document=document:typeof global<"u"&&(e.document=global.document),e.window==null)throw new Error("AG Charts - unable to resolve global window");if(e.document==null)throw new Error("AG Charts - unable to resolve global document");return e}},nh=me.create(!0,"opts");function Kk(e){if(ar(e))return"cartesian";if(k3(e))return"polar";if(rf(e))return"hierarchy";if(lf(e))return"topology";if(hf(e))return"flow-proportion";throw new Error(`AG Chart - unknown type of chart for options with type: ${e.type}`)}var vr=class{static licenseCheck(e){this.licenseChecked||(this.licenseManager=or.licenseManager?.(e),this.licenseManager?.setLicenseKey(this.licenseKey,this.gridContext),this.licenseManager?.validateLicense(),this.licenseChecked=!0)}static setLicenseKey(e){this.licenseKey=e}static setGridContext(e){this.gridContext=e}static getLicenseDetails(e){return or.licenseManager?.({}).getLicenseDetails(e)}static getInstance(e){return Zk.getInstance(e)}static create(e){this.licenseCheck(e);let t=Zk.createOrUpdate(e);return this.licenseManager?.isDisplayWatermark()&&or.injectWatermark?.(t.chart.ctx.domManager,this.licenseManager.getWatermarkMessage()),t}static createFinancialChart(e){return this.create(S({_type:"price-volume"},e))}};vr.licenseChecked=!1;vr.gridContext=!1;var k2=class hs{static getInstance(t){let n=Sr.getInstance(t);return n?Tk.chartInstances.get(n):void 0}static initialiseModules(){hs.initialised||(R$(),L$(),hs.initialised=!0)}static createOrUpdate(t,n){hs.initialiseModules(),nh(">>> AgCharts.createOrUpdate() user options",t);let o=n?.chart.chartOptions.type,v=t,{_type:a=o}=v,i=ue(v,["_type"]);vr.optionsMutationFn&&(i=vr.optionsMutationFn(i,a),nh(">>> AgCharts.createOrUpdate() MUTATED user options",t));let g=i,{overrideDevicePixelRatio:r,document:l,window:h}=g,c=ue(g,["overrideDevicePixelRatio","document","window"]),d=new $B(c,{overrideDevicePixelRatio:r,document:l,window:h,type:a}),p=n?.chart;return(p==null||Kk(c)!==Kk(p?.chartOptions.processedOptions))&&(p=hs.createChartInstance(d,p)),n==null?n=new Tk(p,hs.callbackApi):n.chart=p,nh.check()&&typeof window<"u"&&(window.agChartInstances??(window.agChartInstances={}),window.agChartInstances[p.id]=p),p.queuedUserOptions.push(c),p.requestFactoryUpdate(u=>{u.applyOptions(d);let f=u.queuedUserOptions.indexOf(c)+1;u.queuedUserOptions.splice(0,f),u.applyInitialState()}),n}static updateUserDelta(t,n){n=E0(n,{shallow:["data"]}),Eo(n,i=>{if(typeof i=="object")for(let[r,l]of Object.entries(i))typeof l>"u"&&Object.assign(i,{[r]:Symbol("UNSET")})},{skip:["data"]});let{chart:o}=t,a=o.getOptions(),s=Wt(n,a);nh(">>> AgCharts.updateUserDelta() user delta",n),nh("AgCharts.updateUserDelta() - base options",a),hs.createOrUpdate(s,t)}static createChartInstance(t,n){let o=n?.destroy({keepTransferableResources:!0}),a=hs.getChartByOptions(t.processedOptions);return new a(t,o)}static getChartByOptions(t){if(ar(t))return If;if(rf(t))return i7;if(k3(t))return r7;if(lf(t))return l7;if(hf(t))return s7;throw new Error("AG Charts - couldn't apply configuration, check options are correctly structured and series types are specified")}};k2.caretaker=new Gb(Ub);k2.initialised=!1;k2.callbackApi={caretaker:k2.caretaker,createOrUpdate(e,t){return k2.createOrUpdate(e,t)},updateUserDelta(e,t){return k2.updateUserDelta(e,t)}};var Zk=k2,yq={};Oo(yq,{Arc:()=>Go,BBox:()=>pt,BandScale:()=>Is,Caption:()=>ze,ChangeDetectableProperties:()=>Hf,Circle:()=>Ms,ContinuousScale:()=>ve,Diamond:()=>FC,DropShadow:()=>Y1,ExtendedPath2D:()=>Nh,Group:()=>mt,HdpiCanvas:()=>J6,Image:()=>Or,Label:()=>d0,Line:()=>k0,LinearGradientFill:()=>_3,LinearScale:()=>To,Marker:()=>G0,Node:()=>wr,OrdinalTimeScale:()=>U1,Path:()=>nn,PointerEvents:()=>uz,RadialColumnShape:()=>K1,Rect:()=>on,RedrawType:()=>ws,Scene:()=>tf,SceneChangeDetection:()=>dt,ScenePathChangeDetection:()=>Bt,Sector:()=>L0,SectorBox:()=>LB,Selection:()=>qe,Shape:()=>M1,Square:()=>Vh,Text:()=>se,Tooltip:()=>I1,Triangle:()=>sr,easing:()=>L6,getFont:()=>C2,getMarker:()=>Lo,getRadialColumnWidth:()=>Iq,motion:()=>kq,sectorBox:()=>Zf,toRadians:()=>Q0,toTooltipHtml:()=>hr});var Go=class extends nn{constructor(){super(),this.centerX=0,this.centerY=0,this.radius=10,this.startAngle=0,this.endAngle=Math.PI*2,this.counterClockwise=!1,this.type=0,this.restoreOwnStyles()}get fullPie(){return z2(Re(this.startAngle),Re(this.endAngle))}updatePath(){let e=this.path;e.clear(),e.arc(this.centerX,this.centerY,this.radius,this.startAngle,this.endAngle,this.counterClockwise),this.type===1?e.closePath():this.type===2&&!this.fullPie&&(e.lineTo(this.centerX,this.centerY),e.closePath())}computeBBox(){return new pt(this.centerX-this.radius,this.centerY-this.radius,this.radius*2,this.radius*2)}isPointInPath(e,t){let n=this.transformPoint(e,t),o=this.computeBBox();return this.type!==0&&o.containsPoint(n.x,n.y)&&this.path.isPointInPath(n.x,n.y)}};Go.className="Arc";Go.defaultStyles=Object.assign({},M1.defaultStyles,{lineWidth:1,fillStyle:null});w([Bt()],Go.prototype,"centerX",2);w([Bt()],Go.prototype,"centerY",2);w([Bt()],Go.prototype,"radius",2);w([Bt()],Go.prototype,"startAngle",2);w([Bt()],Go.prototype,"endAngle",2);w([Bt()],Go.prototype,"counterClockwise",2);w([Bt()],Go.prototype,"type",2);var _3=class extends M1{constructor(){super(...arguments),this.direction="to-right",this.stops=void 0,this._mask=void 0}get mask(){return this._mask}set mask(e){this._mask!=null&&this.removeChild(this._mask),e!=null&&this.appendChild(e),this._mask=e}isPointInPath(e,t){return this.mask?.isPointInPath(e,t)??!1}computeBBox(){return this.mask?.computeBBox()}render(e){let{mask:t,stops:n}=this,{ctx:o,devicePixelRatio:a}=e,s=1/a,i=t?.computeTransformedBBox();if(t==null||n==null||i==null)return;t.dirtyPath&&(t.updatePath(),t.dirtyPath=!1),o.save(),o.clip(t.path.getPath2D()),o.setTransform(a,0,0,a,0,0);let r=Math.floor(i.x),l=Math.ceil(i.x+i.width),h=Math.floor(i.y),c=Math.ceil(i.y+i.height),d=this.direction==="to-right"||this.direction==="to-left",p=this.direction==="to-top"||this.direction==="to-left",v=new j2,[g,u]=d?[r,l]:[h,c];v.domain=n.map((m,k)=>g+(u-g)*k/(n.length-1)),v.range=p?n.slice().reverse():n,v.update();let f=c-h,M=l-r;switch(this.direction){case"to-right":case"to-left":for(let m=r;m<=l;m+=s)o.fillStyle=v.convert(m),o.fillRect(m,h,s,f);break;case"to-bottom":case"to-top":for(let m=h;m<=c;m+=s)o.fillStyle=v.convert(m),o.fillRect(r,m,M,s);break}o.restore()}};w([dt({redraw:3})],_3.prototype,"direction",2);w([dt({redraw:3})],_3.prototype,"stops",2);w([dt({redraw:3})],_3.prototype,"_mask",2);function jw(e,t,n){let o=Math.sqrt(e**2+t**2),s=Math.atan2(t,e)+n;return{x:Math.cos(s)*o,y:Math.sin(s)*o}}var K1=class extends nn{constructor(){super(...arguments),this.isBeveled=!0,this.columnWidth=0,this.startAngle=0,this.endAngle=0,this.outerRadius=0,this.innerRadius=0,this.axisInnerRadius=0,this.axisOuterRadius=0,this.isRadiusAxisReversed=!1}set cornerRadius(e){}computeBBox(){let{innerRadius:e,outerRadius:t,columnWidth:n}=this,o=this.getRotation(),a=-n/2,s=n/2,i=-t,r=-e,l=1/0,h=1/0,c=-1/0,d=-1/0;for(let p=0;p<4;p+=1){let{x:v,y:g}=jw(p%2===0?a:s,p<2?i:r,o);l=Math.min(v,l),h=Math.min(g,h),c=Math.max(v,c),d=Math.max(g,d)}return new pt(l,h,c-l,d-h)}getRotation(){let{startAngle:e,endAngle:t}=this,n=M3(e,t);return Re(e+n/2+Math.PI/2)}updatePath(){let{isBeveled:e}=this;e?this.updateBeveledPath():this.updateRectangularPath(),this.checkPathDirty()}updateRectangularPath(){let{columnWidth:e,innerRadius:t,outerRadius:n,path:o}=this,a=-e/2,s=e/2,i=-n,r=-t,l=this.getRotation(),h=[[a,r],[a,i],[s,i],[s,r]].map(([c,d])=>jw(c,d,l));o.clear(!0),o.moveTo(h[0].x,h[0].y),o.lineTo(h[1].x,h[1].y),o.lineTo(h[2].x,h[2].y),o.lineTo(h[3].x,h[3].y),o.closePath()}updateBeveledPath(){let{columnWidth:e,path:t,outerRadius:n,innerRadius:o,axisInnerRadius:a,axisOuterRadius:s,isRadiusAxisReversed:i}=this,r=z2(o,a),l=Math.asin(e/2/o),h=this.getRotation(),c=(b,C)=>jw(b,C,h),d=(b,C)=>Math.sqrt(b**2+C**2),p=(b,C)=>C>b?0:Math.sqrt(b**2-C**2),v=(b,C,E)=>E?b<C:b>C,g=r&&!isNaN(l)&&l<Math.PI/6,u=-e/2,f=e/2,M=-n,m=-o*(g?Math.cos(l):1),k=v(s,d(o,e/2),!i);if(k){let b=p(s,o);u=-b,f=b}t.clear(!0);let B=c(u,m);t.moveTo(B.x,B.y);let z=z2(o,n),I=v(s,d(n,e/2),!i);if(z&&g)t.arc(0,0,o,Re(-l-Math.PI/2)+h,Re(l-Math.PI/2)+h,!1);else if(I){let b=-p(s,e/2),C=p(s,n);if(!k){let E=c(u,b);t.lineTo(E.x,E.y)}if(t.arc(0,0,s,Math.atan2(b,u)+h,Math.atan2(M,-C)+h,!1),!z2(C,0)){let E=c(C,M);t.lineTo(E.x,E.y)}t.arc(0,0,s,Math.atan2(M,C)+h,Math.atan2(b,f)+h,!1)}else{let b=c(u,M),C=c(f,M);t.lineTo(b.x,b.y),t.lineTo(C.x,C.y)}let y=c(f,m);if(t.lineTo(y.x,y.y),g)t.arc(0,0,o,Re(l-Math.PI/2)+h,Re(-l-Math.PI/2)+h,!0);else{let b=c(u,m);t.lineTo(b.x,b.y)}t.closePath()}};K1.className="RadialColumnShape";w([Bt()],K1.prototype,"isBeveled",2);w([Bt()],K1.prototype,"columnWidth",2);w([Bt()],K1.prototype,"startAngle",2);w([Bt()],K1.prototype,"endAngle",2);w([Bt()],K1.prototype,"outerRadius",2);w([Bt()],K1.prototype,"innerRadius",2);w([Bt()],K1.prototype,"axisInnerRadius",2);w([Bt()],K1.prototype,"axisOuterRadius",2);w([Bt()],K1.prototype,"isRadiusAxisReversed",2);function Iq(e,t,n,o,a){let s=M3(e,t),i=s*(1-o)/2;if(e+=i,t-=i,s<.001)return 2*n*a;if(s>=2*Math.PI){let v=e+s/2;e=v-Math.PI,t=v+Math.PI}let r=n*Math.cos(e),l=n*Math.sin(e),h=n*Math.cos(t),c=n*Math.sin(t),d=Math.floor(Math.sqrt((r-h)**2+(l-c)**2)),p=2*n*a;return Math.max(1,Math.min(p,d))}var Or=class extends wr{constructor(e){super(),this.x=0,this.y=0,this.width=0,this.height=0,this.opacity=1,this.sourceImage=e}render(e){let{ctx:t,forceRender:n,stats:o}=e;if(this.dirty===0&&!n){o&&o.nodesSkipped++;return}this.computeTransformMatrix(),this.matrix.toContext(t);let a=this.sourceImage;t.globalAlpha=this.opacity,t.drawImage(a,0,0,a.width,a.height,this.x,this.y,this.width,this.height),super.render(e)}};w([dt({redraw:3})],Or.prototype,"x",2);w([dt({redraw:3})],Or.prototype,"y",2);w([dt({redraw:3})],Or.prototype,"width",2);w([dt({redraw:3})],Or.prototype,"height",2);w([dt({redraw:3})],Or.prototype,"opacity",2);var kq=S(S({},vz),gb),zq={};Oo(zq,{CARTESIAN_AXIS_TYPE:()=>iB,ChartTheme:()=>Uo,DEFAULT_ANNOTATION_BACKGROUND_FILL:()=>qn,DEFAULT_ANNOTATION_HANDLE_FILL:()=>Df,DEFAULT_ANNOTATION_STROKE:()=>$n,DEFAULT_AXIS_GRID_COLOUR:()=>pr,DEFAULT_AXIS_LINE_COLOUR:()=>Ap,DEFAULT_BACKGROUND_COLOUR:()=>$p,DEFAULT_CAPTION_ALIGNMENT:()=>I2,DEFAULT_CAPTION_LAYOUT_STYLE:()=>y2,DEFAULT_COLOURS:()=>t$,DEFAULT_CROSS_LINES_COLOUR:()=>bh,DEFAULT_DIVERGING_SERIES_COLOUR_RANGE:()=>Wn,DEFAULT_FONT_FAMILY:()=>We,DEFAULT_GRIDLINE_ENABLED:()=>ua,DEFAULT_HIERARCHY_FILLS:()=>Bf,DEFAULT_HIERARCHY_STROKES:()=>Sf,DEFAULT_INSIDE_SERIES_LABEL_COLOUR:()=>F2,DEFAULT_INVERTED_LABEL_COLOUR:()=>hB,DEFAULT_LABEL_COLOUR:()=>I0,DEFAULT_MUTED_LABEL_COLOUR:()=>ms,DEFAULT_PADDING:()=>cs,DEFAULT_POLAR_SERIES_STROKE:()=>Cf,DEFAULT_SHADOW_COLOUR:()=>V2,DEFAULT_TOOLBAR_POSITION:()=>h4,FONT_SIZE:()=>oB,FONT_WEIGHT:()=>aB,IS_DARK_THEME:()=>zh,PALETTE_DOWN_FILL:()=>dB,PALETTE_DOWN_STROKE:()=>Yp,PALETTE_NEUTRAL_FILL:()=>pB,PALETTE_NEUTRAL_STROKE:()=>Kp,PALETTE_UP_FILL:()=>cB,PALETTE_UP_STROKE:()=>qp,POLAR_AXIS_SHAPE:()=>lB,POLAR_AXIS_TYPE:()=>rB,POSITION:()=>sB,getChartTheme:()=>h7,markerPaletteFactory:()=>S3,singleSeriesPaletteFactory:()=>Tr,themes:()=>bq});var bq=_6(WB,e=>e?.()),Cq={};Oo(Cq,{BandScale:()=>Is,ColorScale:()=>j2,ContinuousScale:()=>ve,Invalidating:()=>z0,LinearScale:()=>To,OrdinalTimeScale:()=>U1,TimeScale:()=>f3});var Bq={};Oo(Bq,{Color:()=>Do,Debug:()=>me,Logger:()=>q,Padding:()=>_s,TimeInterval:()=>D2,Vec2:()=>qB,angleBetween:()=>M3,angleDiff:()=>ib,areArrayItemsStrictlyEqual:()=>xb,areArrayNumbersEqual:()=>yb,bifurcate:()=>Kz,checkDatum:()=>t6,clamp:()=>Ft,clampArray:()=>Np,countFractionDigits:()=>i3,createId:()=>No,day:()=>b6,deepClone:()=>E0,displacePointFromVector:()=>IU,extent:()=>Vo,findMinMax:()=>v1,findRangeExtent:()=>Sh,formatNormalizedPercentage:()=>E6,formatPercentage:()=>T6,friday:()=>iz,hour:()=>z6,interpolateColor:()=>mz,interpolateNumber:()=>Mz,isBetweenAngles:()=>ps,isContinuous:()=>x3,isDate:()=>Zh,isDenseInterval:()=>Ah,isEqual:()=>z2,isNegative:()=>gr,isNumber:()=>Xt,isNumberEqual:()=>z2,isNumberObject:()=>cb,isString:()=>u1,isStringObject:()=>hb,jsonApply:()=>fa,jsonDiff:()=>Un,jsonWalk:()=>Eo,millisecond:()=>y6,minute:()=>k6,mod:()=>s3,monday:()=>nz,month:()=>B6,normalisedExtent:()=>Yz,normalisedExtentWithMetadata:()=>Jh,normalizeAngle180:()=>Rh,normalizeAngle360:()=>Re,normalizeAngle360Inclusive:()=>xU,range:()=>_h,resetIds:()=>gz,round:()=>H6,sanitizeHtml:()=>Ae,saturday:()=>rz,second:()=>I6,setAttribute:()=>H2,shallowClone:()=>Fp,sunday:()=>C6,thursday:()=>sz,tickFormat:()=>nb,tickStep:()=>lr,ticks:()=>w3,toDegrees:()=>yU,toFixed:()=>a3,toRadians:()=>Q0,transformIntegratedCategoryValue:()=>nr,tuesday:()=>oz,utcDay:()=>cz,utcHour:()=>hz,utcMinute:()=>lz,utcMonth:()=>dz,utcYear:()=>pz,uuid:()=>mj,wednesday:()=>az,year:()=>S6,zipObject:()=>Pq});var qB={add:Sq,angle:_q,apply:Nq,equal:Rq,distance:Eq,distanceSquared:Tq,from:Lq,fromOffset:Oq,length:Dq,lengthSquared:Hq,required:YB,rotate:Aq,sub:c7};function Sq(e,t){return{x:e.x+t.x,y:e.y+t.y}}function c7(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Dq(e){return Math.sqrt(e.x*e.x+e.y*e.y)}function Hq(e){return e.x*e.x+e.y*e.y}function Eq(e,t){let n=c7(e,t);return Math.sqrt(n.x*n.x+n.y*n.y)}function Tq(e,t){let n=c7(e,t);return n.x*n.x+n.y*n.y}function _q(e,t){return Math.atan2(e.y,e.x)-Math.atan2(t.y,t.x)}function Aq(e,t,n=YB()){let o=qB.length(e);return{x:n.x+o*Math.cos(t),y:n.y+o*Math.sin(t)}}function Rq(e,t){return e.x===t.x&&e.y===t.y}function Lq(e,t){return{x:e,y:t}}function Oq(e){return{x:e.offsetX,y:e.offsetY}}function Nq(e,t){return e.x=t.x,e.y=t.y,e}function YB(e){return{x:e?.x??0,y:e?.y??0}}function Pq(e,t){let n={};if(Array.isArray(t))for(let o=0;o<e.length;o++)n[`${e[o]}`]=t[o];else for(let o=0;o<e.length;o++)n[`${e[o]}`]=t;return n}var Fq={};Oo(Fq,{AND:()=>m1,ARRAY:()=>Mr,ARRAY_OF:()=>ka,AbstractBarSeries:()=>BB,AbstractBarSeriesProperties:()=>jf,ActionOnSet:()=>tn,Animation:()=>Hz,AnimationManager:()=>Xb,AreaSeriesTag:()=>kB,Axis:()=>Z6,AxisInterval:()=>Ir,AxisLabel:()=>Xe,AxisTick:()=>kr,BOOLEAN:()=>It,BOOLEAN_ARRAY:()=>Xj,Background:()=>l4,BackgroundModule:()=>ZC,BaseModuleInstance:()=>o4,BaseProperties:()=>Vt,COLOR_STRING:()=>ne,COLOR_STRING_ARRAY:()=>x1,CartesianAxis:()=>zr,CartesianSeries:()=>Rs,CartesianSeriesNodeEvent:()=>yf,CartesianSeriesProperties:()=>As,CategoryAxis:()=>Ts,ChartAxisDirection:()=>U6,ChartEventManager:()=>Jb,ChartOptions:()=>$B,ChartUpdateType:()=>yh,ContextMenuRegistry:()=>tC,Cursor:()=>nC,CursorManager:()=>oC,DATE:()=>P6,DATE_ARRAY:()=>Qj,DATE_OR_DATETIME_MS:()=>F6,DEFAULT_CARTESIAN_DIRECTION_KEYS:()=>L2,DEFAULT_CARTESIAN_DIRECTION_NAMES:()=>O2,DEFAULT_TOOLTIP_CLASS:()=>So,DEFAULT_TOOLTIP_DARK_CLASS:()=>kb,DEGREE:()=>Bs,DIRECTION:()=>Vz,DOMManager:()=>Yb,DataController:()=>fC,DataModel:()=>uC,DataModelSeries:()=>xf,DataService:()=>I3,Default:()=>Es,Deprecated:()=>Vq,DeprecatedAndRenamedTo:()=>jq,EMPTY_TOOLTIP_CONTENT:()=>ba,FONT_STYLE:()=>Ss,FONT_WEIGHT:()=>Ds,FUNCTION:()=>In,GREATER_THAN:()=>xr,GestureDetector:()=>aC,GroupedCategoryAxis:()=>ks,HierarchyNode:()=>fh,HierarchySeries:()=>Gq,HierarchySeriesProperties:()=>Ps,HighlightManager:()=>sC,HighlightStyle:()=>r4,INTERACTION_RANGE:()=>g3,INTERPOLATION_STEP_POSITION:()=>fB,INTERPOLATION_TYPE:()=>wB,InteractionManager:()=>bb,InteractionState:()=>cr,InterpolationProperties:()=>_r,KeyNavManager:()=>iC,LABEL_PLACEMENT:()=>j6,LARGEST_KEY_INTERVAL:()=>DC,LESS_THAN:()=>mr,LINE_CAP:()=>Pz,LINE_DASH:()=>za,LINE_JOIN:()=>Jj,Layers:()=>lb,LayoutService:()=>hC,LonLatBBox:()=>Wq,MARKER_SHAPE:()=>gB,MATCHING_CROSSLINE_TYPE:()=>$6,MAX_SPACING:()=>Gz,MIN_SPACING:()=>Uz,MercatorScale:()=>f6,ModuleRegistry:()=>Fb,Motion:()=>L6,NAN:()=>d3,NODE_UPDATE_STATE_TO_PHASE_MAPPING:()=>X0,NUMBER:()=>xe,NUMBER_ARRAY:()=>p3,NUMBER_OR_NAN:()=>fr,Navigator:()=>Ns,NavigatorModule:()=>nB,OBJECT:()=>vt,OBJECT_ARRAY:()=>Nz,OR:()=>_2,OVERFLOW_STRATEGY:()=>eU,ObserveChanges:()=>en,PHASE_METADATA:()=>Th,PHASE_ORDER:()=>qi,PLACEMENT:()=>jz,PLAIN_OBJECT:()=>Rz,POINTER_INTERACTION_TYPES:()=>K6,POSITION:()=>V6,POSITION_TOP_COORDINATES:()=>Gp,POSITIVE_NUMBER:()=>Z,PolarAxis:()=>ir,PolarSeries:()=>H3,PropertiesArray:()=>l3,ProxyOnWrite:()=>GU,ProxyProperty:()=>p0,ProxyPropertyOnWrite:()=>U0,QUICK_TRANSITION:()=>Vp,RATIO:()=>ie,REGIONS:()=>Cb,RepeatType:()=>Dz,SMALLEST_KEY_INTERVAL:()=>SC,SORT_DOMAIN_GROUPS:()=>HC,STRING:()=>et,STRING_ARRAY:()=>Oz,Series:()=>Br,SeriesGroupingChangedEvent:()=>vf,SeriesItemHighlightStyle:()=>Ba,SeriesMarker:()=>bn,SeriesNodeEvent:()=>i4,SeriesNodePickMode:()=>_C,SeriesProperties:()=>q1,SeriesTooltip:()=>an,StateMachine:()=>e4,TEXT_ALIGN:()=>Fz,TEXT_WRAP:()=>v3,TICK_INTERVAL:()=>Bb,ToolbarManager:()=>lC,Tooltip:()=>I1,TooltipManager:()=>Wp,TooltipPosition:()=>yr,UNION:()=>be,UpdateService:()=>cC,VERTICAL_ALIGN:()=>tU,Validate:()=>x,ZoomManager:()=>xC,__FORCE_MODULE_DETECTION:()=>$q,accumulateContinuity:()=>TC,accumulateGroup:()=>EC,accumulatedValue:()=>CC,accumulativeValueProperty:()=>pf,addHitTestersToQuadtree:()=>Ff,adjustLabelPlacement:()=>_B,allInStringUnion:()=>Cp,animationValidation:()=>Cr,area:()=>v6,arraysEqual:()=>b2,assignJsonApplyConstructedArray:()=>$z,backfillPathPointData:()=>Af,basicContinuousCheckDatumValidation:()=>cf,bifurcate:()=>Kz,buildFormatter:()=>Xh,buildResetPathFn:()=>Lf,calculateDefaultTimeTickFormat:()=>_z,calculateLabelChartPadding:()=>pb,calculateLabelTranslation:()=>e6,calculatePlacement:()=>Ib,checkCrisp:()=>EB,childrenIter:()=>CB,circularSliceArray:()=>Jw,clamp:()=>Ft,clampArray:()=>Np,collapsedStartingBarPosition:()=>$h,computeBarFocusBounds:()=>Uf,computeMarkerFocusBounds:()=>d4,computeSectorFocusBounds:()=>PB,computeSectorSeriesFocusBounds:()=>y$,convertValuesToScaleByDefs:()=>Uq,countFractionDigits:()=>i3,createDatumId:()=>bs,createDeprecationWarning:()=>d7,createElement:()=>T0,dateToNumber:()=>mn,deconstructSelectionsOrNodes:()=>h3,deepClone:()=>E0,deepMerge:()=>Rj,defaultTimeTickFormat:()=>N6,determinePathStatus:()=>Of,diff:()=>R2,downloadUrl:()=>wb,enterpriseModule:()=>or,extent:()=>Vo,extractDecoratedProperties:()=>Ej,findMinMax:()=>v1,findQuadtreeMatch:()=>Vf,findRangeExtent:()=>Sh,fixNumericExtent:()=>xn,formatNormalizedPercentage:()=>E6,formatPercentage:()=>T6,fromToMotion:()=>$e,getDocument:()=>ma,getMissCount:()=>nf,getPath:()=>A6,getPathComponents:()=>gC,getRectConfig:()=>HB,getWindow:()=>Ro,groupAccumulativeContinuityProperty:()=>LC,groupAccumulativeValueProperty:()=>G1,groupAverage:()=>bC,groupBy:()=>G6,groupCount:()=>p6,groupSum:()=>kC,initMenuKeyNav:()=>GW,initToolbarKeyNav:()=>C3,isArray:()=>Ze,isBoolean:()=>yz,isDate:()=>Kh,isDecoratedObject:()=>r3,isDefined:()=>Hh,isEnumKey:()=>Aj,isEnumValue:()=>zz,isEqual:()=>z2,isFiniteNumber:()=>Xt,isFunction:()=>T2,isHtmlElement:()=>kz,isNegative:()=>gr,isNumber:()=>jn,isObject:()=>g1,isObjectLike:()=>_j,isPlainObject:()=>f1,isProperties:()=>_o,isRegExp:()=>Iz,isString:()=>u1,isSymbol:()=>bz,isValidDate:()=>Zh,jsonApply:()=>fa,jsonDiff:()=>Un,jsonWalk:()=>Eo,keyProperty:()=>A0,labelDirectionHandling:()=>vb,listDecoratedProperties:()=>er,makeAccessibleClickListener:()=>tB,mapIterable:()=>iU,mapValues:()=>_6,markerFadeInAnimation:()=>jh,markerPaletteFactory:()=>S3,markerScaleInAnimation:()=>Ef,markerSwipeScaleInAnimation:()=>Tf,mergeArrayDefaults:()=>Yw,mergeDefaults:()=>Wt,midpointStartingBarPosition:()=>d$,minMax:()=>u6,mod:()=>s3,moduleRegistry:()=>fs,nearestSquared:()=>o3,nearestSquaredInContainer:()=>xj,normaliseGroupTo:()=>Ph,normalisePropertyTo:()=>Fh,normalisedExtent:()=>Yz,normalisedExtentWithMetadata:()=>Jh,pairCategoryData:()=>Wh,pairContinuousData:()=>Gh,partialAssign:()=>x2,pathFadeInAnimation:()=>Ch,pathFadeOutAnimation:()=>s$,pathRangePoints:()=>Jp,pathRangePointsReverse:()=>mB,pathRanges:()=>Qp,pathSwipeInAnimation:()=>Rf,pickByMatchingAngle:()=>e7,plotPath:()=>xs,predicateWithMessage:()=>we,prepareAreaPathAnimation:()=>bB,prepareAreaPathAnimationFns:()=>zB,prepareAxisAnimationContext:()=>s6,prepareAxisAnimationFunctions:()=>Sb,prepareBarAnimationFunctions:()=>qh,prepareLinePathAnimation:()=>IB,prepareLinePathAnimationFns:()=>yB,prepareLinePathPropertyAnimation:()=>Nf,prepareMarkerAnimation:()=>_f,preparePieSeriesAnimationFunctions:()=>S2,range:()=>zC,rangedValueProperty:()=>df,renderPartialPath:()=>MB,resetAxisGroupFn:()=>Db,resetAxisLabelSelectionFn:()=>Eb,resetAxisLineSelectionFn:()=>Tb,resetAxisSelectionFn:()=>Hb,resetBarSelectionsFn:()=>Yh,resetIds:()=>gz,resetLabelFn:()=>Sa,resetMarkerFn:()=>c4,resetMarkerPositionFn:()=>Uh,resetMotion:()=>o0,resetPieSelectionsFn:()=>t7,round:()=>H6,seriesLabelFadeInAnimation:()=>ee,seriesLabelFadeOutAnimation:()=>vs,setDocument:()=>fb,setElementBBox:()=>ga,setPath:()=>R6,setWindow:()=>Mb,shallowClone:()=>Fp,singleSeriesPaletteFactory:()=>Tr,splitPairData:()=>Zp,staticFromToMotion:()=>Po,stringify:()=>Mh,sum:()=>MW,sumValues:()=>z3,times:()=>qz,toArray:()=>Qw,toFixed:()=>a3,toTooltipHtml:()=>hr,trailingAccumulatedValue:()=>BC,trailingAccumulatedValueProperty:()=>bW,unique:()=>u3,updateClipPath:()=>Xp,updateLabelNode:()=>TB,updateRect:()=>DB,validateCrossLineValues:()=>db,valueProperty:()=>ge,without:()=>Kw});function d7(){return(e,t)=>{let n=[`Property [${e}] is deprecated.`,t].filter(Boolean).join(" ");q.warnOnce(n)}}function Vq(e,t){let n=d7(),o=t?.default;return ya((a,s,i)=>(i!==o&&n(s.toString(),e),i))}function jq(e,t){let n=d7();return ya((o,a,s)=>(s!==o[e]&&(n(a.toString(),`Use [${e}] instead.`),R6(o,e,t?t(s):s)),Pp),(o,a)=>(n(a.toString(),`Use [${e}] instead.`),A6(o,e)))}function Uq({defs:e,values:t,xAxis:n,yAxis:o}){if(!(n&&o))throw new Error("Axes must be defined");let a={};for(let[s,{def:i}]of e)if(Object.hasOwn(t,s)){let{scale:r}=i.type==="key"?n:o;a[s]=Math.round(r.convert(t[s]))}return a}var KB=class Op{constructor(t,n,o,a,s,i,r,l,h,c,d){this.series=t,this.index=n,this.datum=o,this.size=a,this.colorValue=s,this.fill=i,this.stroke=r,this.sumSize=l,this.depth=h,this.parent=c,this.children=d,this.midPoint={x:0,y:0}}contains(t){let n=t;for(;n!=null&&n.index>=this.index;){if(n===this)return!0;n=n.parent}return!1}walk(t,n=Op.Walk.PreOrder){n===Op.Walk.PreOrder&&t(this),this.children.forEach(o=>{o.walk(t,n)}),n===Op.Walk.PostOrder&&t(this)}*[Symbol.iterator](){yield this;for(let t of this.children)yield*x4(t)}};KB.Walk={PreOrder:0,PostOrder:1};var fh=KB,Gq=class extends Br{constructor(e){super({moduleCtx:e,pickModes:[3,0],contentGroupVirtual:!1}),this.rootNode=new fh(this,0,void 0,0,void 0,void 0,void 0,0,void 0,void 0,[]),this.colorDomain=[0,0],this.maxDepth=0,this.focusPath=[],this.animationState=new e4("empty",{empty:{update:{target:"ready",action:t=>this.animateEmptyUpdateReady(t)},reset:"empty",skip:"ready"},ready:{updateData:"waiting",clear:"clearing",highlight:t=>this.animateReadyHighlight(t),resize:t=>this.animateReadyResize(t),reset:"empty",skip:"ready"},waiting:{update:{target:"ready",action:t=>this.animateWaitingUpdateReady(t)},reset:"empty",skip:"ready"},clearing:{update:{target:"empty",action:t=>this.animateClearingUpdateEmpty(t)},reset:"empty",skip:"ready"}},()=>this.checkProcessedDataAnimatable())}resetAnimation(e){e==="initial"?this.animationState.transition("reset"):e==="ready"&&this.animationState.transition("skip")}processData(){return R(this,null,function*(){let{childrenKey:e,sizeKey:t,colorKey:n,fills:o,strokes:a,colorRange:s}=this.properties,i=0,r=()=>(i+=1,i),l=0,h=1/0,c=-1/0,d=new Array((this.data?.length??0)+1).fill(void 0),p=(M,m)=>{let k=r(),B=m.depth!=null?m.depth+1:0,z=e!=null?M[e]:void 0,I=z==null||z.length===0,y=t!=null?M[t]:void 0;Number.isFinite(y)?y=Math.max(y,0):y=I?1:0;let b=y;l=Math.max(l,B);let C=n!=null?M[n]:void 0;return typeof C=="number"&&(d[k]=C,h=Math.min(h,C),c=Math.max(c,C)),v(new fh(this,k,M,y,C,void 0,void 0,b,B,m,[]),z)},v=(M,m)=>(m?.forEach(k=>{let B=p(k,M);M.children.push(B),M.sumSize+=B.sumSize}),M),g=v(new fh(this,0,void 0,0,void 0,void 0,void 0,0,void 0,void 0,[]),this.data),u=[h,c],f;s!=null&&Number.isFinite(h)&&Number.isFinite(c)&&(f=new j2,f.domain=u,f.range=s,f.update()),g.children.forEach((M,m)=>{M.walk(k=>{let B,z=d[k.index];z!=null&&(B=f?.convert(z)),B??(B=o?.[m%o.length]),k.fill=B,k.stroke=f==null?a?.[m%a.length]:"rgba(0, 0, 0, 0.2)"})}),this.rootNode=g,this.maxDepth=l,this.colorDomain=u,this.focusPath=[{nodeDatum:this.rootNode,childIndex:0}]})}update(t){return R(this,arguments,function*({seriesRect:e}){yield this.updateSelections(),yield this.updateNodes();let n=this.getAnimationData();this.checkResize(e)&&this.animationState.transition("resize",n),this.animationState.transition("update",n)})}resetAllAnimation(e){let t=this.animationResetFns?.datum;this.ctx.animationManager.stopByAnimationGroupId(this.id),t!=null&&o0(e.datumSelections,t)}animateEmptyUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animateWaitingUpdateReady(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animateReadyHighlight(e){let t=this.animationResetFns?.datum;t!=null&&o0([e],t)}animateReadyResize(e){this.resetAllAnimation(e)}animateClearingUpdateEmpty(e){this.ctx.animationManager.skipCurrentBatch(),this.resetAllAnimation(e)}animationTransitionClear(){this.animationState.transition("clear",this.getAnimationData())}getAnimationData(){return{datumSelections:[this.groupSelection]}}isProcessedDataAnimatable(){return!0}checkProcessedDataAnimatable(){this.isProcessedDataAnimatable()||this.ctx.animationManager.skipCurrentBatch()}getLabelData(){return[]}getSeriesDomain(){return[NaN,NaN]}getLegendData(e){let{colorKey:t,colorName:n,colorRange:o,visible:a}=this.properties;return e==="gradient"&&t!=null&&o!=null?[{legendType:"gradient",enabled:a,seriesId:this.id,colorName:n,colorRange:o,colorDomain:this.colorDomain}]:[]}getDatumIdFromData(e){return`${e.index}`}getDatumId(e){return this.getDatumIdFromData(e)}pickFocus(e){if(this.rootNode.children.length===0)return;this.focusPath.length===0&&q.error("this.focusPath should not be empty");let{datumIndexDelta:t,otherIndexDelta:n}=e,{focusPath:o}=this,a=o.length-2;if(n!==0||o.length===1){let s=Math.max(0,a+n);if(o[s+1]!==void 0)return o.length=s+2,this.computeFocusOutputs(o[s+1]);{let i=o[o.length-1];for(;i.nodeDatum.children.length>0&&(i.nodeDatum.depth??-1)<s;){let r={nodeDatum:i.nodeDatum.children[0],childIndex:0};o.push(r),i=r}return this.computeFocusOutputs(i)}}else if(t!==0){let s=o[a+1].childIndex+t,i=o[a].nodeDatum,r=i?.children?.length;if(r!==void 0){let l=Ft(0,s,r-1),h={nodeDatum:i.children[l],childIndex:l};return o[a+1]=h,o.length=a+2,this.computeFocusOutputs(h)}}else return this.computeFocusOutputs(o[o.length-1])}getDatumAriaText(e,t){if(!(e instanceof fh)){q.error(`datum is not HierarchyNode: ${e}`);return}return this.ctx.localeManager.t("ariaAnnounceHierarchyDatum",{level:(e.depth??-1)+1,count:e.children.length,description:t})}computeFocusOutputs({nodeDatum:e,childIndex:t}){let n=this.computeFocusBounds(e);if(n)return{datum:e,datumIndex:t,otherIndex:e.depth,bounds:n,showFocusBox:!0}}},Ps=class extends q1{constructor(){super(...arguments),this.childrenKey="children",this.fills=Object.values(Vn),this.strokes=Object.values(us)}};w([x(et)],Ps.prototype,"childrenKey",2);w([x(et,{optional:!0})],Ps.prototype,"sizeKey",2);w([x(et,{optional:!0})],Ps.prototype,"colorKey",2);w([x(et,{optional:!0})],Ps.prototype,"colorName",2);w([x(x1)],Ps.prototype,"fills",2);w([x(x1)],Ps.prototype,"strokes",2);w([x(x1,{optional:!0})],Ps.prototype,"colorRange",2);var Wq=class{constructor(e,t,n,o){this.lon0=e,this.lat0=t,this.lon1=n,this.lat1=o}merge(e){this.lon0=Math.min(this.lon0,e.lon0),this.lat0=Math.min(this.lat0,e.lat0),this.lon1=Math.max(this.lon1,e.lon1),this.lat1=Math.max(this.lat1,e.lat1)}},$q=0;var p7=class{chart;_nativeElement;_initialised=!1;ngZone;ngAfterViewInit(){let t=this.patchChartOptions(this.options);this.chart=this.runOutsideAngular(()=>this.createChart(t)),this._initialised=!0,this.chart.chart.waitForUpdate().then(()=>{this.onChartReady.emit(this.chart)})}ngOnChanges(t){this.runOutsideAngular(()=>{!this._initialised||!this.chart||this.chart.update(this.patchChartOptions(this.options))})}ngOnDestroy(){this._initialised&&this.chart&&(this.chart.destroy(),this.chart=void 0,this._initialised=!1)}patchChartOptions(t){let n=o=>{let a=o??{};for(let[s,i]of Object.entries(a))typeof i=="function"&&(a[s]=(...r)=>{this.runInsideAngular(()=>i(...r))})};return n(t?.legend?.listeners),n(t?.listeners),t.series?.forEach(o=>{n(o.listeners)}),t.container?t:V(S({},t),{container:this._nativeElement})}runOutsideAngular(t){return this.ngZone?this.ngZone.runOutsideAngular(t):t()}runInsideAngular(t){return this.ngZone?this.ngZone.run(t):t()}},ZB=(()=>{class e extends p7{ngZone;options={};onChartReady=new fe;constructor(n,o){super(),this.ngZone=o,this._nativeElement=n.nativeElement}createChart(n){return vr.create(n)}static \u0275fac=function(o){return new(o||e)(O(_e),O(Yt))};static \u0275cmp=Pt({type:e,selectors:[["ag-charts"]],inputs:{options:"options"},outputs:{onChartReady:"onChartReady"},standalone:!0,features:[f0,Gt],decls:0,vars:0,template:function(o,a){},encapsulation:2})}return e})();var JB=J7(XB()),tS=J7(QB());var eS=(()=>{let t=class t{constructor(){}downloadCSV(o,a){let s=o?.map(l=>({Destination:l.destination,Followers:l.likesCount})),i=JB.default.unparse(s),r=new Blob([i],{type:"text/csv;charset=utf-8;"});(0,tS.default)(r,a)}};t.\u0275fac=function(a){return new(a||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var nS=(()=>{let t=class t{constructor(o,a,s){this.vacationsService=o,this.csvService=a,this.title=s,this.chartOptions={data:Ge.vacations,title:{text:"Vacation Popularity Report"},tooltip:{delay:100,class:"report-tooltip"},axes:[{type:"category",position:"bottom",label:{fontSize:10,rotation:90}},{type:"number",position:"left"}],series:[{highlightStyle:{item:{fill:"green"}},type:"bar",xKey:"destination",yKey:"likesCount",cornerRadius:10}],width:this.computeWidth(),height:this.computeHeight()}}ngOnInit(){return R(this,null,function*(){Ge.vacations.length||(yield this.vacationsService.getAllVacations("likesCount")),this.title.setTitle("SoJourn | Reports"),this.updateChartSize()})}onResize(o){this.updateChartSize()}updateChartSize(){this.chartOptions.width=this.computeWidth(),this.chartOptions.height=this.computeHeight()}computeWidth(){return Math.round(window.innerWidth*.85)}computeHeight(){return Math.round(window.innerHeight*.4)}downloadCSV(){this.csvService.downloadCSV(Ge.vacations,"vacations.csv")}};t.\u0275fac=function(a){return new(a||t)(O(y0),O(eS),O(n0))},t.\u0275cmp=Pt({type:t,selectors:[["app-report"]],hostBindings:function(a,s){a&1&&lt("resize",function(r){return s.onResize(r)},!1,J8)},standalone:!0,features:[Gt],decls:5,vars:1,consts:[[1,"container"],[3,"click"],[1,"report-container"],[1,"report",2,"width","100%",3,"options"]],template:function(a,s){a&1&&(D(0,"div",0)(1,"button",1),lt("click",function(){return s.downloadCSV()}),L(2,"Download CSV"),H(),D(3,"div",2),yt(4,"ag-charts",3),H()()),a&2&&(T(4),A("options",s.chartOptions))},dependencies:[ZB],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1rem}.report-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.report[_ngcontent-%COMP%]{display:flex}.axis-label-blue[_ngcontent-%COMP%]{fill:#00f}.axis-label-default[_ngcontent-%COMP%]{fill:#000}button[_ngcontent-%COMP%]{padding:1rem;border-radius:1rem;background-color:var(--primary);width:clamp(10vw,100%,20vw)}"]});let e=t;return e})();var Yq=()=>({padding:"2rem"}),Kq=()=>({fontSize:"2rem"}),Zq=()=>({gridTemplateColumns:"1fr",gap:"2rem",width:"100%",alignItems:"center",justifyContent:"center"}),oS=(()=>{let t=class t{constructor(o){this.title=o}ngOnInit(){this.title.setTitle("SoJourn | About")}};t.\u0275fac=function(a){return new(a||t)(O(n0))},t.\u0275cmp=Pt({type:t,selectors:[["app-about"]],standalone:!0,features:[Gt],decls:48,vars:6,consts:[["customStyle","",1,"about-container",3,"mobileStyle"],["customStyle","",3,"mobileStyle"],["href",""],["customStyle","",1,"body",3,"mobileStyle"],[1,"technologies"],[1,"icon-title-pair"],["src","../../../../assets/typeScript.png"],["src","../../../../assets/anguler-favicon.ico"],["src","../../../../assets/node.png"],["src","../../../../assets/express.png"],["src","../../../../assets/mongo.png"],[1,"contact-me"],["src","../../../../assets/myPic.jpg",1,"my-image"],[1,"contacts"],["href","https://mail.google.com/mail/?view=cm&to=yonch.baalil@gmail.com","target","_blank"],["src","../../../../assets/email.jpg"],["href","https://linkedin.com/in/jonathan-ribak-546686110","target","_blank"],["src","../../../../assets/linkedin.png"],["href","https://github.com/YonchRibak","target","_blank"],["src","../../../../assets/github.png"]],template:function(a,s){a&1&&(D(0,"div",0)(1,"h3",1),L(2,"About The Project"),H(),D(3,"p"),L(4," This website is my final assignment for my studies at John Bryce Academy. "),yt(5,"br"),L(6,"Built in Node.js and Angular, it incorporates various different technologies, techniques and libraries. "),yt(7,"br"),L(8,"The project is fully responsive, ensuring seamless functionality on both computers and mobile devices. "),H(),D(9,"a",2),L(10,"\u{1F517}Backend's Repository in GitHub"),H(),D(11,"a",2),L(12,"\u{1F517}Frontend's Repository in GitHub"),H(),D(13,"div",3)(14,"div",4)(15,"h4"),L(16,"Technologies Used"),H(),D(17,"div",5),yt(18,"img",6),D(19,"h6"),L(20,"typeScript"),H()(),D(21,"div",5),yt(22,"img",7),D(23,"h6"),L(24,"Angular"),H()(),D(25,"div",5),yt(26,"img",8),D(27,"h6"),L(28,"Node.js"),H()(),D(29,"div",5),yt(30,"img",9),D(31,"h6"),L(32,"Express"),H()(),D(33,"div",5),yt(34,"img",10),D(35,"h6"),L(36,"MongoDB"),H()()(),D(37,"div",11)(38,"h3"),L(39,"Jonathan Ribak"),H(),yt(40,"img",12),D(41,"div",13)(42,"a",14),yt(43,"img",15),H(),D(44,"a",16),yt(45,"img",17),H(),D(46,"a",18),yt(47,"img",19),H()()()()()),a&2&&(A("mobileStyle",rt(3,Yq)),T(),A("mobileStyle",rt(4,Kq)),T(12),A("mobileStyle",rt(5,Zq)))},dependencies:[Me,x0],styles:[".about-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;padding:2rem;overflow-x:hidden;max-width:100vw}h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{color:var(--primary-darkened);margin-inline-start:2rem}p[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{color:var(--primary);text-align:start;margin:0}.body[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 3fr}a[_ngcontent-%COMP%]{margin-top:1rem;color:#f02bf0}.technologies[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin-top:3rem}.icon-title-pair[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.icon-title-pair[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:2rem;border-radius:50%}.contacts[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:2rem}.contact-me[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:2rem}.contact-me[_ngcontent-%COMP%] > h3[_ngcontent-%COMP%]{margin-inline-start:0}.contacts[_ngcontent-%COMP%] > a[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:3rem}.contacts[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:first-child > img[_ngcontent-%COMP%]{scale:120%}.contacts[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:nth-child(3) > img[_ngcontent-%COMP%]{border-radius:50%}.my-image[_ngcontent-%COMP%]{height:15rem;width:15rem;border-radius:50%;border:solid .5rem var(--primary)}"]});let e=t;return e})();var Xq=()=>({height:"75vh"}),Qq=e=>({"background-image":e}),Jq=()=>["/home"],tY=e=>["/payment",e],eY=()=>({left:"0",transform:"translateX(10%)"}),aS=()=>({gap:"0.3rem"}),sS=()=>({scale:"75%"}),iS=()=>({fontSize:"0.75rem"}),nY=e=>["/edit/",e];function oY(e,t){if(e&1){let n=oe();D(0,"div",15)(1,"i-tabler",16),lt("click",function(){ht(n);let a=it();return ct(a.openModal(a.vacation))}),H(),D(2,"a",17),yt(3,"i-tabler",18),H()()}if(e&2){let n=it();T(2),A("routerLink",M0(1,nY,n.vacation==null?null:n.vacation._id))}}var rS=(()=>{let t=class t{constructor(o,a,s,i){this.vacationsService=o,this.route=a,this.confirmationModalService=s,this.title=i}ngOnInit(){return R(this,null,function*(){this.subscription=Ge.currUser$.subscribe(o=>{this.user=o}),this.route.params.subscribe(o=>{this._id=o._id}),this.vacation=yield this.vacationsService.getVacationById(this._id),this.title.setTitle(`SoJourn | ${this.vacation?.destination}`)})}openModal(o){this.confirmationModalService.openModal(o)}};t.\u0275fac=function(a){return new(a||t)(O(y0),O(un),O(mo),O(n0))},t.\u0275cmp=Pt({type:t,selectors:[["app-single-vacation"]],standalone:!0,features:[Gt],decls:27,vars:38,consts:[[1,"container"],["customStyle","",1,"card",3,"mobileStyle","ngStyle"],[1,"layer1"],[1,"layer2"],[1,"layer3"],[1,"layer4"],[1,"layer5"],["name","arrow-back",1,"back",3,"routerLink"],["class","admin-actions",4,"isAdmin"],[1,"purchase-btn",3,"routerLink"],["customStyle","",1,"footer",3,"mobileStyle"],["customStyle","",1,"date-icon-pair",3,"mobileStyle"],["customStyle","","name","plane-departure",3,"mobileStyle"],["customStyle","",3,"mobileStyle"],["customStyle","","name","plane-arrival",3,"mobileStyle"],[1,"admin-actions"],["name","trash",3,"click"],[3,"routerLink"],["name","edit"]],template:function(a,s){a&1&&(D(0,"div",0)(1,"div",1),yt(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"i-tabler",7),gt(8,oY,4,3,"div",8),D(9,"h3"),L(10),H(),D(11,"button",9),L(12),ro(13,"customCurrency"),H(),D(14,"p"),L(15),H(),D(16,"div",10)(17,"div",11),yt(18,"i-tabler",12),D(19,"span",13),L(20),ro(21,"date"),H()(),D(22,"div",11)(23,"span",13),L(24),ro(25,"date"),H(),yt(26,"i-tabler",14),H()()()()),a&2&&(T(),A("mobileStyle",rt(25,Xq))("ngStyle",M0(26,Qq,"url("+(s.vacation==null?null:s.vacation.imageUrl)+")")),T(6),A("routerLink",rt(28,Jq)),T(3),Rn(s.vacation==null?null:s.vacation.destination),T(),A("routerLink",M0(29,tY,s.vacation==null?null:s.vacation._id)),T(),Oe(" ",lo(13,16,s.vacation==null?null:s.vacation.price,"EUR")," "),T(3),Rn(s.vacation==null?null:s.vacation.description),T(),A("mobileStyle",rt(31,eY)),T(),A("mobileStyle",rt(32,aS)),T(),A("mobileStyle",rt(33,sS)),T(),A("mobileStyle",rt(34,iS)),T(),Oe(" ",lo(21,19,s.vacation==null?null:s.vacation.startDate,"dd/MM/YYYY"),""),T(2),A("mobileStyle",rt(35,aS)),T(),A("mobileStyle",rt(36,iS)),T(),Oe(" ",lo(25,22,s.vacation==null?null:s.vacation.endDate,"dd/MM/YYYY"),""),T(2),A("mobileStyle",rt(37,sS)))},dependencies:[Me,Za,wd,x0,Ui,is,ss,P0,Gi],styles:[".container[_ngcontent-%COMP%]{padding-inline:8rem;padding-block:4rem}.card[_ngcontent-%COMP%]{position:relative;height:clamp(25vh,100%,100%);width:clamp(20vw,100%,100%);border-radius:2rem;overflow:hidden;border:none;box-shadow:3px 3px 3px var(--secondary);background-size:cover;background-position:center;display:flex;flex-direction:column;align-items:center;justify-content:space-between;padding-inline:3rem}.card[_ngcontent-%COMP%]   .layer1[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   .layer2[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   .layer3[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   .layer4[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   .layer5[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background-image:inherit;background-size:inherit;background-position:inherit;pointer-events:none;z-index:1}.card[_ngcontent-%COMP%]   .layer1[_ngcontent-%COMP%]{filter:grayscale(20%);clip-path:polygon(0 25%,100% 25%,100% 35%,0 35%)}.card[_ngcontent-%COMP%]   .layer2[_ngcontent-%COMP%]{filter:grayscale(40%);clip-path:polygon(0 35%,100% 35%,100% 45%,0 45%)}.card[_ngcontent-%COMP%]   .layer3[_ngcontent-%COMP%]{filter:grayscale(60%);clip-path:polygon(0 45%,100% 45%,100% 55%,0 55%)}.card[_ngcontent-%COMP%]   .layer4[_ngcontent-%COMP%]{filter:grayscale(80%);clip-path:polygon(0 55%,100% 55%,100% 65%,0 65%)}.card[_ngcontent-%COMP%]   .layer5[_ngcontent-%COMP%]{filter:grayscale(100%);clip-path:polygon(0 65%,100% 65%,100% 100%,0 100%)}.back[_ngcontent-%COMP%]{position:absolute;top:2rem;left:2rem;color:#fff;stroke-width:.125rem;scale:150%;cursor:pointer;transition:transform ease-in-out .2s;filter:drop-shadow(-2px 4px 1px var(--secondary))}.back[_ngcontent-%COMP%]:hover{transform:scale(1.125);transition:transform ease-in-out .2s}h3[_ngcontent-%COMP%]{margin-block:2rem;color:#ffa11c;text-shadow:3px 3px 2px rgba(0,0,0,.5);font-weight:500;font-size:2.5rem}.admin-actions[_ngcontent-%COMP%]{position:absolute;top:.75rem;right:1rem;display:flex;gap:1rem;z-index:3}.admin-actions[_ngcontent-%COMP%] > i-tabler[_ngcontent-%COMP%], a[_ngcontent-%COMP%] > i-tabler[_ngcontent-%COMP%]{cursor:pointer;scale:150%;color:#fff;transition:transform ease-in-out .2s}.admin-actions[_ngcontent-%COMP%] > i-tabler[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%] > i-tabler[_ngcontent-%COMP%]:hover{transform:scale(1.125);transition:transform ease-in-out .2s}.purchase-btn[_ngcontent-%COMP%]{background-color:var(--primary);width:30%;padding-inline:1rem;padding-block:.5rem;border-radius:.5rem;border:none;box-shadow:3px 3px 3px #00000080;font-weight:600;z-index:3;margin-bottom:2rem;transition:all ease-in-out .3s}.purchase-btn[_ngcontent-%COMP%]:hover{transform:scale(1.15);background-color:#9defef;color:#ffa11c;text-shadow:1px 1px 1px rgba(0,0,0,.45)}p[_ngcontent-%COMP%]{padding:1rem;z-index:3;color:#fff;font-size:1.25rem;font-weight:700;text-shadow:2px 2px 1px rgba(0,0,0,.8);margin-bottom:4rem;background-color:#00000073;border-radius:1rem}img[_ngcontent-%COMP%]{width:50px;height:35px}.footer[_ngcontent-%COMP%]{position:absolute;bottom:1rem;display:flex;gap:clamp(5px,1rem,1rem);width:clamp(10vw,100%,25vw);justify-content:space-between;z-index:3}.date-icon-pair[_ngcontent-%COMP%]{display:flex;gap:1rem;padding-inline:1rem;padding-block-start:.3rem;padding-block-end:.6rem;border-radius:1rem;background-color:#00000073;align-items:center}.date-icon-pair[_ngcontent-%COMP%] > i-tabler[_ngcontent-%COMP%]{margin-bottom:.2rem;stroke:#ffa11c;filter:drop-shadow(-2px 4px 1px var(--secondary))}.date-icon-pair[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{color:#ffa11c;font-weight:500;text-shadow:2px 2px 1px rgba(0,0,0,.8)}"]});let e=t;return e})();var lS=(()=>{let t=class t{constructor(o){this.http=o}getCountries(){return R(this,null,function*(){let o=this.http.get("https://restcountries.com/v3.1/all?fields=name,idd");return yield W0(o)})}};t.\u0275fac=function(a){return new(a||t)(nt(c2))},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var sY=()=>({fontSize:"1.5rem"}),iY=()=>({display:"flex",flexDirection:"column"}),rY=()=>({width:"100%"}),lY=()=>({fontSize:"0.7rem"});function hY(e,t){if(e&1){let n=oe();D(0,"span",34),lt("click",function(){let a=ht(n).$implicit,s=it(3);return ct(s.selectCountry(a))}),L(1),H()}if(e&2){let n=t.$implicit;T(),Rn(n.name.common)}}function cY(e,t){if(e&1&&(D(0,"div",32),gt(1,hY,2,1,"span",33),H()),e&2){let n=it(2);T(),A("ngForOf",n.filteredCountries)}}function dY(e,t){if(e&1){let n=oe();D(0,"div",1)(1,"h3",2),L(2),ro(3,"customCurrency"),H(),D(4,"form",2)(5,"div",3)(6,"h4"),L(7,"Card Information"),H(),D(8,"div",4),yt(9,"img",5),D(10,"div",6)(11,"label",7),L(12,"Card Number"),H(),D(13,"input",8),lt("input",function(a){ht(n);let s=it();return ct(s.formatCardNumber(a))})("keypress",function(a){ht(n);let s=it();return ct(s.allowOnlyNumbers(a))}),H()(),yt(14,"hr"),D(15,"div",9)(16,"div",10)(17,"label",11),L(18,"Expiration Date"),H(),D(19,"div",12)(20,"input",13),lt("keypress",function(a){ht(n);let s=it();return ct(s.allowOnlyNumbers(a))}),H(),D(21,"span"),L(22," / "),H(),D(23,"input",14),lt("keypress",function(a){ht(n);let s=it();return ct(s.allowOnlyNumbers(a))}),H()()(),D(24,"div",15)(25,"label",16),L(26,"CVV Code"),H(),D(27,"input",17),lt("keypress",function(a){ht(n);let s=it();return ct(s.allowOnlyNumbers(a))}),H()()()()(),D(28,"div",18)(29,"h4"),L(30,"Personal Information"),H(),D(31,"div",19)(32,"input",20),te("ngModelChange",function(a){ht(n);let s=it();return ae(s.user.firstName,a)||(s.user.firstName=a),ct(a)}),H(),D(33,"input",21),te("ngModelChange",function(a){ht(n);let s=it();return ae(s.user.lastName,a)||(s.user.lastName=a),ct(a)}),H()(),D(34,"div",22)(35,"input",23),te("ngModelChange",function(a){ht(n);let s=it();return ae(s.countryInput,a)||(s.countryInput=a),ct(a)}),lt("input",function(a){ht(n);let s=it();return ct(s.filterCountries(a))}),H(),gt(36,cY,2,1,"div",24),H(),D(37,"div",25),yt(38,"input",26)(39,"input",27),H(),D(40,"input",28),te("ngModelChange",function(a){ht(n);let s=it();return ae(s.user.email,a)||(s.user.email=a),ct(a)}),H(),D(41,"div",29)(42,"input",30),te("ngModelChange",function(a){ht(n);let s=it();return ae(s.idd,a)||(s.idd=a),ct(a)}),H(),D(43,"input",31),lt("keypress",function(a){ht(n);let s=it();return ct(s.allowOnlyNumbers(a))}),H()()(),D(44,"button"),L(45,"Pay"),H()()()}if(e&2){let n=it();T(),A("mobileStyle",rt(16,sY)),T(),R5(" Purchasing vacation package to ",n.vacation==null?null:n.vacation.destination," for ",lo(3,13,n.vacation==null?null:n.vacation.price,"EUR")," "),T(2),A("mobileStyle",rt(17,iY)),T(4),A("mobileStyle",rt(18,rY)),T(5),A("value",n.creditCardValue),T(12),A("mobileStyle",rt(19,lY)),T(7),Jt("ngModel",n.user.firstName),T(),Jt("ngModel",n.user.lastName),T(2),Jt("ngModel",n.countryInput),T(),A("ngIf",(n.filteredCountries==null?null:n.filteredCountries.length)>0),T(4),Jt("ngModel",n.user.email),T(2),Jt("ngModel",n.idd)}}var hS=(()=>{let t=class t{constructor(o,a,s,i){this.vacationsService=o,this.route=a,this.title=s,this.countriesService=i,this.creditCardValue="",this.countryInput=""}ngOnInit(){return R(this,null,function*(){this.route.params.subscribe(o=>{this._id=o._id}),this.vacation=yield this.vacationsService.getVacationById(this._id),this.subscription=Ge.currUser$.subscribe(o=>{this.user=o}),this.countries=yield this.countriesService.getCountries(),this.title.setTitle("SoJourn | Payment")})}formatCardNumber(o){let a=o.target;this.creditCardValue=a.value.replaceAll(" ","").split("").reduce((s,i,r)=>(r!==0&&!(r%4)&&(s+=" "),s+i),"")}allowOnlyNumbers(o){let a=o.which?o.which:o.keyCode;return a<48||a>57?(o.preventDefault(),!1):!0}filterCountries(o){let a=o.target.value;a.length?this.filteredCountries=this.countries.filter(s=>s.name.common.toLowerCase().startsWith(a)):this.filteredCountries=[]}selectCountry(o){this.countryInput=o.name.common,this.idd=o.idd.root+o.idd.suffixes[0],this.filteredCountries=[]}};t.\u0275fac=function(a){return new(a||t)(O(y0),O(un),O(n0),O(lS))},t.\u0275cmp=Pt({type:t,selectors:[["app-payment"]],standalone:!0,features:[Gt],decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],["customStyle","",3,"mobileStyle"],[1,"card-info"],["customStyle","",1,"card-details",3,"mobileStyle"],["src","../../../../assets/visa-logo.png"],[1,"card-number"],["for","cardNumber"],["name","cardNumber","type","text","maxlength","19","pattern","\\d*",3,"input","keypress","value"],[1,"expiration-cvv"],[1,"expiration"],["for","month"],[1,"expiration-inputs"],["type","text","maxlength","2","name","month",3,"keypress"],["type","text","maxlength","2","name","year",3,"keypress"],[1,"cvv"],["customStyle","","for","cvv",3,"mobileStyle"],["type","password","name","cvv","maxlength","3",3,"keypress"],[1,"personal-info"],[1,"name"],["type","text","name","firstName","placeholder","First Name",3,"ngModelChange","ngModel"],["type","text","placeholder","Last Name","name","lastName",3,"ngModelChange","ngModel"],[1,"countries-container"],["type","text","name","country","placeholder","Country",3,"ngModelChange","input","ngModel"],["class","countries-select",4,"ngIf"],[1,"city-zip"],["type","text","placeholder","city","name","city"],["type","text","placeholder","Zip Code","name","zip"],["type","email","placeholder","Email","name","email",3,"ngModelChange","ngModel"],[1,"phone"],["type","text","name","idd","placeholder","+123",3,"ngModelChange","ngModel"],["type","text","placeholder","Phone Number","name","phone","maxlength","9","pattern","\\d*",3,"keypress"],[1,"countries-select"],[3,"click",4,"ngFor","ngForOf"],[3,"click"]],template:function(a,s){a&1&&gt(0,dY,46,20,"div",0),a&2&&A("ngIf",(s.user==null?null:s.user._id)&&(s.countries==null||s.countries[0]==null?null:s.countries[0].name))},dependencies:[Me,ud,l0,F0,uo,wn,i1,go,Fn,P1,Gi,x0],styles:[".container[_ngcontent-%COMP%]{width:100vw}h3[_ngcontent-%COMP%]{color:var(--primary);text-shadow:3px 3px 3px rgba(0,0,0,.3)}form[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;width:100%;gap:1rem;justify-content:center;align-items:center}input[_ngcontent-%COMP%]{padding-inline:.5rem;border-radius:.5rem}.card-info[_ngcontent-%COMP%], .personal-info[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;background-color:#fff7ee;padding:2rem;gap:1rem;border-radius:1rem}.card-info[_ngcontent-%COMP%]{align-items:center}.card-details[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{position:absolute;height:20%;top:.5rem;right:.5rem}.card-details[_ngcontent-%COMP%]{position:relative;background-color:#faebd7;border:solid 1px;border-radius:.5rem;padding:2rem 1rem 1rem;box-shadow:3px 3px 3px #0000004d;width:70%}.expiration-cvv[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr 1fr;align-items:center}.card-number[_ngcontent-%COMP%], .expiration[_ngcontent-%COMP%], .cvv[_ngcontent-%COMP%]{display:flex;flex-direction:column}.expiration[_ngcontent-%COMP%], .cvv[_ngcontent-%COMP%]{align-items:center}.cvv[_ngcontent-%COMP%]{grid-column:3}.cvv[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{max-width:3rem;text-align:center}.expiration-inputs[_ngcontent-%COMP%]{display:flex}.expiration-inputs[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{max-width:3rem}.expiration-inputs[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{margin-inline:.5rem}.countries-container[_ngcontent-%COMP%]{position:relative}.countries-container[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:100%}.countries-select[_ngcontent-%COMP%]{position:absolute;display:flex;flex-direction:column;width:100%;max-height:10rem;overflow-y:auto;background-color:#fff;border:solid 1px;border-radius:.5rem;padding-inline-start:.5rem;padding-block:.5rem}.name[_ngcontent-%COMP%], .city-zip[_ngcontent-%COMP%]{display:flex;gap:1rem;flex-wrap:wrap}.name[_ngcontent-%COMP%] > input[_ngcontent-%COMP%], .city-zip[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:calc((100% - 1rem)/2)}.phone[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 3fr;gap:1rem}.phone[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:100%}button[_ngcontent-%COMP%]{justify-self:center;grid-column:span 2;width:30%}"]});let e=t;return e})();var cS=[{path:"register",component:yI},{path:"login",component:II},{path:"add",component:KI},{path:"edit/:_id",component:ZI},{path:"report",component:nS},{path:"about",component:oS},{path:"home",component:YI},{path:"vacations/:_id",component:rS},{path:"payment/:_id",component:hS},{path:"",redirectTo:"/home",pathMatch:"full"},{path:"**",component:Oy}];var dS=(()=>{let t=class t{constructor(o){this.tokenService=o}intercept(o,a){let s=this.tokenService.getToken(),i=o.clone({setHeaders:{Authorization:`Bearer ${s}`}});return a.handle(i)}};t.\u0275fac=function(a){return new(a||t)(nt(ns))},t.\u0275prov=J({token:t,factory:t.\u0275fac});let e=t;return e})();var pS=(()=>{let t=class t{};t.\u0275fac=function(a){return new(a||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=Ee({providers:[{provide:au,useClass:dS,multi:!0}],imports:[Ax]});let e=t;return e})();function vS(e){return new $(3e3,!1)}function pY(){return new $(3100,!1)}function vY(){return new $(3101,!1)}function gY(e){return new $(3001,!1)}function uY(e){return new $(3003,!1)}function wY(e){return new $(3004,!1)}function fY(e,t){return new $(3005,!1)}function MY(){return new $(3006,!1)}function mY(){return new $(3007,!1)}function xY(e,t){return new $(3008,!1)}function yY(e){return new $(3002,!1)}function IY(e,t,n,o,a){return new $(3010,!1)}function kY(){return new $(3011,!1)}function zY(){return new $(3012,!1)}function bY(){return new $(3200,!1)}function CY(){return new $(3202,!1)}function BY(){return new $(3013,!1)}function SY(e){return new $(3014,!1)}function DY(e){return new $(3015,!1)}function HY(e){return new $(3016,!1)}function EY(e,t){return new $(3404,!1)}function TY(e){return new $(3502,!1)}function _Y(e){return new $(3503,!1)}function AY(){return new $(3300,!1)}function RY(e){return new $(3504,!1)}function LY(e){return new $(3301,!1)}function OY(e,t){return new $(3302,!1)}function NY(e){return new $(3303,!1)}function PY(e,t){return new $(3400,!1)}function FY(e){return new $(3401,!1)}function VY(e){return new $(3402,!1)}function jY(e,t){return new $(3505,!1)}function Fs(e){switch(e.length){case 0:return new os;case 1:return e[0];default:return new Kl(e)}}function BS(e,t,n=new Map,o=new Map){let a=[],s=[],i=-1,r=null;if(t.forEach(l=>{let h=l.get("offset"),c=h==i,d=c&&r||new Map;l.forEach((p,v)=>{let g=v,u=p;if(v!=="offset")switch(g=e.normalizePropertyName(g,a),u){case np:u=n.get(v);break;case wo:u=o.get(v);break;default:u=e.normalizeStyleValue(v,g,u,a);break}d.set(g,u)}),c||s.push(d),r=d,i=h}),a.length)throw TY(a);return s}function P7(e,t,n,o){switch(t){case"start":e.onStart(()=>o(n&&f7(n,"start",e)));break;case"done":e.onDone(()=>o(n&&f7(n,"done",e)));break;case"destroy":e.onDestroy(()=>o(n&&f7(n,"destroy",e)));break}}function f7(e,t,n){let o=n.totalTime,a=!!n.disabled,s=F7(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,o??e.totalTime,a),i=e._data;return i!=null&&(s._data=i),s}function F7(e,t,n,o,a="",s=0,i){return{element:e,triggerName:t,fromState:n,toState:o,phaseName:a,totalTime:s,disabled:!!i}}function Kn(e,t,n){let o=e.get(t);return o||e.set(t,o=n),o}function gS(e){let t=e.indexOf(":"),n=e.substring(1,t),o=e.slice(t+1);return[n,o]}var UY=typeof document>"u"?null:document.documentElement;function V7(e){let t=e.parentNode||e.host||null;return t===UY?null:t}function GY(e){return e.substring(1,6)=="ebkit"}var U2=null,uS=!1;function WY(e){U2||(U2=$Y()||{},uS=U2.style?"WebkitAppearance"in U2.style:!1);let t=!0;return U2.style&&!GY(e)&&(t=e in U2.style,!t&&uS&&(t="Webkit"+e.charAt(0).toUpperCase()+e.slice(1)in U2.style)),t}function $Y(){return typeof document<"u"?document.body:null}function SS(e,t){for(;t;){if(t===e)return!0;t=V7(t)}return!1}function DS(e,t,n){if(n)return Array.from(e.querySelectorAll(t));let o=e.querySelector(t);return o?[o]:[]}var j7=(()=>{let t=class t{validateStyleProperty(o){return WY(o)}matchesElement(o,a){return!1}containsElement(o,a){return SS(o,a)}getParentElement(o){return V7(o)}query(o,a,s){return DS(o,a,s)}computeStyle(o,a,s){return s||""}animate(o,a,s,i,r,l=[],h){return new os(s,i)}};t.\u0275fac=function(a){return new(a||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac});let e=t;return e})(),$7=class $7{};$7.NOOP=new j7;var $2=$7,q2=class{};var qY=1e3,HS="{{",YY="}}",ES="ng-enter",k7="ng-leave",A3="ng-trigger",P3=".ng-trigger",wS="ng-animating",z7=".ng-animating";function Da(e){if(typeof e=="number")return e;let t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:b7(parseFloat(t[1]),t[2])}function b7(e,t){switch(t){case"s":return e*qY;default:return e}}function F3(e,t,n){return e.hasOwnProperty("duration")?e:KY(e,t,n)}function KY(e,t,n){let o=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,a,s=0,i="";if(typeof e=="string"){let r=e.match(o);if(r===null)return t.push(vS(e)),{duration:0,delay:0,easing:""};a=b7(parseFloat(r[1]),r[2]);let l=r[3];l!=null&&(s=b7(parseFloat(l),r[4]));let h=r[5];h&&(i=h)}else a=e;if(!n){let r=!1,l=t.length;a<0&&(t.push(pY()),r=!0),s<0&&(t.push(vY()),r=!0),r&&t.splice(l,0,vS(e))}return{duration:a,delay:s,easing:i}}function ZY(e){return e.length?e[0]instanceof Map?e:e.map(t=>new Map(Object.entries(t))):[]}function Wo(e,t,n){t.forEach((o,a)=>{let s=U7(a);n&&!n.has(a)&&n.set(a,e.style[s]),e.style[s]=o})}function W2(e,t){t.forEach((n,o)=>{let a=U7(o);e.style[a]=""})}function p4(e){return Array.isArray(e)?e.length==1?e[0]:vI(e):e}function XY(e,t,n){let o=t.params||{},a=TS(e);a.length&&a.forEach(s=>{o.hasOwnProperty(s)||n.push(gY(s))})}var C7=new RegExp(`${HS}\\s*(.+?)\\s*${YY}`,"g");function TS(e){let t=[];if(typeof e=="string"){let n;for(;n=C7.exec(e);)t.push(n[1]);C7.lastIndex=0}return t}function g4(e,t,n){let o=`${e}`,a=o.replace(C7,(s,i)=>{let r=t[i];return r==null&&(n.push(uY(i)),r=""),r.toString()});return a==o?e:a}var QY=/-+([a-z0-9])/g;function U7(e){return e.replace(QY,(...t)=>t[1].toUpperCase())}function JY(e,t){return e===0||t===0}function tK(e,t,n){if(n.size&&t.length){let o=t[0],a=[];if(n.forEach((s,i)=>{o.has(i)||a.push(i),o.set(i,s)}),a.length)for(let s=1;s<t.length;s++){let i=t[s];a.forEach(r=>i.set(r,G7(e,r)))}}return t}function Yn(e,t,n){switch(t.type){case St.Trigger:return e.visitTrigger(t,n);case St.State:return e.visitState(t,n);case St.Transition:return e.visitTransition(t,n);case St.Sequence:return e.visitSequence(t,n);case St.Group:return e.visitGroup(t,n);case St.Animate:return e.visitAnimate(t,n);case St.Keyframes:return e.visitKeyframes(t,n);case St.Style:return e.visitStyle(t,n);case St.Reference:return e.visitReference(t,n);case St.AnimateChild:return e.visitAnimateChild(t,n);case St.AnimateRef:return e.visitAnimateRef(t,n);case St.Query:return e.visitQuery(t,n);case St.Stagger:return e.visitStagger(t,n);default:throw wY(t.type)}}function G7(e,t){return window.getComputedStyle(e)[t]}var eK=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),V3=class extends q2{normalizePropertyName(t,n){return U7(t)}normalizeStyleValue(t,n,o,a){let s="",i=o.toString().trim();if(eK.has(n)&&o!==0&&o!=="0")if(typeof o=="number")s="px";else{let r=o.match(/^[+-]?[\d\.]+([a-z]*)$/);r&&r[1].length==0&&a.push(fY(t,o))}return i+s}};var j3="*";function nK(e,t){let n=[];return typeof e=="string"?e.split(/\s*,\s*/).forEach(o=>oK(o,n,t)):n.push(e),n}function oK(e,t,n){if(e[0]==":"){let l=aK(e,n);if(typeof l=="function"){t.push(l);return}e=l}let o=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(o==null||o.length<4)return n.push(DY(e)),t;let a=o[1],s=o[2],i=o[3];t.push(fS(a,i));let r=a==j3&&i==j3;s[0]=="<"&&!r&&t.push(fS(i,a))}function aK(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,o)=>parseFloat(o)>parseFloat(n);case":decrement":return(n,o)=>parseFloat(o)<parseFloat(n);default:return t.push(HY(e)),"* => *"}}var R3=new Set(["true","1"]),L3=new Set(["false","0"]);function fS(e,t){let n=R3.has(e)||L3.has(e),o=R3.has(t)||L3.has(t);return(a,s)=>{let i=e==j3||e==a,r=t==j3||t==s;return!i&&n&&typeof a=="boolean"&&(i=a?R3.has(e):L3.has(e)),!r&&o&&typeof s=="boolean"&&(r=s?R3.has(t):L3.has(t)),i&&r}}var _S=":self",sK=new RegExp(`s*${_S}s*,?`,"g");function AS(e,t,n,o){return new B7(e).build(t,n,o)}var MS="",B7=class{constructor(t){this._driver=t}build(t,n,o){let a=new S7(n);return this._resetContextStyleTimingState(a),Yn(this,p4(t),a)}_resetContextStyleTimingState(t){t.currentQuerySelector=MS,t.collectedStyles=new Map,t.collectedStyles.set(MS,new Map),t.currentTime=0}visitTrigger(t,n){let o=n.queryCount=0,a=n.depCount=0,s=[],i=[];return t.name.charAt(0)=="@"&&n.errors.push(MY()),t.definitions.forEach(r=>{if(this._resetContextStyleTimingState(n),r.type==St.State){let l=r,h=l.name;h.toString().split(/\s*,\s*/).forEach(c=>{l.name=c,s.push(this.visitState(l,n))}),l.name=h}else if(r.type==St.Transition){let l=this.visitTransition(r,n);o+=l.queryCount,a+=l.depCount,i.push(l)}else n.errors.push(mY())}),{type:St.Trigger,name:t.name,states:s,transitions:i,queryCount:o,depCount:a,options:null}}visitState(t,n){let o=this.visitStyle(t.styles,n),a=t.options&&t.options.params||null;if(o.containsDynamicStyles){let s=new Set,i=a||{};o.styles.forEach(r=>{r instanceof Map&&r.forEach(l=>{TS(l).forEach(h=>{i.hasOwnProperty(h)||s.add(h)})})}),s.size&&n.errors.push(xY(t.name,[...s.values()]))}return{type:St.State,name:t.name,style:o,options:a?{params:a}:null}}visitTransition(t,n){n.queryCount=0,n.depCount=0;let o=Yn(this,p4(t.animation),n),a=nK(t.expr,n.errors);return{type:St.Transition,matchers:a,animation:o,queryCount:n.queryCount,depCount:n.depCount,options:G2(t.options)}}visitSequence(t,n){return{type:St.Sequence,steps:t.steps.map(o=>Yn(this,o,n)),options:G2(t.options)}}visitGroup(t,n){let o=n.currentTime,a=0,s=t.steps.map(i=>{n.currentTime=o;let r=Yn(this,i,n);return a=Math.max(a,n.currentTime),r});return n.currentTime=a,{type:St.Group,steps:s,options:G2(t.options)}}visitAnimate(t,n){let o=hK(t.timings,n.errors);n.currentAnimateTimings=o;let a,s=t.styles?t.styles:V0({});if(s.type==St.Keyframes)a=this.visitKeyframes(s,n);else{let i=t.styles,r=!1;if(!i){r=!0;let h={};o.easing&&(h.easing=o.easing),i=V0(h)}n.currentTime+=o.duration+o.delay;let l=this.visitStyle(i,n);l.isEmptyStep=r,a=l}return n.currentAnimateTimings=null,{type:St.Animate,timings:o,style:a,options:null}}visitStyle(t,n){let o=this._makeStyleAst(t,n);return this._validateStyleAst(o,n),o}_makeStyleAst(t,n){let o=[],a=Array.isArray(t.styles)?t.styles:[t.styles];for(let r of a)typeof r=="string"?r===wo?o.push(r):n.errors.push(yY(r)):o.push(new Map(Object.entries(r)));let s=!1,i=null;return o.forEach(r=>{if(r instanceof Map&&(r.has("easing")&&(i=r.get("easing"),r.delete("easing")),!s)){for(let l of r.values())if(l.toString().indexOf(HS)>=0){s=!0;break}}}),{type:St.Style,styles:o,easing:i,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,n){let o=n.currentAnimateTimings,a=n.currentTime,s=n.currentTime;o&&s>0&&(s-=o.duration+o.delay),t.styles.forEach(i=>{typeof i!="string"&&i.forEach((r,l)=>{let h=n.collectedStyles.get(n.currentQuerySelector),c=h.get(l),d=!0;c&&(s!=a&&s>=c.startTime&&a<=c.endTime&&(n.errors.push(IY(l,c.startTime,c.endTime,s,a)),d=!1),s=c.startTime),d&&h.set(l,{startTime:s,endTime:a}),n.options&&XY(r,n.options,n.errors)})})}visitKeyframes(t,n){let o={type:St.Keyframes,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(kY()),o;let a=1,s=0,i=[],r=!1,l=!1,h=0,c=t.steps.map(M=>{let m=this._makeStyleAst(M,n),k=m.offset!=null?m.offset:lK(m.styles),B=0;return k!=null&&(s++,B=m.offset=k),l=l||B<0||B>1,r=r||B<h,h=B,i.push(B),m});l&&n.errors.push(zY()),r&&n.errors.push(bY());let d=t.steps.length,p=0;s>0&&s<d?n.errors.push(CY()):s==0&&(p=a/(d-1));let v=d-1,g=n.currentTime,u=n.currentAnimateTimings,f=u.duration;return c.forEach((M,m)=>{let k=p>0?m==v?1:p*m:i[m],B=k*f;n.currentTime=g+u.delay+B,u.duration=B,this._validateStyleAst(M,n),M.offset=k,o.styles.push(M)}),o}visitReference(t,n){return{type:St.Reference,animation:Yn(this,p4(t.animation),n),options:G2(t.options)}}visitAnimateChild(t,n){return n.depCount++,{type:St.AnimateChild,options:G2(t.options)}}visitAnimateRef(t,n){return{type:St.AnimateRef,animation:this.visitReference(t.animation,n),options:G2(t.options)}}visitQuery(t,n){let o=n.currentQuerySelector,a=t.options||{};n.queryCount++,n.currentQuery=t;let[s,i]=iK(t.selector);n.currentQuerySelector=o.length?o+" "+s:s,Kn(n.collectedStyles,n.currentQuerySelector,new Map);let r=Yn(this,p4(t.animation),n);return n.currentQuery=null,n.currentQuerySelector=o,{type:St.Query,selector:s,limit:a.limit||0,optional:!!a.optional,includeSelf:i,animation:r,originalSelector:t.selector,options:G2(t.options)}}visitStagger(t,n){n.currentQuery||n.errors.push(BY());let o=t.timings==="full"?{duration:0,delay:0,easing:"full"}:F3(t.timings,n.errors,!0);return{type:St.Stagger,animation:Yn(this,p4(t.animation),n),timings:o,options:null}}};function iK(e){let t=!!e.split(/\s*,\s*/).find(n=>n==_S);return t&&(e=e.replace(sK,"")),e=e.replace(/@\*/g,P3).replace(/@\w+/g,n=>P3+"-"+n.slice(1)).replace(/:animating/g,z7),[e,t]}function rK(e){return e?S({},e):null}var S7=class{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function lK(e){if(typeof e=="string")return null;let t=null;if(Array.isArray(e))e.forEach(n=>{if(n instanceof Map&&n.has("offset")){let o=n;t=parseFloat(o.get("offset")),o.delete("offset")}});else if(e instanceof Map&&e.has("offset")){let n=e;t=parseFloat(n.get("offset")),n.delete("offset")}return t}function hK(e,t){if(e.hasOwnProperty("duration"))return e;if(typeof e=="number"){let s=F3(e,t).duration;return M7(s,0,"")}let n=e;if(n.split(/\s+/).some(s=>s.charAt(0)=="{"&&s.charAt(1)=="{")){let s=M7(0,0,"");return s.dynamic=!0,s.strValue=n,s}let a=F3(n,t);return M7(a.duration,a.delay,a.easing)}function G2(e){return e?(e=S({},e),e.params&&(e.params=rK(e.params))):e={},e}function M7(e,t,n){return{duration:e,delay:t,easing:n}}function W7(e,t,n,o,a,s,i=null,r=!1){return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:o,duration:a,delay:s,totalTime:a+s,easing:i,subTimeline:r}}var u4=class{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,n){let o=this._map.get(t);o||this._map.set(t,o=[]),o.push(...n)}has(t){return this._map.has(t)}clear(){this._map.clear()}},cK=1,dK=":enter",pK=new RegExp(dK,"g"),vK=":leave",gK=new RegExp(vK,"g");function RS(e,t,n,o,a,s=new Map,i=new Map,r,l,h=[]){return new D7().buildKeyframes(e,t,n,o,a,s,i,r,l,h)}var D7=class{buildKeyframes(t,n,o,a,s,i,r,l,h,c=[]){h=h||new u4;let d=new H7(t,n,h,a,s,c,[]);d.options=l;let p=l.delay?Da(l.delay):0;d.currentTimeline.delayNextStep(p),d.currentTimeline.setStyles([i],null,d.errors,l),Yn(this,o,d);let v=d.timelines.filter(g=>g.containsAnimation());if(v.length&&r.size){let g;for(let u=v.length-1;u>=0;u--){let f=v[u];if(f.element===n){g=f;break}}g&&!g.allowOnlyTimelineStyles()&&g.setStyles([r],null,d.errors,l)}return v.length?v.map(g=>g.buildKeyframes()):[W7(n,[],[],[],0,p,"",!1)]}visitTrigger(t,n){}visitState(t,n){}visitTransition(t,n){}visitAnimateChild(t,n){let o=n.subInstructions.get(n.element);if(o){let a=n.createSubContext(t.options),s=n.currentTimeline.currentTime,i=this._visitSubInstructions(o,a,a.options);s!=i&&n.transformIntoNewTimeline(i)}n.previousNode=t}visitAnimateRef(t,n){let o=n.createSubContext(t.options);o.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],n,o),this.visitReference(t.animation,o),n.transformIntoNewTimeline(o.currentTimeline.currentTime),n.previousNode=t}_applyAnimationRefDelays(t,n,o){for(let a of t){let s=a?.delay;if(s){let i=typeof s=="number"?s:Da(g4(s,a?.params??{},n.errors));o.delayNextStep(i)}}}_visitSubInstructions(t,n,o){let s=n.currentTimeline.currentTime,i=o.duration!=null?Da(o.duration):null,r=o.delay!=null?Da(o.delay):null;return i!==0&&t.forEach(l=>{let h=n.appendInstructionToTimeline(l,i,r);s=Math.max(s,h.duration+h.delay)}),s}visitReference(t,n){n.updateOptions(t.options,!0),Yn(this,t.animation,n),n.previousNode=t}visitSequence(t,n){let o=n.subContextCount,a=n,s=t.options;if(s&&(s.params||s.delay)&&(a=n.createSubContext(s),a.transformIntoNewTimeline(),s.delay!=null)){a.previousNode.type==St.Style&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=U3);let i=Da(s.delay);a.delayNextStep(i)}t.steps.length&&(t.steps.forEach(i=>Yn(this,i,a)),a.currentTimeline.applyStylesToKeyframe(),a.subContextCount>o&&a.transformIntoNewTimeline()),n.previousNode=t}visitGroup(t,n){let o=[],a=n.currentTimeline.currentTime,s=t.options&&t.options.delay?Da(t.options.delay):0;t.steps.forEach(i=>{let r=n.createSubContext(t.options);s&&r.delayNextStep(s),Yn(this,i,r),a=Math.max(a,r.currentTimeline.currentTime),o.push(r.currentTimeline)}),o.forEach(i=>n.currentTimeline.mergeTimelineCollectedStyles(i)),n.transformIntoNewTimeline(a),n.previousNode=t}_visitTiming(t,n){if(t.dynamic){let o=t.strValue,a=n.params?g4(o,n.params,n.errors):o;return F3(a,n.errors)}else return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,n){let o=n.currentAnimateTimings=this._visitTiming(t.timings,n),a=n.currentTimeline;o.delay&&(n.incrementTime(o.delay),a.snapshotCurrentStyles());let s=t.style;s.type==St.Keyframes?this.visitKeyframes(s,n):(n.incrementTime(o.duration),this.visitStyle(s,n),a.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=t}visitStyle(t,n){let o=n.currentTimeline,a=n.currentAnimateTimings;!a&&o.hasCurrentStyleProperties()&&o.forwardFrame();let s=a&&a.easing||t.easing;t.isEmptyStep?o.applyEmptyStep(s):o.setStyles(t.styles,s,n.errors,n.options),n.previousNode=t}visitKeyframes(t,n){let o=n.currentAnimateTimings,a=n.currentTimeline.duration,s=o.duration,r=n.createSubContext().currentTimeline;r.easing=o.easing,t.styles.forEach(l=>{let h=l.offset||0;r.forwardTime(h*s),r.setStyles(l.styles,l.easing,n.errors,n.options),r.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(r),n.transformIntoNewTimeline(a+s),n.previousNode=t}visitQuery(t,n){let o=n.currentTimeline.currentTime,a=t.options||{},s=a.delay?Da(a.delay):0;s&&(n.previousNode.type===St.Style||o==0&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=U3);let i=o,r=n.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!a.optional,n.errors);n.currentQueryTotal=r.length;let l=null;r.forEach((h,c)=>{n.currentQueryIndex=c;let d=n.createSubContext(t.options,h);s&&d.delayNextStep(s),h===n.element&&(l=d.currentTimeline),Yn(this,t.animation,d),d.currentTimeline.applyStylesToKeyframe();let p=d.currentTimeline.currentTime;i=Math.max(i,p)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(i),l&&(n.currentTimeline.mergeTimelineCollectedStyles(l),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=t}visitStagger(t,n){let o=n.parentContext,a=n.currentTimeline,s=t.timings,i=Math.abs(s.duration),r=i*(n.currentQueryTotal-1),l=i*n.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=r-l;break;case"full":l=o.currentStaggerTime;break}let c=n.currentTimeline;l&&c.delayNextStep(l);let d=c.currentTime;Yn(this,t.animation,n),n.previousNode=t,o.currentStaggerTime=a.currentTime-d+(a.startTime-o.currentTimeline.startTime)}},U3={},H7=class e{constructor(t,n,o,a,s,i,r,l){this._driver=t,this.element=n,this.subInstructions=o,this._enterClassName=a,this._leaveClassName=s,this.errors=i,this.timelines=r,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=U3,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new G3(this._driver,n,0),r.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,n){if(!t)return;let o=t,a=this.options;o.duration!=null&&(a.duration=Da(o.duration)),o.delay!=null&&(a.delay=Da(o.delay));let s=o.params;if(s){let i=a.params;i||(i=this.options.params={}),Object.keys(s).forEach(r=>{(!n||!i.hasOwnProperty(r))&&(i[r]=g4(s[r],i,this.errors))})}}_copyOptions(){let t={};if(this.options){let n=this.options.params;if(n){let o=t.params={};Object.keys(n).forEach(a=>{o[a]=n[a]})}}return t}createSubContext(t=null,n,o){let a=n||this.element,s=new e(this._driver,a,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(a,o||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=U3,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,n,o){let a={duration:n??t.duration,delay:this.currentTimeline.currentTime+(o??0)+t.delay,easing:""},s=new E7(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,a,t.stretchStartingKeyframe);return this.timelines.push(s),a}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,n,o,a,s,i){let r=[];if(a&&r.push(this.element),t.length>0){t=t.replace(pK,"."+this._enterClassName),t=t.replace(gK,"."+this._leaveClassName);let l=o!=1,h=this._driver.query(this.element,t,l);o!==0&&(h=o<0?h.slice(h.length+o,h.length):h.slice(0,o)),r.push(...h)}return!s&&r.length==0&&i.push(SY(n)),r}},G3=class e{constructor(t,n,o,a){this._driver=t,this.element=n,this.startTime=o,this._elementTimelineStylesLookup=a,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){let n=this._keyframes.size===1&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+t),n&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,n){return this.applyStylesToKeyframe(),new e(this._driver,t,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=cK,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,n){this._localTimelineStyles.set(t,n),this._globalTimelineStyles.set(t,n),this._styleSummary.set(t,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[n,o]of this._globalTimelineStyles)this._backFill.set(n,o||wo),this._currentKeyframe.set(n,wo);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,n,o,a){n&&this._previousKeyframe.set("easing",n);let s=a&&a.params||{},i=uK(t,this._globalTimelineStyles);for(let[r,l]of i){let h=g4(l,s,o);this._pendingStyles.set(r,h),this._localTimelineStyles.has(r)||this._backFill.set(r,this._globalTimelineStyles.get(r)??wo),this._updateStyle(r,h)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((t,n)=>{this._currentKeyframe.set(n,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,t)}))}snapshotCurrentStyles(){for(let[t,n]of this._localTimelineStyles)this._pendingStyles.set(t,n),this._updateStyle(t,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let t=[];for(let n in this._currentKeyframe)t.push(n);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((n,o)=>{let a=this._styleSummary.get(o);(!a||n.time>a.time)&&this._updateStyle(o,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();let t=new Set,n=new Set,o=this._keyframes.size===1&&this.duration===0,a=[];this._keyframes.forEach((r,l)=>{let h=new Map([...this._backFill,...r]);h.forEach((c,d)=>{c===np?t.add(d):c===wo&&n.add(d)}),o||h.set("offset",l/this.duration),a.push(h)});let s=[...t.values()],i=[...n.values()];if(o){let r=a[0],l=new Map(r);r.set("offset",0),l.set("offset",1),a=[r,l]}return W7(this.element,a,s,i,this.duration,this.startTime,this.easing,!1)}},E7=class extends G3{constructor(t,n,o,a,s,i,r=!1){super(t,n,i.delay),this.keyframes=o,this.preStyleProps=a,this.postStyleProps=s,this._stretchStartingKeyframe=r,this.timings={duration:i.duration,delay:i.delay,easing:i.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:n,duration:o,easing:a}=this.timings;if(this._stretchStartingKeyframe&&n){let s=[],i=o+n,r=n/i,l=new Map(t[0]);l.set("offset",0),s.push(l);let h=new Map(t[0]);h.set("offset",mS(r)),s.push(h);let c=t.length-1;for(let d=1;d<=c;d++){let p=new Map(t[d]),v=p.get("offset"),g=n+v*o;p.set("offset",mS(g/i)),s.push(p)}o=i,n=0,a="",t=s}return W7(this.element,t,this.preStyleProps,this.postStyleProps,o,n,a,!0)}};function mS(e,t=3){let n=Math.pow(10,t-1);return Math.round(e*n)/n}function uK(e,t){let n=new Map,o;return e.forEach(a=>{if(a==="*"){o??=t.keys();for(let s of o)n.set(s,wo)}else for(let[s,i]of a)n.set(s,i)}),n}function xS(e,t,n,o,a,s,i,r,l,h,c,d,p){return{type:0,element:e,triggerName:t,isRemovalTransition:a,fromState:n,fromStyles:s,toState:o,toStyles:i,timelines:r,queriedElements:l,preStyleProps:h,postStyleProps:c,totalTime:d,errors:p}}var m7={},W3=class{constructor(t,n,o){this._triggerName=t,this.ast=n,this._stateStyles=o}match(t,n,o,a){return wK(this.ast.matchers,t,n,o,a)}buildStyles(t,n,o){let a=this._stateStyles.get("*");return t!==void 0&&(a=this._stateStyles.get(t?.toString())||a),a?a.buildStyles(n,o):new Map}build(t,n,o,a,s,i,r,l,h,c){let d=[],p=this.ast.options&&this.ast.options.params||m7,v=r&&r.params||m7,g=this.buildStyles(o,v,d),u=l&&l.params||m7,f=this.buildStyles(a,u,d),M=new Set,m=new Map,k=new Map,B=a==="void",z={params:LS(u,p),delay:this.ast.options?.delay},I=c?[]:RS(t,n,this.ast.animation,s,i,g,f,z,h,d),y=0;return I.forEach(b=>{y=Math.max(b.duration+b.delay,y)}),d.length?xS(n,this._triggerName,o,a,B,g,f,[],[],m,k,y,d):(I.forEach(b=>{let C=b.element,E=Kn(m,C,new Set);b.preStyleProps.forEach(F=>E.add(F));let _=Kn(k,C,new Set);b.postStyleProps.forEach(F=>_.add(F)),C!==n&&M.add(C)}),xS(n,this._triggerName,o,a,B,g,f,I,[...M.values()],m,k,y))}};function wK(e,t,n,o,a){return e.some(s=>s(t,n,o,a))}function LS(e,t){let n=S({},t);return Object.entries(e).forEach(([o,a])=>{a!=null&&(n[o]=a)}),n}var T7=class{constructor(t,n,o){this.styles=t,this.defaultParams=n,this.normalizer=o}buildStyles(t,n){let o=new Map,a=LS(t,this.defaultParams);return this.styles.styles.forEach(s=>{typeof s!="string"&&s.forEach((i,r)=>{i&&(i=g4(i,a,n));let l=this.normalizer.normalizePropertyName(r,n);i=this.normalizer.normalizeStyleValue(r,l,i,n),o.set(r,i)})}),o}};function fK(e,t,n){return new _7(e,t,n)}var _7=class{constructor(t,n,o){this.name=t,this.ast=n,this._normalizer=o,this.transitionFactories=[],this.states=new Map,n.states.forEach(a=>{let s=a.options&&a.options.params||{};this.states.set(a.name,new T7(a.style,s,o))}),yS(this.states,"true","1"),yS(this.states,"false","0"),n.transitions.forEach(a=>{this.transitionFactories.push(new W3(t,a,this.states))}),this.fallbackTransition=MK(t,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,n,o,a){return this.transitionFactories.find(i=>i.match(t,n,o,a))||null}matchStyles(t,n,o){return this.fallbackTransition.buildStyles(t,n,o)}};function MK(e,t,n){let o=[(i,r)=>!0],a={type:St.Sequence,steps:[],options:null},s={type:St.Transition,animation:a,matchers:o,options:null,queryCount:0,depCount:0};return new W3(e,s,t)}function yS(e,t,n){e.has(t)?e.has(n)||e.set(n,e.get(t)):e.has(n)&&e.set(t,e.get(n))}var mK=new u4,A7=class{constructor(t,n,o){this.bodyNode=t,this._driver=n,this._normalizer=o,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,n){let o=[],a=[],s=AS(this._driver,n,o,a);if(o.length)throw _Y(o);a.length&&void 0,this._animations.set(t,s)}_buildPlayer(t,n,o){let a=t.element,s=BS(this._normalizer,t.keyframes,n,o);return this._driver.animate(a,s,t.duration,t.delay,t.easing,[],!0)}create(t,n,o={}){let a=[],s=this._animations.get(t),i,r=new Map;if(s?(i=RS(this._driver,n,s,ES,k7,new Map,new Map,o,mK,a),i.forEach(c=>{let d=Kn(r,c.element,new Map);c.postStyleProps.forEach(p=>d.set(p,null))})):(a.push(AY()),i=[]),a.length)throw RY(a);r.forEach((c,d)=>{c.forEach((p,v)=>{c.set(v,this._driver.computeStyle(d,v,wo))})});let l=i.map(c=>{let d=r.get(c.element);return this._buildPlayer(c,new Map,d)}),h=Fs(l);return this._playersById.set(t,h),h.onDestroy(()=>this.destroy(t)),this.players.push(h),h}destroy(t){let n=this._getPlayer(t);n.destroy(),this._playersById.delete(t);let o=this.players.indexOf(n);o>=0&&this.players.splice(o,1)}_getPlayer(t){let n=this._playersById.get(t);if(!n)throw LY(t);return n}listen(t,n,o,a){let s=F7(n,"","","");return P7(this._getPlayer(t),o,s,a),()=>{}}command(t,n,o,a){if(o=="register"){this.register(t,a[0]);return}if(o=="create"){let i=a[0]||{};this.create(t,n,i);return}let s=this._getPlayer(t);switch(o){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(a[0]));break;case"destroy":this.destroy(t);break}}},IS="ng-animate-queued",xK=".ng-animate-queued",x7="ng-animate-disabled",yK=".ng-animate-disabled",IK="ng-star-inserted",kK=".ng-star-inserted",zK=[],OS={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},bK={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Z1="__ng_removed",w4=class{get params(){return this.options.params}constructor(t,n=""){this.namespaceId=n;let o=t&&t.hasOwnProperty("value"),a=o?t.value:t;if(this.value=BK(a),o){let s=t,{value:i}=s,r=ue(s,["value"]);this.options=r}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){let n=t.params;if(n){let o=this.options.params;Object.keys(n).forEach(a=>{o[a]==null&&(o[a]=n[a])})}}},v4="void",y7=new w4(v4),R7=class{constructor(t,n,o){this.id=t,this.hostElement=n,this._engine=o,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,k1(n,this._hostClassName)}listen(t,n,o,a){if(!this._triggers.has(n))throw OY(o,n);if(o==null||o.length==0)throw NY(n);if(!SK(o))throw PY(o,n);let s=Kn(this._elementListeners,t,[]),i={name:n,phase:o,callback:a};s.push(i);let r=Kn(this._engine.statesByElement,t,new Map);return r.has(n)||(k1(t,A3),k1(t,A3+"-"+n),r.set(n,y7)),()=>{this._engine.afterFlush(()=>{let l=s.indexOf(i);l>=0&&s.splice(l,1),this._triggers.has(n)||r.delete(n)})}}register(t,n){return this._triggers.has(t)?!1:(this._triggers.set(t,n),!0)}_getTrigger(t){let n=this._triggers.get(t);if(!n)throw FY(t);return n}trigger(t,n,o,a=!0){let s=this._getTrigger(n),i=new f4(this.id,n,t),r=this._engine.statesByElement.get(t);r||(k1(t,A3),k1(t,A3+"-"+n),this._engine.statesByElement.set(t,r=new Map));let l=r.get(n),h=new w4(o,this.id);if(!(o&&o.hasOwnProperty("value"))&&l&&h.absorbOptions(l.options),r.set(n,h),l||(l=y7),!(h.value===v4)&&l.value===h.value){if(!EK(l.params,h.params)){let u=[],f=s.matchStyles(l.value,l.params,u),M=s.matchStyles(h.value,h.params,u);u.length?this._engine.reportError(u):this._engine.afterFlush(()=>{W2(t,f),Wo(t,M)})}return}let p=Kn(this._engine.playersByElement,t,[]);p.forEach(u=>{u.namespaceId==this.id&&u.triggerName==n&&u.queued&&u.destroy()});let v=s.matchTransition(l.value,h.value,t,h.params),g=!1;if(!v){if(!a)return;v=s.fallbackTransition,g=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:n,transition:v,fromState:l,toState:h,player:i,isFallbackTransition:g}),g||(k1(t,IS),i.onStart(()=>{Nr(t,IS)})),i.onDone(()=>{let u=this.players.indexOf(i);u>=0&&this.players.splice(u,1);let f=this._engine.playersByElement.get(t);if(f){let M=f.indexOf(i);M>=0&&f.splice(M,1)}}),this.players.push(i),p.push(i),i}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(n=>n.delete(t)),this._elementListeners.forEach((n,o)=>{this._elementListeners.set(o,n.filter(a=>a.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);let n=this._engine.playersByElement.get(t);n&&(n.forEach(o=>o.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,n){let o=this._engine.driver.query(t,P3,!0);o.forEach(a=>{if(a[Z1])return;let s=this._engine.fetchNamespacesByElement(a);s.size?s.forEach(i=>i.triggerLeaveAnimation(a,n,!1,!0)):this.clearElementCache(a)}),this._engine.afterFlushAnimationsDone(()=>o.forEach(a=>this.clearElementCache(a)))}triggerLeaveAnimation(t,n,o,a){let s=this._engine.statesByElement.get(t),i=new Map;if(s){let r=[];if(s.forEach((l,h)=>{if(i.set(h,l.value),this._triggers.has(h)){let c=this.trigger(t,h,v4,a);c&&r.push(c)}}),r.length)return this._engine.markElementAsRemoved(this.id,t,!0,n,i),o&&Fs(r).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){let n=this._elementListeners.get(t),o=this._engine.statesByElement.get(t);if(n&&o){let a=new Set;n.forEach(s=>{let i=s.name;if(a.has(i))return;a.add(i);let l=this._triggers.get(i).fallbackTransition,h=o.get(i)||y7,c=new w4(v4),d=new f4(this.id,i,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:i,transition:l,fromState:h,toState:c,player:d,isFallbackTransition:!0})})}}removeNode(t,n){let o=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,n),this.triggerLeaveAnimation(t,n,!0))return;let a=!1;if(o.totalAnimations){let s=o.players.length?o.playersByQueriedElement.get(t):[];if(s&&s.length)a=!0;else{let i=t;for(;i=i.parentNode;)if(o.statesByElement.get(i)){a=!0;break}}}if(this.prepareLeaveAnimationListeners(t),a)o.markElementAsRemoved(this.id,t,!1,n);else{let s=t[Z1];(!s||s===OS)&&(o.afterFlush(()=>this.clearElementCache(t)),o.destroyInnerAnimations(t),o._onRemovalComplete(t,n))}}insertNode(t,n){k1(t,this._hostClassName)}drainQueuedTransitions(t){let n=[];return this._queue.forEach(o=>{let a=o.player;if(a.destroyed)return;let s=o.element,i=this._elementListeners.get(s);i&&i.forEach(r=>{if(r.name==o.triggerName){let l=F7(s,o.triggerName,o.fromState.value,o.toState.value);l._data=t,P7(o.player,r.phase,l,r.callback)}}),a.markedForDestroy?this._engine.afterFlush(()=>{a.destroy()}):n.push(o)}),this._queue=[],n.sort((o,a)=>{let s=o.transition.ast.depCount,i=a.transition.ast.depCount;return s==0||i==0?s-i:this._engine.driver.containsElement(o.element,a.element)?1:-1})}destroy(t){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}},L7=class{_onRemovalComplete(t,n){this.onRemovalComplete(t,n)}constructor(t,n,o,a){this.bodyNode=t,this.driver=n,this._normalizer=o,this.scheduler=a,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,i)=>{}}get queuedPlayers(){let t=[];return this._namespaceList.forEach(n=>{n.players.forEach(o=>{o.queued&&t.push(o)})}),t}createNamespace(t,n){let o=new R7(t,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(o,n):(this.newHostElements.set(n,o),this.collectEnterElement(n)),this._namespaceLookup[t]=o}_balanceNamespaceList(t,n){let o=this._namespaceList,a=this.namespacesByHostElement;if(o.length-1>=0){let i=!1,r=this.driver.getParentElement(n);for(;r;){let l=a.get(r);if(l){let h=o.indexOf(l);o.splice(h+1,0,t),i=!0;break}r=this.driver.getParentElement(r)}i||o.unshift(t)}else o.push(t);return a.set(n,t),t}register(t,n){let o=this._namespaceLookup[t];return o||(o=this.createNamespace(t,n)),o}registerTrigger(t,n,o){let a=this._namespaceLookup[t];a&&a.register(n,o)&&this.totalAnimations++}destroy(t,n){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let o=this._fetchNamespace(t);this.namespacesByHostElement.delete(o.hostElement);let a=this._namespaceList.indexOf(o);a>=0&&this._namespaceList.splice(a,1),o.destroy(n),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){let n=new Set,o=this.statesByElement.get(t);if(o){for(let a of o.values())if(a.namespaceId){let s=this._fetchNamespace(a.namespaceId);s&&n.add(s)}}return n}trigger(t,n,o,a){if(O3(n)){let s=this._fetchNamespace(t);if(s)return s.trigger(n,o,a),!0}return!1}insertNode(t,n,o,a){if(!O3(n))return;let s=n[Z1];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;let i=this.collectedLeaveElements.indexOf(n);i>=0&&this.collectedLeaveElements.splice(i,1)}if(t){let i=this._fetchNamespace(t);i&&i.insertNode(n,o)}a&&this.collectEnterElement(n)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,n){n?this.disabledNodes.has(t)||(this.disabledNodes.add(t),k1(t,x7)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Nr(t,x7))}removeNode(t,n,o){if(O3(n)){this.scheduler?.notify();let a=t?this._fetchNamespace(t):null;a?a.removeNode(n,o):this.markElementAsRemoved(t,n,!1,o);let s=this.namespacesByHostElement.get(n);s&&s.id!==t&&s.removeNode(n,o)}else this._onRemovalComplete(n,o)}markElementAsRemoved(t,n,o,a,s){this.collectedLeaveElements.push(n),n[Z1]={namespaceId:t,setForRemoval:a,hasAnimation:o,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,n,o,a,s){return O3(n)?this._fetchNamespace(t).listen(n,o,a,s):()=>{}}_buildInstruction(t,n,o,a,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,o,a,t.fromState.options,t.toState.options,n,s)}destroyInnerAnimations(t){let n=this.driver.query(t,P3,!0);n.forEach(o=>this.destroyActiveAnimationsForElement(o)),this.playersByQueriedElement.size!=0&&(n=this.driver.query(t,z7,!0),n.forEach(o=>this.finishActiveQueriedAnimationOnElement(o)))}destroyActiveAnimationsForElement(t){let n=this.playersByElement.get(t);n&&n.forEach(o=>{o.queued?o.markedForDestroy=!0:o.destroy()})}finishActiveQueriedAnimationOnElement(t){let n=this.playersByQueriedElement.get(t);n&&n.forEach(o=>o.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Fs(this.players).onDone(()=>t());t()})}processLeaveNode(t){let n=t[Z1];if(n&&n.setForRemoval){if(t[Z1]=OS,n.namespaceId){this.destroyInnerAnimations(t);let o=this._fetchNamespace(n.namespaceId);o&&o.clearElementCache(t)}this._onRemovalComplete(t,n.setForRemoval)}t.classList?.contains(x7)&&this.markElementAsDisabled(t,!1),this.driver.query(t,yK,!0).forEach(o=>{this.markElementAsDisabled(o,!1)})}flush(t=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((o,a)=>this._balanceNamespaceList(o,a)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let o=0;o<this.collectedEnterElements.length;o++){let a=this.collectedEnterElements[o];k1(a,IK)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let o=[];try{n=this._flushAnimations(o,t)}finally{for(let a=0;a<o.length;a++)o[a]()}}else for(let o=0;o<this.collectedLeaveElements.length;o++){let a=this.collectedLeaveElements[o];this.processLeaveNode(a)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(o=>o()),this._flushFns=[],this._whenQuietFns.length){let o=this._whenQuietFns;this._whenQuietFns=[],n.length?Fs(n).onDone(()=>{o.forEach(a=>a())}):o.forEach(a=>a())}}reportError(t){throw VY(t)}_flushAnimations(t,n){let o=new u4,a=[],s=new Map,i=[],r=new Map,l=new Map,h=new Map,c=new Set;this.disabledNodes.forEach(P=>{c.add(P);let N=this.driver.query(P,xK,!0);for(let W=0;W<N.length;W++)c.add(N[W])});let d=this.bodyNode,p=Array.from(this.statesByElement.keys()),v=bS(p,this.collectedEnterElements),g=new Map,u=0;v.forEach((P,N)=>{let W=ES+u++;g.set(N,W),P.forEach(ot=>k1(ot,W))});let f=[],M=new Set,m=new Set;for(let P=0;P<this.collectedLeaveElements.length;P++){let N=this.collectedLeaveElements[P],W=N[Z1];W&&W.setForRemoval&&(f.push(N),M.add(N),W.hasAnimation?this.driver.query(N,kK,!0).forEach(ot=>M.add(ot)):m.add(N))}let k=new Map,B=bS(p,Array.from(M));B.forEach((P,N)=>{let W=k7+u++;k.set(N,W),P.forEach(ot=>k1(ot,W))}),t.push(()=>{v.forEach((P,N)=>{let W=g.get(N);P.forEach(ot=>Nr(ot,W))}),B.forEach((P,N)=>{let W=k.get(N);P.forEach(ot=>Nr(ot,W))}),f.forEach(P=>{this.processLeaveNode(P)})});let z=[],I=[];for(let P=this._namespaceList.length-1;P>=0;P--)this._namespaceList[P].drainQueuedTransitions(n).forEach(W=>{let ot=W.player,j=W.element;if(z.push(ot),this.collectedEnterElements.length){let G=j[Z1];if(G&&G.setForMove){if(G.previousTriggersValues&&G.previousTriggersValues.has(W.triggerName)){let X=G.previousTriggersValues.get(W.triggerName),Q=this.statesByElement.get(W.element);if(Q&&Q.has(W.triggerName)){let ft=Q.get(W.triggerName);ft.value=X,Q.set(W.triggerName,ft)}}ot.destroy();return}}let Mt=!d||!this.driver.containsElement(d,j),xt=k.get(j),wt=g.get(j),st=this._buildInstruction(W,o,wt,xt,Mt);if(st.errors&&st.errors.length){I.push(st);return}if(Mt){ot.onStart(()=>W2(j,st.fromStyles)),ot.onDestroy(()=>Wo(j,st.toStyles)),a.push(ot);return}if(W.isFallbackTransition){ot.onStart(()=>W2(j,st.fromStyles)),ot.onDestroy(()=>Wo(j,st.toStyles)),a.push(ot);return}let Ut=[];st.timelines.forEach(G=>{G.stretchStartingKeyframe=!0,this.disabledNodes.has(G.element)||Ut.push(G)}),st.timelines=Ut,o.append(j,st.timelines);let Y={instruction:st,player:ot,element:j};i.push(Y),st.queriedElements.forEach(G=>Kn(r,G,[]).push(ot)),st.preStyleProps.forEach((G,X)=>{if(G.size){let Q=l.get(X);Q||l.set(X,Q=new Set),G.forEach((ft,zt)=>Q.add(zt))}}),st.postStyleProps.forEach((G,X)=>{let Q=h.get(X);Q||h.set(X,Q=new Set),G.forEach((ft,zt)=>Q.add(zt))})});if(I.length){let P=[];I.forEach(N=>{P.push(jY(N.triggerName,N.errors))}),z.forEach(N=>N.destroy()),this.reportError(P)}let y=new Map,b=new Map;i.forEach(P=>{let N=P.element;o.has(N)&&(b.set(N,N),this._beforeAnimationBuild(P.player.namespaceId,P.instruction,y))}),a.forEach(P=>{let N=P.element;this._getPreviousPlayers(N,!1,P.namespaceId,P.triggerName,null).forEach(ot=>{Kn(y,N,[]).push(ot),ot.destroy()})});let C=f.filter(P=>CS(P,l,h)),E=new Map;zS(E,this.driver,m,h,wo).forEach(P=>{CS(P,l,h)&&C.push(P)});let F=new Map;v.forEach((P,N)=>{zS(F,this.driver,new Set(P),l,np)}),C.forEach(P=>{let N=E.get(P),W=F.get(P);E.set(P,new Map([...N?.entries()??[],...W?.entries()??[]]))});let tt=[],at=[],U={};i.forEach(P=>{let{element:N,player:W,instruction:ot}=P;if(o.has(N)){if(c.has(N)){W.onDestroy(()=>Wo(N,ot.toStyles)),W.disabled=!0,W.overrideTotalTime(ot.totalTime),a.push(W);return}let j=U;if(b.size>1){let xt=N,wt=[];for(;xt=xt.parentNode;){let st=b.get(xt);if(st){j=st;break}wt.push(xt)}wt.forEach(st=>b.set(st,j))}let Mt=this._buildAnimation(W.namespaceId,ot,y,s,F,E);if(W.setRealPlayer(Mt),j===U)tt.push(W);else{let xt=this.playersByElement.get(j);xt&&xt.length&&(W.parentPlayer=Fs(xt)),a.push(W)}}else W2(N,ot.fromStyles),W.onDestroy(()=>Wo(N,ot.toStyles)),at.push(W),c.has(N)&&a.push(W)}),at.forEach(P=>{let N=s.get(P.element);if(N&&N.length){let W=Fs(N);P.setRealPlayer(W)}}),a.forEach(P=>{P.parentPlayer?P.syncPlayerEvents(P.parentPlayer):P.destroy()});for(let P=0;P<f.length;P++){let N=f[P],W=N[Z1];if(Nr(N,k7),W&&W.hasAnimation)continue;let ot=[];if(r.size){let Mt=r.get(N);Mt&&Mt.length&&ot.push(...Mt);let xt=this.driver.query(N,z7,!0);for(let wt=0;wt<xt.length;wt++){let st=r.get(xt[wt]);st&&st.length&&ot.push(...st)}}let j=ot.filter(Mt=>!Mt.destroyed);j.length?DK(this,N,j):this.processLeaveNode(N)}return f.length=0,tt.forEach(P=>{this.players.push(P),P.onDone(()=>{P.destroy();let N=this.players.indexOf(P);this.players.splice(N,1)}),P.play()}),tt}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,n,o,a,s){let i=[];if(n){let r=this.playersByQueriedElement.get(t);r&&(i=r)}else{let r=this.playersByElement.get(t);if(r){let l=!s||s==v4;r.forEach(h=>{h.queued||!l&&h.triggerName!=a||i.push(h)})}}return(o||a)&&(i=i.filter(r=>!(o&&o!=r.namespaceId||a&&a!=r.triggerName))),i}_beforeAnimationBuild(t,n,o){let a=n.triggerName,s=n.element,i=n.isRemovalTransition?void 0:t,r=n.isRemovalTransition?void 0:a;for(let l of n.timelines){let h=l.element,c=h!==s,d=Kn(o,h,[]);this._getPreviousPlayers(h,c,i,r,n.toState).forEach(v=>{let g=v.getRealPlayer();g.beforeDestroy&&g.beforeDestroy(),v.destroy(),d.push(v)})}W2(s,n.fromStyles)}_buildAnimation(t,n,o,a,s,i){let r=n.triggerName,l=n.element,h=[],c=new Set,d=new Set,p=n.timelines.map(g=>{let u=g.element;c.add(u);let f=u[Z1];if(f&&f.removedBeforeQueried)return new os(g.duration,g.delay);let M=u!==l,m=HK((o.get(u)||zK).map(y=>y.getRealPlayer())).filter(y=>{let b=y;return b.element?b.element===u:!1}),k=s.get(u),B=i.get(u),z=BS(this._normalizer,g.keyframes,k,B),I=this._buildPlayer(g,z,m);if(g.subTimeline&&a&&d.add(u),M){let y=new f4(t,r,u);y.setRealPlayer(I),h.push(y)}return I});h.forEach(g=>{Kn(this.playersByQueriedElement,g.element,[]).push(g),g.onDone(()=>CK(this.playersByQueriedElement,g.element,g))}),c.forEach(g=>k1(g,wS));let v=Fs(p);return v.onDestroy(()=>{c.forEach(g=>Nr(g,wS)),Wo(l,n.toStyles)}),d.forEach(g=>{Kn(a,g,[]).push(v)}),v}_buildPlayer(t,n,o){return n.length>0?this.driver.animate(t.element,n,t.duration,t.delay,t.easing,o):new os(t.duration,t.delay)}},f4=class{constructor(t,n,o){this.namespaceId=t,this.triggerName=n,this.element=o,this._player=new os,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((n,o)=>{n.forEach(a=>P7(t,o,void 0,a))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){let n=this._player;n.triggerCallback&&t.onStart(()=>n.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,n){Kn(this._queuedCallbacks,t,[]).push(n)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){let n=this._player;n.triggerCallback&&n.triggerCallback(t)}};function CK(e,t,n){let o=e.get(t);if(o){if(o.length){let a=o.indexOf(n);o.splice(a,1)}o.length==0&&e.delete(t)}return o}function BK(e){return e??null}function O3(e){return e&&e.nodeType===1}function SK(e){return e=="start"||e=="done"}function kS(e,t){let n=e.style.display;return e.style.display=t??"none",n}function zS(e,t,n,o,a){let s=[];n.forEach(l=>s.push(kS(l)));let i=[];o.forEach((l,h)=>{let c=new Map;l.forEach(d=>{let p=t.computeStyle(h,d,a);c.set(d,p),(!p||p.length==0)&&(h[Z1]=bK,i.push(h))}),e.set(h,c)});let r=0;return n.forEach(l=>kS(l,s[r++])),i}function bS(e,t){let n=new Map;if(e.forEach(r=>n.set(r,[])),t.length==0)return n;let o=1,a=new Set(t),s=new Map;function i(r){if(!r)return o;let l=s.get(r);if(l)return l;let h=r.parentNode;return n.has(h)?l=h:a.has(h)?l=o:l=i(h),s.set(r,l),l}return t.forEach(r=>{let l=i(r);l!==o&&n.get(l).push(r)}),n}function k1(e,t){e.classList?.add(t)}function Nr(e,t){e.classList?.remove(t)}function DK(e,t,n){Fs(n).onDone(()=>e.processLeaveNode(t))}function HK(e){let t=[];return NS(e,t),t}function NS(e,t){for(let n=0;n<e.length;n++){let o=e[n];o instanceof Kl?NS(o.players,t):t.push(o)}}function EK(e,t){let n=Object.keys(e),o=Object.keys(t);if(n.length!=o.length)return!1;for(let a=0;a<n.length;a++){let s=n[a];if(!t.hasOwnProperty(s)||e[s]!==t[s])return!1}return!0}function CS(e,t,n){let o=n.get(e);if(!o)return!1;let a=t.get(e);return a?o.forEach(s=>a.add(s)):t.set(e,o),n.delete(e),!0}var Fr=class{constructor(t,n,o,a){this._driver=n,this._normalizer=o,this._triggerCache={},this.onRemovalComplete=(s,i)=>{},this._transitionEngine=new L7(t.body,n,o,a),this._timelineEngine=new A7(t.body,n,o),this._transitionEngine.onRemovalComplete=(s,i)=>this.onRemovalComplete(s,i)}registerTrigger(t,n,o,a,s){let i=t+"-"+a,r=this._triggerCache[i];if(!r){let l=[],h=[],c=AS(this._driver,s,l,h);if(l.length)throw EY(a,l);h.length&&void 0,r=fK(a,c,this._normalizer),this._triggerCache[i]=r}this._transitionEngine.registerTrigger(n,a,r)}register(t,n){this._transitionEngine.register(t,n)}destroy(t,n){this._transitionEngine.destroy(t,n)}onInsert(t,n,o,a){this._transitionEngine.insertNode(t,n,o,a)}onRemove(t,n,o){this._transitionEngine.removeNode(t,n,o)}disableAnimations(t,n){this._transitionEngine.markElementAsDisabled(t,n)}process(t,n,o,a){if(o.charAt(0)=="@"){let[s,i]=gS(o),r=a;this._timelineEngine.command(s,n,i,r)}else this._transitionEngine.trigger(t,n,o,a)}listen(t,n,o,a,s){if(o.charAt(0)=="@"){let[i,r]=gS(o);return this._timelineEngine.listen(i,n,r,s)}return this._transitionEngine.listen(t,n,o,a,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}};function TK(e,t){let n=null,o=null;return Array.isArray(t)&&t.length?(n=I7(t[0]),t.length>1&&(o=I7(t[t.length-1]))):t instanceof Map&&(n=I7(t)),n||o?new O7(e,n,o):null}var Pr=class Pr{constructor(t,n,o){this._element=t,this._startStyles=n,this._endStyles=o,this._state=0;let a=Pr.initialStylesByElement.get(t);a||Pr.initialStylesByElement.set(t,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&Wo(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Wo(this._element,this._initialStyles),this._endStyles&&(Wo(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Pr.initialStylesByElement.delete(this._element),this._startStyles&&(W2(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(W2(this._element,this._endStyles),this._endStyles=null),Wo(this._element,this._initialStyles),this._state=3)}};Pr.initialStylesByElement=new WeakMap;var O7=Pr;function I7(e){let t=null;return e.forEach((n,o)=>{_K(o)&&(t=t||new Map,t.set(o,n))}),t}function _K(e){return e==="display"||e==="position"}var $3=class{constructor(t,n,o,a){this.element=t,this.keyframes=n,this.options=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=o.duration,this._delay=o.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;let n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){let n=[];return t.forEach(o=>{n.push(Object.fromEntries(o))}),n}_triggerWebAnimation(t,n,o){return t.animate(this._convertKeyframesToObject(n),o)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((o,a)=>{a!=="offset"&&t.set(a,this._finished?o:G7(this.element,a))}),this.currentSnapshot=t}triggerCallback(t){let n=t==="start"?this._onStartFns:this._onDoneFns;n.forEach(o=>o()),n.length=0}},q3=class{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,n){return!1}containsElement(t,n){return SS(t,n)}getParentElement(t){return V7(t)}query(t,n,o){return DS(t,n,o)}computeStyle(t,n,o){return G7(t,n)}animate(t,n,o,a,s,i=[]){let r=a==0?"both":"forwards",l={duration:o,delay:a,fill:r};s&&(l.easing=s);let h=new Map,c=i.filter(v=>v instanceof $3);JY(o,a)&&c.forEach(v=>{v.currentSnapshot.forEach((g,u)=>h.set(u,g))});let d=ZY(n).map(v=>new Map(v));d=tK(t,d,h);let p=TK(t,d);return new $3(t,d,l,p)}};var N3="@",PS="@.disabled",Y3=class{constructor(t,n,o,a){this.namespaceId=t,this.delegate=n,this.engine=o,this._onDestroy=a,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,n){return this.delegate.createElement(t,n)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,n){this.delegate.appendChild(t,n),this.engine.onInsert(this.namespaceId,n,t,!1)}insertBefore(t,n,o,a=!0){this.delegate.insertBefore(t,n,o),this.engine.onInsert(this.namespaceId,n,t,a)}removeChild(t,n,o){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(t,n){return this.delegate.selectRootElement(t,n)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,n,o,a){this.delegate.setAttribute(t,n,o,a)}removeAttribute(t,n,o){this.delegate.removeAttribute(t,n,o)}addClass(t,n){this.delegate.addClass(t,n)}removeClass(t,n){this.delegate.removeClass(t,n)}setStyle(t,n,o,a){this.delegate.setStyle(t,n,o,a)}removeStyle(t,n,o){this.delegate.removeStyle(t,n,o)}setProperty(t,n,o){n.charAt(0)==N3&&n==PS?this.disableAnimations(t,!!o):this.delegate.setProperty(t,n,o)}setValue(t,n){this.delegate.setValue(t,n)}listen(t,n,o){return this.delegate.listen(t,n,o)}disableAnimations(t,n){this.engine.disableAnimations(t,n)}},N7=class extends Y3{constructor(t,n,o,a,s){super(n,o,a,s),this.factory=t,this.namespaceId=n}setProperty(t,n,o){n.charAt(0)==N3?n.charAt(1)=="."&&n==PS?(o=o===void 0?!0:!!o,this.disableAnimations(t,o)):this.engine.process(this.namespaceId,t,n.slice(1),o):this.delegate.setProperty(t,n,o)}listen(t,n,o){if(n.charAt(0)==N3){let a=AK(t),s=n.slice(1),i="";return s.charAt(0)!=N3&&([s,i]=RK(s)),this.engine.listen(this.namespaceId,a,s,i,r=>{let l=r._data||-1;this.factory.scheduleListenerCallback(l,o,r)})}return this.delegate.listen(t,n,o)}};function AK(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}function RK(e){let t=e.indexOf("."),n=e.substring(0,t),o=e.slice(t+1);return[n,o]}var K3=class{constructor(t,n,o){this.delegate=t,this.engine=n,this._zone=o,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,n.onRemovalComplete=(a,s)=>{let i=s?.parentNode(a);i&&s.removeChild(i,a)}}createRenderer(t,n){let o="",a=this.delegate.createRenderer(t,n);if(!t||!n?.data?.animation){let h=this._rendererCache,c=h.get(a);if(!c){let d=()=>h.delete(a);c=new Y3(o,a,this.engine,d),h.set(a,c)}return c}let s=n.id,i=n.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);let r=h=>{Array.isArray(h)?h.forEach(r):this.engine.registerTrigger(s,i,t,h.name,h)};return n.data.animation.forEach(r),new N7(this,i,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,n,o){if(t>=0&&t<this._microtaskId){this._zone.run(()=>n(o));return}let a=this._animationCallbacksBuffer;a.length==0&&queueMicrotask(()=>{this._zone.run(()=>{a.forEach(s=>{let[i,r]=s;i(r)}),this._animationCallbacksBuffer=[]})}),a.push([n,o])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var OK=(()=>{let t=class t extends Fr{constructor(o,a,s){super(o,a,s,K(fi,{optional:!0}))}ngOnDestroy(){this.flush()}};t.\u0275fac=function(a){return new(a||t)(nt(Ue),nt($2),nt(q2))},t.\u0275prov=J({token:t,factory:t.\u0275fac});let e=t;return e})();function NK(){return new V3}function PK(e,t,n){return new K3(e,t,n)}var VS=[{provide:q2,useFactory:NK},{provide:Fr,useClass:OK},{provide:o2,useFactory:PK,deps:[zd,Fr,Yt]}],FS=[{provide:$2,useFactory:()=>new q3},{provide:l5,useValue:"BrowserAnimations"},...VS],FK=[{provide:$2,useClass:j7},{provide:l5,useValue:"NoopAnimations"},...VS],q7=(()=>{let t=class t{static withConfig(o){return{ngModule:t,providers:o.disableAnimations?FK:FS}}};t.\u0275fac=function(a){return new(a||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=Ee({providers:FS,imports:[Ux]});let e=t;return e})();var jS=(()=>{let t=class t{};t.\u0275fac=function(a){return new(a||t)},t.\u0275mod=Te({type:t}),t.\u0275inj=Ee({imports:[q7,q7]});let e=t;return e})();var Y2={production:!0,apiUrl:process.env.API_URL};var fn={providers:[Ey(cS),iu(),fw(),Gg(pS,jS,xI.forRoot())],registerUrl:`${Y2.apiUrl}/register`,vacationsUrl(e=1,t="startDate",n="noFilter",o){return o?`${Y2.apiUrl}/vacations/${t}/${n}/${o}?page=${e}&limit=9`:`${Y2.apiUrl}/vacations/${t}/${n}?page=${e}&limit=9`},vacationUrlStatic:`${Y2.apiUrl}/vacations/`,loginUrl:`${Y2.apiUrl}/login/`,usersUrl:`${Y2.apiUrl}/users/`};var US=(()=>{let t=class t{constructor(o,a,s){this.templateRef=o,this.viewContainer=a,this.authService=s}ngOnInit(){this.subscription=this.authService.isLoggedIn$.subscribe(o=>{this.viewContainer.clear(),o&&this.viewContainer.createEmbeddedView(this.templateRef)})}ngOnDestroy(){this.subscription.unsubscribe()}};t.\u0275fac=function(a){return new(a||t)(O(S0),O(w0),O(j0))},t.\u0275dir=Dt({type:t,selectors:[["","isLoggedIn",""]],standalone:!0});let e=t;return e})();var GS=(()=>{let t=class t{constructor(o,a,s){this.templateRef=o,this.viewContainer=a,this.authService=s}ngOnInit(){this.subscription=this.authService.isLoggedIn$.subscribe(o=>{this.viewContainer.clear(),o||this.viewContainer.createEmbeddedView(this.templateRef)})}ngOnDestroy(){this.subscription.unsubscribe()}};t.\u0275fac=function(a){return new(a||t)(O(S0),O(w0),O(j0))},t.\u0275dir=Dt({type:t,selectors:[["","isLoggedOut",""]],standalone:!0});let e=t;return e})();var VK=e=>({show:e}),Vr=()=>["active"],jK=()=>["/about"],UK=()=>({fontSize:"0.5rem"}),GK=()=>({fontSize:"1rem"}),WK=()=>["/report"],$K=()=>["/add"],qK=()=>["/home"],YK=()=>["/login"],KK=()=>["/register"],ZK=()=>({marginBottom:"2rem"});function XK(e,t){e&1&&(D(0,"span"),L(1," | "),H())}function QK(e,t){e&1&&(D(0,"span"),L(1,"Admin Access"),H())}function JK(e,t){if(e&1&&(D(0,"div",13),L(1),gt(2,XK,2,0,"span",14)(3,QK,2,0,"span",14),H()),e&2){let n=it();A("mobileStyle",rt(3,UK))("laptopStyle",rt(4,GK)),T(),Oe(" Hello ",n.user==null?null:n.user.firstName," ")}}function tZ(e,t){if(e&1){let n=oe();D(0,"a",10),lt("click",function(){ht(n);let a=it();return ct(a.toggleNavbar())}),D(1,"span"),L(2,"Reports"),H()()}e&2&&A("routerLinkActive",rt(2,Vr))("routerLink",rt(3,WK))}function eZ(e,t){if(e&1){let n=oe();D(0,"a",10),lt("click",function(){ht(n);let a=it();return ct(a.toggleNavbar())}),D(1,"span"),L(2,"Add"),H()()}e&2&&A("routerLinkActive",rt(2,Vr))("routerLink",rt(3,$K))}function nZ(e,t){if(e&1){let n=oe();D(0,"a",10),lt("click",function(){ht(n);let a=it();return ct(a.toggleNavbar())}),D(1,"span"),L(2,"Home"),H()()}e&2&&A("routerLinkActive",rt(2,Vr))("routerLink",rt(3,qK))}function oZ(e,t){if(e&1){let n=oe();D(0,"a",10),lt("click",function(){ht(n);let a=it();return ct(a.toggleNavbar())}),D(1,"span"),L(2,"Login"),H()()}e&2&&A("routerLinkActive",rt(2,Vr))("routerLink",rt(3,YK))}function aZ(e,t){if(e&1){let n=oe();D(0,"a",10),lt("click",function(){ht(n);let a=it();return ct(a.toggleNavbar())}),D(1,"span"),L(2,"Register"),H()()}e&2&&A("routerLinkActive",rt(2,Vr))("routerLink",rt(3,KK))}function sZ(e,t){if(e&1){let n=oe();D(0,"a",15),lt("click",function(){ht(n);let a=it();return ct(a.logout())}),D(1,"span"),L(2,"Logout"),H()()}e&2&&A("mobileStyle",rt(1,ZK))}var WS=(()=>{let t=class t{toggleNavbar(){this.navbarOpen=!this.navbarOpen}constructor(o,a,s){this.authService=o,this.tokenService=a,this.router=s,this.navbarOpen=!1,this.clicked=!1}ngOnInit(){this.subscription=Ge.currUser$.subscribe(o=>{this.user=o})}ngAfterViewInit(){document.addEventListener("click",this.clickedOutside.bind(this))}onClick(o){o.preventDefault(),o.stopPropagation(),this.clicked=!0}clickedOutside(o){this.clicked&&(document.querySelector(".dropdown-menu").classList.toggle("show"),this.clicked=!1)}logout(){this.authService.logout(),this.user=null,this.toggleNavbar(),this.router.navigateByUrl("/login")}};t.\u0275fac=function(a){return new(a||t)(O(j0),O(ns),O(Ne))},t.\u0275cmp=Pt({type:t,selectors:[["app-navbar"]],hostBindings:function(a,s){a&1&&lt("click",function(r){return s.clickedOutside(r)},!1,tm)},standalone:!0,features:[Gt],decls:17,vars:7,consts:[[1,"navbar","navbar-expand-lg","bg-teal"],["routerLink","/",1,"navbar-brand"],["src","../assets/logo.png",1,"img-fluid","logo",2,"width","100%","height","100px"],["class","hello-user","customStyle","",3,"mobileStyle","laptopStyle",4,"isLoggedIn"],["type","button",1,"navbar-toggler",3,"click"],[1,"navbar-toggler-icon"],[1,"collapse","navbar-collapse",3,"ngClass"],[1,"navbar-nav","ml-auto"],["class","dropdown-item custom-link",3,"routerLinkActive","routerLink","click",4,"isAdmin"],["class","dropdown-item custom-link",3,"routerLinkActive","routerLink","click",4,"isLoggedIn"],[1,"dropdown-item","custom-link",3,"click","routerLinkActive","routerLink"],["class","dropdown-item custom-link",3,"routerLinkActive","routerLink","click",4,"isLoggedOut"],["customStyle","","class","dropdown-item custom-link",3,"mobileStyle","click",4,"isLoggedIn"],["customStyle","",1,"hello-user",3,"mobileStyle","laptopStyle"],[4,"isAdmin"],["customStyle","",1,"dropdown-item","custom-link",3,"click","mobileStyle"]],template:function(a,s){a&1&&(D(0,"nav",0)(1,"a",1),yt(2,"img",2),H(),gt(3,JK,4,5,"div",3),D(4,"button",4),lt("click",function(){return s.toggleNavbar()}),yt(5,"span",5),H(),D(6,"div",6)(7,"div",7),gt(8,tZ,3,4,"a",8)(9,eZ,3,4,"a",8)(10,nZ,3,4,"a",9),D(11,"a",10),lt("click",function(){return s.toggleNavbar()}),D(12,"span"),L(13,"About"),H()(),gt(14,oZ,3,4,"a",11)(15,aZ,3,4,"a",11)(16,sZ,3,2,"a",12),H()()()),a&2&&(T(6),A("ngClass",M0(3,VK,s.navbarOpen)),T(5),A("routerLinkActive",rt(5,Vr))("routerLink",rt(6,jK)))},dependencies:[Me,Bi,P0,Ly,Dy,Ui,US,GS,x0],styles:[`.bg-teal[_ngcontent-%COMP%]{background:linear-gradient(to bottom,var(--secondary) 90%,var(--secondary-lightened) 100%)}.navbar-toggler-icon[_ngcontent-%COMP%]{width:1.5em;height:1.5em;background-image:url("data:image/svg+xml;charset=utf8,%3Csvg viewBox='0 0 30 30' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath stroke='rgba(165, 233, 225, 1)' stroke-width='2' stroke-linecap='round' stroke-miterlimit='10' d='M4 7h22M4 15h22M4 23h22'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:center;background-size:contain}.navbar-nav[_ngcontent-%COMP%]{align-items:center}.hello-user[_ngcontent-%COMP%]{color:var(--primary);font-weight:600}.custom-link[_ngcontent-%COMP%]{cursor:pointer;height:fit-content}.custom-link[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{color:var(--primary);font-weight:600}.custom-link.active[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{color:#fff}.custom-link.active[_ngcontent-%COMP%], .custom-link.active[_ngcontent-%COMP%]:hover{background-color:var(--primary-darkened);border-radius:1rem}.custom-link[_ngcontent-%COMP%]:hover{background-color:var(--secondary)}.navbar-toggler-icon[_ngcontent-%COMP%]:before, .navbar-toggler-icon[_ngcontent-%COMP%]:after{color:var(--primary)!important}`]});let e=t;return e})();var iZ=()=>({overflowX:"hidden"}),$S=(()=>{let t=class t{constructor(o,a,s){this.tokenService=o,this.authService=a,this.vacationsService=s}ngOnInit(){return R(this,null,function*(){this.tokenService.getToken()&&(yield this.vacationsService.getAllVacations("likesCount"),yield this.authService.retrieveUser(),this.authService.loggedIn.next(!0),this.subscription=Ge.currUser$.subscribe(o=>{this.user=o}))})}};t.\u0275fac=function(a){return new(a||t)(O(ns),O(j0),O(y0))},t.\u0275cmp=Pt({type:t,selectors:[["app-layout"]],standalone:!0,features:[Gt],decls:5,vars:2,consts:[["customStyle","",3,"mobileStyle"]],template:function(a,s){a&1&&(D(0,"div"),yt(1,"app-navbar")(2,"app-confirmation-modal"),D(3,"main",0),yt(4,"router-outlet"),H()()),a&2&&(T(3),A("mobileStyle",rt(1,iZ)))},dependencies:[Ku,Me,F0,WS,FI,x0],styles:["div[_ngcontent-%COMP%]{height:100%;display:grid}main[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}"]});let e=t;return e})();Vx($S,fn).catch(e=>console.error(e));
